var P9=Object.defineProperty;var C9=(t,e,n)=>e in t?P9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>C9(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Sk(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Jt={},Sd=[],Aa=()=>{},E9=()=>!1,zy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),kk=t=>t.startsWith("onUpdate:"),xi=Object.assign,Tk=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},I9=Object.prototype.hasOwnProperty,ln=(t,e)=>I9.call(t,e),ft=Array.isArray,kd=t=>Wy(t)==="[object Map]",xV=t=>Wy(t)==="[object Set]",xt=t=>typeof t=="function",Yn=t=>typeof t=="string",Fo=t=>typeof t=="symbol",En=t=>t!==null&&typeof t=="object",SV=t=>(En(t)||xt(t))&&xt(t.then)&&xt(t.catch),kV=Object.prototype.toString,Wy=t=>kV.call(t),D9=t=>Wy(t).slice(8,-1),TV=t=>Wy(t)==="[object Object]",Pk=t=>Yn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ff=Sk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yy=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},A9=/-(\w)/g,Fs=Yy(t=>t.replace(A9,(e,n)=>n?n.toUpperCase():"")),R9=/\B([A-Z])/g,Wl=Yy(t=>t.replace(R9,"-$1").toLowerCase()),ga=Yy(t=>t.charAt(0).toUpperCase()+t.slice(1)),t0=Yy(t=>t?`on${ga(t)}`:""),Ys=(t,e)=>!Object.is(t,e),fv=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},PV=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Sx=t=>{const e=parseFloat(t);return isNaN(e)?t:e},O9=t=>{const e=Yn(t)?Number(t):NaN;return isNaN(e)?t:e};let HE;const Gy=()=>HE||(HE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qy(t){if(ft(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Yn(i)?N9(i):qy(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Yn(t)||En(t))return t}const M9=/;(?![^(]*\))/g,V9=/:([^]+)/,L9=/\/\*[^]*?\*\//g;function N9(t){const e={};return t.replace(L9,"").split(M9).forEach(n=>{if(n){const i=n.split(V9);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Xy(t){let e="";if(Yn(t))e=t;else if(ft(t))for(let n=0;n<t.length;n++){const i=Xy(t[n]);i&&(e+=i+" ")}else if(En(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function CV(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Yn(e)&&(t.class=Xy(e)),n&&(t.style=qy(n)),t}const F9="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",B9=Sk(F9);function EV(t){return!!t||t===""}const IV=t=>!!(t&&t.__v_isRef===!0),ct=t=>Yn(t)?t:t==null?"":ft(t)||En(t)&&(t.toString===kV||!xt(t.toString))?IV(t)?ct(t.value):JSON.stringify(t,DV,2):String(t),DV=(t,e)=>IV(e)?DV(t,e.value):kd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[n0(i,r)+" =>"]=s,n),{})}:xV(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>n0(n))}:Fo(e)?n0(e):En(e)&&!ft(e)&&!TV(e)?String(e):e,n0=(t,e="")=>{var n;return Fo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ds;class AV{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ds,!e&&Ds&&(this.index=(Ds.scopes||(Ds.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ds;try{return Ds=this,e()}finally{Ds=n}}}on(){Ds=this}off(){Ds=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Sg(t){return new AV(t)}function RV(){return Ds}function as(t,e=!1){Ds&&Ds.cleanups.push(t)}let Tn;const i0=new WeakSet;class OV{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ds&&Ds.active&&Ds.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,i0.has(this)&&(i0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||VV(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,zE(this),LV(this);const e=Tn,n=Zr;Tn=this,Zr=!0;try{return this.fn()}finally{NV(this),Tn=e,Zr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ik(e);this.deps=this.depsTail=void 0,zE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?i0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kx(this)&&this.run()}get dirty(){return kx(this)}}let MV=0,Bf,jf;function VV(t,e=!1){if(t.flags|=8,e){t.next=jf,jf=t;return}t.next=Bf,Bf=t}function Ck(){MV++}function Ek(){if(--MV>0)return;if(jf){let e=jf;for(jf=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Bf;){let e=Bf;for(Bf=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function LV(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function NV(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Ik(i),j9(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function kx(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(FV(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function FV(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===dm))return;t.globalVersion=dm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!kx(t)){t.flags&=-3;return}const n=Tn,i=Zr;Tn=t,Zr=!0;try{LV(t);const s=t.fn(t._value);(e.version===0||Ys(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Tn=n,Zr=i,NV(t),t.flags&=-3}}function Ik(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ik(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function j9(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Zr=!0;const BV=[];function Yl(){BV.push(Zr),Zr=!1}function Gl(){const t=BV.pop();Zr=t===void 0?!0:t}function zE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Tn;Tn=void 0;try{e()}finally{Tn=n}}}let dm=0;class $9{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ky{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Tn||!Zr||Tn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Tn)n=this.activeLink=new $9(Tn,this),Tn.deps?(n.prevDep=Tn.depsTail,Tn.depsTail.nextDep=n,Tn.depsTail=n):Tn.deps=Tn.depsTail=n,jV(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Tn.depsTail,n.nextDep=void 0,Tn.depsTail.nextDep=n,Tn.depsTail=n,Tn.deps===n&&(Tn.deps=i)}return n}trigger(e){this.version++,dm++,this.notify(e)}notify(e){Ck();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ek()}}}function jV(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)jV(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Xv=new WeakMap,Fu=Symbol(""),Tx=Symbol(""),hm=Symbol("");function gs(t,e,n){if(Zr&&Tn){let i=Xv.get(t);i||Xv.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Ky),s.map=i,s.key=n),s.track()}}function co(t,e,n,i,s,r){const a=Xv.get(t);if(!a){dm++;return}const o=l=>{l&&l.trigger()};if(Ck(),e==="clear")a.forEach(o);else{const l=ft(t),u=l&&Pk(n);if(l&&n==="length"){const d=Number(i);a.forEach((c,h)=>{(h==="length"||h===hm||!Fo(h)&&h>=d)&&o(c)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(hm)),e){case"add":l?u&&o(a.get("length")):(o(a.get(Fu)),kd(t)&&o(a.get(Tx)));break;case"delete":l||(o(a.get(Fu)),kd(t)&&o(a.get(Tx)));break;case"set":kd(t)&&o(a.get(Fu));break}}Ek()}function U9(t,e){const n=Xv.get(t);return n&&n.get(e)}function Qc(t){const e=Xe(t);return e===t?e:(gs(e,"iterate",hm),Rr(t)?e:e.map(ps))}function Qy(t){return gs(t=Xe(t),"iterate",hm),t}const H9={__proto__:null,[Symbol.iterator](){return s0(this,Symbol.iterator,ps)},concat(...t){return Qc(this).concat(...t.map(e=>ft(e)?Qc(e):e))},entries(){return s0(this,"entries",t=>(t[1]=ps(t[1]),t))},every(t,e){return so(this,"every",t,e,void 0,arguments)},filter(t,e){return so(this,"filter",t,e,n=>n.map(ps),arguments)},find(t,e){return so(this,"find",t,e,ps,arguments)},findIndex(t,e){return so(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return so(this,"findLast",t,e,ps,arguments)},findLastIndex(t,e){return so(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return so(this,"forEach",t,e,void 0,arguments)},includes(...t){return r0(this,"includes",t)},indexOf(...t){return r0(this,"indexOf",t)},join(t){return Qc(this).join(t)},lastIndexOf(...t){return r0(this,"lastIndexOf",t)},map(t,e){return so(this,"map",t,e,void 0,arguments)},pop(){return uf(this,"pop")},push(...t){return uf(this,"push",t)},reduce(t,...e){return WE(this,"reduce",t,e)},reduceRight(t,...e){return WE(this,"reduceRight",t,e)},shift(){return uf(this,"shift")},some(t,e){return so(this,"some",t,e,void 0,arguments)},splice(...t){return uf(this,"splice",t)},toReversed(){return Qc(this).toReversed()},toSorted(t){return Qc(this).toSorted(t)},toSpliced(...t){return Qc(this).toSpliced(...t)},unshift(...t){return uf(this,"unshift",t)},values(){return s0(this,"values",ps)}};function s0(t,e,n){const i=Qy(t),s=i[e]();return i!==t&&!Rr(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const z9=Array.prototype;function so(t,e,n,i,s,r){const a=Qy(t),o=a!==t&&!Rr(t),l=a[e];if(l!==z9[e]){const c=l.apply(t,r);return o?ps(c):c}let u=n;a!==t&&(o?u=function(c,h){return n.call(this,ps(c),h,t)}:n.length>2&&(u=function(c,h){return n.call(this,c,h,t)}));const d=l.call(a,u,i);return o&&s?s(d):d}function WE(t,e,n,i){const s=Qy(t);let r=n;return s!==t&&(Rr(t)?n.length>3&&(r=function(a,o,l){return n.call(this,a,o,l,t)}):r=function(a,o,l){return n.call(this,a,ps(o),l,t)}),s[e](r,...i)}function r0(t,e,n){const i=Xe(t);gs(i,"iterate",hm);const s=i[e](...n);return(s===-1||s===!1)&&Rk(n[0])?(n[0]=Xe(n[0]),i[e](...n)):s}function uf(t,e,n=[]){Yl(),Ck();const i=Xe(t)[e].apply(t,n);return Ek(),Gl(),i}const W9=Sk("__proto__,__v_isRef,__isVue"),$V=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fo));function Y9(t){Fo(t)||(t=String(t));const e=Xe(this);return gs(e,"has",t),e.hasOwnProperty(t)}class UV{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?nH:YV:r?WV:zV).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=ft(e);if(!s){let l;if(a&&(l=H9[n]))return l;if(n==="hasOwnProperty")return Y9}const o=Reflect.get(e,n,Je(e)?e:i);return(Fo(n)?$V.has(n):W9(n))||(s||gs(e,"get",n),r)?o:Je(o)?a&&Pk(n)?o:o.value:En(o)?s?bh(o):mn(o):o}}class HV extends UV{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=qu(r);if(!Rr(i)&&!qu(i)&&(r=Xe(r),i=Xe(i)),!ft(e)&&Je(r)&&!Je(i))return l?!1:(r.value=i,!0)}const a=ft(e)&&Pk(n)?Number(n)<e.length:ln(e,n),o=Reflect.set(e,n,i,Je(e)?e:s);return e===Xe(s)&&(a?Ys(i,r)&&co(e,"set",n,i):co(e,"add",n,i)),o}deleteProperty(e,n){const i=ln(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&co(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Fo(n)||!$V.has(n))&&gs(e,"has",n),i}ownKeys(e){return gs(e,"iterate",ft(e)?"length":Fu),Reflect.ownKeys(e)}}class G9 extends UV{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const q9=new HV,X9=new G9,K9=new HV(!0);const Px=t=>t,Tp=t=>Reflect.getPrototypeOf(t);function Q9(t,e,n){return function(...i){const s=this.__v_raw,r=Xe(s),a=kd(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...i),d=n?Px:e?Cx:ps;return!e&&gs(r,"iterate",l?Tx:Fu),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[d(c[0]),d(c[1])]:d(c),done:h}},[Symbol.iterator](){return this}}}}function Pp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function J9(t,e){const n={get(s){const r=this.__v_raw,a=Xe(r),o=Xe(s);t||(Ys(s,o)&&gs(a,"get",s),gs(a,"get",o));const{has:l}=Tp(a),u=e?Px:t?Cx:ps;if(l.call(a,s))return u(r.get(s));if(l.call(a,o))return u(r.get(o));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&gs(Xe(s),"iterate",Fu),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=Xe(r),o=Xe(s);return t||(Ys(s,o)&&gs(a,"has",s),gs(a,"has",o)),s===o?r.has(s):r.has(s)||r.has(o)},forEach(s,r){const a=this,o=a.__v_raw,l=Xe(o),u=e?Px:t?Cx:ps;return!t&&gs(l,"iterate",Fu),o.forEach((d,c)=>s.call(r,u(d),u(c),a))}};return xi(n,t?{add:Pp("add"),set:Pp("set"),delete:Pp("delete"),clear:Pp("clear")}:{add(s){!e&&!Rr(s)&&!qu(s)&&(s=Xe(s));const r=Xe(this);return Tp(r).has.call(r,s)||(r.add(s),co(r,"add",s,s)),this},set(s,r){!e&&!Rr(r)&&!qu(r)&&(r=Xe(r));const a=Xe(this),{has:o,get:l}=Tp(a);let u=o.call(a,s);u||(s=Xe(s),u=o.call(a,s));const d=l.call(a,s);return a.set(s,r),u?Ys(r,d)&&co(a,"set",s,r):co(a,"add",s,r),this},delete(s){const r=Xe(this),{has:a,get:o}=Tp(r);let l=a.call(r,s);l||(s=Xe(s),l=a.call(r,s)),o&&o.call(r,s);const u=r.delete(s);return l&&co(r,"delete",s,void 0),u},clear(){const s=Xe(this),r=s.size!==0,a=s.clear();return r&&co(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Q9(s,t,e)}),n}function Dk(t,e){const n=J9(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(ln(n,s)&&s in i?n:i,s,r)}const Z9={get:Dk(!1,!1)},eH={get:Dk(!1,!0)},tH={get:Dk(!0,!1)};const zV=new WeakMap,WV=new WeakMap,YV=new WeakMap,nH=new WeakMap;function iH(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sH(t){return t.__v_skip||!Object.isExtensible(t)?0:iH(D9(t))}function mn(t){return qu(t)?t:Ak(t,!1,q9,Z9,zV)}function GV(t){return Ak(t,!1,K9,eH,WV)}function bh(t){return Ak(t,!0,X9,tH,YV)}function Ak(t,e,n,i,s){if(!En(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=sH(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function Bu(t){return qu(t)?Bu(t.__v_raw):!!(t&&t.__v_isReactive)}function qu(t){return!!(t&&t.__v_isReadonly)}function Rr(t){return!!(t&&t.__v_isShallow)}function Rk(t){return t?!!t.__v_raw:!1}function Xe(t){const e=t&&t.__v_raw;return e?Xe(e):t}function Ok(t){return!ln(t,"__v_skip")&&Object.isExtensible(t)&&PV(t,"__v_skip",!0),t}const ps=t=>En(t)?mn(t):t,Cx=t=>En(t)?bh(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function G(t){return qV(t,!1)}function Re(t){return qV(t,!0)}function qV(t,e){return Je(t)?t:new rH(t,e)}class rH{constructor(e,n){this.dep=new Ky,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Xe(e),this._value=n?e:ps(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Rr(e)||qu(e);e=i?e:Xe(e),Ys(e,n)&&(this._rawValue=e,this._value=i?e:ps(e),this.dep.trigger())}}function oe(t){return Je(t)?t.value:t}function Ct(t){return xt(t)?t():oe(t)}const aH={get:(t,e,n)=>e==="__v_raw"?t:oe(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function XV(t){return Bu(t)?t:new Proxy(t,aH)}class oH{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ky,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function lH(t){return new oH(t)}function ql(t){const e=ft(t)?new Array(t.length):{};for(const n in t)e[n]=KV(t,n);return e}class uH{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return U9(Xe(this._object),this._key)}}class cH{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function me(t,e,n){return Je(t)?t:xt(t)?new cH(t):En(t)&&arguments.length>1?KV(t,e,n):G(t)}function KV(t,e,n){const i=t[e];return Je(i)?i:new uH(t,e,n)}class dH{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ky(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=dm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Tn!==this)return VV(this,!0),!0}get value(){const e=this.dep.track();return FV(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hH(t,e,n=!1){let i,s;return xt(t)?i=t:(i=t.get,s=t.set),new dH(i,s,n)}const Cp={},Kv=new WeakMap;let vu;function fH(t,e=!1,n=vu){if(n){let i=Kv.get(n);i||Kv.set(n,i=[]),i.push(t)}}function mH(t,e,n=Jt){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:o,call:l}=n,u=k=>s?k:Rr(k)||s===!1||s===0?ho(k,1):ho(k);let d,c,h,f,p=!1,m=!1;if(Je(t)?(c=()=>t.value,p=Rr(t)):Bu(t)?(c=()=>u(t),p=!0):ft(t)?(m=!0,p=t.some(k=>Bu(k)||Rr(k)),c=()=>t.map(k=>{if(Je(k))return k.value;if(Bu(k))return u(k);if(xt(k))return l?l(k,2):k()})):xt(t)?e?c=l?()=>l(t,2):t:c=()=>{if(h){Yl();try{h()}finally{Gl()}}const k=vu;vu=d;try{return l?l(t,3,[f]):t(f)}finally{vu=k}}:c=Aa,e&&s){const k=c,I=s===!0?1/0:s;c=()=>ho(k(),I)}const v=RV(),_=()=>{d.stop(),v&&v.active&&Tk(v.effects,d)};if(r&&e){const k=e;e=(...I)=>{k(...I),_()}}let b=m?new Array(t.length).fill(Cp):Cp;const x=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(e){const I=d.run();if(s||p||(m?I.some((E,T)=>Ys(E,b[T])):Ys(I,b))){h&&h();const E=vu;vu=d;try{const T=[I,b===Cp?void 0:m&&b[0]===Cp?[]:b,f];l?l(e,3,T):e(...T),b=I}finally{vu=E}}}else d.run()};return o&&o(x),d=new OV(c),d.scheduler=a?()=>a(x,!1):x,f=k=>fH(k,!1,d),h=d.onStop=()=>{const k=Kv.get(d);if(k){if(l)l(k,4);else for(const I of k)I();Kv.delete(d)}},e?i?x(!0):b=d.run():a?a(x.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function ho(t,e=1/0,n){if(e<=0||!En(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Je(t))ho(t.value,e,n);else if(ft(t))for(let i=0;i<t.length;i++)ho(t[i],e,n);else if(xV(t)||kd(t))t.forEach(i=>{ho(i,e,n)});else if(TV(t)){for(const i in t)ho(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&ho(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kg(t,e,n,i){try{return i?t(...i):t()}catch(s){Jy(s,e,n)}}function aa(t,e,n,i){if(xt(t)){const s=kg(t,e,n,i);return s&&SV(s)&&s.catch(r=>{Jy(r,e,n)}),s}if(ft(t)){const s=[];for(let r=0;r<t.length;r++)s.push(aa(t[r],e,n,i));return s}}function Jy(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Jt;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](t,l,u)===!1)return}o=o.parent}if(r){Yl(),kg(r,null,10,[t,l,u]),Gl();return}}gH(t,n,s,i,a)}function gH(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const Rs=[];let wa=-1;const Td=[];let rl=null,od=0;const QV=Promise.resolve();let Qv=null;function vt(t){const e=Qv||QV;return t?e.then(this?t.bind(this):t):e}function pH(t){let e=wa+1,n=Rs.length;for(;e<n;){const i=e+n>>>1,s=Rs[i],r=fm(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Mk(t){if(!(t.flags&1)){const e=fm(t),n=Rs[Rs.length-1];!n||!(t.flags&2)&&e>=fm(n)?Rs.push(t):Rs.splice(pH(e),0,t),t.flags|=1,JV()}}function JV(){Qv||(Qv=QV.then(eL))}function vH(t){ft(t)?Td.push(...t):rl&&t.id===-1?rl.splice(od+1,0,t):t.flags&1||(Td.push(t),t.flags|=1),JV()}function YE(t,e,n=wa+1){for(;n<Rs.length;n++){const i=Rs[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Rs.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ZV(t){if(Td.length){const e=[...new Set(Td)].sort((n,i)=>fm(n)-fm(i));if(Td.length=0,rl){rl.push(...e);return}for(rl=e,od=0;od<rl.length;od++){const n=rl[od];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}rl=null,od=0}}const fm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function eL(t){try{for(wa=0;wa<Rs.length;wa++){const e=Rs[wa];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kg(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;wa<Rs.length;wa++){const e=Rs[wa];e&&(e.flags&=-2)}wa=-1,Rs.length=0,ZV(),Qv=null,(Rs.length||Td.length)&&eL()}}let $i=null,tL=null;function Jv(t){const e=$i;return $i=t,tL=t&&t.type.__scopeId||null,e}function M(t,e=$i,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&rI(-1);const r=Jv(e);let a;try{a=t(...s)}finally{Jv(r),i._d&&rI(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function In(t,e){if($i===null)return t;const n=ib($i),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=Jt]=e[s];r&&(xt(r)&&(r={mounted:r,updated:r}),r.deep&&ho(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function cu(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(Yl(),aa(l,n,8,[t.el,o,t,e]),Gl())}}const nL=Symbol("_vte"),iL=t=>t.__isTeleport,$f=t=>t&&(t.disabled||t.disabled===""),GE=t=>t&&(t.defer||t.defer===""),qE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,XE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ex=(t,e)=>{const n=t&&t.to;return Yn(n)?e?e(n):null:n},sL={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,u){const{mc:d,pc:c,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:v}}=u,_=$f(e.props);let{shapeFlag:b,children:x,dynamicChildren:k}=e;if(t==null){const I=e.el=m(""),E=e.anchor=m("");f(I,n,i),f(E,n,i);const T=(w,C)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=w),d(x,w,C,s,r,a,o,l))},S=()=>{const w=e.target=Ex(e.props,p),C=aL(w,e,m,f);w&&(a!=="svg"&&qE(w)?a="svg":a!=="mathml"&&XE(w)&&(a="mathml"),_||(T(w,C),mv(e,!1)))};_&&(T(n,E),mv(e,!0)),GE(e.props)?Is(()=>{S(),e.el.__isMounted=!0},r):S()}else{if(GE(e.props)&&!t.el.__isMounted){Is(()=>{sL.process(t,e,n,i,s,r,a,o,l,u),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const I=e.anchor=t.anchor,E=e.target=t.target,T=e.targetAnchor=t.targetAnchor,S=$f(t.props),w=S?n:E,C=S?I:T;if(a==="svg"||qE(E)?a="svg":(a==="mathml"||XE(E))&&(a="mathml"),k?(h(t.dynamicChildren,k,w,s,r,a,o),$k(t,e,!0)):l||c(t,e,w,C,s,r,a,o,!1),_)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ep(e,n,I,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=Ex(e.props,p);P&&Ep(e,P,null,u,0)}else S&&Ep(e,E,T,u,1);mv(e,_)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:d,target:c,props:h}=t;if(c&&(s(u),s(d)),r&&s(l),a&16){const f=r||!$f(h);for(let p=0;p<o.length;p++){const m=o[p];i(m,e,n,f,!!m.dynamicChildren)}}},move:Ep,hydrate:_H};function Ep(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:d}=t,c=r===2;if(c&&i(a,e,n),(!c||$f(d))&&l&16)for(let h=0;h<u.length;h++)s(u[h],e,n,2);c&&i(o,e,n)}function _H(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:d}},c){const h=e.target=Ex(e.props,l);if(h){const f=$f(e.props),p=h._lpa||h.firstChild;if(e.shapeFlag&16)if(f)e.anchor=c(a(t),e,o(t),n,i,s,r),e.targetStart=p,e.targetAnchor=p&&a(p);else{e.anchor=a(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}m=a(m)}e.targetAnchor||aL(h,e,d,u),c(p&&a(p),e,h,n,i,s,r)}mv(e,f)}return e.anchor&&a(e.anchor)}const rL=sL;function mv(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function aL(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[nL]=r,t&&(i(s,t),i(r,t)),r}const al=Symbol("_leaveCb"),Ip=Symbol("_enterCb");function oL(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kt(()=>{t.isMounted=!0}),Oi(()=>{t.isUnmounting=!0}),t}const Tr=[Function,Array],lL={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tr,onEnter:Tr,onAfterEnter:Tr,onEnterCancelled:Tr,onBeforeLeave:Tr,onLeave:Tr,onAfterLeave:Tr,onLeaveCancelled:Tr,onBeforeAppear:Tr,onAppear:Tr,onAfterAppear:Tr,onAppearCancelled:Tr},uL=t=>{const e=t.subTree;return e.component?uL(e.component):e},yH={name:"BaseTransition",props:lL,setup(t,{slots:e}){const n=Tc(),i=oL();return()=>{const s=e.default&&Vk(e.default(),!0);if(!s||!s.length)return;const r=cL(s),a=Xe(t),{mode:o}=a;if(i.isLeaving)return a0(r);const l=KE(r);if(!l)return a0(r);let u=mm(l,a,i,n,c=>u=c);l.type!==bs&&Xu(l,u);let d=n.subTree&&KE(n.subTree);if(d&&d.type!==bs&&!xu(l,d)&&uL(n).type!==bs){let c=mm(d,a,i,n);if(Xu(d,c),o==="out-in"&&l.type!==bs)return i.isLeaving=!0,c.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete c.afterLeave,d=void 0},a0(r);o==="in-out"&&l.type!==bs?c.delayLeave=(h,f,p)=>{const m=dL(i,d);m[String(d.key)]=d,h[al]=()=>{f(),h[al]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function cL(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==bs){e=n;break}}return e}const bH=yH;function dL(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function mm(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:v,onAppear:_,onAfterAppear:b,onAppearCancelled:x}=e,k=String(t.key),I=dL(n,t),E=(w,C)=>{w&&aa(w,i,9,C)},T=(w,C)=>{const P=C[1];E(w,C),ft(w)?w.every(D=>D.length<=1)&&P():w.length<=1&&P()},S={mode:a,persisted:o,beforeEnter(w){let C=l;if(!n.isMounted)if(r)C=v||l;else return;w[al]&&w[al](!0);const P=I[k];P&&xu(t,P)&&P.el[al]&&P.el[al](),E(C,[w])},enter(w){let C=u,P=d,D=c;if(!n.isMounted)if(r)C=_||u,P=b||d,D=x||c;else return;let A=!1;const F=w[Ip]=L=>{A||(A=!0,L?E(D,[w]):E(P,[w]),S.delayedLeave&&S.delayedLeave(),w[Ip]=void 0)};C?T(C,[w,F]):F()},leave(w,C){const P=String(t.key);if(w[Ip]&&w[Ip](!0),n.isUnmounting)return C();E(h,[w]);let D=!1;const A=w[al]=F=>{D||(D=!0,C(),F?E(m,[w]):E(p,[w]),w[al]=void 0,I[P]===t&&delete I[P])};I[P]=t,f?T(f,[w,A]):A()},clone(w){const C=mm(w,e,n,i,s);return s&&s(C),C}};return S}function a0(t){if(Zy(t))return t=$a(t),t.children=null,t}function KE(t){if(!Zy(t))return iL(t.type)&&t.children?cL(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&xt(n.default))return n.default()}}function Xu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Xu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vk(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===Pe?(a.patchFlag&128&&s++,i=i.concat(Vk(a.children,e,o))):(e||a.type!==bs)&&i.push(o!=null?$a(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function St(t,e){return xt(t)?xi({name:t.name},e,{setup:t}):t}function hL(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wH(t){const e=Tc(),n=Re(null);if(e){const s=e.refs===Jt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Zv(t,e,n,i,s=!1){if(ft(t)){t.forEach((p,m)=>Zv(p,e&&(ft(e)?e[m]:e),n,i,s));return}if(Pd(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Zv(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?ib(i.component):i.el,a=s?null:r,{i:o,r:l}=t,u=e&&e.r,d=o.refs===Jt?o.refs={}:o.refs,c=o.setupState,h=Xe(c),f=c===Jt?()=>!1:p=>ln(h,p);if(u!=null&&u!==l&&(Yn(u)?(d[u]=null,f(u)&&(c[u]=null)):Je(u)&&(u.value=null)),xt(l))kg(l,o,12,[a,d]);else{const p=Yn(l),m=Je(l);if(p||m){const v=()=>{if(t.f){const _=p?f(l)?c[l]:d[l]:l.value;s?ft(_)&&Tk(_,r):ft(_)?_.includes(r)||_.push(r):p?(d[l]=[r],f(l)&&(c[l]=d[l])):(l.value=[r],t.k&&(d[t.k]=l.value))}else p?(d[l]=a,f(l)&&(c[l]=a)):m&&(l.value=a,t.k&&(d[t.k]=a))};a?(v.id=-1,Is(v,n)):v()}}}Gy().requestIdleCallback;Gy().cancelIdleCallback;const Pd=t=>!!t.type.__asyncLoader,Zy=t=>t.type.__isKeepAlive;function fL(t,e){mL(t,"a",e)}function Lk(t,e){mL(t,"da",e)}function mL(t,e,n=Zi){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(eb(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Zy(s.parent.vnode)&&xH(i,e,n,s),s=s.parent}}function xH(t,e,n,i){const s=eb(e,t,i,!0);Us(()=>{Tk(i[e],s)},n)}function eb(t,e,n=Zi,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{Yl();const o=Pg(n),l=aa(e,n,t,a);return o(),Gl(),l});return i?s.unshift(r):s.push(r),r}}const Bo=t=>(e,n=Zi)=>{(!pm||t==="sp")&&eb(t,(...i)=>e(...i),n)},wh=Bo("bm"),kt=Bo("m"),gL=Bo("bu"),Nk=Bo("u"),Oi=Bo("bum"),Us=Bo("um"),pL=Bo("sp"),SH=Bo("rtg"),kH=Bo("rtc");function TH(t,e=Zi){eb("ec",t,e)}const Fk="components",PH="directives";function j(t,e){return Bk(Fk,t,!0,e)||t}const vL=Symbol.for("v-ndc");function _L(t){return Yn(t)?Bk(Fk,t,!1)||t:t||vL}function tr(t){return Bk(PH,t)}function Bk(t,e,n=!0,i=!1){const s=$i||Zi;if(s){const r=s.type;if(t===Fk){const o=dz(r,!1);if(o&&(o===e||o===Fs(e)||o===ga(Fs(e))))return r}const a=QE(s[t]||r[t],e)||QE(s.appContext[t],e);return!a&&i?r:a}}function QE(t,e){return t&&(t[e]||t[Fs(e)]||t[ga(Fs(e))])}function Ii(t,e,n,i){let s;const r=n,a=ft(t);if(a||Yn(t)){const o=a&&Bu(t);let l=!1;o&&(l=!Rr(t),t=Qy(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?ps(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r)}else if(En(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,r));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const d=o[l];s[l]=e(t[d],d,l,r)}}else s=[];return s}function yL(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(ft(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}function CH(t,e,n={},i,s){if($i.ce||$i.parent&&Pd($i.parent)&&$i.parent.ce)return n.name=e,xe(),Oe(Pe,null,[g("slot",n,i)],64);let r=t[e];r&&r._c&&(r._d=!1),xe();const a=r&&bL(r(n)),o=n.key||a&&a.key,l=Oe(Pe,{key:(o&&!Fo(o)?o:`_${e}`)+""},a||[],a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function bL(t){return t.some(e=>Dl(e)?!(e.type===bs||e.type===Pe&&!bL(e.children)):!0)?t:null}const Ix=t=>t?jL(t)?ib(t):Ix(t.parent):null,Uf=xi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ix(t.parent),$root:t=>Ix(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xL(t),$forceUpdate:t=>t.f||(t.f=()=>{Mk(t.update)}),$nextTick:t=>t.n||(t.n=vt.bind(t.proxy)),$watch:t=>XH.bind(t)}),o0=(t,e)=>t!==Jt&&!t.__isScriptSetup&&ln(t,e),EH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(o0(i,e))return a[e]=1,i[e];if(s!==Jt&&ln(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&ln(u,e))return a[e]=3,r[e];if(n!==Jt&&ln(n,e))return a[e]=4,n[e];Dx&&(a[e]=0)}}const d=Uf[e];let c,h;if(d)return e==="$attrs"&&gs(t.attrs,"get",""),d(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==Jt&&ln(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,ln(h,e))return h[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return o0(s,e)?(s[e]=n,!0):i!==Jt&&ln(i,e)?(i[e]=n,!0):ln(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==Jt&&ln(t,a)||o0(e,a)||(o=r[0])&&ln(o,a)||ln(i,a)||ln(Uf,a)||ln(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ln(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function e_(t){return ft(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function El(t,e){return!t||!e?t||e:ft(t)&&ft(e)?t.concat(e):xi({},e_(t),e_(e))}let Dx=!0;function IH(t){const e=xL(t),n=t.proxy,i=t.ctx;Dx=!1,e.beforeCreate&&JE(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:u,created:d,beforeMount:c,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:v,beforeDestroy:_,beforeUnmount:b,destroyed:x,unmounted:k,render:I,renderTracked:E,renderTriggered:T,errorCaptured:S,serverPrefetch:w,expose:C,inheritAttrs:P,components:D,directives:A,filters:F}=e;if(u&&DH(u,i,null),a)for(const X in a){const z=a[X];xt(z)&&(i[X]=z.bind(n))}if(s){const X=s.call(n,n);En(X)&&(t.data=mn(X))}if(Dx=!0,r)for(const X in r){const z=r[X],K=xt(z)?z.bind(n,n):xt(z.get)?z.get.bind(n,n):Aa,Y=!xt(z)&&xt(z.set)?z.set.bind(n):Aa,te=O({get:K,set:Y});Object.defineProperty(i,X,{enumerable:!0,configurable:!0,get:()=>te.value,set:Q=>te.value=Q})}if(o)for(const X in o)wL(o[X],i,n,X);if(l){const X=xt(l)?l.call(n):l;Reflect.ownKeys(X).forEach(z=>{Kt(z,X[z])})}d&&JE(d,t,"c");function H(X,z){ft(z)?z.forEach(K=>X(K.bind(n))):z&&X(z.bind(n))}if(H(wh,c),H(kt,h),H(gL,f),H(Nk,p),H(fL,m),H(Lk,v),H(TH,S),H(kH,E),H(SH,T),H(Oi,b),H(Us,k),H(pL,w),ft(C))if(C.length){const X=t.exposed||(t.exposed={});C.forEach(z=>{Object.defineProperty(X,z,{get:()=>n[z],set:K=>n[z]=K})})}else t.exposed||(t.exposed={});I&&t.render===Aa&&(t.render=I),P!=null&&(t.inheritAttrs=P),D&&(t.components=D),A&&(t.directives=A),w&&hL(t)}function DH(t,e,n=Aa){ft(t)&&(t=Ax(t));for(const i in t){const s=t[i];let r;En(s)?"default"in s?r=mt(s.from||i,s.default,!0):r=mt(s.from||i):r=mt(s),Je(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function JE(t,e,n){aa(ft(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function wL(t,e,n,i){let s=i.includes(".")?ML(n,i):()=>n[i];if(Yn(t)){const r=e[t];xt(r)&&be(s,r)}else if(xt(t))be(s,t.bind(n));else if(En(t))if(ft(t))t.forEach(r=>wL(r,e,n,i));else{const r=xt(t.handler)?t.handler.bind(n):e[t.handler];xt(r)&&be(s,r,t)}}function xL(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(u=>t_(l,u,a,!0)),t_(l,e,a)),En(e)&&r.set(e,l),l}function t_(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&t_(t,r,n,!0),s&&s.forEach(a=>t_(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=AH[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const AH={data:ZE,props:eI,emits:eI,methods:xf,computed:xf,beforeCreate:Es,created:Es,beforeMount:Es,mounted:Es,beforeUpdate:Es,updated:Es,beforeDestroy:Es,beforeUnmount:Es,destroyed:Es,unmounted:Es,activated:Es,deactivated:Es,errorCaptured:Es,serverPrefetch:Es,components:xf,directives:xf,watch:OH,provide:ZE,inject:RH};function ZE(t,e){return e?t?function(){return xi(xt(t)?t.call(this,this):t,xt(e)?e.call(this,this):e)}:e:t}function RH(t,e){return xf(Ax(t),Ax(e))}function Ax(t){if(ft(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Es(t,e){return t?[...new Set([].concat(t,e))]:e}function xf(t,e){return t?xi(Object.create(null),t,e):e}function eI(t,e){return t?ft(t)&&ft(e)?[...new Set([...t,...e])]:xi(Object.create(null),e_(t),e_(e??{})):e}function OH(t,e){if(!t)return e;if(!e)return t;const n=xi(Object.create(null),t);for(const i in e)n[i]=Es(t[i],e[i]);return n}function SL(){return{app:null,config:{isNativeTag:E9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MH=0;function VH(t,e){return function(i,s=null){xt(i)||(i=xi({},i)),s!=null&&!En(s)&&(s=null);const r=SL(),a=new WeakSet,o=[];let l=!1;const u=r.app={_uid:MH++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:fz,get config(){return r.config},set config(d){},use(d,...c){return a.has(d)||(d&&xt(d.install)?(a.add(d),d.install(u,...c)):xt(d)&&(a.add(d),d(u,...c))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,c){return c?(r.components[d]=c,u):r.components[d]},directive(d,c){return c?(r.directives[d]=c,u):r.directives[d]},mount(d,c,h){if(!l){const f=u._ceVNode||g(i,s);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),t(f,d,h),l=!0,u._container=d,d.__vue_app__=u,ib(f.component)}},onUnmount(d){o.push(d)},unmount(){l&&(aa(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,c){return r.provides[d]=c,u},runWithContext(d){const c=Cd;Cd=u;try{return d()}finally{Cd=c}}};return u}}let Cd=null;function Kt(t,e){if(Zi){let n=Zi.provides;const i=Zi.parent&&Zi.parent.provides;i===n&&(n=Zi.provides=Object.create(i)),n[t]=e}}function mt(t,e,n=!1){const i=Zi||$i;if(i||Cd){const s=Cd?Cd._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&xt(e)?e.call(i&&i.proxy):e}}const kL={},TL=()=>Object.create(kL),PL=t=>Object.getPrototypeOf(t)===kL;function LH(t,e,n,i=!1){const s={},r=TL();t.propsDefaults=Object.create(null),CL(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:GV(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function NH(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=Xe(s),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let c=0;c<d.length;c++){let h=d[c];if(nb(t.emitsOptions,h))continue;const f=e[h];if(l)if(ln(r,h))f!==r[h]&&(r[h]=f,u=!0);else{const p=Fs(h);s[p]=Rx(l,o,p,f,t,!1)}else f!==r[h]&&(r[h]=f,u=!0)}}}else{CL(t,e,s,r)&&(u=!0);let d;for(const c in o)(!e||!ln(e,c)&&((d=Wl(c))===c||!ln(e,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(s[c]=Rx(l,o,c,void 0,t,!0)):delete s[c]);if(r!==o)for(const c in r)(!e||!ln(e,c))&&(delete r[c],u=!0)}u&&co(t.attrs,"set","")}function CL(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Ff(l))continue;const u=e[l];let d;s&&ln(s,d=Fs(l))?!r||!r.includes(d)?n[d]=u:(o||(o={}))[d]=u:nb(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(r){const l=Xe(n),u=o||Jt;for(let d=0;d<r.length;d++){const c=r[d];n[c]=Rx(s,l,c,u[c],t,!ln(u,c))}}return a}function Rx(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=ln(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xt(l)){const{propsDefaults:u}=s;if(n in u)i=u[n];else{const d=Pg(s);i=u[n]=l.call(null,e),d()}}else i=l;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===Wl(n))&&(i=!0))}return i}const FH=new WeakMap;function EL(t,e,n=!1){const i=n?FH:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!xt(t)){const d=c=>{l=!0;const[h,f]=EL(c,e,!0);xi(a,h),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return En(t)&&i.set(t,Sd),Sd;if(ft(r))for(let d=0;d<r.length;d++){const c=Fs(r[d]);tI(c)&&(a[c]=Jt)}else if(r)for(const d in r){const c=Fs(d);if(tI(c)){const h=r[d],f=a[c]=ft(h)||xt(h)?{type:h}:xi({},h),p=f.type;let m=!1,v=!0;if(ft(p))for(let _=0;_<p.length;++_){const b=p[_],x=xt(b)&&b.name;if(x==="Boolean"){m=!0;break}else x==="String"&&(v=!1)}else m=xt(p)&&p.name==="Boolean";f[0]=m,f[1]=v,(m||ln(f,"default"))&&o.push(c)}}const u=[a,o];return En(t)&&i.set(t,u),u}function tI(t){return t[0]!=="$"&&!Ff(t)}const IL=t=>t[0]==="_"||t==="$stable",jk=t=>ft(t)?t.map(Sa):[Sa(t)],BH=(t,e,n)=>{if(e._n)return e;const i=M((...s)=>jk(e(...s)),n);return i._c=!1,i},DL=(t,e,n)=>{const i=t._ctx;for(const s in t){if(IL(s))continue;const r=t[s];if(xt(r))e[s]=BH(s,r,i);else if(r!=null){const a=jk(r);e[s]=()=>a}}},AL=(t,e)=>{const n=jk(e);t.slots.default=()=>n},RL=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},jH=(t,e,n)=>{const i=t.slots=TL();if(t.vnode.shapeFlag&32){const s=e._;s?(RL(i,e,n),n&&PV(i,"_",s,!0)):DL(e,i)}else e&&AL(t,e)},$H=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=Jt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:RL(s,e,n):(r=!e.$stable,DL(e,s)),a=e}else e&&(AL(t,e),a={default:1});if(r)for(const o in s)!IL(o)&&a[o]==null&&delete s[o]},Is=tz;function UH(t){return HH(t)}function HH(t,e){const n=Gy();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:u,setElementText:d,parentNode:c,nextSibling:h,setScopeId:f=Aa,insertStaticContent:p}=t,m=(B,N,W,ce=null,de=null,ne=null,Te=void 0,Me=null,Se=!!N.dynamicChildren)=>{if(B===N)return;B&&!xu(B,N)&&(ce=$(B),Q(B,de,ne,!0),B=null),N.patchFlag===-2&&(Se=!1,N.dynamicChildren=null);const{type:Ee,ref:ze,shapeFlag:Fe}=N;switch(Ee){case Tg:v(B,N,W,ce);break;case bs:_(B,N,W,ce);break;case u0:B==null&&b(N,W,ce,Te);break;case Pe:D(B,N,W,ce,de,ne,Te,Me,Se);break;default:Fe&1?I(B,N,W,ce,de,ne,Te,Me,Se):Fe&6?A(B,N,W,ce,de,ne,Te,Me,Se):(Fe&64||Fe&128)&&Ee.process(B,N,W,ce,de,ne,Te,Me,Se,_e)}ze!=null&&de&&Zv(ze,B&&B.ref,ne,N||B,!N)},v=(B,N,W,ce)=>{if(B==null)i(N.el=o(N.children),W,ce);else{const de=N.el=B.el;N.children!==B.children&&u(de,N.children)}},_=(B,N,W,ce)=>{B==null?i(N.el=l(N.children||""),W,ce):N.el=B.el},b=(B,N,W,ce)=>{[B.el,B.anchor]=p(B.children,N,W,ce,B.el,B.anchor)},x=({el:B,anchor:N},W,ce)=>{let de;for(;B&&B!==N;)de=h(B),i(B,W,ce),B=de;i(N,W,ce)},k=({el:B,anchor:N})=>{let W;for(;B&&B!==N;)W=h(B),s(B),B=W;s(N)},I=(B,N,W,ce,de,ne,Te,Me,Se)=>{N.type==="svg"?Te="svg":N.type==="math"&&(Te="mathml"),B==null?E(N,W,ce,de,ne,Te,Me,Se):w(B,N,de,ne,Te,Me,Se)},E=(B,N,W,ce,de,ne,Te,Me)=>{let Se,Ee;const{props:ze,shapeFlag:Fe,transition:qe,dirs:st}=B;if(Se=B.el=a(B.type,ne,ze&&ze.is,ze),Fe&8?d(Se,B.children):Fe&16&&S(B.children,Se,null,ce,de,l0(B,ne),Te,Me),st&&cu(B,null,ce,"created"),T(Se,B,B.scopeId,Te,ce),ze){for(const We in ze)We!=="value"&&!Ff(We)&&r(Se,We,null,ze[We],ne,ce);"value"in ze&&r(Se,"value",null,ze.value,ne),(Ee=ze.onVnodeBeforeMount)&&_a(Ee,ce,B)}st&&cu(B,null,ce,"beforeMount");const et=zH(de,qe);et&&qe.beforeEnter(Se),i(Se,N,W),((Ee=ze&&ze.onVnodeMounted)||et||st)&&Is(()=>{Ee&&_a(Ee,ce,B),et&&qe.enter(Se),st&&cu(B,null,ce,"mounted")},de)},T=(B,N,W,ce,de)=>{if(W&&f(B,W),ce)for(let ne=0;ne<ce.length;ne++)f(B,ce[ne]);if(de){let ne=de.subTree;if(N===ne||NL(ne.type)&&(ne.ssContent===N||ne.ssFallback===N)){const Te=de.vnode;T(B,Te,Te.scopeId,Te.slotScopeIds,de.parent)}}},S=(B,N,W,ce,de,ne,Te,Me,Se=0)=>{for(let Ee=Se;Ee<B.length;Ee++){const ze=B[Ee]=Me?ol(B[Ee]):Sa(B[Ee]);m(null,ze,N,W,ce,de,ne,Te,Me)}},w=(B,N,W,ce,de,ne,Te)=>{const Me=N.el=B.el;let{patchFlag:Se,dynamicChildren:Ee,dirs:ze}=N;Se|=B.patchFlag&16;const Fe=B.props||Jt,qe=N.props||Jt;let st;if(W&&du(W,!1),(st=qe.onVnodeBeforeUpdate)&&_a(st,W,N,B),ze&&cu(N,B,W,"beforeUpdate"),W&&du(W,!0),(Fe.innerHTML&&qe.innerHTML==null||Fe.textContent&&qe.textContent==null)&&d(Me,""),Ee?C(B.dynamicChildren,Ee,Me,W,ce,l0(N,de),ne):Te||z(B,N,Me,null,W,ce,l0(N,de),ne,!1),Se>0){if(Se&16)P(Me,Fe,qe,W,de);else if(Se&2&&Fe.class!==qe.class&&r(Me,"class",null,qe.class,de),Se&4&&r(Me,"style",Fe.style,qe.style,de),Se&8){const et=N.dynamicProps;for(let We=0;We<et.length;We++){const Rt=et[We],tn=Fe[Rt],mi=qe[Rt];(mi!==tn||Rt==="value")&&r(Me,Rt,tn,mi,de,W)}}Se&1&&B.children!==N.children&&d(Me,N.children)}else!Te&&Ee==null&&P(Me,Fe,qe,W,de);((st=qe.onVnodeUpdated)||ze)&&Is(()=>{st&&_a(st,W,N,B),ze&&cu(N,B,W,"updated")},ce)},C=(B,N,W,ce,de,ne,Te)=>{for(let Me=0;Me<N.length;Me++){const Se=B[Me],Ee=N[Me],ze=Se.el&&(Se.type===Pe||!xu(Se,Ee)||Se.shapeFlag&70)?c(Se.el):W;m(Se,Ee,ze,null,ce,de,ne,Te,!0)}},P=(B,N,W,ce,de)=>{if(N!==W){if(N!==Jt)for(const ne in N)!Ff(ne)&&!(ne in W)&&r(B,ne,N[ne],null,de,ce);for(const ne in W){if(Ff(ne))continue;const Te=W[ne],Me=N[ne];Te!==Me&&ne!=="value"&&r(B,ne,Me,Te,de,ce)}"value"in W&&r(B,"value",N.value,W.value,de)}},D=(B,N,W,ce,de,ne,Te,Me,Se)=>{const Ee=N.el=B?B.el:o(""),ze=N.anchor=B?B.anchor:o("");let{patchFlag:Fe,dynamicChildren:qe,slotScopeIds:st}=N;st&&(Me=Me?Me.concat(st):st),B==null?(i(Ee,W,ce),i(ze,W,ce),S(N.children||[],W,ze,de,ne,Te,Me,Se)):Fe>0&&Fe&64&&qe&&B.dynamicChildren?(C(B.dynamicChildren,qe,W,de,ne,Te,Me),(N.key!=null||de&&N===de.subTree)&&$k(B,N,!0)):z(B,N,W,ze,de,ne,Te,Me,Se)},A=(B,N,W,ce,de,ne,Te,Me,Se)=>{N.slotScopeIds=Me,B==null?N.shapeFlag&512?de.ctx.activate(N,W,ce,Te,Se):F(N,W,ce,de,ne,Te,Se):L(B,N,Se)},F=(B,N,W,ce,de,ne,Te)=>{const Me=B.component=az(B,ce,de);if(Zy(B)&&(Me.ctx.renderer=_e),oz(Me,!1,Te),Me.asyncDep){if(de&&de.registerDep(Me,H,Te),!B.el){const Se=Me.subTree=g(bs);_(null,Se,N,W)}}else H(Me,B,N,W,de,ne,Te)},L=(B,N,W)=>{const ce=N.component=B.component;if(ZH(B,N,W))if(ce.asyncDep&&!ce.asyncResolved){X(ce,N,W);return}else ce.next=N,ce.update();else N.el=B.el,ce.vnode=N},H=(B,N,W,ce,de,ne,Te)=>{const Me=()=>{if(B.isMounted){let{next:Fe,bu:qe,u:st,parent:et,vnode:We}=B;{const he=OL(B);if(he){Fe&&(Fe.el=We.el,X(B,Fe,Te)),he.asyncDep.then(()=>{B.isUnmounted||Me()});return}}let Rt=Fe,tn;du(B,!1),Fe?(Fe.el=We.el,X(B,Fe,Te)):Fe=We,qe&&fv(qe),(tn=Fe.props&&Fe.props.onVnodeBeforeUpdate)&&_a(tn,et,Fe,We),du(B,!0);const mi=iI(B),pe=B.subTree;B.subTree=mi,m(pe,mi,c(pe.el),$(pe),B,de,ne),Fe.el=mi.el,Rt===null&&ez(B,mi.el),st&&Is(st,de),(tn=Fe.props&&Fe.props.onVnodeUpdated)&&Is(()=>_a(tn,et,Fe,We),de)}else{let Fe;const{el:qe,props:st}=N,{bm:et,m:We,parent:Rt,root:tn,type:mi}=B,pe=Pd(N);du(B,!1),et&&fv(et),!pe&&(Fe=st&&st.onVnodeBeforeMount)&&_a(Fe,Rt,N),du(B,!0);{tn.ce&&tn.ce._injectChildStyle(mi);const he=B.subTree=iI(B);m(null,he,W,ce,B,de,ne),N.el=he.el}if(We&&Is(We,de),!pe&&(Fe=st&&st.onVnodeMounted)){const he=N;Is(()=>_a(Fe,Rt,he),de)}(N.shapeFlag&256||Rt&&Pd(Rt.vnode)&&Rt.vnode.shapeFlag&256)&&B.a&&Is(B.a,de),B.isMounted=!0,N=W=ce=null}};B.scope.on();const Se=B.effect=new OV(Me);B.scope.off();const Ee=B.update=Se.run.bind(Se),ze=B.job=Se.runIfDirty.bind(Se);ze.i=B,ze.id=B.uid,Se.scheduler=()=>Mk(ze),du(B,!0),Ee()},X=(B,N,W)=>{N.component=B;const ce=B.vnode.props;B.vnode=N,B.next=null,NH(B,N.props,ce,W),$H(B,N.children,W),Yl(),YE(B),Gl()},z=(B,N,W,ce,de,ne,Te,Me,Se=!1)=>{const Ee=B&&B.children,ze=B?B.shapeFlag:0,Fe=N.children,{patchFlag:qe,shapeFlag:st}=N;if(qe>0){if(qe&128){Y(Ee,Fe,W,ce,de,ne,Te,Me,Se);return}else if(qe&256){K(Ee,Fe,W,ce,de,ne,Te,Me,Se);return}}st&8?(ze&16&&se(Ee,de,ne),Fe!==Ee&&d(W,Fe)):ze&16?st&16?Y(Ee,Fe,W,ce,de,ne,Te,Me,Se):se(Ee,de,ne,!0):(ze&8&&d(W,""),st&16&&S(Fe,W,ce,de,ne,Te,Me,Se))},K=(B,N,W,ce,de,ne,Te,Me,Se)=>{B=B||Sd,N=N||Sd;const Ee=B.length,ze=N.length,Fe=Math.min(Ee,ze);let qe;for(qe=0;qe<Fe;qe++){const st=N[qe]=Se?ol(N[qe]):Sa(N[qe]);m(B[qe],st,W,null,de,ne,Te,Me,Se)}Ee>ze?se(B,de,ne,!0,!1,Fe):S(N,W,ce,de,ne,Te,Me,Se,Fe)},Y=(B,N,W,ce,de,ne,Te,Me,Se)=>{let Ee=0;const ze=N.length;let Fe=B.length-1,qe=ze-1;for(;Ee<=Fe&&Ee<=qe;){const st=B[Ee],et=N[Ee]=Se?ol(N[Ee]):Sa(N[Ee]);if(xu(st,et))m(st,et,W,null,de,ne,Te,Me,Se);else break;Ee++}for(;Ee<=Fe&&Ee<=qe;){const st=B[Fe],et=N[qe]=Se?ol(N[qe]):Sa(N[qe]);if(xu(st,et))m(st,et,W,null,de,ne,Te,Me,Se);else break;Fe--,qe--}if(Ee>Fe){if(Ee<=qe){const st=qe+1,et=st<ze?N[st].el:ce;for(;Ee<=qe;)m(null,N[Ee]=Se?ol(N[Ee]):Sa(N[Ee]),W,et,de,ne,Te,Me,Se),Ee++}}else if(Ee>qe)for(;Ee<=Fe;)Q(B[Ee],de,ne,!0),Ee++;else{const st=Ee,et=Ee,We=new Map;for(Ee=et;Ee<=qe;Ee++){const Qe=N[Ee]=Se?ol(N[Ee]):Sa(N[Ee]);Qe.key!=null&&We.set(Qe.key,Ee)}let Rt,tn=0;const mi=qe-et+1;let pe=!1,he=0;const Ae=new Array(mi);for(Ee=0;Ee<mi;Ee++)Ae[Ee]=0;for(Ee=st;Ee<=Fe;Ee++){const Qe=B[Ee];if(tn>=mi){Q(Qe,de,ne,!0);continue}let ht;if(Qe.key!=null)ht=We.get(Qe.key);else for(Rt=et;Rt<=qe;Rt++)if(Ae[Rt-et]===0&&xu(Qe,N[Rt])){ht=Rt;break}ht===void 0?Q(Qe,de,ne,!0):(Ae[ht-et]=Ee+1,ht>=he?he=ht:pe=!0,m(Qe,N[ht],W,null,de,ne,Te,Me,Se),tn++)}const He=pe?WH(Ae):Sd;for(Rt=He.length-1,Ee=mi-1;Ee>=0;Ee--){const Qe=et+Ee,ht=N[Qe],ot=Qe+1<ze?N[Qe+1].el:ce;Ae[Ee]===0?m(null,ht,W,ot,de,ne,Te,Me,Se):pe&&(Rt<0||Ee!==He[Rt]?te(ht,W,ot,2):Rt--)}}},te=(B,N,W,ce,de=null)=>{const{el:ne,type:Te,transition:Me,children:Se,shapeFlag:Ee}=B;if(Ee&6){te(B.component.subTree,N,W,ce);return}if(Ee&128){B.suspense.move(N,W,ce);return}if(Ee&64){Te.move(B,N,W,_e);return}if(Te===Pe){i(ne,N,W);for(let Fe=0;Fe<Se.length;Fe++)te(Se[Fe],N,W,ce);i(B.anchor,N,W);return}if(Te===u0){x(B,N,W);return}if(ce!==2&&Ee&1&&Me)if(ce===0)Me.beforeEnter(ne),i(ne,N,W),Is(()=>Me.enter(ne),de);else{const{leave:Fe,delayLeave:qe,afterLeave:st}=Me,et=()=>i(ne,N,W),We=()=>{Fe(ne,()=>{et(),st&&st()})};qe?qe(ne,et,We):We()}else i(ne,N,W)},Q=(B,N,W,ce=!1,de=!1)=>{const{type:ne,props:Te,ref:Me,children:Se,dynamicChildren:Ee,shapeFlag:ze,patchFlag:Fe,dirs:qe,cacheIndex:st}=B;if(Fe===-2&&(de=!1),Me!=null&&Zv(Me,null,W,B,!0),st!=null&&(N.renderCache[st]=void 0),ze&256){N.ctx.deactivate(B);return}const et=ze&1&&qe,We=!Pd(B);let Rt;if(We&&(Rt=Te&&Te.onVnodeBeforeUnmount)&&_a(Rt,N,B),ze&6)re(B.component,W,ce);else{if(ze&128){B.suspense.unmount(W,ce);return}et&&cu(B,null,N,"beforeUnmount"),ze&64?B.type.remove(B,N,W,_e,ce):Ee&&!Ee.hasOnce&&(ne!==Pe||Fe>0&&Fe&64)?se(Ee,N,W,!1,!0):(ne===Pe&&Fe&384||!de&&ze&16)&&se(Se,N,W),ce&&ee(B)}(We&&(Rt=Te&&Te.onVnodeUnmounted)||et)&&Is(()=>{Rt&&_a(Rt,N,B),et&&cu(B,null,N,"unmounted")},W)},ee=B=>{const{type:N,el:W,anchor:ce,transition:de}=B;if(N===Pe){ue(W,ce);return}if(N===u0){k(B);return}const ne=()=>{s(W),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(B.shapeFlag&1&&de&&!de.persisted){const{leave:Te,delayLeave:Me}=de,Se=()=>Te(W,ne);Me?Me(B.el,ne,Se):Se()}else ne()},ue=(B,N)=>{let W;for(;B!==N;)W=h(B),s(B),B=W;s(N)},re=(B,N,W)=>{const{bum:ce,scope:de,job:ne,subTree:Te,um:Me,m:Se,a:Ee}=B;nI(Se),nI(Ee),ce&&fv(ce),de.stop(),ne&&(ne.flags|=8,Q(Te,B,N,W)),Me&&Is(Me,N),Is(()=>{B.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},se=(B,N,W,ce=!1,de=!1,ne=0)=>{for(let Te=ne;Te<B.length;Te++)Q(B[Te],N,W,ce,de)},$=B=>{if(B.shapeFlag&6)return $(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const N=h(B.anchor||B.el),W=N&&N[nL];return W?h(W):N};let q=!1;const ae=(B,N,W)=>{B==null?N._vnode&&Q(N._vnode,null,null,!0):m(N._vnode||null,B,N,null,null,null,W),N._vnode=B,q||(q=!0,YE(),ZV(),q=!1)},_e={p:m,um:Q,m:te,r:ee,mt:F,mc:S,pc:z,pbc:C,n:$,o:t};return{render:ae,hydrate:void 0,createApp:VH(ae)}}function l0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function du({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function zH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $k(t,e,n=!1){const i=t.children,s=e.children;if(ft(i)&&ft(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=ol(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&$k(a,o)),o.type===Tg&&(o.el=a.el)}}function WH(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(s=n[n.length-1],t[s]<u){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<u?r=o+1:a=o;u<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function OL(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:OL(e)}function nI(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const YH=Symbol.for("v-scx"),GH=()=>mt(YH);function yn(t,e){return tb(t,null,e)}function qH(t,e){return tb(t,null,{flush:"sync"})}function be(t,e,n){return tb(t,e,n)}function tb(t,e,n=Jt){const{immediate:i,deep:s,flush:r,once:a}=n,o=xi({},n),l=e&&i||!e&&r!=="post";let u;if(pm){if(r==="sync"){const f=GH();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Aa,f.resume=Aa,f.pause=Aa,f}}const d=Zi;o.call=(f,p,m)=>aa(f,d,p,m);let c=!1;r==="post"?o.scheduler=f=>{Is(f,d&&d.suspense)}:r!=="sync"&&(c=!0,o.scheduler=(f,p)=>{p?f():Mk(f)}),o.augmentJob=f=>{e&&(f.flags|=4),c&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const h=mH(t,e,o);return pm&&(u?u.push(h):l&&h()),h}function XH(t,e,n){const i=this.proxy,s=Yn(t)?t.includes(".")?ML(i,t):()=>i[t]:t.bind(i,i);let r;xt(e)?r=e:(r=e.handler,n=e);const a=Pg(this),o=tb(s,r.bind(i),n);return a(),o}function ML(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Il(t,e,n=Jt){const i=Tc(),s=Fs(e),r=Wl(e),a=VL(t,s),o=lH((l,u)=>{let d,c=Jt,h;return qH(()=>{const f=t[s];Ys(d,f)&&(d=f,u())}),{get(){return l(),n.get?n.get(d):d},set(f){const p=n.set?n.set(f):f;if(!Ys(p,d)&&!(c!==Jt&&Ys(f,c)))return;const m=i.vnode.props;m&&(e in m||s in m||r in m)&&(`onUpdate:${e}`in m||`onUpdate:${s}`in m||`onUpdate:${r}`in m)||(d=f,u()),i.emit(`update:${e}`,p),Ys(f,p)&&Ys(f,c)&&!Ys(p,h)&&u(),c=f,h=p}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||Jt:o,done:!1}:{done:!0}}}},o}const VL=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Fs(e)}Modifiers`]||t[`${Wl(e)}Modifiers`];function KH(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Jt;let s=n;const r=e.startsWith("update:"),a=r&&VL(i,e.slice(7));a&&(a.trim&&(s=n.map(d=>Yn(d)?d.trim():d)),a.number&&(s=n.map(Sx)));let o,l=i[o=t0(e)]||i[o=t0(Fs(e))];!l&&r&&(l=i[o=t0(Wl(e))]),l&&aa(l,t,6,s);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,aa(u,t,6,s)}}function LL(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!xt(t)){const l=u=>{const d=LL(u,e,!0);d&&(o=!0,xi(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(En(t)&&i.set(t,null),null):(ft(r)?r.forEach(l=>a[l]=null):xi(a,r),En(t)&&i.set(t,a),a)}function nb(t,e){return!t||!zy(e)?!1:(e=e.slice(2).replace(/Once$/,""),ln(t,e[0].toLowerCase()+e.slice(1))||ln(t,Wl(e))||ln(t,e))}function iI(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:u,renderCache:d,props:c,data:h,setupState:f,ctx:p,inheritAttrs:m}=t,v=Jv(t);let _,b;try{if(n.shapeFlag&4){const k=s||i,I=k;_=Sa(u.call(I,k,d,c,f,h,p)),b=o}else{const k=e;_=Sa(k.length>1?k(c,{attrs:o,slots:a,emit:l}):k(c,null)),b=e.props?o:QH(o)}}catch(k){Hf.length=0,Jy(k,t,1),_=g(bs)}let x=_;if(b&&m!==!1){const k=Object.keys(b),{shapeFlag:I}=x;k.length&&I&7&&(r&&k.some(kk)&&(b=JH(b,r)),x=$a(x,b,!1,!0))}return n.dirs&&(x=$a(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Xu(x,n.transition),_=x,Jv(v),_}const QH=t=>{let e;for(const n in t)(n==="class"||n==="style"||zy(n))&&((e||(e={}))[n]=t[n]);return e},JH=(t,e)=>{const n={};for(const i in t)(!kk(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function ZH(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?sI(i,a,u):!!a;if(l&8){const d=e.dynamicProps;for(let c=0;c<d.length;c++){const h=d[c];if(a[h]!==i[h]&&!nb(u,h))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?sI(i,a,u):!0:!!a;return!1}function sI(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!nb(n,r))return!0}return!1}function ez({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const NL=t=>t.__isSuspense;function tz(t,e){e&&e.pendingBranch?ft(t)?e.effects.push(...t):e.effects.push(t):vH(t)}const Pe=Symbol.for("v-fgt"),Tg=Symbol.for("v-txt"),bs=Symbol.for("v-cmt"),u0=Symbol.for("v-stc"),Hf=[];let dr=null;function xe(t=!1){Hf.push(dr=t?null:[])}function nz(){Hf.pop(),dr=Hf[Hf.length-1]||null}let gm=1;function rI(t,e=!1){gm+=t,t<0&&dr&&e&&(dr.hasOnce=!0)}function FL(t){return t.dynamicChildren=gm>0?dr||Sd:null,nz(),gm>0&&dr&&dr.push(t),t}function Tt(t,e,n,i,s,r){return FL(Ve(t,e,n,i,s,r,!0))}function Oe(t,e,n,i,s){return FL(g(t,e,n,i,s,!0))}function Dl(t){return t?t.__v_isVNode===!0:!1}function xu(t,e){return t.type===e.type&&t.key===e.key}const BL=({key:t})=>t??null,gv=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Yn(t)||Je(t)||xt(t)?{i:$i,r:t,k:e,f:!!n}:t:null);function Ve(t,e=null,n=null,i=0,s=null,r=t===Pe?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&BL(e),ref:e&&gv(e),scopeId:tL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$i};return o?(Hk(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Yn(n)?8:16),gm>0&&!a&&dr&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&dr.push(l),l}const g=iz;function iz(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===vL)&&(t=bs),Dl(t)){const o=$a(t,e,!0);return n&&Hk(o,n),gm>0&&!r&&dr&&(o.shapeFlag&6?dr[dr.indexOf(t)]=o:dr.push(o)),o.patchFlag=-2,o}if(hz(t)&&(t=t.__vccOpts),e){e=Uk(e);let{class:o,style:l}=e;o&&!Yn(o)&&(e.class=Xy(o)),En(l)&&(Rk(l)&&!ft(l)&&(l=xi({},l)),e.style=qy(l))}const a=Yn(t)?1:NL(t)?128:iL(t)?64:En(t)?4:xt(t)?2:0;return Ve(t,e,n,i,s,a,r,!0)}function Uk(t){return t?Rk(t)||PL(t)?xi({},t):t:null}function $a(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,u=e?Z(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&BL(u),ref:e&&e.ref?n&&r?ft(r)?r.concat(gv(e)):[r,gv(e)]:gv(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$a(t.ssContent),ssFallback:t.ssFallback&&$a(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Xu(d,l.clone(d)),d}function Ce(t=" ",e=0){return g(Tg,null,t,e)}function Zt(t="",e=!1){return e?(xe(),Oe(bs,null,t)):g(bs,null,t)}function Sa(t){return t==null||typeof t=="boolean"?g(bs):ft(t)?g(Pe,null,t.slice()):Dl(t)?ol(t):g(Tg,null,String(t))}function ol(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$a(t)}function Hk(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ft(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Hk(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!PL(e)?e._ctx=$i:s===3&&$i&&($i.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xt(e)?(e={default:e,_ctx:$i},n=32):(e=String(e),i&64?(n=16,e=[Ce(e)]):n=8);t.children=e,t.shapeFlag|=n}function Z(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Xy([e.class,i.class]));else if(s==="style")e.style=qy([e.style,i.style]);else if(zy(s)){const r=e[s],a=i[s];a&&r!==a&&!(ft(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function _a(t,e,n,i=null){aa(t,e,7,[n,i])}const sz=SL();let rz=0;function az(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||sz,r={uid:rz++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new AV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EL(i,s),emitsOptions:LL(i,s),emit:null,emitted:null,propsDefaults:Jt,inheritAttrs:i.inheritAttrs,ctx:Jt,data:Jt,props:Jt,attrs:Jt,slots:Jt,refs:Jt,setupState:Jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=KH.bind(null,r),t.ce&&t.ce(r),r}let Zi=null;const Tc=()=>Zi||$i;let n_,Ox;{const t=Gy(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};n_=e("__VUE_INSTANCE_SETTERS__",n=>Zi=n),Ox=e("__VUE_SSR_SETTERS__",n=>pm=n)}const Pg=t=>{const e=Zi;return n_(t),t.scope.on(),()=>{t.scope.off(),n_(e)}},aI=()=>{Zi&&Zi.scope.off(),n_(null)};function jL(t){return t.vnode.shapeFlag&4}let pm=!1;function oz(t,e=!1,n=!1){e&&Ox(e);const{props:i,children:s}=t.vnode,r=jL(t);LH(t,i,r,e),jH(t,s,n);const a=r?lz(t,e):void 0;return e&&Ox(!1),a}function lz(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,EH);const{setup:i}=n;if(i){Yl();const s=t.setupContext=i.length>1?cz(t):null,r=Pg(t),a=kg(i,t,0,[t.props,s]),o=SV(a);if(Gl(),r(),(o||t.sp)&&!Pd(t)&&hL(t),o){if(a.then(aI,aI),e)return a.then(l=>{oI(t,l)}).catch(l=>{Jy(l,t,0)});t.asyncDep=a}else oI(t,a)}else $L(t)}function oI(t,e,n){xt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:En(e)&&(t.setupState=XV(e)),$L(t)}function $L(t,e,n){const i=t.type;t.render||(t.render=i.render||Aa);{const s=Pg(t);Yl();try{IH(t)}finally{Gl(),s()}}}const uz={get(t,e){return gs(t,"get",""),t[e]}};function cz(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,uz),slots:t.slots,emit:t.emit,expose:e}}function ib(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(XV(Ok(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Uf)return Uf[n](t)},has(e,n){return n in e||n in Uf}})):t.proxy}function dz(t,e=!0){return xt(t)?t.displayName||t.name:t.name||e&&t.__name}function hz(t){return xt(t)&&"__vccOpts"in t}const O=(t,e)=>hH(t,e,pm);function Di(t,e,n){const i=arguments.length;return i===2?En(e)&&!ft(e)?Dl(e)?g(t,null,[e]):g(t,e):g(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Dl(n)&&(n=[n]),g(t,e,n))}const fz="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mx;const lI=typeof window<"u"&&window.trustedTypes;if(lI)try{Mx=lI.createPolicy("vue",{createHTML:t=>t})}catch{}const UL=Mx?t=>Mx.createHTML(t):t=>t,mz="http://www.w3.org/2000/svg",gz="http://www.w3.org/1998/Math/MathML",uo=typeof document<"u"?document:null,uI=uo&&uo.createElement("template"),pz={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?uo.createElementNS(mz,t):e==="mathml"?uo.createElementNS(gz,t):n?uo.createElement(t,{is:n}):uo.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>uo.createTextNode(t),createComment:t=>uo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>uo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{uI.innerHTML=UL(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=uI.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zo="transition",cf="animation",$d=Symbol("_vtc"),HL={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zL=xi({},lL,HL),vz=t=>(t.displayName="Transition",t.props=zL,t),Al=vz((t,{slots:e})=>Di(bH,WL(t),e)),hu=(t,e=[])=>{ft(t)?t.forEach(n=>n(...e)):t&&t(...e)},cI=t=>t?ft(t)?t.some(e=>e.length>1):t.length>1:!1;function WL(t){const e={};for(const D in t)D in HL||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=a,appearToClass:d=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=_z(s),m=p&&p[0],v=p&&p[1],{onBeforeEnter:_,onEnter:b,onEnterCancelled:x,onLeave:k,onLeaveCancelled:I,onBeforeAppear:E=_,onAppear:T=b,onAppearCancelled:S=x}=e,w=(D,A,F,L)=>{D._enterCancelled=L,nl(D,A?d:o),nl(D,A?u:a),F&&F()},C=(D,A)=>{D._isLeaving=!1,nl(D,c),nl(D,f),nl(D,h),A&&A()},P=D=>(A,F)=>{const L=D?T:b,H=()=>w(A,D,F);hu(L,[A,H]),dI(()=>{nl(A,D?l:r),ba(A,D?d:o),cI(L)||hI(A,i,m,H)})};return xi(e,{onBeforeEnter(D){hu(_,[D]),ba(D,r),ba(D,a)},onBeforeAppear(D){hu(E,[D]),ba(D,l),ba(D,u)},onEnter:P(!1),onAppear:P(!0),onLeave(D,A){D._isLeaving=!0;const F=()=>C(D,A);ba(D,c),D._enterCancelled?(ba(D,h),Vx()):(Vx(),ba(D,h)),dI(()=>{D._isLeaving&&(nl(D,c),ba(D,f),cI(k)||hI(D,i,v,F))}),hu(k,[D,F])},onEnterCancelled(D){w(D,!1,void 0,!0),hu(x,[D])},onAppearCancelled(D){w(D,!0,void 0,!0),hu(S,[D])},onLeaveCancelled(D){C(D),hu(I,[D])}})}function _z(t){if(t==null)return null;if(En(t))return[c0(t.enter),c0(t.leave)];{const e=c0(t);return[e,e]}}function c0(t){return O9(t)}function ba(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[$d]||(t[$d]=new Set)).add(e)}function nl(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[$d];n&&(n.delete(e),n.size||(t[$d]=void 0))}function dI(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yz=0;function hI(t,e,n,i){const s=t._endId=++yz,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=YL(t,e);if(!a)return i();const u=a+"end";let d=0;const c=()=>{t.removeEventListener(u,h),r()},h=f=>{f.target===t&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},o+1),t.addEventListener(u,h)}function YL(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),s=i(`${Zo}Delay`),r=i(`${Zo}Duration`),a=fI(s,r),o=i(`${cf}Delay`),l=i(`${cf}Duration`),u=fI(o,l);let d=null,c=0,h=0;e===Zo?a>0&&(d=Zo,c=a,h=r.length):e===cf?u>0&&(d=cf,c=u,h=l.length):(c=Math.max(a,u),d=c>0?a>u?Zo:cf:null,h=d?d===Zo?r.length:l.length:0);const f=d===Zo&&/\b(transform|all)(,|$)/.test(i(`${Zo}Property`).toString());return{type:d,timeout:c,propCount:h,hasTransform:f}}function fI(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>mI(n)+mI(t[i])))}function mI(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vx(){return document.body.offsetHeight}function bz(t,e,n){const i=t[$d];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const i_=Symbol("_vod"),GL=Symbol("_vsh"),pa={beforeMount(t,{value:e},{transition:n}){t[i_]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):df(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),df(t,!0),i.enter(t)):i.leave(t,()=>{df(t,!1)}):df(t,e))},beforeUnmount(t,{value:e}){df(t,e)}};function df(t,e){t.style.display=e?t[i_]:"none",t[GL]=!e}const wz=Symbol(""),xz=/(^|;)\s*display\s*:/;function Sz(t,e,n){const i=t.style,s=Yn(n);let r=!1;if(n&&!s){if(e)if(Yn(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&pv(i,o,"")}else for(const a in e)n[a]==null&&pv(i,a,"");for(const a in n)a==="display"&&(r=!0),pv(i,a,n[a])}else if(s){if(e!==n){const a=i[wz];a&&(n+=";"+a),i.cssText=n,r=xz.test(n)}}else e&&t.removeAttribute("style");i_ in t&&(t[i_]=r?i.display:"",t[GL]&&(i.display="none"))}const gI=/\s*!important$/;function pv(t,e,n){if(ft(n))n.forEach(i=>pv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=kz(t,e);gI.test(n)?t.setProperty(Wl(i),n.replace(gI,""),"important"):t[i]=n}}const pI=["Webkit","Moz","ms"],d0={};function kz(t,e){const n=d0[e];if(n)return n;let i=Fs(e);if(i!=="filter"&&i in t)return d0[e]=i;i=ga(i);for(let s=0;s<pI.length;s++){const r=pI[s]+i;if(r in t)return d0[e]=r}return e}const vI="http://www.w3.org/1999/xlink";function _I(t,e,n,i,s,r=B9(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(vI,e.slice(6,e.length)):t.setAttributeNS(vI,e,n):n==null||r&&!EV(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Fo(n)?String(n):n)}function yI(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?UL(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=EV(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function ld(t,e,n,i){t.addEventListener(e,n,i)}function Tz(t,e,n,i){t.removeEventListener(e,n,i)}const bI=Symbol("_vei");function Pz(t,e,n,i,s=null){const r=t[bI]||(t[bI]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=Cz(e);if(i){const u=r[e]=Dz(i,s);ld(t,o,u,l)}else a&&(Tz(t,o,a,l),r[e]=void 0)}}const wI=/(?:Once|Passive|Capture)$/;function Cz(t){let e;if(wI.test(t)){e={};let i;for(;i=t.match(wI);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wl(t.slice(2)),e]}let h0=0;const Ez=Promise.resolve(),Iz=()=>h0||(Ez.then(()=>h0=0),h0=Date.now());function Dz(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;aa(Az(i,n.value),e,5,[i])};return n.value=t,n.attached=Iz(),n}function Az(t,e){if(ft(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const xI=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Rz=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?bz(t,i,a):e==="style"?Sz(t,n,i):zy(e)?kk(e)||Pz(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Oz(t,e,i,a))?(yI(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_I(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Yn(i))?yI(t,Fs(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),_I(t,e,i,a))};function Oz(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&xI(e)&&xt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return xI(e)&&Yn(n)?!1:e in t}const qL=new WeakMap,XL=new WeakMap,s_=Symbol("_moveCb"),SI=Symbol("_enterCb"),Mz=t=>(delete t.props.mode,t),Vz=Mz({name:"TransitionGroup",props:xi({},zL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Tc(),i=oL();let s,r;return Nk(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Bz(s[0].el,n.vnode.el,a))return;s.forEach(Lz),s.forEach(Nz);const o=s.filter(Fz);Vx(),o.forEach(l=>{const u=l.el,d=u.style;ba(u,a),d.transform=d.webkitTransform=d.transitionDuration="";const c=u[s_]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",c),u[s_]=null,nl(u,a))};u.addEventListener("transitionend",c)})}),()=>{const a=Xe(t),o=WL(a);let l=a.tag||Pe;if(s=[],r)for(let u=0;u<r.length;u++){const d=r[u];d.el&&d.el instanceof Element&&(s.push(d),Xu(d,mm(d,o,i,n)),qL.set(d,d.el.getBoundingClientRect()))}r=e.default?Vk(e.default()):[];for(let u=0;u<r.length;u++){const d=r[u];d.key!=null&&Xu(d,mm(d,o,i,n))}return g(l,null,r)}}}),zk=Vz;function Lz(t){const e=t.el;e[s_]&&e[s_](),e[SI]&&e[SI]()}function Nz(t){XL.set(t,t.el.getBoundingClientRect())}function Fz(t){const e=qL.get(t),n=XL.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function Bz(t,e,n){const i=t.cloneNode(),s=t[$d];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=YL(i);return r.removeChild(i),a}const kI=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ft(e)?n=>fv(e,n):e};function jz(t){t.target.composing=!0}function TI(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const f0=Symbol("_assign"),$z={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[f0]=kI(s);const r=i||s.props&&s.props.type==="number";ld(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),r&&(o=Sx(o)),t[f0](o)}),n&&ld(t,"change",()=>{t.value=t.value.trim()}),e||(ld(t,"compositionstart",jz),ld(t,"compositionend",TI),ld(t,"change",TI))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[f0]=kI(a),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?Sx(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Uz=["ctrl","shift","alt","meta"],Hz={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Uz.some(n=>t[`${n}Key`]&&!e.includes(n))},Ku=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const o=Hz[e[a]];if(o&&o(s,e))return}return t(s,...r)})},zz=xi({patchProp:Rz},pz);let PI;function KL(){return PI||(PI=UH(zz))}const QL=(...t)=>{KL().render(...t)},JL=(...t)=>{const e=KL().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Yz(i);if(!s)return;const r=e._component;!xt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Wz(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function Wz(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Yz(t){return Yn(t)?document.querySelector(t):t}/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Gz=Symbol();var CI;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(CI||(CI={}));function qz(){const t=Sg(!0),e=t.run(()=>G({}));let n=[],i=[];const s=Ok({install(r){s._a=r,r.provide(Gz,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return this._a?n.push(r):i.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Cg={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ud={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Bs={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Xz={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},ZL={dangerouslyHTMLString:!1,multiple:!0,position:Cg.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},Kz={rtl:!1,newestOnTop:!1,toastClassName:""},e2={...ZL,...Kz};({...ZL,type:Bs.DEFAULT});var un=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(un||{}),Lx=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Lx||{});const Qz={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},Jz={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},Zz={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},e8={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},EI="Toastify--animate Toastify__none-enter";function t2(t,e=!1){var n;let i=Qz;if(!t||typeof t=="string")switch(t){case"flip":i=e8;break;case"zoom":i=Zz;break;case"slide":i=Jz;break}else i=t;if(e)i.enter=EI;else if(i.enter===EI){const s=(n=i.exit.split("__")[1])==null?void 0:n.split("-")[0];i.enter=`Toastify--animate Toastify__${s}-enter`}return i}function t8(t){return t.containerId||String(t.position)}const sb="will-unmount";function n8(t=Cg.TOP_RIGHT){return!!document.querySelector(`.${un.CSS_NAMESPACE}__toast-container--${t}`)}function i8(t=Cg.TOP_RIGHT){return`${un.CSS_NAMESPACE}__toast-container--${t}`}function s8(t,e,n=!1){const i=[`${un.CSS_NAMESPACE}__toast-container`,`${un.CSS_NAMESPACE}__toast-container--${t}`,n?`${un.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Ed(e)?e({position:t,rtl:n,defaultClassName:i}):`${i} ${e||""}`}function r8(t){var e;const{position:n,containerClassName:i,rtl:s=!1,style:r={}}=t,a=un.CSS_NAMESPACE,o=i8(n),l=document.querySelector(`.${a}`),u=document.querySelector(`.${o}`),d=!!u&&!((e=u.className)!=null&&e.includes(sb)),c=l||document.createElement("div"),h=document.createElement("div");h.className=s8(n,i,s),h.dataset.testid=`${un.CSS_NAMESPACE}__toast-container--${n}`,h.id=t8(t);for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)){const p=r[f];h.style[f]=p}return l||(c.className=un.CSS_NAMESPACE,document.body.appendChild(c)),d||c.appendChild(h),h}function Nx(t){var e,n,i;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),r=document.getElementById(s);r&&r.removeEventListener("animationend",Nx,!1);try{vm[s].unmount(),(i=document.getElementById(s))==null||i.remove(),delete vm[s],delete Xi[s]}catch{}}const vm=mn({});function a8(t,e){const n=document.getElementById(String(e));n&&(vm[n.id]=t)}function Fx(t,e=!0){const n=String(t);if(!vm[n])return;const i=document.getElementById(n);i&&i.classList.add(sb),e?(l8(t),i&&i.addEventListener("animationend",Nx,!1)):Nx(n),Ua.items=Ua.items.filter(s=>s.containerId!==t)}function o8(t){for(const e in vm)Fx(e,t);Ua.items=[]}function n2(t,e){const n=document.getElementById(t.toastId);if(n){let i=t;i={...i,...t2(i.transition)};const s=i.appendPosition?`${i.exit}--${i.position}`:i.exit;n.className+=` ${s}`,e&&e(n)}}function l8(t){for(const e in Xi)if(e===t)for(const n of Xi[e]||[])n2(n)}function u8(t){const e=Hd().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function Wk(t){return document.getElementById(t)}function c8(t){const e=Wk(t.containerId);return e&&e.classList.contains(sb)}function II(t){var e;const n=Dl(t.content)?Xe(t.content.props):null;return n??Xe((e=t.data)!=null?e:{})}function d8(t){return t?Ua.items.filter(e=>e.containerId===t).length>0:Ua.items.length>0}function h8(){if(Ua.items.length>0){const t=Ua.items.shift();vv(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const Xi=mn({}),Ua=mn({items:[]});function Hd(){const t=Xe(Xi);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function f8(t){return Hd().find(e=>e.toastId===t)}function vv(t,e={}){if(c8(e)){const n=Wk(e.containerId);n&&n.addEventListener("animationend",Bx.bind(null,t,e),!1)}else Bx(t,e)}function Bx(t,e={}){const n=Wk(e.containerId);n&&n.removeEventListener("animationend",Bx.bind(null,t,e),!1);const i=Xi[e.containerId]||[],s=i.length>0;if(!s&&!n8(e.position)){const r=r8(e),a=JL(O8,e);e.useHandler&&e.useHandler(a),a.mount(r),a8(a,r.id)}s&&!e.updateId&&(e.position=i[0].position),vt(()=>{e.updateId?lr.update(e):lr.add(t,e)})}const lr={add(t,e){const{containerId:n=""}=e;n&&(Xi[n]=Xi[n]||[],Xi[n].find(i=>i.toastId===e.toastId)||setTimeout(()=>{var i,s;e.newestOnTop?(i=Xi[n])==null||i.unshift(e):(s=Xi[n])==null||s.push(e),e.onOpen&&e.onOpen(II(e))},e.delay||0))},remove(t){if(t){const e=u8(t);if(e){const n=Xi[e];let i=n.find(s=>s.toastId===t);Xi[e]=n.filter(s=>s.toastId!==t),!Xi[e].length&&!d8(e)&&Fx(e,!1),h8(),vt(()=>{i!=null&&i.onClose&&(i.onClose(II(i)),i=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){Xi[e]=Xi[e]||[];const n=Xi[e].find(r=>r.toastId===t.toastId),i=(n==null?void 0:n.position)!==t.position||(n==null?void 0:n.transition)!==t.transition,s={...t,disabledEnterTransition:!i,updateId:void 0};lr.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Ze(s.content,s)},t.delay||0)}},clear(t,e=!0){t?Fx(t,e):o8(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,i=document.getElementById(n);i&&(i.removeEventListener("animationend",lr.dismissCallback,!1),setTimeout(()=>{lr.remove(n)}))},dismiss(t){if(t){const e=Hd();for(const n of e)if(n.toastId===t){n2(n,i=>{i.addEventListener("animationend",lr.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Hd();for(const n of e)if(n.toastId===t){const i=document.getElementById(t);i&&(i.remove(),i.removeEventListener("animationend",lr.dismissCallback,!1),lr.remove(t));break}}}},m8=mn({useHandler:void 0}),i2=mn({}),r_=mn({});function s2(){return Math.random().toString(36).substring(2,9)}function g8(t){return typeof t=="number"&&!isNaN(t)}function jx(t){return typeof t=="string"}function Ed(t){return typeof t=="function"}function rb(...t){return Z(...t)}function _v(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function p8(t={}){i2[`${un.CSS_NAMESPACE}-default-options`]=t}function v8(){return i2[`${un.CSS_NAMESPACE}-default-options`]||e2}function _8(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var yv=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(yv||{});const r2={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Cg.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Ud.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Bs.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},y8={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Bs.DEFAULT},theme:{type:String,required:!1,default:Ud.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},b8=St({name:"ProgressBar",props:y8,setup(t,{attrs:e}){const n=G(),i=O(()=>t.hide?"true":"false"),s=O(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),r=O(()=>[`${un.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${un.CSS_NAMESPACE}__progress-bar--controlled`:`${un.CSS_NAMESPACE}__progress-bar--animated`,`${un.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${un.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${un.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),a=O(()=>`${r.value} ${(e==null?void 0:e.class)||""}`),o=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),o())},u=O(()=>t.controlledProgress?null:l),d=O(()=>t.controlledProgress?l:null);return yn(()=>{n.value&&(o(),n.value.onanimationend=u.value,n.value.ontransitionend=d.value)}),()=>g("div",{ref:n,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:a.value,style:s.value},null)}}),w8=St({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Ud.AUTO},type:{type:String,required:!1,default:Ud.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>g("button",{class:`${un.CSS_NAMESPACE}__close-button ${un.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[g("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[g("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),ab=({theme:t,type:e,path:n,...i})=>g("svg",Z({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},i),[g("path",{d:n},null)]);function x8(t){return g(ab,Z(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function S8(t){return g(ab,Z(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function k8(t){return g(ab,Z(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function T8(t){return g(ab,Z(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function P8(){return g("div",{class:`${un.CSS_NAMESPACE}__spinner`},null)}const bv={info:S8,warning:x8,success:k8,error:T8,spinner:P8},C8=t=>t in bv;function E8({theme:t,type:e,isLoading:n,icon:i}){let s;const r=!!n||e==="loading",a={theme:t,type:e};if(r&&(i===void 0||typeof i=="boolean"))return bv.spinner();if(i!==!1){if(_v(i))s=Xe(i);else if(Ed(i)){const o=i;a.type=r?"loading":e,s=o(a),s=!s&&r?bv.spinner():s}else Dl(i)?s=$a(i,a):jx(i)||g8(i)?s=i:C8(e)&&(s=bv[e](a));return s}}const I8=()=>{};function D8(t,e,n=un.COLLAPSE_DURATION){const{scrollHeight:i,style:s}=t,r=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function A8(t){const e=G(!1),n=G(!1),i=G(!1),s=G(yv.Enter),r=mn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||un.COLLAPSE_DURATION}),a=r.done||I8,o=O(()=>r.appendPosition?`${r.enter}--${r.position}`:r.enter),l=O(()=>r.appendPosition?`${r.exit}--${r.position}`:r.exit),u=O(()=>t.pauseOnHover?{onMouseenter:v,onMouseleave:m}:{});function d(){const b=o.value.split(" ");h().addEventListener(Lx.ENTRANCE_ANIMATION_END,m,{once:!0});const x=I=>{const E=h();I.target===E&&(E.dispatchEvent(new Event(Lx.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",x),E.removeEventListener("animationcancel",x),s.value===yv.Enter&&I.type!=="animationcancel"&&E.classList.remove(...b))},k=()=>{const I=h();I.classList.add(...b),I.addEventListener("animationend",x),I.addEventListener("animationcancel",x)};t.pauseOnFocusLoss&&f(),k()}function c(){if(!h())return;const b=()=>{const k=h();k.removeEventListener("animationend",b),r.collapse?D8(k,a,r.collapseDuration):a()},x=()=>{const k=h();s.value=yv.Exit,k&&(k.className+=` ${l.value}`,k.addEventListener("animationend",b))};n.value||(i.value?b():setTimeout(x))}function h(){return t.toastRef.value}function f(){document.hasFocus()||v(),window.addEventListener("focus",m),window.addEventListener("blur",v)}function p(){window.removeEventListener("focus",m),window.removeEventListener("blur",v)}function m(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function v(){e.value=!1}function _(b){b&&(b.stopPropagation(),b.preventDefault()),n.value=!1}return yn(c),yn(()=>{const b=Hd();n.value=b.findIndex(x=>x.toastId===r.toastId)>-1}),yn(()=>{t.isLoading!==void 0&&(t.loading.value?v():m())}),kt(d),Us(()=>{t.pauseOnFocusLoss&&p()}),{isIn:n,isRunning:e,hideToast:_,eventHandlers:u}}const R8=St({name:"ToastItem",inheritAttrs:!1,props:r2,setup(t){const e=G(),n=O(()=>!!t.isLoading),i=O(()=>t.progress!==void 0&&t.progress!==null),s=O(()=>E8(t)),r=O(()=>[`${un.CSS_NAMESPACE}__toast`,`${un.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${un.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${un.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:a,isIn:o,hideToast:l,eventHandlers:u}=A8({toastRef:e,loading:n,done:()=>{lr.remove(t.toastId)},...t2(t.transition,t.disabledEnterTransition),...t});return()=>g("div",Z({id:t.toastId,class:r.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},u.value),[g("div",{role:t.role,"data-testid":"toast-body",class:`${un.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&g("div",{"data-testid":`toast-icon-${t.type}`,class:[`${un.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${un.CSS_NAMESPACE}--animate-icon ${un.CSS_NAMESPACE}__zoom-enter`].join(" ")},[_v(s.value)?Di(Xe(s.value),{theme:t.theme,type:t.type}):Ed(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),g("div",{"data-testid":"toast-content"},[_v(t.content)?Di(Xe(t.content),{toastProps:Xe(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Ed(t.content)?t.content({toastProps:Xe(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?Di("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&g(w8,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),_v(t.closeButton)?Di(Xe(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Ed(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,g(b8,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:o.value,type:t.type,hide:t.hideProgressBar,isRunning:a.value,autoClose:t.autoClose,controlledProgress:i.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let zf=0;function a2(){typeof window>"u"||(zf&&window.cancelAnimationFrame(zf),zf=window.requestAnimationFrame(a2),r_.lastUrl!==window.location.href&&(r_.lastUrl=window.location.href,lr.clear()))}const O8=St({name:"ToastifyContainer",inheritAttrs:!1,props:r2,setup(t){const e=O(()=>t.containerId),n=O(()=>Xi[e.value]||[]),i=O(()=>n.value.filter(s=>s.position===t.position));return kt(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(a2)}),Us(()=>{typeof window<"u"&&zf&&(window.cancelAnimationFrame(zf),r_.lastUrl="")}),()=>g(Pe,null,[i.value.map(s=>{const{toastId:r=""}=s;return g(R8,Z({key:r},s),null)})])}});let m0=!1;const o2={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function l2(){const t=[];return Hd().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(sb)&&t.push(e)}),t}function M8(t){const e=l2().length,n=t??0;return n>0&&e+Ua.items.length>=n}function V8(t){M8(t.limit)&&!t.updateId&&Ua.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Xl(t,e,n={}){if(m0)return;n=rb(v8(),{type:e},Xe(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=s2()),n={...n,...n.type==="loading"?o2:{},content:t,containerId:n.containerId||String(n.position)};const i=Number(n==null?void 0:n.progress);return!isNaN(i)&&i<0&&(n.progress=0),i>1&&(n.progress=1),n.theme==="auto"&&(n.theme=_8()),V8(n),r_.lastUrl=window.location.href,n.multiple?Ua.items.length?n.updateId&&vv(t,n):vv(t,n):(m0=!0,Ze.clearAll(void 0,!1),setTimeout(()=>{vv(t,n)},0),setTimeout(()=>{m0=!1},390)),n.toastId}const Ze=(t,e)=>Xl(t,Bs.DEFAULT,e);Ze.info=(t,e)=>Xl(t,Bs.DEFAULT,{...e,type:Bs.INFO});Ze.error=(t,e)=>Xl(t,Bs.DEFAULT,{...e,type:Bs.ERROR});Ze.warning=(t,e)=>Xl(t,Bs.DEFAULT,{...e,type:Bs.WARNING});Ze.warn=Ze.warning;Ze.success=(t,e)=>Xl(t,Bs.DEFAULT,{...e,type:Bs.SUCCESS});Ze.loading=(t,e)=>Xl(t,Bs.DEFAULT,rb(e,o2));Ze.dark=(t,e)=>Xl(t,Bs.DEFAULT,rb(e,{theme:Ud.DARK}));Ze.remove=t=>{t?lr.dismiss(t):lr.clear()};Ze.clearAll=(t,e)=>{vt(()=>{lr.clear(t,e)})};Ze.isActive=t=>{let e=!1;return e=l2().findIndex(n=>n.toastId===t)>-1,e};Ze.update=(t,e={})=>{setTimeout(()=>{const n=f8(t);if(n){const i=Xe(n),{content:s}=i,r={...i,...e,toastId:e.toastId||t,updateId:s2()},a=r.render||s;delete r.render,Xl(a,r.type,r)}},0)};Ze.done=t=>{Ze.update(t,{isLoading:!1,progress:1})};Ze.promise=L8;function L8(t,{pending:e,error:n,success:i},s){var r,a,o;let l;const u={...s||{},autoClose:!1};e&&(l=jx(e)?Ze.loading(e,u):Ze.loading(e.render,{...u,...e}));const d={autoClose:(r=s==null?void 0:s.autoClose)!=null?r:!0,closeOnClick:(a=s==null?void 0:s.closeOnClick)!=null?a:!0,closeButton:(o=s==null?void 0:s.autoClose)!=null?o:null,isLoading:void 0,draggable:null,delay:100},c=(f,p,m)=>{if(p==null){Ze.remove(l);return}const v={type:f,...d,...s,data:m},_=jx(p)?{render:p}:p;return l?Ze.update(l,{...v,..._,isLoading:!1}):Ze(_.render,{...v,..._,isLoading:!1}),m},h=Ed(t)?t():t;return h.then(f=>{c("success",i,f)}).catch(f=>{c("error",n,f)}),h}Ze.POSITION=Cg;Ze.THEME=Ud;Ze.TYPE=Bs;Ze.TRANSITIONS=Xz;const u2={install(t,e={}){m8.useHandler=e.useHandler||(()=>{}),N8(e)}};typeof window<"u"&&(window.Vue3Toastify=u2);function N8(t={}){const e=rb(e2,t);p8(e)}var DI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e=function(t,e){if(!t)throw xh(e)},xh=function(t){return new Error("Firebase Database ("+c2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},F8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=r>>2,c=(r&3)<<4|o>>4;let h=(o&15)<<2|u>>6,f=u&63;l||(f=64,a||(h=64)),i.push(n[d],n[c],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||o==null||u==null||c==null)throw new B8;const h=r<<2|o>>4;if(i.push(h),u!==64){const f=o<<4&240|u>>2;if(i.push(f),c!==64){const p=u<<6&192|c;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(t){const e=d2(t);return ob.encodeByteArray(e,!0)},a_=function(t){return h2(t).replace(/\./g,"")},o_=function(t){try{return ob.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){return f2(void 0,t)}function f2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$8(n)||(t[n]=f2(t[n],e[n]));return t}function $8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=()=>U8().__FIREBASE_DEFAULTS__,z8=()=>{if(typeof process>"u"||typeof DI>"u")return;const t=DI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o_(t[1]);return e&&JSON.parse(e)},lb=()=>{try{return H8()||z8()||W8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m2=t=>{var e,n;return(n=(e=lb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y8=t=>{const e=m2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},g2=()=>{var t;return(t=lb())===null||t===void 0?void 0:t.config},p2=t=>{var e;return(e=lb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a_(JSON.stringify(n)),a_(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ps())}function q8(){var t;const e=(t=lb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K8(){const t=Ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q8(){return c2.NODE_ADMIN===!0}function J8(){return!q8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gk(){try{return typeof indexedDB=="object"}catch{return!1}}function y2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function Z8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="FirebaseError";class Nr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eW,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?tW(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Nr(s,o,i)}}function tW(t,e){return t.replace(nW,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const nW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return JSON.parse(t)}function es(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=ym(o_(r[0])||""),n=ym(o_(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},iW=function(t){const e=b2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sW=function(t){const e=b2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $x(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function l_(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function bm(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(AI(r)&&AI(a)){if(!bm(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function AI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)i[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const h=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=o^r&(a^o),d=1518500249):(u=r^a^o,d=1859775393):c<60?(u=r&a|o&(r|a),d=2400959708):(u=r^a^o,d=3395469782);const h=(s<<5|s>>>27)+u+l+d+i[c]&4294967295;l=o,o=a,a=(r<<30|r>>>2)&4294967295,r=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function aW(t,e){const n=new oW(t,e);return n.subscribe.bind(n)}class oW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=g0),s.error===void 0&&(s.error=g0),s.complete===void 0&&(s.complete=g0);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g0(){}function uW(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,$e(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ub=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=1e3,hW=2,fW=4*60*60*1e3,mW=.5;function RI(t,e=dW,n=hW){const i=e*Math.pow(n,t),s=Math.round(mW*i*(Math.random()-.5)*2);return Math.min(fW,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){return t&&t._delegate?t._delegate:t}let js=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _m;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vW(e))try{this.getOrInitializeService({instanceIdentifier:_u})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=_u){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_u){return this.instances.has(e)}getOptions(e=_u){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pW(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_u){return this.component?this.component.multipleInstances?e:_u:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pW(t){return t===_u?void 0:t}function vW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const yW={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},bW=Ft.INFO,wW={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},xW=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=wW[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kh{constructor(e){this.name=e,this._logLevel=bW,this._logHandler=xW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const SW=(t,e)=>e.some(n=>t instanceof n);let OI,MI;function kW(){return OI||(OI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TW(){return MI||(MI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w2=new WeakMap,Ux=new WeakMap,x2=new WeakMap,p0=new WeakMap,qk=new WeakMap;function PW(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(xl(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&w2.set(n,t)}).catch(()=>{}),qk.set(e,t),e}function CW(t){if(Ux.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Ux.set(t,e)}let Hx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EW(t){Hx=t(Hx)}function IW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(v0(this),e,...n);return x2.set(i,e.sort?e.sort():[e]),xl(i)}:TW().includes(t)?function(...e){return t.apply(v0(this),e),xl(w2.get(this))}:function(...e){return xl(t.apply(v0(this),e))}}function DW(t){return typeof t=="function"?IW(t):(t instanceof IDBTransaction&&CW(t),SW(t,kW())?new Proxy(t,Hx):t)}function xl(t){if(t instanceof IDBRequest)return PW(t);if(p0.has(t))return p0.get(t);const e=DW(t);return e!==t&&(p0.set(t,e),qk.set(e,t)),e}const v0=t=>qk.get(t);function S2(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),o=xl(a);return i&&a.addEventListener("upgradeneeded",l=>{i(xl(a.result),l.oldVersion,l.newVersion,xl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const AW=["get","getKey","getAll","getAllKeys","count"],RW=["put","add","delete","clear"],_0=new Map;function VI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=RW.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||AW.includes(n)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&l.done]))[0]};return _0.set(e,r),r}EW(t=>({...t,get:(e,n,i)=>VI(e,n)||t.get(e,n,i),has:(e,n)=>!!VI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MW(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function MW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zx="@firebase/app",LI="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new kh("@firebase/app"),VW="@firebase/app-compat",LW="@firebase/analytics-compat",NW="@firebase/analytics",FW="@firebase/app-check-compat",BW="@firebase/app-check",jW="@firebase/auth",$W="@firebase/auth-compat",UW="@firebase/database",HW="@firebase/data-connect",zW="@firebase/database-compat",WW="@firebase/functions",YW="@firebase/functions-compat",GW="@firebase/installations",qW="@firebase/installations-compat",XW="@firebase/messaging",KW="@firebase/messaging-compat",QW="@firebase/performance",JW="@firebase/performance-compat",ZW="@firebase/remote-config",eY="@firebase/remote-config-compat",tY="@firebase/storage",nY="@firebase/storage-compat",iY="@firebase/firestore",sY="@firebase/vertexai",rY="@firebase/firestore-compat",aY="firebase",oY="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="[DEFAULT]",lY={[zx]:"fire-core",[VW]:"fire-core-compat",[NW]:"fire-analytics",[LW]:"fire-analytics-compat",[BW]:"fire-app-check",[FW]:"fire-app-check-compat",[jW]:"fire-auth",[$W]:"fire-auth-compat",[UW]:"fire-rtdb",[HW]:"fire-data-connect",[zW]:"fire-rtdb-compat",[WW]:"fire-fn",[YW]:"fire-fn-compat",[GW]:"fire-iid",[qW]:"fire-iid-compat",[XW]:"fire-fcm",[KW]:"fire-fcm-compat",[QW]:"fire-perf",[JW]:"fire-perf-compat",[ZW]:"fire-rc",[eY]:"fire-rc-compat",[tY]:"fire-gcs",[nY]:"fire-gcs-compat",[iY]:"fire-fst",[rY]:"fire-fst-compat",[sY]:"fire-vertex","fire-js":"fire-js",[aY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Map,uY=new Map,Yx=new Map;function NI(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zs(t){const e=t.name;if(Yx.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;Yx.set(e,t);for(const n of wm.values())NI(n,t);for(const n of uY.values())NI(n,t);return!0}function Th(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new Kl("app","Firebase",cY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=oY;function k2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wx,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Sl.create("bad-app-name",{appName:String(s)});if(n||(n=g2()),!n)throw Sl.create("no-options");const r=wm.get(s);if(r){if(bm(n,r.options)&&bm(i,r.config))return r;throw Sl.create("duplicate-app",{appName:s})}const a=new _W(s);for(const l of Yx.values())a.addComponent(l);const o=new dY(n,i,a);return wm.set(s,o),o}function Xk(t=Wx){const e=wm.get(t);if(!e&&t===Wx&&g2())return k2();if(!e)throw Sl.create("no-app",{appName:t});return e}function hY(){return Array.from(wm.values())}function is(t,e,n){var i;let s=(i=lY[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(o.join(" "));return}Zs(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="firebase-heartbeat-database",mY=1,xm="firebase-heartbeat-store";let y0=null;function T2(){return y0||(y0=S2(fY,mY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sl.create("idb-open",{originalErrorMessage:t.message})})),y0}async function gY(t){try{const n=(await T2()).transaction(xm),i=await n.objectStore(xm).get(P2(t));return await n.done,i}catch(e){if(e instanceof Nr)Co.warn(e.message);else{const n=Sl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function FI(t,e){try{const i=(await T2()).transaction(xm,"readwrite");await i.objectStore(xm).put(e,P2(t)),await i.done}catch(n){if(n instanceof Nr)Co.warn(n.message);else{const i=Sl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(i.message)}}}function P2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=1024,vY=30*24*60*60*1e3;class _Y{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bY(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=vY}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Co.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BI(),{heartbeatsToSend:i,unsentEntries:s}=yY(this._heartbeatsCache.heartbeats),r=a_(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Co.warn(n),""}}}function BI(){return new Date().toISOString().substring(0,10)}function yY(t,e=pY){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),jI(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gk()?y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jI(t){return a_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(t){Zs(new js("platform-logger",e=>new OW(e),"PRIVATE")),Zs(new js("heartbeat",e=>new _Y(e),"PRIVATE")),is(zx,LI,t),is(zx,LI,"esm2017"),is("fire-js","")}wY("");function Kk(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function wi(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function o(d){try{u(i.next(d))}catch(c){a(c)}}function l(d){try{u(i.throw(d))}catch(c){a(c)}}function u(d){d.done?r(d.value):s(d.value).then(o,l)}u((i=i.apply(t,e||[])).next())})}function C2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xY=C2,E2=new Kl("auth","Firebase",C2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new kh("@firebase/auth");function SY(t,...e){u_.logLevel<=Ft.WARN&&u_.warn(`Auth (${Ql}): ${t}`,...e)}function wv(t,...e){u_.logLevel<=Ft.ERROR&&u_.error(`Auth (${Ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Jk(t,...e)}function ea(t,...e){return Jk(t,...e)}function Qk(t,e,n){const i=Object.assign(Object.assign({},xY()),{[e]:n});return new Kl("auth","Firebase",i).create(e,{appName:t.name})}function wo(t){return Qk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kY(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Mr(t,"argument-error"),Qk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jk(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return E2.create(t,...e)}function yt(t,e,...n){if(!t)throw Jk(e,...n)}function vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wv(e),new Error(e)}function Eo(t,e){t||vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TY(){return $I()==="http:"||$I()==="https:"}function $I(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TY()||v2()||"connection"in navigator)?navigator.onLine:!0}function CY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Eo(n>e,"Short delay should be less than long delay!"),this.isMobile=Yk()||_2()}get(){return PY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e){Eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new Eg(3e4,6e4);function $o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qa(t,e,n,i,s={}){return D2(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const o=Sh(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},r);return X8()||(u.referrerPolicy="no-referrer"),I2.fetch()(A2(t,t.config.apiHost,n,o),u)})}async function D2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},EY),e);try{const s=new AY(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Dp(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Dp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Dp(t,"user-disabled",a);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Qk(t,d,u);Mr(t,d)}}catch(s){if(s instanceof Nr)throw s;Mr(t,"network-request-failed",{message:String(s)})}}async function Ig(t,e,n,i,s={}){const r=await qa(t,e,n,i,s);return"mfaPendingCredential"in r&&Mr(t,"multi-factor-auth-required",{_serverResponse:r}),r}function A2(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Zk(t.config,s):`${t.config.apiScheme}://${s}`}function DY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ea(this.auth,"network-request-failed")),IY.get())})}}function Dp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=ea(t,e,i);return s.customData._tokenResponse=n,s}function UI(t){return t!==void 0&&t.enterprise!==void 0}class RY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OY(t,e){return qa(t,"GET","/v2/recaptchaConfig",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MY(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function R2(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VY(t,e=!1){const n=ri(t),i=await n.getIdToken(e),s=eT(i);yt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Wf(b0(s.auth_time)),issuedAtTime:Wf(b0(s.iat)),expirationTime:Wf(b0(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function b0(t){return Number(t)*1e3}function eT(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wv("JWT malformed, contained fewer than 3 sections"),null;try{const s=o_(n);return s?JSON.parse(s):(wv("Failed to decode base64 JWT payload"),null)}catch(s){return wv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HI(t){const e=eT(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Nr&&LY(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function LY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Wd(t,R2(n,{idToken:i}));yt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?O2(r.providerUserInfo):[],o=BY(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new qx(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,c)}async function FY(t){const e=ri(t);await c_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BY(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function O2(t){return t.map(e=>{var{providerId:n}=e,i=Kk(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e){const n=await D2(t,{},async()=>{const i=Sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=A2(t,s,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",I2.fetch()(a,{method:"POST",headers:o,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $Y(t,e){return qa(t,"POST","/v2/accounts:revokeToken",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=HI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await jY(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Id;return i&&(yt(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(yt(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(yt(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Id,this.toJSON())}_performRefresh(){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Kk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new qx(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Wd(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VY(this,e)}reload(){return FY(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await c_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await Wd(this,MY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,o,l,u,d;const c=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,m=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:I,providerData:E,stsTokenManager:T}=n;yt(x&&T,e,"internal-error");const S=Id.fromJSON(this.name,T);yt(typeof x=="string",e,"internal-error"),el(c,e.name),el(h,e.name),yt(typeof k=="boolean",e,"internal-error"),yt(typeof I=="boolean",e,"internal-error"),el(f,e.name),el(p,e.name),el(m,e.name),el(v,e.name),el(_,e.name),el(b,e.name);const w=new _o({uid:x,auth:e,email:h,emailVerified:k,displayName:c,isAnonymous:I,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:_,lastLoginAt:b});return E&&Array.isArray(E)&&(w.providerData=E.map(C=>Object.assign({},C))),v&&(w._redirectEventId=v),w}static async _fromIdTokenResponse(e,n,i=!1){const s=new Id;s.updateFromServerResponse(n);const r=new _o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await c_(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];yt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?O2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Id;o.updateFromIdToken(i);const l=new _o({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new qx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Map;function yo(t){Eo(t instanceof Function,"Expected a class definition");let e=zI.get(t);return e?(Eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M2.type="NONE";const WI=M2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){return`firebase:${t}:${e}:${n}`}class Dd{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=xv(this.userKey,s.apiKey,r),this.fullPersistenceKey=xv("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Dd(yo(WI),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||yo(WI);const a=xv(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){const c=_o._fromJSON(e,d);u!==r&&(o=c),r=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Dd(r,e,i):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(a)}catch{}})),new Dd(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j2(e))return"Blackberry";if($2(e))return"Webos";if(L2(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(B2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function V2(t=Ps()){return/firefox\//i.test(t)}function L2(t=Ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(t=Ps()){return/crios\//i.test(t)}function F2(t=Ps()){return/iemobile/i.test(t)}function B2(t=Ps()){return/android/i.test(t)}function j2(t=Ps()){return/blackberry/i.test(t)}function $2(t=Ps()){return/webos/i.test(t)}function tT(t=Ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UY(t=Ps()){var e;return tT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HY(){return K8()&&document.documentMode===10}function U2(t=Ps()){return tT(t)||B2(t)||$2(t)||j2(t)||/windows phone/i.test(t)||F2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e=[]){let n;switch(t){case"Browser":n=YI(Ps());break;case"Worker":n=`${YI(Ps())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ql}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,o)=>{try{const l=e(r);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e={}){return qa(t,"GET","/v2/passwordPolicy",$o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=6;class GY{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:YY,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GI(this),this.idTokenSubscription=new GI(this),this.beforeStateQueue=new zY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Dd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await R2(this,{idToken:e}),i=await _o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await c_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(wo(this));const n=e?ri(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WY(this),n=new GY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await $Y(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yo(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Dd.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Uo(t){return ri(t)}class GI{constructor(e){this.auth=e,this.observer=null,this.addObserver=aW(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XY(t){cb=t}function z2(t){return cb.loadJS(t)}function KY(){return cb.recaptchaEnterpriseScript}function QY(){return cb.gapiScript}function JY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZY{constructor(){this.enterprise=new e7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t7="recaptcha-enterprise",W2="NO_RECAPTCHA";class n7{constructor(e){this.type=t7,this.auth=Uo(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{OY(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new RY(l);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(r,a,o){const l=window.grecaptcha;UI(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(u=>{a(u)}).catch(()=>{a(W2)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZY().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&UI(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KY();l.length!==0&&(l+=o),z2(l).then(()=>{s(o,r,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function qI(t,e,n,i=!1,s=!1){const r=new n7(t);let a;if(s)a=W2;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function d_(t,e,n,i,s){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await qI(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qI(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e){const n=Th(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(bm(r,e??{}))return s;Mr(s,"already-initialized")}return n.initialize({options:e})}function i7(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function G2(t,e,n){const i=Uo(t);yt(i._canInitEmulator,i,"emulator-config-failed"),yt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=q2(e),{host:a,port:o}=s7(e),l=o===null?"":`:${o}`;i.config.emulator={url:`${r}//${a}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),r7()}function q2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s7(t){const e=q2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:XI(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:XI(a)}}}function XI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,n){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}async function a7(t,e){return qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){return Ig(t,"POST","/v1/accounts:signInWithPassword",$o(t,e))}async function l7(t,e){return qa(t,"POST","/v1/accounts:sendOobCode",$o(t,e))}async function u7(t,e){return l7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){return Ig(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}async function d7(t,e){return Ig(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends nT{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Sm(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Sm(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,n,"signInWithPassword",o7);case"emailLink":return c7(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,i,"signUpPassword",a7);case"emailLink":return d7(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t,e){return Ig(t,"POST","/v1/accounts:signInWithIdp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="http://localhost";class Qu extends nT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Kk(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Qu(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ad(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ad(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ad(e,n)}buildRequest(){const e={requestUri:h7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m7(t){const e=Sf(kf(t)).link,n=e?Sf(kf(e)).deep_link_id:null,i=Sf(kf(t)).deep_link_id;return(i?Sf(kf(i)).link:null)||i||n||e||t}class iT{constructor(e){var n,i,s,r,a,o;const l=Sf(kf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,c=f7((s=l.mode)!==null&&s!==void 0?s:null);yt(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=m7(e);try{return new iT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.providerId=Ph.PROVIDER_ID}static credential(e,n){return Sm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=iT.parseLink(n);return yt(i,"argument-error"),Sm._fromEmailAndCode(e,i.code,i.tenantId)}}Ph.PROVIDER_ID="password";Ph.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ph.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends sT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Dg{constructor(){super("facebook.com")}static credential(e){return Qu._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dl.credential(e.oauthAccessToken)}catch{return null}}}dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";dl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Dg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fo.credential(n,i)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Dg{constructor(){super("github.com")}static credential(e){return Qu._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.GITHUB_SIGN_IN_METHOD="github.com";hl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Dg{constructor(){super("twitter.com")}static credential(e,n){return Qu._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return fl.credential(n,i)}catch{return null}}}fl.TWITTER_SIGN_IN_METHOD="twitter.com";fl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,e){return Ig(t,"POST","/v1/accounts:signUp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await _o._fromIdTokenResponse(e,i,s),a=KI(i);return new Ju({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=KI(i);return new Ju({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function KI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends Nr{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,h_.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new h_(e,n,i,s)}}function X2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?h_._fromErrorAndOperation(t,r,e,i):r})}async function p7(t,e,n=!1){const i=await Wd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ju._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e,n=!1){const{auth:i}=t;if(Yr(i.app))return Promise.reject(wo(i));const s="reauthenticate";try{const r=await Wd(t,X2(i,s,e,t),n);yt(r.idToken,i,"internal-error");const a=eT(r.idToken);yt(a,i,"internal-error");const{sub:o}=a;return yt(t.uid===o,i,"user-mismatch"),Ju._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Mr(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t,e,n=!1){if(Yr(t.app))return Promise.reject(wo(t));const i="signIn",s=await X2(t,i,e),r=await Ju._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function _7(t,e){return K2(Uo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t){const e=Uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y7(t,e,n){const i=Uo(t);await d_(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",u7)}async function b7(t,e,n){if(Yr(t.app))return Promise.reject(wo(t));const i=Uo(t),a=await d_(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Q2(t),l}),o=await Ju._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function w7(t,e,n){return Yr(t.app)?Promise.reject(wo(t)):_7(ri(t),Ph.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Q2(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e){return qa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ri(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Wd(i,x7(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function J2(t,e,n,i){return ri(t).onIdTokenChanged(e,n,i)}function k7(t,e,n){return ri(t).beforeAuthStateChanged(e,n)}function T7(t){return ri(t).signOut()}const f_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(f_,"1"),this.storage.removeItem(f_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=1e3,C7=10;class eN extends Z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);HY()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,C7):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},P7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eN.type="LOCAL";const tN=eN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends Z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nN.type="SESSION";const rT=nN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new db(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,r)),l=await E7(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}db.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const u=aT("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(c){const h=c;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(h.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return window}function D7(t){Ra().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function A7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O7(){return iN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebaseLocalStorageDb",M7=1,m_="firebaseLocalStorage",rN="fbase_key";class Ag{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hb(t,e){return t.transaction([m_],e?"readwrite":"readonly").objectStore(m_)}function V7(){const t=indexedDB.deleteDatabase(sN);return new Ag(t).toPromise()}function Xx(){const t=indexedDB.open(sN,M7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(m_,{keyPath:rN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(m_)?e(i):(i.close(),await V7(),e(await Xx()))})})}async function QI(t,e,n){const i=hb(t,!0).put({[rN]:e,value:n});return new Ag(i).toPromise()}async function L7(t,e){const n=hb(t,!1).get(e),i=await new Ag(n).toPromise();return i===void 0?null:i.value}function JI(t,e){const n=hb(t,!0).delete(e);return new Ag(n).toPromise()}const N7=800,F7=3;class aN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>F7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=db._getInstance(O7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A7(),!this.activeServiceWorker)return;this.sender=new I7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xx();return await QI(e,f_,"1"),await JI(e,f_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>QI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>L7(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=hb(s,!1).getAll();return new Ag(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aN.type="LOCAL";const oN=aN;new Eg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){return e?yo(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends nT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ad(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ad(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ad(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B7(t){return K2(t.auth,new oT(t),t.bypassAuthState)}function j7(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),v7(n,new oT(t),t.bypassAuthState)}async function $7(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),p7(n,new oT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B7;case"linkViaPopup":case"linkViaRedirect":return $7;case"reauthViaPopup":case"reauthViaRedirect":return j7;default:Mr(this.auth,"internal-error")}}resolve(e){Eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=new Eg(2e3,1e4);async function H7(t,e,n){if(Yr(t.app))return Promise.reject(ea(t,"operation-not-supported-in-this-environment"));const i=Uo(t);kY(t,e,sT);const s=lN(i,n);return new Iu(i,"signInViaPopup",e,s).executeNotNull()}class Iu extends uN{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Iu.currentPopupAction&&Iu.currentPopupAction.cancel(),Iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){Eo(this.filter.length===1,"Popup operations only handle one event");const e=aT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U7.get())};e()}}Iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="pendingRedirect",Sv=new Map;class W7 extends uN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Sv.get(this.auth._key());if(!e){try{const i=await Y7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sv.set(this.auth._key(),e)}return this.bypassAuthState||Sv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y7(t,e){const n=X7(e),i=q7(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function G7(t,e){Sv.set(t._key(),e)}function q7(t){return yo(t._redirectPersistence)}function X7(t){return xv(z7,t.config.apiKey,t.name)}async function K7(t,e,n=!1){if(Yr(t.app))return Promise.reject(wo(t));const i=Uo(t),s=lN(i,e),a=await new W7(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=10*60*1e3;class J7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!cN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ea(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q7&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZI(e))}saveEventToCache(e){this.cachedEventUids.add(ZI(e)),this.lastProcessedEventTime=Date.now()}}function ZI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e={}){return qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nG=/^https?/;async function iG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eG(t);for(const n of e)try{if(sG(n))return}catch{}Mr(t,"unauthorized-domain")}function sG(t){const e=Gx(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!nG.test(n))return!1;if(tG.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new Eg(3e4,6e4);function eD(){const t=Ra().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aG(t){return new Promise((e,n)=>{var i,s,r;function a(){eD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eD(),n(ea(t,"network-request-failed"))},timeout:rG.get()})}if(!((s=(i=Ra().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Ra().gapi)===null||r===void 0)&&r.load)a();else{const o=JY("iframefcb");return Ra()[o]=()=>{gapi.load?a():n(ea(t,"network-request-failed"))},z2(`${QY()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw kv=null,e})}let kv=null;function oG(t){return kv=kv||aG(t),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new Eg(5e3,15e3),uG="__/auth/iframe",cG="emulator/auth/iframe",dG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fG(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zk(e,cG):`https://${t.config.authDomain}/${uG}`,i={apiKey:e.apiKey,appName:t.name,v:Ql},s=hG.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Sh(i).slice(1)}`}async function mG(t){const e=await oG(t),n=Ra().gapi;return yt(n,t,"internal-error"),e.open({where:document.body,url:fG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dG,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=ea(t,"network-request-failed"),o=Ra().setTimeout(()=>{r(a)},lG.get());function l(){Ra().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pG=500,vG=600,_G="_blank",yG="http://localhost";class tD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bG(t,e,n,i=pG,s=vG){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},gG),{width:i.toString(),height:s.toString(),top:r,left:a}),u=Ps().toLowerCase();n&&(o=N2(u)?_G:n),V2(u)&&(e=e||yG,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(UY(u)&&o!=="_self")return wG(e||"",o),new tD(null);const c=window.open(e||"",o,d);yt(c,t,"popup-blocked");try{c.focus()}catch{}return new tD(c)}function wG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="__/auth/handler",SG="emulator/auth/handler",kG=encodeURIComponent("fac");async function nD(t,e,n,i,s,r){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ql,eventId:s};if(e instanceof sT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$x(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,c]of Object.entries({}))a[d]=c}if(e instanceof Dg){const d=e.getScopes().filter(c=>c!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${kG}=${encodeURIComponent(l)}`:"";return`${TG(t)}?${Sh(o).slice(1)}${u}`}function TG({config:t}){return t.emulator?Zk(t,SG):`https://${t.authDomain}/${xG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="webStorageSupport";class PG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rT,this._completeRedirectFn=K7,this._overrideRedirectResult=G7}async _openPopup(e,n,i,s){var r;Eo((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await nD(e,n,i,Gx(),s);return bG(e,a,aT())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await nD(e,n,i,Gx(),s);return D7(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Eo(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await mG(e),i=new J7(e);return n.register("authEvent",s=>(yt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(w0,{type:w0},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[w0];a!==void 0&&n(!!a),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U2()||L2()||tT()}}const dN=PG;var iD="@firebase/auth",sD="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IG(t){Zs(new js("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;yt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H2(t)},u=new qY(i,s,r,l);return i7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Zs(new js("auth-internal",e=>{const n=Uo(e.getProvider("auth").getImmediate());return(i=>new CG(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(iD,sD,EG(t)),is(iD,sD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=5*60,AG=p2("authIdTokenMaxAge")||DG;let rD=null;const RG=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AG)return;const s=n==null?void 0:n.token;rD!==s&&(rD=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OG(t=Xk()){const e=Th(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y2(t,{popupRedirectResolver:dN,persistence:[oN,tN,rT]}),i=p2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=RG(r.toString());k7(n,a,()=>a(n.currentUser)),J2(n,o=>a(o))}}const s=m2("auth");return s&&G2(n,`http://${s}`),n}function MG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XY({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=ea("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",MG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IG("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=new Map,LG={activated:!1,tokenObservers:[]};function oa(t){return VG.get(t)||Object.assign({},LG)}const aD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,n,i,s,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new _m,this.pending.promise.catch(n=>{}),await FG(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new _m,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function FG(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},g_=new Kl("appCheck","AppCheck",BG);function hN(t){if(!oa(t).activated)throw g_.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG="firebase-app-check-database",$G=1,Kx="firebase-app-check-store";let Ap=null;function UG(){return Ap||(Ap=new Promise((t,e)=>{try{const n=indexedDB.open(jG,$G);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(g_.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(Kx,{keyPath:"compositeKey"})}}}catch(n){e(g_.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Ap)}function HG(t,e){return zG(WG(t),e)}async function zG(t,e){const i=(await UG()).transaction(Kx,"readwrite"),r=i.objectStore(Kx).put({compositeKey:t,value:e});return new Promise((a,o)=>{r.onsuccess=l=>{a()},i.onerror=l=>{var u;o(g_.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function WG(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new kh("@firebase/app-check");function oD(t,e){return Gk()?HG(t,e).catch(n=>{Qx.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG={error:"UNKNOWN_ERROR"};function GG(t){return ob.encodeString(JSON.stringify(t),!1)}async function Jx(t,e=!1){const n=t.app;hN(n);const i=oa(n);let s=i.token,r;if(s&&!Tf(s)&&(i.token=void 0,s=void 0),!s){const l=await i.cachedTokenPromise;l&&(Tf(l)?s=l:await oD(n,void 0))}if(!e&&s&&Tf(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await oa(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Qx.warn(l.message):Qx.error(l),r=l}let o;return s?r?Tf(s)?o={token:s.token,internalError:r}:o=uD(r):(o={token:s.token},i.token=s,await oD(n,s)):o=uD(r),a&&QG(n,o),o}async function qG(t){const e=t.app;hN(e);const{provider:n}=oa(e);{const{token:i}=await n.getToken();return{token:i}}}function XG(t,e,n,i){const{app:s}=t,r=oa(s),a={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,a],r.token&&Tf(r.token)){const o=r.token;Promise.resolve().then(()=>{n({token:o.token}),lD(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>lD(t))}function fN(t,e){const n=oa(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function lD(t){const{app:e}=t,n=oa(e);let i=n.tokenRefresher;i||(i=KG(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function KG(t){const{app:e}=t;return new NG(async()=>{const n=oa(e);let i;if(n.token?i=await Jx(t,!0):i=await Jx(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=oa(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},aD.RETRIAL_MIN_WAIT,aD.RETRIAL_MAX_WAIT)}function QG(t,e){const n=oa(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Tf(t){return t.expireTimeMillis-Date.now()>0}function uD(t){return{token:GG(YG),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=oa(this.app);for(const n of e)fN(this.app,n.next);return Promise.resolve()}}function ZG(t,e){return new JG(t,e)}function eq(t){return{getToken:e=>Jx(t,e),getLimitedUseToken:()=>qG(t),addTokenListener:e=>XG(t,"INTERNAL",e),removeTokenListener:e=>fN(t.app,e)}}const tq="@firebase/app-check",nq="0.8.10",iq="app-check",cD="app-check-internal";function sq(){Zs(new js(iq,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return ZG(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(cD).initialize()})),Zs(new js(cD,t=>{const e=t.getProvider("app-check").getImmediate();return eq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),is(tq,nq)}sq();var rq="firebase",aq="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(rq,aq,"app");const mN=Symbol("firebaseApp");function Rg(t){return Tc()&&mt(mN,null)||Xk(t)}const Pa=()=>{},oq=typeof window<"u";function lT(t,e){return e.split(".").reduce((n,i)=>n&&n[i],t)}function lq(t,e,n){const i=(""+e).split("."),s=i.pop(),r=i.reduce((a,o)=>a&&a[o],t);if(r!=null)return Array.isArray(r)?r.splice(Number(s),1,n):r[s]=n}function Pc(t){return!!t&&typeof t=="object"}const uq=Object.prototype;function cq(t){return Pc(t)&&Object.getPrototypeOf(t)===uq}function uT(t){return Pc(t)&&t.type==="document"}function dq(t){return Pc(t)&&t.type==="collection"}function hq(t){return uT(t)||dq(t)}function fq(t){return Pc(t)&&t.type==="query"}function mq(t){return Pc(t)&&"ref"in t}function gq(t){return Pc(t)&&typeof t.bucket=="string"}function pq(t,e){let n;return()=>{if(!n)return n=!0,t(e())}}const vq=Symbol.for("v-scx");function _q(){return!!mt(vq,0)}const Rp=new WeakMap;function yq(t,e){if(!Rp.has(t)){const n=Sg(!0);Rp.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),Rp.delete(t)}}return Rp.get(t)}const gN=new WeakMap;function pN(t){return gN.get(Rg(t))}const Op=new WeakMap;function vN(t){const e=Rg(t);if(!Op.has(e)){let n;const s=[new Promise(r=>{n=r}),r=>{Op.set(e,r),n(r.value)}];Op.set(e,s)}return Op.get(e)}function dD(t){const e=vN(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function bq(t,e){J2(e,n=>{const i=vN();t.value=n,Array.isArray(i)&&i[1](t)})}var hD={};const fD="@firebase/database",mD="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _N="";function wq(t){_N=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),es(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ym(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xq(e)}}catch{}return new Sq},Du=yN("localStorage"),kq=yN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new kh("@firebase/database"),Tq=function(){let t=1;return function(){return t++}}(),bN=function(t){const e=cW(t),n=new rW;n.update(e);const i=n.digest();return ob.encodeByteArray(i)},Og=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Og.apply(null,i):typeof i=="object"?e+=es(i):e+=i,e+=" "}return e};let Yf=null,gD=!0;const Pq=function(t,e){$e(!0,"Can't turn on custom loggers persistently."),Rd.logLevel=Ft.VERBOSE,Yf=Rd.log.bind(Rd)},vs=function(...t){if(gD===!0&&(gD=!1,Yf===null&&kq.get("logging_enabled")===!0&&Pq()),Yf){const e=Og.apply(null,t);Yf(e)}},Mg=function(t){return function(...e){vs(t,...e)}},Zx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Og(...t);Rd.error(e)},Zu=function(...t){const e=`FIREBASE FATAL ERROR: ${Og(...t)}`;throw Rd.error(e),new Error(e)},mr=function(...t){const e="FIREBASE WARNING: "+Og(...t);Rd.warn(e)},Cq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Eq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yd="[MIN_NAME]",ec="[MAX_NAME]",Ch=function(t,e){if(t===e)return 0;if(t===Yd||e===ec)return-1;if(e===Yd||t===ec)return 1;{const n=pD(t),i=pD(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Iq=function(t,e){return t===e?0:t<e?-1:1},hf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+es(e))},cT=function(t){if(typeof t!="object"||t===null)return es(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=es(e[i]),n+=":",n+=cT(t[e[i]]);return n+="}",n},xN=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const SN=function(t){$e(!wN(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,a,o,l;t===0?(r=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=o+i,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(r=0,a=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(s?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},Dq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Aq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Rq=new RegExp("^-?(0*)\\d{1,10}$"),Oq=-2147483648,Mq=2147483647,pD=function(t){if(Rq.test(t)){const e=Number(t);if(e>=Oq&&e<=Mq)return e}return null},Vg=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Vq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gf=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){mr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="5",kN="v",TN="s",PN="r",CN="f",EN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IN="ls",DN="p",eS="ac",AN="websocket",RN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,i,s,r=!1,a="",o=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Du.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Du.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Bq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ON(t,e,n){$e(typeof e=="string","typeof type must == string"),$e(typeof n=="object","typeof params must == object");let i;if(e===AN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RN)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Bq(t)&&(n.ns=t.namespace);const s=[];return Vr(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.counters_={}}incrementCounter(e,n=1){jo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return j8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={},S0={};function hT(t){const e=t.toString();return x0[e]||(x0[e]=new jq),x0[e]}function $q(t,e){const n=t.toString();return S0[n]||(S0[n]=e()),S0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Vg(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="start",Hq="close",zq="pLPCommand",Wq="pRTLPCB",MN="id",VN="pw",LN="ser",Yq="cb",Gq="seg",qq="ts",Xq="d",Kq="dframe",NN=1870,FN=30,Qq=NN-FN,Jq=25e3,Zq=3e4;class gd{constructor(e,n,i,s,r,a,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mg(e),this.stats_=hT(n),this.urlFn=l=>(this.appCheckToken&&(l[eS]=this.appCheckToken),ON(n,RN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Zq)),Eq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fT((...r)=>{const[a,o,l,u,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===vD)this.id=o,this.password=l;else if(a===Hq)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,o]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[vD]="t",i[LN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Yq]=this.scriptTagHolder.uniqueCallbackIdentifier),i[kN]=dT,this.transportSessionId&&(i[TN]=this.transportSessionId),this.lastSessionId&&(i[IN]=this.lastSessionId),this.applicationId&&(i[DN]=this.applicationId),this.appCheckToken&&(i[eS]=this.appCheckToken),typeof location<"u"&&location.hostname&&EN.test(location.hostname)&&(i[PN]=CN);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gd.forceAllow_=!0}static forceDisallow(){gd.forceDisallow_=!0}static isAvailable(){return gd.forceAllow_?!0:!gd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Dq()&&!Aq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=es(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=h2(n),s=xN(i,Qq);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Kq]="t",i[MN]=e,i[VN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=es(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fT{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tq(),window[zq+this.uniqueCallbackIdentifier]=e,window[Wq+this.uniqueCallbackIdentifier]=n,this.myIFrame=fT.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){vs("frame writing exception"),o.stack&&vs(o.stack),vs(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MN]=this.myID,e[VN]=this.myPW,e[LN]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FN+i.length<=NN;){const a=this.pendingSegs.shift();i=i+"&"+Gq+s+"="+a.seg+"&"+qq+s+"="+a.ts+"&"+Xq+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Jq)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{vs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=16384,tX=45e3;let p_=null;typeof MozWebSocket<"u"?p_=MozWebSocket:typeof WebSocket<"u"&&(p_=WebSocket);class Ca{constructor(e,n,i,s,r,a,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mg(this.connId),this.stats_=hT(n),this.connURL=Ca.connectionURL_(n,a,o,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const a={};return a[kN]=dT,typeof location<"u"&&location.hostname&&EN.test(location.hostname)&&(a[PN]=CN),n&&(a[TN]=n),i&&(a[IN]=i),s&&(a[eS]=s),r&&(a[DN]=r),ON(e,AN,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Du.set("previous_websocket_failure",!0);try{let i;Q8(),this.mySock=new p_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ca.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&p_!==null&&!Ca.forceDisallow_}static previouslyFailed(){return Du.isInMemoryStorage||Du.get("previous_websocket_failure")===!0}markConnectionHealthy(){Du.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ym(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=es(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=xN(n,eX);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tX))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ca.responsesRequiredToBeHealthy=2;Ca.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static get ALL_TRANSPORTS(){return[gd,Ca]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ca.isAvailable();let i=n&&!Ca.previouslyFailed();if(e.webSocketOnly&&(n||mr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ca];else{const s=this.transports_=[];for(const r of km.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);km.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}km.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=6e4,iX=5e3,sX=10*1024,rX=100*1024,k0="t",_D="d",aX="s",yD="r",oX="e",bD="o",wD="a",xD="n",SD="p",lX="h";class uX{constructor(e,n,i,s,r,a,o,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mg("c:"+this.id+":"),this.transportManager_=new km(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Gf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(k0 in e){const n=e[k0];n===wD?this.upgradeIfSecondaryHealthy_():n===yD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=hf("t",e),i=hf("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:SD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=hf("t",e),i=hf("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=hf(k0,e);if(_D in e){const i=e[_D];if(n===lX){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===xD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===aX?this.onConnectionShutdown_(i):n===yD?this.onReset_(i):n===oX?Zx("Server Error: "+i):n===bD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),dT!==i&&mr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Gf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:SD,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Du.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.allowedEvents_=e,this.listeners_={},$e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){$e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends jN{static getInstance(){return new v_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return $e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=32,TD=768;let Un=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function vn(){return new Un("")}function Gt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rl(t){return t.pieces_.length-t.pieceNum_}function Vn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Un(t.pieces_,e)}function $N(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cX(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function UN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Un(e,0)}function Fi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Un)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Un(n,0)}function zt(t){return t.pieceNum_>=t.pieces_.length}function Dr(t,e){const n=Gt(t),i=Gt(e);if(n===null)return e;if(n===i)return Dr(Vn(t),Vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zN(t,e){if(Rl(t)!==Rl(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Gr(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Rl(t)>Rl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class dX{constructor(e,n){this.errorPrefix_=n,this.parts_=UN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ub(this.parts_[i]);WN(this)}}function hX(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ub(e),WN(t)}function fX(t){const e=t.parts_.pop();t.byteLength_-=ub(e),t.parts_.length>0&&(t.byteLength_-=1)}function WN(t){if(t.byteLength_>TD)throw new Error(t.errorPrefix_+"has a key path longer than "+TD+" bytes ("+t.byteLength_+").");if(t.parts_.length>kD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kD+") or object contains a cycle "+yu(t))}function yu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends jN{static getInstance(){return new mT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return $e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=1e3,mX=60*5*1e3,PD=30*1e3,gX=1.3,pX=3e4,vX="server_kill",CD=3;class xo extends BN{constructor(e,n,i,s,r,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=xo.nextPersistentConnectionId_++,this.log_=Mg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ff,this.maxReconnectDelay_=mX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&v_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(es(r)),$e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new _m,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),$e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$e(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(a).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,o=>{const l=o.d,u=o.s;xo.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jo(e,"w")){const i=zd(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();mr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sW(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=PD)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=iW(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+es(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zx("Unrecognized action received from server: "+es(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ff,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ff,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pX&&(this.reconnectDelay_=ff),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gX)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+xo.nextConnectionId_++,r=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},u=function(c){$e(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?vs("getToken() completed but was canceled"):(vs("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,o=new uX(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{mr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(vX)},r))}catch(c){this.log_("Failed to get token: "+c),a||(this.repoInfo_.nodeAdmin&&mr(c),l())}}}interrupt(e){vs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$x(this.interruptReasons_)&&(this.reconnectDelay_=ff,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>cT(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Un(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){vs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=CD&&(this.reconnectDelay_=PD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=CD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_N.replace(/\./g,"-")]=1,Yk()?e["framework.cordova"]=1:_2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=v_.getInstance().currentlyOnline();return $x(this.interruptReasons_)&&e}}xo.nextPersistentConnectionId_=0;xo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new qt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new qt(Yd,e),s=new qt(Yd,n);return this.compare(i,s)!==0}minPost(){return qt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp;class YN extends fb{static get __EMPTY_NODE(){return Mp}static set __EMPTY_NODE(e){Mp=e}compare(e,n){return Ch(e.name,n.name)}isDefinedOn(e){throw xh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return qt.MIN}maxPost(){return new qt(ec,Mp)}makePost(e,n){return $e(typeof e=="string","KeyIndex indexValue must always be a string."),new qt(e,Mp)}toString(){return".key"}}const Od=new YN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp=class{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ar=class Pf{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Pf.RED,this.left=s??Ea.EMPTY_NODE,this.right=r??Ea.EMPTY_NODE}copy(e,n,i,s,r){return new Pf(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ea.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ea.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ar.RED=!0;ar.BLACK=!1;class _X{copy(e,n,i,s,r){return this}insert(e,n,i){return new ar(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Ea=class Tv{constructor(e,n=Tv.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Tv(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ar.BLACK,null,null))}remove(e){return new Tv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ar.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vp(this.root_,null,this.comparator_,!0,e)}};Ea.EMPTY_NODE=new _X;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t,e){return Ch(t.name,e.name)}function gT(t,e){return Ch(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tS;function bX(t){tS=t}const GN=function(t){return typeof t=="number"?"number:"+SN(t):"string:"+t},qN=function(t){if(t.isLeafNode()){const e=t.val();$e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jo(e,".sv"),"Priority must be a string or number.")}else $e(t===tS||t.isEmpty(),"priority of unexpected type.");$e(t===tS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ED;class Li{static set __childrenNodeConstructor(e){ED=e}static get __childrenNodeConstructor(){return ED}constructor(e,n=Li.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Li(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Li.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return zt(e)?this:Gt(e)===".priority"?this.priorityNode_:Li.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Li.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Gt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:($e(i!==".priority"||Rl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Li.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+GN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=SN(this.value_):e+=this.value_,this.lazyHash_=bN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Li.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Li.__childrenNodeConstructor?-1:($e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Li.VALUE_TYPE_ORDER.indexOf(n),r=Li.VALUE_TYPE_ORDER.indexOf(i);return $e(s>=0,"Unknown leaf type: "+n),$e(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Li.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XN,KN;function wX(t){XN=t}function xX(t){KN=t}class SX extends fb{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Ch(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return qt.MIN}maxPost(){return new qt(ec,new Li("[PRIORITY-POST]",KN))}makePost(e,n){const i=XN(e);return new qt(n,new Li("[PRIORITY-POST]",i))}toString(){return".priority"}}const ws=new SX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=Math.log(2);class TX{constructor(e){const n=r=>parseInt(Math.log(r)/kX,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const __=function(t,e,n,i){t.sort(e);const s=function(l,u){const d=u-l;let c,h;if(d===0)return null;if(d===1)return c=t[l],h=n?n(c):c,new ar(h,c.node,ar.BLACK,null,null);{const f=parseInt(d/2,10)+l,p=s(l,f),m=s(f+1,u);return c=t[f],h=n?n(c):c,new ar(h,c.node,ar.BLACK,p,m)}},r=function(l){let u=null,d=null,c=t.length;const h=function(p,m){const v=c-p,_=c;c-=p;const b=s(v+1,_),x=t[v],k=n?n(x):x;f(new ar(k,x.node,m,null,b))},f=function(p){u?(u.left=p,u=p):(d=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));m?h(v,ar.BLACK):(h(v,ar.BLACK),h(v,ar.RED))}return d},a=new TX(t.length),o=r(a);return new Ea(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T0;const mf={};class bo{static get Default(){return $e(ws,"ChildrenNode.ts has not been loaded"),T0=T0||new bo({".priority":mf},{".priority":ws}),T0}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=zd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ea?n:null}hasIndex(e){return jo(this.indexSet_,e.toString())}addIndex(e,n){$e(e!==Od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(qt.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let o;s?o=__(i,e.getCompare()):o=mf;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=o,new bo(d,u)}addToIndexes(e,n){const i=l_(this.indexes_,(s,r)=>{const a=zd(this.indexSet_,r);if($e(a,"Missing index implementation for "+r),s===mf)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(qt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),__(o,a.getCompare())}else return mf;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new qt(e.name,o))),l.insert(e,e.node)}});return new bo(i,this.indexSet_)}removeFromIndexes(e,n){const i=l_(this.indexes_,s=>{if(s===mf)return s;{const r=n.get(e.name);return r?s.remove(new qt(e.name,r)):s}});return new bo(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;class hn{static get EMPTY_NODE(){return gf||(gf=new hn(new Ea(gT),null,bo.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qN(this.priorityNode_),this.children_.isEmpty()&&$e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gf}updatePriority(e){return this.children_.isEmpty()?this:new hn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?gf:n}}getChild(e){const n=Gt(e);return n===null?this:this.getImmediateChild(n).getChild(Vn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new qt(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?gf:this.priorityNode_;return new hn(s,a,r)}}updateChild(e,n){const i=Gt(e);if(i===null)return n;{$e(Gt(e)!==".priority"||Rl(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Vn(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ws,(a,o)=>{n[a]=o.val(e),i++,r&&hn.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+GN(this.getPriority().val())+":"),this.forEachChild(ws,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":bN(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new qt(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new qt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new qt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,qt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,qt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lg?-1:0}withIndex(e){if(e===Od||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new hn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Od||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ws),s=n.getIterator(ws);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Od?null:this.indexMap_.get(e.toString())}}hn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PX extends hn{constructor(){super(new Ea(gT),hn.EMPTY_NODE,bo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hn.EMPTY_NODE}isEmpty(){return!1}}const Lg=new PX;Object.defineProperties(qt,{MIN:{value:new qt(Yd,hn.EMPTY_NODE)},MAX:{value:new qt(ec,Lg)}});YN.__EMPTY_NODE=hn.EMPTY_NODE;Li.__childrenNodeConstructor=hn;bX(Lg);xX(Lg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX=!0;function _s(t,e=null){if(t===null)return hn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Li(n,_s(e))}if(!(t instanceof Array)&&CX){const n=[];let i=!1;if(Vr(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=_s(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new qt(a,l)))}}),n.length===0)return hn.EMPTY_NODE;const r=__(n,yX,a=>a.name,gT);if(i){const a=__(n,ws.getCompare());return new hn(r,_s(e),new bo({".priority":a},{".priority":ws}))}else return new hn(r,_s(e),bo.Default)}else{let n=hn.EMPTY_NODE;return Vr(t,(i,s)=>{if(jo(t,i)&&i.substring(0,1)!=="."){const r=_s(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(_s(e))}}wX(_s);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX extends fb{constructor(e){super(),this.indexPath_=e,$e(!zt(e)&&Gt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Ch(e.name,n.name):r}makePost(e,n){const i=_s(e),s=hn.EMPTY_NODE.updateChild(this.indexPath_,i);return new qt(n,s)}maxPost(){const e=hn.EMPTY_NODE.updateChild(this.indexPath_,Lg);return new qt(ec,e)}toString(){return UN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX extends fb{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ch(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return qt.MIN}maxPost(){return qt.MAX}makePost(e,n){const i=_s(e);return new qt(n,i)}toString(){return".value"}}const DX=new IX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(t){return{type:"value",snapshotNode:t}}function RX(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function OX(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ID(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MX(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ws}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yd}hasEnd(){return this.endSet_}getIndexEndValue(){return $e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ec}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ws}copy(){const e=new pT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DD(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ws?n="$priority":t.index_===DX?n="$value":t.index_===Od?n="$key":($e(t.index_ instanceof EX,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=es(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=es(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+es(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=es(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+es(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function AD(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ws&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends BN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Mg("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=y_.getListenId_(e,i),o={};this.listens_[a]=o;const l=DD(e._queryParams);this.restRequest_(r+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(r,c,!1,i),zd(this.listens_,a)===o){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const i=y_.getListenId_(e,n);delete this.listens_[i]}get(e){const n=DD(e._queryParams),i=e._path.toString(),s=new _m;return this.restRequest_(i+".json",n,(r,a)=>{let o=a;r===404&&(o=null,r=null),r===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sh(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=ym(o.responseText)}catch{mr("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&mr("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(){this.rootNode_=hn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return{value:null,children:new Map}}function QN(t,e,n){if(zt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Gt(e);t.children.has(i)||t.children.set(i,b_());const s=t.children.get(i);e=Vn(e),QN(s,e,n)}}function nS(t,e,n){t.value!==null?n(e,t.value):LX(t,(i,s)=>{const r=new Un(e.toString()+"/"+i);nS(s,r,n)})}function LX(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vr(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=10*1e3,FX=30*1e3,BX=5*60*1e3;class jX{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NX(e);const i=RD+(FX-RD)*Math.random();Gf(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Vr(e,(s,r)=>{r>0&&jo(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Gf(this.reportStats_.bind(this),Math.floor(Math.random()*2*BX))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ia||(Ia={}));function JN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ZN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function eF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ia.ACK_USER_WRITE,this.source=JN()}operationForChild(e){if(zt(this.path)){if(this.affectedTree.value!=null)return $e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Un(e));return new w_(vn(),n,this.revert)}}else return $e(Gt(this.path)===e,"operationForChild called for unrelated child."),new w_(Vn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ia.OVERWRITE}operationForChild(e){return zt(this.path)?new tc(this.source,vn(),this.snap.getImmediateChild(e)):new tc(this.source,Vn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ia.MERGE}operationForChild(e){if(zt(this.path)){const n=this.children.subtree(new Un(e));return n.isEmpty()?null:n.value?new tc(this.source,vn(),n.value):new Tm(this.source,vn(),n)}else return $e(Gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tm(this.source,Vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(zt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Gt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function $X(t,e,n,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(MX(a.childName,a.snapshotNode))}),pf(t,s,"child_removed",e,i,n),pf(t,s,"child_added",e,i,n),pf(t,s,"child_moved",r,i,n),pf(t,s,"child_changed",e,i,n),pf(t,s,"value",e,i,n),s}function pf(t,e,n,i,s,r){const a=i.filter(o=>o.type===n);a.sort((o,l)=>HX(t,o,l)),a.forEach(o=>{const l=UX(t,o,r);s.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function UX(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function HX(t,e,n){if(e.childName==null||n.childName==null)throw xh("Should only compare child_ events.");const i=new qt(e.childName,e.snapshotNode),s=new qt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e){return{eventCache:t,serverCache:e}}function qf(t,e,n,i){return tF(new vT(e,n,i),t.serverCache)}function nF(t,e,n,i){return tF(t.eventCache,new vT(e,n,i))}function iS(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0;const zX=()=>(P0||(P0=new Ea(Iq)),P0);class Mn{static fromObject(e){let n=new Mn(null);return Vr(e,(i,s)=>{n=n.set(new Un(i),s)}),n}constructor(e,n=zX()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:vn(),value:this.value};if(zt(e))return null;{const i=Gt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Vn(e),n);return r!=null?{path:Fi(new Un(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(zt(e))return this;{const n=Gt(e),i=this.children.get(n);return i!==null?i.subtree(Vn(e)):new Mn(null)}}set(e,n){if(zt(e))return new Mn(n,this.children);{const i=Gt(e),r=(this.children.get(i)||new Mn(null)).set(Vn(e),n),a=this.children.insert(i,r);return new Mn(this.value,a)}}remove(e){if(zt(e))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const n=Gt(e),i=this.children.get(n);if(i){const s=i.remove(Vn(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Mn(null):new Mn(this.value,r)}else return this}}get(e){if(zt(e))return this.value;{const n=Gt(e),i=this.children.get(n);return i?i.get(Vn(e)):null}}setTree(e,n){if(zt(e))return n;{const i=Gt(e),r=(this.children.get(i)||new Mn(null)).setTree(Vn(e),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new Mn(this.value,a)}}fold(e){return this.fold_(vn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Fi(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,vn(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(zt(e))return null;{const r=Gt(e),a=this.children.get(r);return a?a.findOnPath_(Vn(e),Fi(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,vn(),n)}foreachOnPath_(e,n,i){if(zt(e))return this;{this.value&&i(n,this.value);const s=Gt(e),r=this.children.get(s);return r?r.foreachOnPath_(Vn(e),Fi(n,s),i):new Mn(null)}}foreach(e){this.foreach_(vn(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Fi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.writeTree_=e}static empty(){return new ta(new Mn(null))}}function Xf(t,e,n){if(zt(e))return new ta(new Mn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Dr(s,e);return r=r.updateChild(a,n),new ta(t.writeTree_.set(s,r))}else{const s=new Mn(n),r=t.writeTree_.setTree(e,s);return new ta(r)}}}function OD(t,e,n){let i=t;return Vr(n,(s,r)=>{i=Xf(i,Fi(e,s),r)}),i}function MD(t,e){if(zt(e))return ta.empty();{const n=t.writeTree_.setTree(e,new Mn(null));return new ta(n)}}function sS(t,e){return Cc(t,e)!=null}function Cc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Dr(n.path,e)):null}function VD(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ws,(i,s)=>{e.push(new qt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new qt(i,s.value))}),e}function kl(t,e){if(zt(e))return t;{const n=Cc(t,e);return n!=null?new ta(new Mn(n)):new ta(t.writeTree_.subtree(e))}}function rS(t){return t.writeTree_.isEmpty()}function Gd(t,e){return iF(vn(),t.writeTree_,e)}function iF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?($e(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=iF(Fi(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Fi(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t,e){return uF(e,t)}function WX(t,e,n,i,s){$e(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Xf(t.visibleWrites,e,n)),t.lastWriteId=i}function YX(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function GX(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);$e(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&qX(o,i.path)?s=!1:Gr(i.path,o.path)&&(r=!0)),a--}if(s){if(r)return XX(t),!0;if(i.snap)t.visibleWrites=MD(t.visibleWrites,i.path);else{const o=i.children;Vr(o,l=>{t.visibleWrites=MD(t.visibleWrites,Fi(i.path,l))})}return!0}else return!1}function qX(t,e){if(t.snap)return Gr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Gr(Fi(t.path,n),e))return!0;return!1}function XX(t){t.visibleWrites=rF(t.allWrites,KX,vn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KX(t){return t.visible}function rF(t,e,n){let i=ta.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const a=r.path;let o;if(r.snap)Gr(n,a)?(o=Dr(n,a),i=Xf(i,o,r.snap)):Gr(a,n)&&(o=Dr(a,n),i=Xf(i,vn(),r.snap.getChild(o)));else if(r.children){if(Gr(n,a))o=Dr(n,a),i=OD(i,o,r.children);else if(Gr(a,n))if(o=Dr(a,n),zt(o))i=OD(i,vn(),r.children);else{const l=zd(r.children,Gt(o));if(l){const u=l.getChild(Vn(o));i=Xf(i,vn(),u)}}}else throw xh("WriteRecord should have .snap or .children")}}return i}function aF(t,e,n,i,s){if(!i&&!s){const r=Cc(t.visibleWrites,e);if(r!=null)return r;{const a=kl(t.visibleWrites,e);if(rS(a))return n;if(n==null&&!sS(a,vn()))return null;{const o=n||hn.EMPTY_NODE;return Gd(a,o)}}}else{const r=kl(t.visibleWrites,e);if(!s&&rS(r))return n;if(!s&&n==null&&!sS(r,vn()))return null;{const a=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Gr(u.path,e)||Gr(e,u.path))},o=rF(t.allWrites,a,e),l=n||hn.EMPTY_NODE;return Gd(o,l)}}}function QX(t,e,n){let i=hn.EMPTY_NODE;const s=Cc(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ws,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=kl(t.visibleWrites,e);return n.forEachChild(ws,(a,o)=>{const l=Gd(kl(r,new Un(a)),o);i=i.updateImmediateChild(a,l)}),VD(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=kl(t.visibleWrites,e);return VD(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function JX(t,e,n,i,s){$e(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Fi(e,n);if(sS(t.visibleWrites,r))return null;{const a=kl(t.visibleWrites,r);return rS(a)?s.getChild(n):Gd(a,s.getChild(n))}}function ZX(t,e,n,i){const s=Fi(e,n),r=Cc(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=kl(t.visibleWrites,s);return Gd(a,i.getNode().getImmediateChild(n))}else return null}function eK(t,e){return Cc(t.visibleWrites,e)}function tK(t,e,n,i,s,r,a){let o;const l=kl(t.visibleWrites,e),u=Cc(l,vn());if(u!=null)o=u;else if(n!=null)o=Gd(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],c=a.getCompare(),h=r?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let f=h.getNext();for(;f&&d.length<s;)c(f,i)!==0&&d.push(f),f=h.getNext();return d}else return[]}function nK(){return{visibleWrites:ta.empty(),allWrites:[],lastWriteId:-1}}function aS(t,e,n,i){return aF(t.writeTree,t.treePath,e,n,i)}function oF(t,e){return QX(t.writeTree,t.treePath,e)}function LD(t,e,n,i){return JX(t.writeTree,t.treePath,e,n,i)}function x_(t,e){return eK(t.writeTree,Fi(t.treePath,e))}function iK(t,e,n,i,s,r){return tK(t.writeTree,t.treePath,e,n,i,s,r)}function _T(t,e,n){return ZX(t.writeTree,t.treePath,e,n)}function lF(t,e){return uF(Fi(t.treePath,e),t.writeTree)}function uF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;$e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$e(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ID(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,OX(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,RX(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ID(i,e.snapshotNode,s.oldSnap));else throw xh("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const cF=new rK;class yT{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new vT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _T(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nc(this.viewCache_),r=iK(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function aK(t,e){$e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function oK(t,e,n,i,s){const r=new sK;let a,o;if(n.type===Ia.OVERWRITE){const u=n;u.source.fromUser?a=oS(t,e,u.path,u.snap,i,s,r):($e(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!zt(u.path),a=S_(t,e,u.path,u.snap,i,s,o,r))}else if(n.type===Ia.MERGE){const u=n;u.source.fromUser?a=uK(t,e,u.path,u.children,i,s,r):($e(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=lS(t,e,u.path,u.children,i,s,o,r))}else if(n.type===Ia.ACK_USER_WRITE){const u=n;u.revert?a=hK(t,e,u.path,i,s,r):a=cK(t,e,u.path,u.affectedTree,i,s,r)}else if(n.type===Ia.LISTEN_COMPLETE)a=dK(t,e,n.path,i,r);else throw xh("Unknown operation type: "+n.type);const l=r.getChanges();return lK(e,a,l),{viewCache:a,changes:l}}function lK(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=iS(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(AX(iS(e)))}}function dF(t,e,n,i,s,r){const a=e.eventCache;if(x_(i,n)!=null)return e;{let o,l;if(zt(n))if($e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=nc(e),d=u instanceof hn?u:hn.EMPTY_NODE,c=oF(i,d);o=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const u=aS(i,nc(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=Gt(n);if(u===".priority"){$e(Rl(n)===1,"Can't have a priority with additional path components");const d=a.getNode();l=e.serverCache.getNode();const c=LD(i,n,d,l);c!=null?o=t.filter.updatePriority(d,c):o=a.getNode()}else{const d=Vn(n);let c;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const h=LD(i,n,a.getNode(),l);h!=null?c=a.getNode().getImmediateChild(u).updateChild(d,h):c=a.getNode().getImmediateChild(u)}else c=_T(i,u,e.serverCache);c!=null?o=t.filter.updateChild(a.getNode(),u,c,d,s,r):o=a.getNode()}}return qf(e,o,a.isFullyInitialized()||zt(n),t.filter.filtersNodes())}}function S_(t,e,n,i,s,r,a,o){const l=e.serverCache;let u;const d=a?t.filter:t.filter.getIndexedFilter();if(zt(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),f,null)}else{const f=Gt(n);if(!l.isCompleteForPath(n)&&Rl(n)>1)return e;const p=Vn(n),v=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?u=d.updatePriority(l.getNode(),v):u=d.updateChild(l.getNode(),f,v,p,cF,null)}const c=nF(e,u,l.isFullyInitialized()||zt(n),d.filtersNodes()),h=new yT(s,c,r);return dF(t,c,n,s,h,o)}function oS(t,e,n,i,s,r,a){const o=e.eventCache;let l,u;const d=new yT(s,e,r);if(zt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,a),l=qf(e,u,!0,t.filter.filtersNodes());else{const c=Gt(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=qf(e,u,o.isFullyInitialized(),o.isFiltered());else{const h=Vn(n),f=o.getNode().getImmediateChild(c);let p;if(zt(h))p=i;else{const m=d.getCompleteChild(c);m!=null?$N(h)===".priority"&&m.getChild(HN(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=hn.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(o.getNode(),c,p,h,d,a);l=qf(e,m,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ND(t,e){return t.eventCache.isCompleteForChild(e)}function uK(t,e,n,i,s,r,a){let o=e;return i.foreach((l,u)=>{const d=Fi(n,l);ND(e,Gt(d))&&(o=oS(t,o,d,u,s,r,a))}),i.foreach((l,u)=>{const d=Fi(n,l);ND(e,Gt(d))||(o=oS(t,o,d,u,s,r,a))}),o}function FD(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function lS(t,e,n,i,s,r,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;zt(n)?u=i:u=new Mn(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(d.hasChild(c)){const f=e.serverCache.getNode().getImmediateChild(c),p=FD(t,f,h);l=S_(t,l,new Un(c),p,s,r,a,o)}}),u.children.inorderTraversal((c,h)=>{const f=!e.serverCache.isCompleteForChild(c)&&h.value===null;if(!d.hasChild(c)&&!f){const p=e.serverCache.getNode().getImmediateChild(c),m=FD(t,p,h);l=S_(t,l,new Un(c),m,s,r,a,o)}}),l}function cK(t,e,n,i,s,r,a){if(x_(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(zt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return S_(t,e,n,l.getNode().getChild(n),s,r,o,a);if(zt(n)){let u=new Mn(null);return l.getNode().forEachChild(Od,(d,c)=>{u=u.set(new Un(d),c)}),lS(t,e,n,u,s,r,o,a)}else return e}else{let u=new Mn(null);return i.foreach((d,c)=>{const h=Fi(n,d);l.isCompleteForPath(h)&&(u=u.set(d,l.getNode().getChild(h)))}),lS(t,e,n,u,s,r,o,a)}}function dK(t,e,n,i,s){const r=e.serverCache,a=nF(e,r.getNode(),r.isFullyInitialized()||zt(n),r.isFiltered());return dF(t,a,n,i,cF,s)}function hK(t,e,n,i,s,r){let a;if(x_(i,n)!=null)return e;{const o=new yT(i,e,s),l=e.eventCache.getNode();let u;if(zt(n)||Gt(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=aS(i,nc(e));else{const c=e.serverCache.getNode();$e(c instanceof hn,"serverChildren would be complete if leaf node"),d=oF(i,c)}d=d,u=t.filter.updateFullNode(l,d,r)}else{const d=Gt(n);let c=_T(i,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=t.filter.updateChild(l,d,c,Vn(n),o,r):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,hn.EMPTY_NODE,Vn(n),o,r):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=aS(i,nc(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,r)))}return a=e.serverCache.isFullyInitialized()||x_(i,vn())!=null,qf(e,u,a,t.filter.filtersNodes())}}function fK(t,e){const n=nc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!zt(e)&&!n.getImmediateChild(Gt(e)).isEmpty())?n.getChild(e):null}function BD(t,e,n,i){e.type===Ia.MERGE&&e.source.queryId!==null&&($e(nc(t.viewCache_),"We should always have a full cache before handling merges"),$e(iS(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=oK(t.processor_,s,e,n,i);return aK(t.processor_,r.viewCache),$e(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,mK(t,r.changes,r.viewCache.eventCache.getNode())}function mK(t,e,n,i){const s=t.eventRegistrations_;return $X(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jD;function gK(t){$e(!jD,"__referenceConstructor has already been defined"),jD=t}function bT(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return $e(r!=null,"SyncTree gave us an op for an invalid query."),BD(r,e,n,i)}else{let r=[];for(const a of t.views.values())r=r.concat(BD(a,e,n,i));return r}}function wT(t,e){let n=null;for(const i of t.views.values())n=n||fK(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $D;function pK(t){$e(!$D,"__referenceConstructor has already been defined"),$D=t}class UD{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=nK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vK(t,e,n,i,s){return WX(t.pendingWriteTree_,e,n,i,s),s?gb(t,new tc(JN(),e,n)):[]}function pd(t,e,n=!1){const i=YX(t.pendingWriteTree_,e);if(GX(t.pendingWriteTree_,e)){let r=new Mn(null);return i.snap!=null?r=r.set(vn(),!0):Vr(i.children,a=>{r=r.set(new Un(a),!0)}),gb(t,new w_(i.path,r,n))}else return[]}function mb(t,e,n){return gb(t,new tc(ZN(),e,n))}function _K(t,e,n){const i=Mn.fromObject(n);return gb(t,new Tm(ZN(),e,i))}function yK(t,e,n,i){const s=gF(t,i);if(s!=null){const r=pF(s),a=r.path,o=r.queryId,l=Dr(a,e),u=new tc(eF(o),l,n);return vF(t,a,u)}else return[]}function bK(t,e,n,i){const s=gF(t,i);if(s){const r=pF(s),a=r.path,o=r.queryId,l=Dr(a,e),u=Mn.fromObject(n),d=new Tm(eF(o),l,u);return vF(t,a,d)}else return[]}function hF(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Dr(a,e),u=wT(o,l);if(u)return u});return aF(s,e,r,n,!0)}function gb(t,e){return fF(e,t.syncPointTree_,null,sF(t.pendingWriteTree_,vn()))}function fF(t,e,n,i){if(zt(t.path))return mF(t,e,n,i);{const s=e.get(vn());n==null&&s!=null&&(n=wT(s,vn()));let r=[];const a=Gt(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=n?n.getImmediateChild(a):null,d=lF(i,a);r=r.concat(fF(o,l,u,d))}return s&&(r=r.concat(bT(s,t,i,n))),r}}function mF(t,e,n,i){const s=e.get(vn());n==null&&s!=null&&(n=wT(s,vn()));let r=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,u=lF(i,a),d=t.operationForChild(a);d&&(r=r.concat(mF(d,o,l,u)))}),s&&(r=r.concat(bT(s,t,i,n))),r}function gF(t,e){return t.tagToQueryMap.get(e)}function pF(t){const e=t.indexOf("$");return $e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Un(t.substr(0,e))}}function vF(t,e,n){const i=t.syncPointTree_.get(e);$e(i,"Missing sync point for query tag that we're tracking");const s=sF(t.pendingWriteTree_,e);return bT(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new xT(n)}node(){return this.node_}}class ST{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fi(this.path_,e);return new ST(this.syncTree_,n)}node(){return hF(this.syncTree_,this.path_)}}const wK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},HD=function(t,e,n){if(!t||typeof t!="object")return t;if($e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SK(t[".sv"],e);$e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$e(!1,"Unexpected server value: "+t)}},SK=function(t,e,n){t.hasOwnProperty("increment")||$e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&$e(!1,"Unexpected increment value: "+i);const s=e.node();if($e(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},kK=function(t,e,n,i){return kT(e,new ST(n,t),i)},TK=function(t,e,n){return kT(t,new xT(e),n)};function kT(t,e,n){const i=t.getPriority().val(),s=HD(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const a=t,o=HD(a.getValue(),e,n);return o!==a.getValue()||s!==a.getPriority().val()?new Li(o,_s(s)):t}else{const a=t;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new Li(s))),a.forEachChild(ws,(o,l)=>{const u=kT(l,e.getImmediateChild(o),n);u!==l&&(r=r.updateImmediateChild(o,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function PT(t,e){let n=e instanceof Un?e:new Un(e),i=t,s=Gt(n);for(;s!==null;){const r=zd(i.node.children,s)||{children:{},childCount:0};i=new TT(s,i,r),n=Vn(n),s=Gt(n)}return i}function Eh(t){return t.node.value}function _F(t,e){t.node.value=e,uS(t)}function yF(t){return t.node.childCount>0}function PK(t){return Eh(t)===void 0&&!yF(t)}function pb(t,e){Vr(t.node.children,(n,i)=>{e(new TT(n,t,i))})}function bF(t,e,n,i){n&&e(t),pb(t,s=>{bF(s,e,!0)})}function CK(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ng(t){return new Un(t.parent===null?t.name:Ng(t.parent)+"/"+t.name)}function uS(t){t.parent!==null&&EK(t.parent,t.name,t)}function EK(t,e,n){const i=PK(n),s=jo(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,uS(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,uS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=/[\[\].#$\/\u0000-\u001F\u007F]/,DK=/[\[\].#$\u0000-\u001F\u007F]/,C0=10*1024*1024,wF=function(t){return typeof t=="string"&&t.length!==0&&!IK.test(t)},AK=function(t){return typeof t=="string"&&t.length!==0&&!DK.test(t)},RK=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),AK(t)},xF=function(t,e,n){const i=n instanceof Un?new dX(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+yu(i));if(typeof e=="function")throw new Error(t+"contains a function "+yu(i)+" with contents = "+e.toString());if(wN(e))throw new Error(t+"contains "+e.toString()+" "+yu(i));if(typeof e=="string"&&e.length>C0/3&&ub(e)>C0)throw new Error(t+"contains a string greater than "+C0+" utf8 bytes "+yu(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Vr(e,(a,o)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!wF(a)))throw new Error(t+" contains an invalid key ("+a+") "+yu(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hX(i,a),xF(t,o,i),fX(i)}),s&&r)throw new Error(t+' contains ".value" child '+yu(i)+" in addition to actual children.")}},OK=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!RK(n))throw new Error(uW(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function VK(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!zN(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Ec(t,e,n){VK(t,n),LK(t,i=>Gr(i,e)||Gr(e,i))}function LK(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(NK(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Yf&&vs("event: "+n.toString()),Vg(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="repo_interrupt",BK=25;class jK{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=b_(),this.transactionQueueTree_=new TT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $K(t,e,n){if(t.stats_=hT(t.repoInfo_),t.forceRestClient_||Vq())t.server_=new y_(t.repoInfo_,(i,s,r,a)=>{zD(t,i,s,r,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>WD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{es(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new xo(t.repoInfo_,e,(i,s,r,a)=>{zD(t,i,s,r,a)},i=>{WD(t,i)},i=>{HK(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=$q(t.repoInfo_,()=>new jX(t.stats_,t.server_)),t.infoData_=new VX,t.infoSyncTree_=new UD({startListening:(i,s,r,a)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=mb(t.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),CT(t,"connected",!1),t.serverSyncTree_=new UD({startListening:(i,s,r,a)=>(t.server_.listen(i,r,s,(o,l)=>{const u=a(o,l);Ec(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function UK(t){const n=t.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function SF(t){return wK({timestamp:UK(t)})}function zD(t,e,n,i,s){t.dataUpdateCount++;const r=new Un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(i){const l=l_(n,u=>_s(u));a=bK(t.serverSyncTree_,r,l,s)}else{const l=_s(n);a=yK(t.serverSyncTree_,r,l,s)}else if(i){const l=l_(n,u=>_s(u));a=_K(t.serverSyncTree_,r,l)}else{const l=_s(n);a=mb(t.serverSyncTree_,r,l)}let o=r;a.length>0&&(o=IT(t,r)),Ec(t.eventQueue_,o,a)}function WD(t,e){CT(t,"connected",e),e===!1&&WK(t)}function HK(t,e){Vr(e,(n,i)=>{CT(t,n,i)})}function CT(t,e,n){const i=new Un("/.info/"+e),s=_s(n);t.infoData_.updateSnapshot(i,s);const r=mb(t.infoSyncTree_,i,s);Ec(t.eventQueue_,i,r)}function zK(t){return t.nextWriteId_++}function WK(t){kF(t,"onDisconnectEvents");const e=SF(t),n=b_();nS(t.onDisconnect_,vn(),(s,r)=>{const a=kK(s,r,t.serverSyncTree_,e);QN(n,s,a)});let i=[];nS(n,vn(),(s,r)=>{i=i.concat(mb(t.serverSyncTree_,s,r));const a=XK(t,s);IT(t,a)}),t.onDisconnect_=b_(),Ec(t.eventQueue_,vn(),i)}function YK(t){t.persistentConnection_&&t.persistentConnection_.interrupt(FK)}function kF(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vs(n,...e)}function TF(t,e,n){return hF(t.serverSyncTree_,e,n)||hn.EMPTY_NODE}function ET(t,e=t.transactionQueueTree_){if(e||vb(t,e),Eh(e)){const n=CF(t,e);$e(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&GK(t,Ng(e),n)}else yF(e)&&pb(e,n=>{ET(t,n)})}function GK(t,e,n){const i=n.map(u=>u.currentWriteId),s=TF(t,e,i);let r=s;const a=s.hash();for(let u=0;u<n.length;u++){const d=n[u];$e(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Dr(e,d.path);r=r.updateChild(c,d.currentOutputSnapshotRaw)}const o=r.val(!0),l=e;t.server_.put(l.toString(),o,u=>{kF(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(pd(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();vb(t,PT(t.transactionQueueTree_,e)),ET(t,t.transactionQueueTree_),Ec(t.eventQueue_,e,d);for(let h=0;h<c.length;h++)Vg(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{mr("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}IT(t,e)}},a)}function IT(t,e){const n=PF(t,e),i=Ng(n),s=CF(t,n);return qK(t,s,i),i}function qK(t,e,n){if(e.length===0)return;const i=[];let s=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=Dr(n,l.path);let d=!1,c;if($e(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,s=s.concat(pd(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=BK)d=!0,c="maxretry",s=s.concat(pd(t.serverSyncTree_,l.currentWriteId,!0));else{const h=TF(t,l.path,a);l.currentInputSnapshot=h;const f=e[o].update(h.val());if(f!==void 0){xF("transaction failed: Data returned ",f,l.path);let p=_s(f);typeof f=="object"&&f!=null&&jo(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,_=SF(t),b=TK(p,h,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=zK(t),a.splice(a.indexOf(v),1),s=s.concat(vK(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),s=s.concat(pd(t.serverSyncTree_,v,!0))}else d=!0,c="nodata",s=s.concat(pd(t.serverSyncTree_,l.currentWriteId,!0))}Ec(t.eventQueue_,n,s),s=[],d&&(e[o].status=2,function(h){setTimeout(h,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(c==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(c),!1,null))))}vb(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Vg(i[o]);ET(t,t.transactionQueueTree_)}function PF(t,e){let n,i=t.transactionQueueTree_;for(n=Gt(e);n!==null&&Eh(i)===void 0;)i=PT(i,n),e=Vn(e),n=Gt(e);return i}function CF(t,e){const n=[];return EF(t,e,n),n.sort((i,s)=>i.order-s.order),n}function EF(t,e,n){const i=Eh(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);pb(e,s=>{EF(t,s,n)})}function vb(t,e){const n=Eh(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,_F(e,n.length>0?n:void 0)}pb(e,i=>{vb(t,i)})}function XK(t,e){const n=Ng(PF(t,e)),i=PT(t.transactionQueueTree_,e);return CK(i,s=>{E0(t,s)}),E0(t,i),bF(i,s=>{E0(t,s)}),n}function E0(t,e){const n=Eh(e);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($e(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):($e(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(pd(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?_F(e,void 0):n.length=r+1,Ec(t.eventQueue_,Ng(e),s);for(let a=0;a<i.length;a++)Vg(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function QK(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):mr(`Invalid query segment '${n}' in query '${t}'`)}return e}const YD=function(t,e){const n=JK(t),i=n.namespace;n.domain==="firebase.com"&&Zu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Zu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Cq();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fq(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Un(n.pathString)}},JK=function(t){let e="",n="",i="",s="",r="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(s=KK(t.substring(d,c)));const h=QK(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in h&&(r=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return zt(this._path)?null:$N(this._path)}get ref(){return new Ih(this._repo,this._path)}get _queryIdentifier(){const e=AD(this._queryParams),n=cT(e);return n==="{}"?"default":n}get _queryObject(){return AD(this._queryParams)}isEqual(e){if(e=ri(e),!(e instanceof DT))return!1;const n=this._repo===e._repo,i=zN(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+cX(this._path)}}class Ih extends DT{constructor(e,n){super(e,n,new pT,!1)}get parent(){const e=HN(this._path);return e===null?null:new Ih(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}gK(Ih);pK(Ih);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK="FIREBASE_DATABASE_EMULATOR_HOST",cS={};let eQ=!1;function tQ(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||Zu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vs("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=YD(r,s),o=a.repoInfo,l;typeof process<"u"&&hD&&(l=hD[ZK]),l?(r=`http://${l}?ns=${o.namespace}`,a=YD(r,s),o=a.repoInfo):a.repoInfo.secure;const u=new Nq(t.name,t.options,e);OK("Invalid Firebase Database URL",a),zt(a.path)||Zu("Database URL must point to the root of a Firebase Database (not including a child path).");const d=iQ(o,t,u,new Lq(t.name,n));return new sQ(d,t)}function nQ(t,e){const n=cS[e];(!n||n[t.key]!==t)&&Zu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YK(t),delete n[t.key]}function iQ(t,e,n,i){let s=cS[e.name];s||(s={},cS[e.name]=s);let r=s[t.toURLString()];return r&&Zu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new jK(t,eQ,n,i),s[t.toURLString()]=r,r}class sQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($K(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ih(this._repo,vn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zu("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t){wq(Ql),Zs(new js("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return tQ(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),is(fD,mD,t),is(fD,mD,"esm2017")}xo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rQ();var GD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ju,IF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function w(){}w.prototype=S.prototype,T.D=S.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(C,P,D){for(var A=Array(arguments.length-2),F=2;F<arguments.length;F++)A[F-2]=arguments[F];return S.prototype[P].apply(C,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,S,w){w||(w=0);var C=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)C[P]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(P=0;16>P;++P)C[P]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=T.g[0],w=T.g[1],P=T.g[2];var D=T.g[3],A=S+(D^w&(P^D))+C[0]+3614090360&4294967295;S=w+(A<<7&4294967295|A>>>25),A=D+(P^S&(w^P))+C[1]+3905402710&4294967295,D=S+(A<<12&4294967295|A>>>20),A=P+(w^D&(S^w))+C[2]+606105819&4294967295,P=D+(A<<17&4294967295|A>>>15),A=w+(S^P&(D^S))+C[3]+3250441966&4294967295,w=P+(A<<22&4294967295|A>>>10),A=S+(D^w&(P^D))+C[4]+4118548399&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(P^S&(w^P))+C[5]+1200080426&4294967295,D=S+(A<<12&4294967295|A>>>20),A=P+(w^D&(S^w))+C[6]+2821735955&4294967295,P=D+(A<<17&4294967295|A>>>15),A=w+(S^P&(D^S))+C[7]+4249261313&4294967295,w=P+(A<<22&4294967295|A>>>10),A=S+(D^w&(P^D))+C[8]+1770035416&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(P^S&(w^P))+C[9]+2336552879&4294967295,D=S+(A<<12&4294967295|A>>>20),A=P+(w^D&(S^w))+C[10]+4294925233&4294967295,P=D+(A<<17&4294967295|A>>>15),A=w+(S^P&(D^S))+C[11]+2304563134&4294967295,w=P+(A<<22&4294967295|A>>>10),A=S+(D^w&(P^D))+C[12]+1804603682&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(P^S&(w^P))+C[13]+4254626195&4294967295,D=S+(A<<12&4294967295|A>>>20),A=P+(w^D&(S^w))+C[14]+2792965006&4294967295,P=D+(A<<17&4294967295|A>>>15),A=w+(S^P&(D^S))+C[15]+1236535329&4294967295,w=P+(A<<22&4294967295|A>>>10),A=S+(P^D&(w^P))+C[1]+4129170786&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^P&(S^w))+C[6]+3225465664&4294967295,D=S+(A<<9&4294967295|A>>>23),A=P+(S^w&(D^S))+C[11]+643717713&4294967295,P=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(P^D))+C[0]+3921069994&4294967295,w=P+(A<<20&4294967295|A>>>12),A=S+(P^D&(w^P))+C[5]+3593408605&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^P&(S^w))+C[10]+38016083&4294967295,D=S+(A<<9&4294967295|A>>>23),A=P+(S^w&(D^S))+C[15]+3634488961&4294967295,P=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(P^D))+C[4]+3889429448&4294967295,w=P+(A<<20&4294967295|A>>>12),A=S+(P^D&(w^P))+C[9]+568446438&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^P&(S^w))+C[14]+3275163606&4294967295,D=S+(A<<9&4294967295|A>>>23),A=P+(S^w&(D^S))+C[3]+4107603335&4294967295,P=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(P^D))+C[8]+1163531501&4294967295,w=P+(A<<20&4294967295|A>>>12),A=S+(P^D&(w^P))+C[13]+2850285829&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^P&(S^w))+C[2]+4243563512&4294967295,D=S+(A<<9&4294967295|A>>>23),A=P+(S^w&(D^S))+C[7]+1735328473&4294967295,P=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(P^D))+C[12]+2368359562&4294967295,w=P+(A<<20&4294967295|A>>>12),A=S+(w^P^D)+C[5]+4294588738&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^P)+C[8]+2272392833&4294967295,D=S+(A<<11&4294967295|A>>>21),A=P+(D^S^w)+C[11]+1839030562&4294967295,P=D+(A<<16&4294967295|A>>>16),A=w+(P^D^S)+C[14]+4259657740&4294967295,w=P+(A<<23&4294967295|A>>>9),A=S+(w^P^D)+C[1]+2763975236&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^P)+C[4]+1272893353&4294967295,D=S+(A<<11&4294967295|A>>>21),A=P+(D^S^w)+C[7]+4139469664&4294967295,P=D+(A<<16&4294967295|A>>>16),A=w+(P^D^S)+C[10]+3200236656&4294967295,w=P+(A<<23&4294967295|A>>>9),A=S+(w^P^D)+C[13]+681279174&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^P)+C[0]+3936430074&4294967295,D=S+(A<<11&4294967295|A>>>21),A=P+(D^S^w)+C[3]+3572445317&4294967295,P=D+(A<<16&4294967295|A>>>16),A=w+(P^D^S)+C[6]+76029189&4294967295,w=P+(A<<23&4294967295|A>>>9),A=S+(w^P^D)+C[9]+3654602809&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^P)+C[12]+3873151461&4294967295,D=S+(A<<11&4294967295|A>>>21),A=P+(D^S^w)+C[15]+530742520&4294967295,P=D+(A<<16&4294967295|A>>>16),A=w+(P^D^S)+C[2]+3299628645&4294967295,w=P+(A<<23&4294967295|A>>>9),A=S+(P^(w|~D))+C[0]+4096336452&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~P))+C[7]+1126891415&4294967295,D=S+(A<<10&4294967295|A>>>22),A=P+(S^(D|~w))+C[14]+2878612391&4294967295,P=D+(A<<15&4294967295|A>>>17),A=w+(D^(P|~S))+C[5]+4237533241&4294967295,w=P+(A<<21&4294967295|A>>>11),A=S+(P^(w|~D))+C[12]+1700485571&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~P))+C[3]+2399980690&4294967295,D=S+(A<<10&4294967295|A>>>22),A=P+(S^(D|~w))+C[10]+4293915773&4294967295,P=D+(A<<15&4294967295|A>>>17),A=w+(D^(P|~S))+C[1]+2240044497&4294967295,w=P+(A<<21&4294967295|A>>>11),A=S+(P^(w|~D))+C[8]+1873313359&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~P))+C[15]+4264355552&4294967295,D=S+(A<<10&4294967295|A>>>22),A=P+(S^(D|~w))+C[6]+2734768916&4294967295,P=D+(A<<15&4294967295|A>>>17),A=w+(D^(P|~S))+C[13]+1309151649&4294967295,w=P+(A<<21&4294967295|A>>>11),A=S+(P^(w|~D))+C[4]+4149444226&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~P))+C[11]+3174756917&4294967295,D=S+(A<<10&4294967295|A>>>22),A=P+(S^(D|~w))+C[2]+718787259&4294967295,P=D+(A<<15&4294967295|A>>>17),A=w+(D^(P|~S))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var w=S-this.blockSize,C=this.B,P=this.h,D=0;D<S;){if(P==0)for(;D<=w;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<S;)if(C[P++]=T.charCodeAt(D++),P==this.blockSize){s(this,C),P=0;break}}else for(;D<S;)if(C[P++]=T[D++],P==this.blockSize){s(this,C),P=0;break}}this.h=P,this.o+=S},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var w=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=w&255,w/=256;for(this.u(T),T=Array(16),S=w=0;4>S;++S)for(var C=0;32>C;C+=8)T[w++]=this.g[S]>>>C&255;return T};function r(T,S){var w=o;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=S(T)}function a(T,S){this.h=S;for(var w=[],C=!0,P=T.length-1;0<=P;P--){var D=T[P]|0;C&&D==S||(w[P]=D,C=!1)}this.g=w}var o={};function l(T){return-128<=T&&128>T?r(T,function(S){return new a([S|0],0>S?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return c;if(0>T)return v(u(-T));for(var S=[],w=1,C=0;T>=w;C++)S[C]=T/w|0,w*=4294967296;return new a(S,0)}function d(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(d(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(S,8)),C=c,P=0;P<T.length;P+=8){var D=Math.min(8,T.length-P),A=parseInt(T.substring(P,P+D),S);8>D?(D=u(Math.pow(S,D)),C=C.j(D).add(u(A))):(C=C.j(w),C=C.add(u(A)))}return C}var c=l(0),h=l(1),f=l(16777216);t=a.prototype,t.m=function(){if(m(this))return-v(this).m();for(var T=0,S=1,w=0;w<this.g.length;w++){var C=this.i(w);T+=(0<=C?C:4294967296+C)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var S=u(Math.pow(T,6)),w=this,C="";;){var P=k(w,S).g;w=_(w,P.j(S));var D=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=P,p(w))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=_(this,T),m(T)?-1:p(T)?0:1};function v(T){for(var S=T.g.length,w=[],C=0;C<S;C++)w[C]=~T.g[C];return new a(w,~T.h).add(h)}t.abs=function(){return m(this)?v(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],C=0,P=0;P<=S;P++){var D=C+(this.i(P)&65535)+(T.i(P)&65535),A=(D>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);C=A>>>16,D&=65535,A&=65535,w[P]=A<<16|D}return new a(w,w[w.length-1]&-2147483648?-1:0)};function _(T,S){return T.add(v(S))}t.j=function(T){if(p(this)||p(T))return c;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(f)&&0>T.l(f))return u(this.m()*T.m());for(var S=this.g.length+T.g.length,w=[],C=0;C<2*S;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<T.g.length;P++){var D=this.i(C)>>>16,A=this.i(C)&65535,F=T.i(P)>>>16,L=T.i(P)&65535;w[2*C+2*P]+=A*L,b(w,2*C+2*P),w[2*C+2*P+1]+=D*L,b(w,2*C+2*P+1),w[2*C+2*P+1]+=A*F,b(w,2*C+2*P+1),w[2*C+2*P+2]+=D*F,b(w,2*C+2*P+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new a(w,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function k(T,S){if(p(S))throw Error("division by zero");if(p(T))return new x(c,c);if(m(T))return S=k(v(T),S),new x(v(S.g),v(S.h));if(m(S))return S=k(T,v(S)),new x(v(S.g),S.h);if(30<T.g.length){if(m(T)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var w=h,C=S;0>=C.l(T);)w=I(w),C=I(C);var P=E(w,1),D=E(C,1);for(C=E(C,2),w=E(w,2);!p(C);){var A=D.add(C);0>=A.l(T)&&(P=P.add(w),D=A),C=E(C,1),w=E(w,1)}return S=_(T,P.j(S)),new x(P,S)}for(P=c;0<=T.l(S);){for(w=Math.max(1,Math.floor(T.m()/S.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=u(w),A=D.j(S);m(A)||0<A.l(T);)w-=C,D=u(w),A=D.j(S);p(D)&&(D=h),P=P.add(D),T=_(T,A)}return new x(P,T)}t.A=function(T){return k(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)&T.i(C);return new a(w,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)|T.i(C);return new a(w,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)^T.i(C);return new a(w,this.h^T.h)};function I(T){for(var S=T.g.length+1,w=[],C=0;C<S;C++)w[C]=T.i(C)<<1|T.i(C-1)>>>31;return new a(w,T.h)}function E(T,S){var w=S>>5;S%=32;for(var C=T.g.length-w,P=[],D=0;D<C;D++)P[D]=0<S?T.i(D+w)>>>S|T.i(D+w+1)<<32-S:T.i(D+w);return new a(P,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,IF=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,ju=a}).apply(typeof GD<"u"?GD:typeof self<"u"?self:typeof window<"u"?window:{});var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DF,Cf,AF,Pv,dS,RF,OF,MF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,V){return y==Array.prototype||y==Object.prototype||(y[R]=V.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lp=="object"&&Lp];for(var R=0;R<y.length;++R){var V=y[R];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function s(y,R){if(R)e:{var V=i;y=y.split(".");for(var U=0;U<y.length-1;U++){var ye=y[U];if(!(ye in V))break e;V=V[ye]}y=y[y.length-1],U=V[y],R=R(U),R!=U&&R!=null&&e(V,y,{configurable:!0,writable:!0,value:R})}}function r(y,R){y instanceof String&&(y+="");var V=0,U=!1,ye={next:function(){if(!U&&V<y.length){var ke=V++;return{value:R(ke,y[ke]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}s("Array.prototype.values",function(y){return y||function(){return r(this,function(R,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function u(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function d(y,R,V){return y.call.apply(y.bind,arguments)}function c(y,R,V){if(!y)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,U),y.apply(R,ye)}}return function(){return y.apply(R,arguments)}}function h(y,R,V){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:c,h.apply(null,arguments)}function f(y,R){var V=Array.prototype.slice.call(arguments,1);return function(){var U=V.slice();return U.push.apply(U,arguments),y.apply(this,U)}}function p(y,R){function V(){}V.prototype=R.prototype,y.aa=R.prototype,y.prototype=new V,y.prototype.constructor=y,y.Qb=function(U,ye,ke){for(var je=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)je[wn-2]=arguments[wn];return R.prototype[ye].apply(U,je)}}function m(y){const R=y.length;if(0<R){const V=Array(R);for(let U=0;U<R;U++)V[U]=y[U];return V}return[]}function v(y,R){for(let V=1;V<arguments.length;V++){const U=arguments[V];if(l(U)){const ye=y.length||0,ke=U.length||0;y.length=ye+ke;for(let je=0;je<ke;je++)y[ye+je]=U[je]}else y.push(U)}}class _{constructor(R,V){this.i=R,this.j=V,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(y){return/^[\s\xa0]*$/.test(y)}function x(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function k(y){return k[" "](y),y}k[" "]=function(){};var I=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function E(y,R,V){for(const U in y)R.call(V,y[U],U,y)}function T(y,R){for(const V in y)R.call(void 0,y[V],V,y)}function S(y){const R={};for(const V in y)R[V]=y[V];return R}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(y,R){let V,U;for(let ye=1;ye<arguments.length;ye++){U=arguments[ye];for(V in U)y[V]=U[V];for(let ke=0;ke<w.length;ke++)V=w[ke],Object.prototype.hasOwnProperty.call(U,V)&&(y[V]=U[V])}}function P(y){var R=1;y=y.split(":");const V=[];for(;0<R&&y.length;)V.push(y.shift()),R--;return y.length&&V.push(y.join(":")),V}function D(y){o.setTimeout(()=>{throw y},0)}function A(){var y=K;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class F{constructor(){this.h=this.g=null}add(R,V){const U=L.get();U.set(R,V),this.h?this.h.next=U:this.g=U,this.h=U}}var L=new _(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(R,V){this.h=R,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let X,z=!1,K=new F,Y=()=>{const y=o.Promise.resolve(void 0);X=()=>{y.then(te)}};var te=()=>{for(var y;y=A();){try{y.h.call(y.g)}catch(V){D(V)}var R=L;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const V=()=>{};o.addEventListener("test",V,R),o.removeEventListener("test",V,R)}catch{}return y}();function re(y,R){if(ee.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var V=this.type=y.type,U=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(I){e:{try{k(R.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(R=null)}}else V=="mouseover"?R=y.fromElement:V=="mouseout"&&(R=y.toElement);this.relatedTarget=R,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:se[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&re.aa.h.call(this)}}p(re,ee);var se={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),q=0;function ae(y,R,V,U,ye){this.listener=y,this.proxy=null,this.src=R,this.type=V,this.capture=!!U,this.ha=ye,this.key=++q,this.da=this.fa=!1}function _e(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ge(y){this.src=y,this.g={},this.h=0}ge.prototype.add=function(y,R,V,U,ye){var ke=y.toString();y=this.g[ke],y||(y=this.g[ke]=[],this.h++);var je=N(y,R,U,ye);return-1<je?(R=y[je],V||(R.fa=!1)):(R=new ae(R,this.src,ke,!!U,ye),R.fa=V,y.push(R)),R};function B(y,R){var V=R.type;if(V in y.g){var U=y.g[V],ye=Array.prototype.indexOf.call(U,R,void 0),ke;(ke=0<=ye)&&Array.prototype.splice.call(U,ye,1),ke&&(_e(R),y.g[V].length==0&&(delete y.g[V],y.h--))}}function N(y,R,V,U){for(var ye=0;ye<y.length;++ye){var ke=y[ye];if(!ke.da&&ke.listener==R&&ke.capture==!!V&&ke.ha==U)return ye}return-1}var W="closure_lm_"+(1e6*Math.random()|0),ce={};function de(y,R,V,U,ye){if(Array.isArray(R)){for(var ke=0;ke<R.length;ke++)de(y,R[ke],V,U,ye);return null}return V=st(V),y&&y[$]?y.K(R,V,u(U)?!!U.capture:!1,ye):ne(y,R,V,!1,U,ye)}function ne(y,R,V,U,ye,ke){if(!R)throw Error("Invalid event type");var je=u(ye)?!!ye.capture:!!ye,wn=Fe(y);if(wn||(y[W]=wn=new ge(y)),V=wn.add(R,V,U,je,ke),V.proxy)return V;if(U=Te(),V.proxy=U,U.src=y,U.listener=V,y.addEventListener)ue||(ye=je),ye===void 0&&(ye=!1),y.addEventListener(R.toString(),U,ye);else if(y.attachEvent)y.attachEvent(Ee(R.toString()),U);else if(y.addListener&&y.removeListener)y.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Te(){function y(V){return R.call(y.src,y.listener,V)}const R=ze;return y}function Me(y,R,V,U,ye){if(Array.isArray(R))for(var ke=0;ke<R.length;ke++)Me(y,R[ke],V,U,ye);else U=u(U)?!!U.capture:!!U,V=st(V),y&&y[$]?(y=y.i,R=String(R).toString(),R in y.g&&(ke=y.g[R],V=N(ke,V,U,ye),-1<V&&(_e(ke[V]),Array.prototype.splice.call(ke,V,1),ke.length==0&&(delete y.g[R],y.h--)))):y&&(y=Fe(y))&&(R=y.g[R.toString()],y=-1,R&&(y=N(R,V,U,ye)),(V=-1<y?R[y]:null)&&Se(V))}function Se(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[$])B(R.i,y);else{var V=y.type,U=y.proxy;R.removeEventListener?R.removeEventListener(V,U,y.capture):R.detachEvent?R.detachEvent(Ee(V),U):R.addListener&&R.removeListener&&R.removeListener(U),(V=Fe(R))?(B(V,y),V.h==0&&(V.src=null,R[W]=null)):_e(y)}}}function Ee(y){return y in ce?ce[y]:ce[y]="on"+y}function ze(y,R){if(y.da)y=!0;else{R=new re(R,this);var V=y.listener,U=y.ha||y.src;y.fa&&Se(y),y=V.call(U,R)}return y}function Fe(y){return y=y[W],y instanceof ge?y:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(y){return typeof y=="function"?y:(y[qe]||(y[qe]=function(R){return y.handleEvent(R)}),y[qe])}function et(){Q.call(this),this.i=new ge(this),this.M=this,this.F=null}p(et,Q),et.prototype[$]=!0,et.prototype.removeEventListener=function(y,R,V,U){Me(this,y,R,V,U)};function We(y,R){var V,U=y.F;if(U)for(V=[];U;U=U.F)V.push(U);if(y=y.M,U=R.type||R,typeof R=="string")R=new ee(R,y);else if(R instanceof ee)R.target=R.target||y;else{var ye=R;R=new ee(U,y),C(R,ye)}if(ye=!0,V)for(var ke=V.length-1;0<=ke;ke--){var je=R.g=V[ke];ye=Rt(je,U,!0,R)&&ye}if(je=R.g=y,ye=Rt(je,U,!0,R)&&ye,ye=Rt(je,U,!1,R)&&ye,V)for(ke=0;ke<V.length;ke++)je=R.g=V[ke],ye=Rt(je,U,!1,R)&&ye}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var V=y.g[R],U=0;U<V.length;U++)_e(V[U]);delete y.g[R],y.h--}}this.F=null},et.prototype.K=function(y,R,V,U){return this.i.add(String(y),R,!1,V,U)},et.prototype.L=function(y,R,V,U){return this.i.add(String(y),R,!0,V,U)};function Rt(y,R,V,U){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var ye=!0,ke=0;ke<R.length;++ke){var je=R[ke];if(je&&!je.da&&je.capture==V){var wn=je.listener,Yi=je.ha||je.src;je.fa&&B(y.i,je),ye=wn.call(Yi,U)!==!1&&ye}}return ye&&!U.defaultPrevented}function tn(y,R,V){if(typeof y=="function")V&&(y=h(y,V));else if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(y,R||0)}function mi(y){y.g=tn(()=>{y.g=null,y.i&&(y.i=!1,mi(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class pe extends Q{constructor(R,V){super(),this.m=R,this.l=V,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(y){Q.call(this),this.h=y,this.g={}}p(he,Q);var Ae=[];function He(y){E(y.g,function(R,V){this.g.hasOwnProperty(V)&&Se(R)},y),y.g={}}he.prototype.N=function(){he.aa.N.call(this),He(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=o.JSON.stringify,ht=o.JSON.parse,ot=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function pn(){}pn.prototype.h=null;function Xn(y){return y.h||(y.h=y.i())}function Ci(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){ee.call(this,"d")}p(gi,ee);function Vi(){ee.call(this,"c")}p(Vi,ee);var pi={},qo=null;function Xo(){return qo=qo||new et}pi.La="serverreachability";function Wc(y){ee.call(this,pi.La,y)}p(Wc,ee);function to(y){const R=Xo();We(R,new Wc(R))}pi.STAT_EVENT="statevent";function Yc(y,R){ee.call(this,pi.STAT_EVENT,y),this.stat=R}p(Yc,ee);function Cs(y){const R=Xo();We(R,new Yc(R,y))}pi.Ma="timingevent";function iE(y,R){ee.call(this,pi.Ma,y),this.size=R}p(iE,ee);function Jh(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},R)}function Zh(){this.g=!0}Zh.prototype.xa=function(){this.g=!1};function i9(y,R,V,U,ye,ke){y.info(function(){if(y.g)if(ke)for(var je="",wn=ke.split("&"),Yi=0;Yi<wn.length;Yi++){var Qt=wn[Yi].split("=");if(1<Qt.length){var cs=Qt[0];Qt=Qt[1];var ds=cs.split("_");je=2<=ds.length&&ds[1]=="type"?je+(cs+"="+Qt+"&"):je+(cs+"=redacted&")}}else je=null;else je=ke;return"XMLHTTP REQ ("+U+") [attempt "+ye+"]: "+R+`
`+V+`
`+je})}function s9(y,R,V,U,ye,ke,je){y.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ye+"]: "+R+`
`+V+`
`+ke+" "+je})}function Gc(y,R,V,U){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+a9(y,V)+(U?" "+U:"")})}function r9(y,R){y.info(function(){return"TIMEOUT: "+R})}Zh.prototype.info=function(){};function a9(y,R){if(!y.g)return R;if(!R)return null;try{var V=JSON.parse(R);if(V){for(y=0;y<V.length;y++)if(Array.isArray(V[y])){var U=V[y];if(!(2>U.length)){var ye=U[1];if(Array.isArray(ye)&&!(1>ye.length)){var ke=ye[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var je=1;je<ye.length;je++)ye[je]=""}}}}return Qe(V)}catch{return R}}var dp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hw;function hp(){}p(hp,pn),hp.prototype.g=function(){return new XMLHttpRequest},hp.prototype.i=function(){return{}},Hw=new hp;function Ko(y,R,V,U){this.j=y,this.i=R,this.l=V,this.R=U||1,this.U=new he(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rE}function rE(){this.i=null,this.g="",this.h=!1}var aE={},zw={};function Ww(y,R,V){y.L=1,y.v=pp(no(R)),y.m=V,y.P=!0,oE(y,null)}function oE(y,R){y.F=Date.now(),fp(y),y.A=no(y.v);var V=y.A,U=y.R;Array.isArray(U)||(U=[String(U)]),wE(V.i,"t",U),y.C=0,V=y.j.J,y.h=new rE,y.g=BE(y.j,V?R:null,!y.m),0<y.O&&(y.M=new pe(h(y.Y,y,y.g),y.O)),R=y.U,V=y.g,U=y.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(Ae[0]=ye.toString()),ye=Ae);for(var ke=0;ke<ye.length;ke++){var je=de(V,ye[ke],U||R.handleEvent,!1,R.h||R);if(!je)break;R.g[je.key]=je}R=y.H?S(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),to(),i9(y.i,y.u,y.A,y.l,y.R,y.m)}Ko.prototype.ca=function(y){y=y.target;const R=this.M;R&&io(y)==3?R.j():this.Y(y)},Ko.prototype.Y=function(y){try{if(y==this.g)e:{const ds=io(this.g);var R=this.g.Ba();const Kc=this.g.Z();if(!(3>ds)&&(ds!=3||this.g&&(this.h.h||this.g.oa()||EE(this.g)))){this.J||ds!=4||R==7||(R==8||0>=Kc?to(3):to(2)),Yw(this);var V=this.g.Z();this.X=V;t:if(lE(this)){var U=EE(this.g);y="";var ye=U.length,ke=io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ou(this),ef(this);var je="";break t}this.h.i=new o.TextDecoder}for(R=0;R<ye;R++)this.h.h=!0,y+=this.h.i.decode(U[R],{stream:!(ke&&R==ye-1)});U.length=0,this.h.g+=y,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=V==200,s9(this.i,this.u,this.A,this.l,this.R,ds,V),this.o){if(this.T&&!this.K){t:{if(this.g){var wn,Yi=this.g;if((wn=Yi.g?Yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(wn)){var Qt=wn;break t}}Qt=null}if(V=Qt)Gc(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gw(this,V);else{this.o=!1,this.s=3,Cs(12),ou(this),ef(this);break e}}if(this.P){V=!0;let jr;for(;!this.J&&this.C<je.length;)if(jr=o9(this,je),jr==zw){ds==4&&(this.s=4,Cs(14),V=!1),Gc(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==aE){this.s=4,Cs(15),Gc(this.i,this.l,je,"[Invalid Chunk]"),V=!1;break}else Gc(this.i,this.l,jr,null),Gw(this,jr);if(lE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ds!=4||je.length!=0||this.h.h||(this.s=1,Cs(16),V=!1),this.o=this.o&&V,!V)Gc(this.i,this.l,je,"[Invalid Chunked Response]"),ou(this),ef(this);else if(0<je.length&&!this.W){this.W=!0;var cs=this.j;cs.g==this&&cs.ba&&!cs.M&&(cs.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),Zw(cs),cs.M=!0,Cs(11))}}else Gc(this.i,this.l,je,null),Gw(this,je);ds==4&&ou(this),this.o&&!this.J&&(ds==4?VE(this.j,this):(this.o=!1,fp(this)))}else k9(this.g),V==400&&0<je.indexOf("Unknown SID")?(this.s=3,Cs(12)):(this.s=0,Cs(13)),ou(this),ef(this)}}}catch{}finally{}};function lE(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function o9(y,R){var V=y.C,U=R.indexOf(`
`,V);return U==-1?zw:(V=Number(R.substring(V,U)),isNaN(V)?aE:(U+=1,U+V>R.length?zw:(R=R.slice(U,U+V),y.C=U+V,R)))}Ko.prototype.cancel=function(){this.J=!0,ou(this)};function fp(y){y.S=Date.now()+y.I,uE(y,y.I)}function uE(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Jh(h(y.ba,y),R)}function Yw(y){y.B&&(o.clearTimeout(y.B),y.B=null)}Ko.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(r9(this.i,this.A),this.L!=2&&(to(),Cs(17)),ou(this),this.s=2,ef(this)):uE(this,this.S-y)};function ef(y){y.j.G==0||y.J||VE(y.j,y)}function ou(y){Yw(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,He(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function Gw(y,R){try{var V=y.j;if(V.G!=0&&(V.g==y||qw(V.h,y))){if(!y.K&&qw(V.h,y)&&V.G==3){try{var U=V.Da.g.parse(R)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ye=U;if(ye[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<y.F)xp(V),bp(V);else break e;Jw(V),Cs(18)}}else V.za=ye[1],0<V.za-V.T&&37500>ye[2]&&V.F&&V.v==0&&!V.C&&(V.C=Jh(h(V.Za,V),6e3));if(1>=hE(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else uu(V,11)}else if((y.K||V.g==y)&&xp(V),!b(R))for(ye=V.Da.g.parse(R),R=0;R<ye.length;R++){let Qt=ye[R];if(V.T=Qt[0],Qt=Qt[1],V.G==2)if(Qt[0]=="c"){V.K=Qt[1],V.ia=Qt[2];const cs=Qt[3];cs!=null&&(V.la=cs,V.j.info("VER="+V.la));const ds=Qt[4];ds!=null&&(V.Aa=ds,V.j.info("SVER="+V.Aa));const Kc=Qt[5];Kc!=null&&typeof Kc=="number"&&0<Kc&&(U=1.5*Kc,V.L=U,V.j.info("backChannelRequestTimeoutMs_="+U)),U=V;const jr=y.g;if(jr){const kp=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kp){var ke=U.h;ke.g||kp.indexOf("spdy")==-1&&kp.indexOf("quic")==-1&&kp.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Xw(ke,ke.h),ke.h=null))}if(U.D){const e0=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;e0&&(U.ya=e0,On(U.I,U.D,e0))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-y.F,V.j.info("Handshake RTT: "+V.R+"ms")),U=V;var je=y;if(U.qa=FE(U,U.J?U.ia:null,U.W),je.K){fE(U.h,je);var wn=je,Yi=U.L;Yi&&(wn.I=Yi),wn.B&&(Yw(wn),fp(wn)),U.g=je}else OE(U);0<V.i.length&&wp(V)}else Qt[0]!="stop"&&Qt[0]!="close"||uu(V,7);else V.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?uu(V,7):Qw(V):Qt[0]!="noop"&&V.l&&V.l.ta(Qt),V.v=0)}}to(4)}catch{}}var l9=class{constructor(y,R){this.g=y,this.map=R}};function cE(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dE(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function hE(y){return y.h?1:y.g?y.g.size:0}function qw(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Xw(y,R){y.g?y.g.add(R):y.h=R}function fE(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}cE.prototype.cancel=function(){if(this.i=mE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function mE(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const V of y.g.values())R=R.concat(V.D);return R}return m(y.i)}function u9(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var R=[],V=y.length,U=0;U<V;U++)R.push(y[U]);return R}R=[],V=0;for(U in y)R[V++]=y[U];return R}function c9(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var R=[];y=y.length;for(var V=0;V<y;V++)R.push(V);return R}R=[],V=0;for(const U in y)R[V++]=U;return R}}}function gE(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var V=c9(y),U=u9(y),ye=U.length,ke=0;ke<ye;ke++)R.call(void 0,U[ke],V&&V[ke],y)}var pE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d9(y,R){if(y){y=y.split("&");for(var V=0;V<y.length;V++){var U=y[V].indexOf("="),ye=null;if(0<=U){var ke=y[V].substring(0,U);ye=y[V].substring(U+1)}else ke=y[V];R(ke,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function lu(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof lu){this.h=y.h,mp(this,y.j),this.o=y.o,this.g=y.g,gp(this,y.s),this.l=y.l;var R=y.i,V=new sf;V.i=R.i,R.g&&(V.g=new Map(R.g),V.h=R.h),vE(this,V),this.m=y.m}else y&&(R=String(y).match(pE))?(this.h=!1,mp(this,R[1]||"",!0),this.o=tf(R[2]||""),this.g=tf(R[3]||"",!0),gp(this,R[4]),this.l=tf(R[5]||"",!0),vE(this,R[6]||"",!0),this.m=tf(R[7]||"")):(this.h=!1,this.i=new sf(null,this.h))}lu.prototype.toString=function(){var y=[],R=this.j;R&&y.push(nf(R,_E,!0),":");var V=this.g;return(V||R=="file")&&(y.push("//"),(R=this.o)&&y.push(nf(R,_E,!0),"@"),y.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&y.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&y.push("/"),y.push(nf(V,V.charAt(0)=="/"?m9:f9,!0))),(V=this.i.toString())&&y.push("?",V),(V=this.m)&&y.push("#",nf(V,p9)),y.join("")};function no(y){return new lu(y)}function mp(y,R,V){y.j=V?tf(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function gp(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function vE(y,R,V){R instanceof sf?(y.i=R,v9(y.i,y.h)):(V||(R=nf(R,g9)),y.i=new sf(R,y.h))}function On(y,R,V){y.i.set(R,V)}function pp(y){return On(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function tf(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function nf(y,R,V){return typeof y=="string"?(y=encodeURI(y).replace(R,h9),V&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function h9(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var _E=/[#\/\?@]/g,f9=/[#\?:]/g,m9=/[#\?]/g,g9=/[#\?@]/g,p9=/#/g;function sf(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function Qo(y){y.g||(y.g=new Map,y.h=0,y.i&&d9(y.i,function(R,V){y.add(decodeURIComponent(R.replace(/\+/g," ")),V)}))}t=sf.prototype,t.add=function(y,R){Qo(this),this.i=null,y=qc(this,y);var V=this.g.get(y);return V||this.g.set(y,V=[]),V.push(R),this.h+=1,this};function yE(y,R){Qo(y),R=qc(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function bE(y,R){return Qo(y),R=qc(y,R),y.g.has(R)}t.forEach=function(y,R){Qo(this),this.g.forEach(function(V,U){V.forEach(function(ye){y.call(R,ye,U,this)},this)},this)},t.na=function(){Qo(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),V=[];for(let U=0;U<R.length;U++){const ye=y[U];for(let ke=0;ke<ye.length;ke++)V.push(R[U])}return V},t.V=function(y){Qo(this);let R=[];if(typeof y=="string")bE(this,y)&&(R=R.concat(this.g.get(qc(this,y))));else{y=Array.from(this.g.values());for(let V=0;V<y.length;V++)R=R.concat(y[V])}return R},t.set=function(y,R){return Qo(this),this.i=null,y=qc(this,y),bE(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},t.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function wE(y,R,V){yE(y,R),0<V.length&&(y.i=null,y.g.set(qc(y,R),m(V)),y.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var V=0;V<R.length;V++){var U=R[V];const ke=encodeURIComponent(String(U)),je=this.V(U);for(U=0;U<je.length;U++){var ye=ke;je[U]!==""&&(ye+="="+encodeURIComponent(String(je[U]))),y.push(ye)}}return this.i=y.join("&")};function qc(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function v9(y,R){R&&!y.j&&(Qo(y),y.i=null,y.g.forEach(function(V,U){var ye=U.toLowerCase();U!=ye&&(yE(this,U),wE(this,ye,V))},y)),y.j=R}function _9(y,R){const V=new Zh;if(o.Image){const U=new Image;U.onload=f(Jo,V,"TestLoadImage: loaded",!0,R,U),U.onerror=f(Jo,V,"TestLoadImage: error",!1,R,U),U.onabort=f(Jo,V,"TestLoadImage: abort",!1,R,U),U.ontimeout=f(Jo,V,"TestLoadImage: timeout",!1,R,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=y}else R(!1)}function y9(y,R){const V=new Zh,U=new AbortController,ye=setTimeout(()=>{U.abort(),Jo(V,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:U.signal}).then(ke=>{clearTimeout(ye),ke.ok?Jo(V,"TestPingServer: ok",!0,R):Jo(V,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ye),Jo(V,"TestPingServer: error",!1,R)})}function Jo(y,R,V,U,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),U(V)}catch{}}function b9(){this.g=new ot}function w9(y,R,V){const U=V||"";try{gE(y,function(ye,ke){let je=ye;u(ye)&&(je=Qe(ye)),R.push(U+ke+"="+encodeURIComponent(je))})}catch(ye){throw R.push(U+"type="+encodeURIComponent("_badmap")),ye}}function vp(y){this.l=y.Ub||null,this.j=y.eb||!1}p(vp,pn),vp.prototype.g=function(){return new _p(this.l,this.j)},vp.prototype.i=function(y){return function(){return y}}({});function _p(y,R){et.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(_p,et),t=_p.prototype,t.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,af(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rf(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,af(this)),this.g&&(this.readyState=3,af(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xE(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function xE(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?rf(this):af(this),this.readyState==3&&xE(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,rf(this))},t.Qa=function(y){this.g&&(this.response=y,rf(this))},t.ga=function(){this.g&&rf(this)};function rf(y){y.readyState=4,y.l=null,y.j=null,y.v=null,af(y)}t.setRequestHeader=function(y,R){this.u.append(y,R)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var V=R.next();!V.done;)V=V.value,y.push(V[0]+": "+V[1]),V=R.next();return y.join(`\r
`)};function af(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(_p.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function SE(y){let R="";return E(y,function(V,U){R+=U,R+=":",R+=V,R+=`\r
`}),R}function Kw(y,R,V){e:{for(U in V){var U=!1;break e}U=!0}U||(V=SE(V),typeof y=="string"?V!=null&&encodeURIComponent(String(V)):On(y,R,V))}function ei(y){et.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ei,et);var x9=/^https?$/i,S9=["POST","PUT"];t=ei.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,R,V,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hw.g(),this.v=this.o?Xn(this.o):Xn(Hw),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(ke){kE(this,ke);return}if(y=V||"",V=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ye in U)V.set(ye,U[ye]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ke of U.keys())V.set(ke,U.get(ke));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(V.keys()).find(ke=>ke.toLowerCase()=="content-type"),ye=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(S9,R,void 0))||U||ye||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,je]of V)this.g.setRequestHeader(ke,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{CE(this),this.u=!0,this.g.send(y),this.u=!1}catch(ke){kE(this,ke)}};function kE(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,TE(y),yp(y)}function TE(y){y.A||(y.A=!0,We(y,"complete"),We(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,We(this,"complete"),We(this,"abort"),yp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yp(this,!0)),ei.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PE(this):this.bb())},t.bb=function(){PE(this)};function PE(y){if(y.h&&typeof a<"u"&&(!y.v[1]||io(y)!=4||y.Z()!=2)){if(y.u&&io(y)==4)tn(y.Ea,0,y);else if(We(y,"readystatechange"),io(y)==4){y.h=!1;try{const je=y.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var V;if(!(V=R)){var U;if(U=je===0){var ye=String(y.D).match(pE)[1]||null;!ye&&o.self&&o.self.location&&(ye=o.self.location.protocol.slice(0,-1)),U=!x9.test(ye?ye.toLowerCase():"")}V=U}if(V)We(y,"complete"),We(y,"success");else{y.m=6;try{var ke=2<io(y)?y.g.statusText:""}catch{ke=""}y.l=ke+" ["+y.Z()+"]",TE(y)}}finally{yp(y)}}}}function yp(y,R){if(y.g){CE(y);const V=y.g,U=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||We(y,"ready");try{V.onreadystatechange=U}catch{}}}function CE(y){y.I&&(o.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function io(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),ht(R)}};function EE(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function k9(y){const R={};y=(y.g&&2<=io(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<y.length;U++){if(b(y[U]))continue;var V=P(y[U]);const ye=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ke=R[ye]||[];R[ye]=ke,ke.push(V)}T(R,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function of(y,R,V){return V&&V.internalChannelParams&&V.internalChannelParams[y]||R}function IE(y){this.Aa=0,this.i=[],this.j=new Zh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=of("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=of("baseRetryDelayMs",5e3,y),this.cb=of("retryDelaySeedMs",1e4,y),this.Wa=of("forwardChannelMaxRetries",2,y),this.wa=of("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new cE(y&&y.concurrentRequestLimit),this.Da=new b9,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=IE.prototype,t.la=8,t.G=1,t.connect=function(y,R,V,U){Cs(0),this.W=y,this.H=R||{},V&&U!==void 0&&(this.H.OSID=V,this.H.OAID=U),this.F=this.X,this.I=FE(this,null,this.W),wp(this)};function Qw(y){if(DE(y),y.G==3){var R=y.U++,V=no(y.I);if(On(V,"SID",y.K),On(V,"RID",R),On(V,"TYPE","terminate"),lf(y,V),R=new Ko(y,y.j,R),R.L=2,R.v=pp(no(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!V&&o.Image&&(new Image().src=R.v,V=!0),V||(R.g=BE(R.j,null),R.g.ea(R.v)),R.F=Date.now(),fp(R)}NE(y)}function bp(y){y.g&&(Zw(y),y.g.cancel(),y.g=null)}function DE(y){bp(y),y.u&&(o.clearTimeout(y.u),y.u=null),xp(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function wp(y){if(!dE(y.h)&&!y.s){y.s=!0;var R=y.Ga;X||Y(),z||(X(),z=!0),K.add(R,y),y.B=0}}function T9(y,R){return hE(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Jh(h(y.Ga,y,R),LE(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ye=new Ko(this,this.j,y);let ke=this.o;if(this.S&&(ke?(ke=S(ke),C(ke,this.S)):ke=this.S),this.m!==null||this.O||(ye.H=ke,ke=null),this.P)e:{for(var R=0,V=0;V<this.i.length;V++){t:{var U=this.i[V];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(R+=U,4096<R){R=V;break e}if(R===4096||V===this.i.length-1){R=V+1;break e}}R=1e3}else R=1e3;R=RE(this,ye,R),V=no(this.I),On(V,"RID",y),On(V,"CVER",22),this.D&&On(V,"X-HTTP-Session-Id",this.D),lf(this,V),ke&&(this.O?R="headers="+encodeURIComponent(String(SE(ke)))+"&"+R:this.m&&Kw(V,this.m,ke)),Xw(this.h,ye),this.Ua&&On(V,"TYPE","init"),this.P?(On(V,"$req",R),On(V,"SID","null"),ye.T=!0,Ww(ye,V,null)):Ww(ye,V,R),this.G=2}}else this.G==3&&(y?AE(this,y):this.i.length==0||dE(this.h)||AE(this))};function AE(y,R){var V;R?V=R.l:V=y.U++;const U=no(y.I);On(U,"SID",y.K),On(U,"RID",V),On(U,"AID",y.T),lf(y,U),y.m&&y.o&&Kw(U,y.m,y.o),V=new Ko(y,y.j,V,y.B+1),y.m===null&&(V.H=y.o),R&&(y.i=R.D.concat(y.i)),R=RE(y,V,1e3),V.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Xw(y.h,V),Ww(V,U,R)}function lf(y,R){y.H&&E(y.H,function(V,U){On(R,U,V)}),y.l&&gE({},function(V,U){On(R,U,V)})}function RE(y,R,V){V=Math.min(y.i.length,V);var U=y.l?h(y.l.Na,y.l,y):null;e:{var ye=y.i;let ke=-1;for(;;){const je=["count="+V];ke==-1?0<V?(ke=ye[0].g,je.push("ofs="+ke)):ke=0:je.push("ofs="+ke);let wn=!0;for(let Yi=0;Yi<V;Yi++){let Qt=ye[Yi].g;const cs=ye[Yi].map;if(Qt-=ke,0>Qt)ke=Math.max(0,ye[Yi].g-100),wn=!1;else try{w9(cs,je,"req"+Qt+"_")}catch{U&&U(cs)}}if(wn){U=je.join("&");break e}}}return y=y.i.splice(0,V),R.D=y,U}function OE(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;X||Y(),z||(X(),z=!0),K.add(R,y),y.v=0}}function Jw(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Jh(h(y.Fa,y),LE(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,ME(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Jh(h(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cs(10),bp(this),ME(this))};function Zw(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function ME(y){y.g=new Ko(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=no(y.qa);On(R,"RID","rpc"),On(R,"SID",y.K),On(R,"AID",y.T),On(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&On(R,"TO",y.ja),On(R,"TYPE","xmlhttp"),lf(y,R),y.m&&y.o&&Kw(R,y.m,y.o),y.L&&(y.g.I=y.L);var V=y.g;y=y.ia,V.L=1,V.v=pp(no(R)),V.m=null,V.P=!0,oE(V,y)}t.Za=function(){this.C!=null&&(this.C=null,bp(this),Jw(this),Cs(19))};function xp(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function VE(y,R){var V=null;if(y.g==R){xp(y),Zw(y),y.g=null;var U=2}else if(qw(y.h,R))V=R.D,fE(y.h,R),U=1;else return;if(y.G!=0){if(R.o)if(U==1){V=R.m?R.m.length:0,R=Date.now()-R.F;var ye=y.B;U=Xo(),We(U,new iE(U,V)),wp(y)}else OE(y);else if(ye=R.s,ye==3||ye==0&&0<R.X||!(U==1&&T9(y,R)||U==2&&Jw(y)))switch(V&&0<V.length&&(R=y.h,R.i=R.i.concat(V)),ye){case 1:uu(y,5);break;case 4:uu(y,10);break;case 3:uu(y,6);break;default:uu(y,2)}}}function LE(y,R){let V=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(V*=2),V*R}function uu(y,R){if(y.j.info("Error code "+R),R==2){var V=h(y.fb,y),U=y.Xa;const ye=!U;U=new lu(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||mp(U,"https"),pp(U),ye?_9(U.toString(),V):y9(U.toString(),V)}else Cs(2);y.G=0,y.l&&y.l.sa(R),NE(y),DE(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Cs(2)):(this.j.info("Failed to ping google.com"),Cs(1))};function NE(y){if(y.G=0,y.ka=[],y.l){const R=mE(y.h);(R.length!=0||y.i.length!=0)&&(v(y.ka,R),v(y.ka,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.ra()}}function FE(y,R,V){var U=V instanceof lu?no(V):new lu(V);if(U.g!="")R&&(U.g=R+"."+U.g),gp(U,U.s);else{var ye=o.location;U=ye.protocol,R=R?R+"."+ye.hostname:ye.hostname,ye=+ye.port;var ke=new lu(null);U&&mp(ke,U),R&&(ke.g=R),ye&&gp(ke,ye),V&&(ke.l=V),U=ke}return V=y.D,R=y.ya,V&&R&&On(U,V,R),On(U,"VER",y.la),lf(y,U),U}function BE(y,R,V){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new ei(new vp({eb:V})):new ei(y.pa),R.Ha(y.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jE(){}t=jE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sp(){}Sp.prototype.g=function(y,R){return new ir(y,R)};function ir(y,R){et.call(this),this.g=new IE(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!b(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new Xc(this)}p(ir,et),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Qw(this.g)},ir.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var V={};V.__data__=y,y=V}else this.u&&(V={},V.__data__=Qe(y),y=V);R.i.push(new l9(R.Ya++,y)),R.G==3&&wp(R)},ir.prototype.N=function(){this.g.l=null,delete this.j,Qw(this.g),delete this.g,ir.aa.N.call(this)};function $E(y){gi.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const V in R){y=V;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}p($E,gi);function UE(){Vi.call(this),this.status=1}p(UE,Vi);function Xc(y){this.g=y}p(Xc,jE),Xc.prototype.ua=function(){We(this.g,"a")},Xc.prototype.ta=function(y){We(this.g,new $E(y))},Xc.prototype.sa=function(y){We(this.g,new UE)},Xc.prototype.ra=function(){We(this.g,"b")},Sp.prototype.createWebChannel=Sp.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,MF=function(){return new Sp},OF=function(){return Xo()},RF=pi,dS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dp.NO_ERROR=0,dp.TIMEOUT=8,dp.HTTP_ERROR=6,Pv=dp,sE.COMPLETE="complete",AF=sE,Ci.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",et.prototype.listen=et.prototype.K,Cf=Ci,ei.prototype.listenOnce=ei.prototype.L,ei.prototype.getLastError=ei.prototype.Ka,ei.prototype.getLastErrorCode=ei.prototype.Ba,ei.prototype.getStatus=ei.prototype.Z,ei.prototype.getResponseJson=ei.prototype.Oa,ei.prototype.getResponseText=ei.prototype.oa,ei.prototype.send=ei.prototype.ea,ei.prototype.setWithCredentials=ei.prototype.Ha,DF=ei}).apply(typeof Lp<"u"?Lp:typeof self<"u"?self:typeof window<"u"?window:{});const qD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new kh("@firebase/firestore");function ud(){return ic.logLevel}function Ke(t,...e){if(ic.logLevel<=Ft.DEBUG){const n=e.map(AT);ic.debug(`Firestore (${Dh}): ${t}`,...n)}}function Io(t,...e){if(ic.logLevel<=Ft.ERROR){const n=e.map(AT);ic.error(`Firestore (${Dh}): ${t}`,...n)}}function qd(t,...e){if(ic.logLevel<=Ft.WARN){const n=e.map(AT);ic.warn(`Firestore (${Dh}): ${t}`,...n)}}function AT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t="Unexpected state"){const e=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: `+t;throw Io(e),new Error(e)}function fn(t,e){t||bt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ms.UNAUTHENTICATED))}shutdown(){}}class oQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lQ{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fn(this.o===void 0);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new So;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new So,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new So)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn(typeof i.accessToken=="string"),new VF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fn(e===null||typeof e=="string"),new ms(e)}}class uQ{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cQ{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new uQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fn(this.o===void 0);const i=r=>{r.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,Ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fn(typeof n.token=="string"),this.R=n.token,new dQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=fQ(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Ht(t,e){return t<e?-1:t>e?1:0}function Xd(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Dt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Dt(0,0))}static max(){return new Pt(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,i){n===void 0?n=0:n>e.length&&bt(),i===void 0?i=e.length-n:i>e.length-n&&bt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Pm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pm?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),a=n.get(s);if(r<a)return-1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends Pm{construct(e,n,i){return new Bn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const mQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Pm{construct(e,n,i){return new ts(e,n,i)}static isValidIdentifier(e){return mQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ts(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Ge(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ge(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new Ge(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(n)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Bn.fromString(e))}static fromName(e){return new dt(Bn.fromString(e).popFirst(5))}static empty(){return new dt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Bn(e.slice()))}}function gQ(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new Dt(n+1,0):new Dt(n,i));return new Ol(s,dt.empty(),e)}function pQ(t){return new Ol(t.readTime,t.key,-1)}class Ol{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ol(Pt.min(),dt.empty(),-1)}static max(){return new Ol(Pt.max(),dt.empty(),-1)}}function vQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=dt.comparator(t.documentKey,e.documentKey),n!==0?n:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==_Q)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,i)=>{n(e)})}static reject(e){return new De((n,i)=>{i(e)})}static waitFor(e){return new De((n,i)=>{let s=0,r=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},l=>i(l))}),a=!0,r===s&&n()})}static or(e){let n=De.resolve(!1);for(const i of e)n=n.next(s=>s?De.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new De((i,s)=>{const r=e.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new De((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function bQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_b.oe=-1;function yb(t){return t==null}function k_(t){return t===0&&1/t==-1/0}function wQ(t){return typeof t=="number"&&Number.isInteger(t)&&!k_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XD(e)),e=SQ(t.get(n),e);return XD(e)}function SQ(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function XD(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.comparator=e,this.root=n||Qi.EMPTY}insert(e,n){return new Zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Np(this.root,e,this.comparator,!1)}getReverseIterator(){return new Np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Np(this.root,e,this.comparator,!0)}}class Np{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Qi.RED,this.left=s??Qi.EMPTY,this.right=r??Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Qi(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1;Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,n,i,s,r){return this}insert(e,n,i){return new Qi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QD(this.data.getIterator())}getIteratorFrom(e){return new QD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ai(this.comparator);return n.data=e,n}}class QD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new hr([])}unionWith(e){let n=new Ai(ts.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xd(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new FF("Invalid base64 string: "+r):r}}(e);return new ss(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const kQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(t){if(fn(!!t),typeof t=="string"){let e=0;const n=kQ.exec(t);if(fn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ci(t.seconds),nanos:ci(t.nanos)}}function ci(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vl(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bb(t){const e=t.mapValue.fields.__previous_value__;return RT(e)?bb(e):e}function Cm(t){const e=Ml(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n,i,s,r,a,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Em{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Em("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Em&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RT(t)?4:CQ(t)?9007199254740991:PQ(t)?10:11:bt()}function Ha(t,e){if(t===e)return!0;const n=Ll(t);if(n!==Ll(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cm(t).isEqual(Cm(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Ml(s.timestampValue),o=Ml(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Vl(s.bytesValue).isEqual(Vl(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return ci(s.geoPointValue.latitude)===ci(r.geoPointValue.latitude)&&ci(s.geoPointValue.longitude)===ci(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ci(s.integerValue)===ci(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=ci(s.doubleValue),o=ci(r.doubleValue);return a===o?k_(a)===k_(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Xd(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(KD(a)!==KD(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ha(a[l],o[l])))return!1;return!0}(t,e);default:return bt()}}function Im(t,e){return(t.values||[]).find(n=>Ha(n,e))!==void 0}function Kd(t,e){if(t===e)return 0;const n=Ll(t),i=Ll(e);if(n!==i)return Ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(r,a){const o=ci(r.integerValue||r.doubleValue),l=ci(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return JD(t.timestampValue,e.timestampValue);case 4:return JD(Cm(t),Cm(e));case 5:return Ht(t.stringValue,e.stringValue);case 6:return function(r,a){const o=Vl(r),l=Vl(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Ht(o[u],l[u]);if(d!==0)return d}return Ht(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const o=Ht(ci(r.latitude),ci(a.latitude));return o!==0?o:Ht(ci(r.longitude),ci(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZD(t.arrayValue,e.arrayValue);case 10:return function(r,a){var o,l,u,d;const c=r.fields||{},h=a.fields||{},f=(o=c.value)===null||o===void 0?void 0:o.arrayValue,p=(l=h.value)===null||l===void 0?void 0:l.arrayValue,m=Ht(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0);return m!==0?m:ZD(f,p)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Fp.mapValue&&a===Fp.mapValue)return 0;if(r===Fp.mapValue)return 1;if(a===Fp.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let c=0;c<l.length&&c<d.length;++c){const h=Ht(l[c],d[c]);if(h!==0)return h;const f=Kd(o[l[c]],u[d[c]]);if(f!==0)return f}return Ht(l.length,d.length)}(t.mapValue,e.mapValue);default:throw bt()}}function JD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const n=Ml(t),i=Ml(e),s=Ht(n.seconds,i.seconds);return s!==0?s:Ht(n.nanos,i.nanos)}function ZD(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Kd(n[s],i[s]);if(r)return r}return Ht(n.length,i.length)}function Qd(t){return hS(t)}function hS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ml(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return dt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=hS(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${hS(n.fields[a])}`;return s+"}"}(t.mapValue):bt()}function Cv(t){switch(Ll(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bb(t);return e?16+Cv(e):16;case 5:return 2*t.stringValue.length;case 6:return Vl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Cv(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Jl(i.fields,(r,a)=>{s+=r.length+Cv(a)}),s}(t.mapValue);default:throw bt()}}function eA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fS(t){return!!t&&"integerValue"in t}function OT(t){return!!t&&"arrayValue"in t}function tA(t){return!!t&&"nullValue"in t}function nA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ev(t){return!!t&&"mapValue"in t}function PQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jl(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Kf(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.value=e}static empty(){return new Xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ev(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kf(n)}setAll(e){let n=ts.emptyPath(),i={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=Kf(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Ev(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Ev(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Jl(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Xs(Kf(this.value))}}function BF(t){const e=[];return Jl(t.fields,(n,i)=>{const s=new ts([n]);if(Ev(i)){const r=BF(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,i,s,r,a,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ys(e,0,Pt.min(),Pt.min(),Pt.min(),Xs.empty(),0)}static newFoundDocument(e,n,i,s){return new ys(e,1,n,Pt.min(),i,s,0)}static newNoDocument(e,n){return new ys(e,2,n,Pt.min(),Pt.min(),Xs.empty(),0)}static newUnknownDocument(e,n){return new ys(e,3,n,Pt.min(),Pt.min(),Xs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.position=e,this.inclusive=n}}function iA(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=dt.comparator(dt.fromName(a.referenceValue),n.key):i=Kd(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function sA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function EQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{}class yi extends jF{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new DQ(e,n,i):n==="array-contains"?new OQ(e,i):n==="in"?new MQ(e,i):n==="not-in"?new VQ(e,i):n==="array-contains-any"?new LQ(e,i):new yi(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new AQ(e,i):new RQ(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kd(n,this.value)):n!==null&&Ll(this.value)===Ll(n)&&this.matchesComparison(Kd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class la extends jF{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new la(e,n)}matches(e){return $F(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $F(t){return t.op==="and"}function UF(t){return IQ(t)&&$F(t)}function IQ(t){for(const e of t.filters)if(e instanceof la)return!1;return!0}function mS(t){if(t instanceof yi)return t.field.canonicalString()+t.op.toString()+Qd(t.value);if(UF(t))return t.filters.map(e=>mS(e)).join(",");{const e=t.filters.map(n=>mS(n)).join(",");return`${t.op}(${e})`}}function HF(t,e){return t instanceof yi?function(i,s){return s instanceof yi&&i.op===s.op&&i.field.isEqual(s.field)&&Ha(i.value,s.value)}(t,e):t instanceof la?function(i,s){return s instanceof la&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&HF(a,s.filters[o]),!0):!1}(t,e):void bt()}function zF(t){return t instanceof yi?function(n){return`${n.field.canonicalString()} ${n.op} ${Qd(n.value)}`}(t):t instanceof la?function(n){return n.op.toString()+" {"+n.getFilters().map(zF).join(" ,")+"}"}(t):"Filter"}class DQ extends yi{constructor(e,n,i){super(e,n,i),this.key=dt.fromName(i.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class AQ extends yi{constructor(e,n){super(e,"in",n),this.keys=WF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RQ extends yi{constructor(e,n){super(e,"not-in",n),this.keys=WF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>dt.fromName(i.referenceValue))}class OQ extends yi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return OT(n)&&Im(n.arrayValue,this.value)}}class MQ extends yi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Im(this.value.arrayValue,n)}}class VQ extends yi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Im(this.value.arrayValue,n)}}class LQ extends yi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!OT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Im(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,n=null,i=[],s=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.ue=null}}function rA(t,e=null,n=[],i=[],s=null,r=null,a=null){return new NQ(t,e,n,i,s,r,a)}function MT(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>mS(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),yb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Qd(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Qd(i)).join(",")),e.ue=n}return e.ue}function VT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sA(t.startAt,e.startAt)&&sA(t.endAt,e.endAt)}function gS(t){return dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FQ(t,e,n,i,s,r,a,o){return new Oh(t,e,n,i,s,r,a,o)}function wb(t){return new Oh(t)}function aA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YF(t){return t.collectionGroup!==null}function Qf(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Ai(ts.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Dm(r,i))}),n.has(ts.keyField().canonicalString())||e.ce.push(new Dm(ts.keyField(),i))}return e.ce}function Oa(t){const e=Et(t);return e.le||(e.le=BQ(e,Qf(t))),e.le}function BQ(t,e){if(t.limitType==="F")return rA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Dm(s.field,r)});const n=t.endAt?new T_(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new T_(t.startAt.position,t.startAt.inclusive):null;return rA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function pS(t,e){const n=t.filters.concat([e]);return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vS(t,e,n){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xb(t,e){return VT(Oa(t),Oa(e))&&t.limitType===e.limitType}function GF(t){return`${MT(Oa(t))}|lt:${t.limitType}`}function cd(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>zF(s)).join(", ")}]`),yb(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Qd(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Qd(s)).join(",")),`Target(${i})`}(Oa(t))}; limitType=${t.limitType})`}function Sb(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):dt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Qf(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,o,l){const u=iA(a,o,l);return a.inclusive?u<=0:u<0}(i.startAt,Qf(i),s)||i.endAt&&!function(a,o,l){const u=iA(a,o,l);return a.inclusive?u>=0:u>0}(i.endAt,Qf(i),s))}(t,e)}function jQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qF(t){return(e,n)=>{let i=!1;for(const s of Qf(t)){const r=$Q(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function $Q(t,e,n){const i=t.field.isKeyField()?dt.comparator(e.key,n.key):function(r,a,o){const l=a.data.field(r),u=o.data.field(r);return l!==null&&u!==null?Kd(l,u):bt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return NF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=new Zn(dt.comparator);function Do(){return UQ}const XF=new Zn(dt.comparator);function Ef(...t){let e=XF;for(const n of t)e=e.insert(n.key,n);return e}function KF(t){let e=XF;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Au(){return Jf()}function QF(){return Jf()}function Jf(){return new Ic(t=>t.toString(),(t,e)=>t.isEqual(e))}const HQ=new Zn(dt.comparator),zQ=new Ai(dt.comparator);function Ut(...t){let e=zQ;for(const n of t)e=e.add(n);return e}const WQ=new Ai(Ht);function YQ(){return WQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k_(e)?"-0":e}}function JF(t){return{integerValue:""+t}}function GQ(t,e){return wQ(e)?JF(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._=void 0}}function qQ(t,e,n){return t instanceof P_?function(s,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&RT(r)&&(r=bb(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof Am?eB(t,e):t instanceof Rm?tB(t,e):function(s,r){const a=ZF(s,r),o=oA(a)+oA(s.Pe);return fS(a)&&fS(s.Pe)?JF(o):LT(s.serializer,o)}(t,e)}function XQ(t,e,n){return t instanceof Am?eB(t,e):t instanceof Rm?tB(t,e):n}function ZF(t,e){return t instanceof C_?function(i){return fS(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class P_ extends kb{}class Am extends kb{constructor(e){super(),this.elements=e}}function eB(t,e){const n=nB(e);for(const i of t.elements)n.some(s=>Ha(s,i))||n.push(i);return{arrayValue:{values:n}}}class Rm extends kb{constructor(e){super(),this.elements=e}}function tB(t,e){let n=nB(e);for(const i of t.elements)n=n.filter(s=>!Ha(s,i));return{arrayValue:{values:n}}}class C_ extends kb{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function oA(t){return ci(t.integerValue||t.doubleValue)}function nB(t){return OT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KQ(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Am&&s instanceof Am||i instanceof Rm&&s instanceof Rm?Xd(i.elements,s.elements,Ha):i instanceof C_&&s instanceof C_?Ha(i.Pe,s.Pe):i instanceof P_&&s instanceof P_}(t.transform,e.transform)}class QQ{constructor(e,n){this.version=e,this.transformResults=n}}class Qs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tb{}function iB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pb(t.key,Qs.none()):new Fg(t.key,t.data,Qs.none());{const n=t.data,i=Xs.empty();let s=new Ai(ts.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Zl(t.key,i,new hr(s.toArray()),Qs.none())}}function JQ(t,e,n){t instanceof Fg?function(s,r,a){const o=s.value.clone(),l=uA(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Zl?function(s,r,a){if(!Iv(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=uA(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(sB(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Zf(t,e,n,i){return t instanceof Fg?function(r,a,o,l){if(!Iv(r.precondition,a))return o;const u=r.value.clone(),d=cA(r.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Zl?function(r,a,o,l){if(!Iv(r.precondition,a))return o;const u=cA(r.fieldTransforms,l,a),d=a.data;return d.setAll(sB(r)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(t,e,n,i):function(r,a,o){return Iv(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function ZQ(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=ZF(i.transform,s||null);r!=null&&(n===null&&(n=Xs.empty()),n.set(i.field,r))}return n||null}function lA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Xd(i,s,(r,a)=>KQ(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fg extends Tb{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zl extends Tb{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function sB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function uA(t,e,n){const i=new Map;fn(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,o=e.data.field(r.field);i.set(r.field,XQ(a,o,n[s]))}return i}function cA(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,qQ(r,a,e))}return i}class Pb extends Tb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eJ extends Tb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&JQ(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Zf(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Zf(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=QF();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const l=iB(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Xd(this.mutations,e.mutations,(n,i)=>lA(n,i))&&Xd(this.baseMutations,e.baseMutations,(n,i)=>lA(n,i))}}class NT{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){fn(e.mutations.length===i.length);let s=function(){return HQ}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new NT(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi,Yt;function sJ(t){switch(t){default:return bt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function rB(t){if(t===void 0)return Io("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case vi.OK:return Ie.OK;case vi.CANCELLED:return Ie.CANCELLED;case vi.UNKNOWN:return Ie.UNKNOWN;case vi.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case vi.INTERNAL:return Ie.INTERNAL;case vi.UNAVAILABLE:return Ie.UNAVAILABLE;case vi.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case vi.NOT_FOUND:return Ie.NOT_FOUND;case vi.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case vi.ABORTED:return Ie.ABORTED;case vi.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case vi.DATA_LOSS:return Ie.DATA_LOSS;default:return bt()}}(Yt=vi||(vi={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=new ju([4294967295,4294967295],0);function dA(t){const e=rJ().encode(t),n=new IF;return n.update(e),new Uint8Array(n.digest())}function hA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new ju([n,i],0),new ju([s,r],0)]}class FT{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new If(`Invalid padding: ${n}`);if(i<0)throw new If(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new If(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ju.fromNumber(this.Te)}Ee(e,n,i){let s=e.add(n.multiply(ju.fromNumber(i)));return s.compare(aJ)===1&&(s=new ju([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=dA(e),[i,s]=hA(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);if(!this.de(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new FT(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.Te===0)return;const n=dA(e),[i,s]=hA(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Bg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cb(Pt.min(),s,new Zn(Ht),Do(),Ut())}}class Bg{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bg(i,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class aB{constructor(e,n){this.targetId=e,this.me=n}}class oB{constructor(e,n,i=ss.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class fA{constructor(){this.fe=0,this.ge=mA(),this.pe=ss.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),i=Ut();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:bt()}}),new Bg(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=mA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Do(),this.qe=Bp(),this.Qe=Bp(),this.Ke=new Zn(Ht)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.je(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.De(e.resumeToken));break;default:bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.me.count,s=this.Ye(n);if(s){const r=s.target;if(gS(r))if(i===0){const a=new dt(r.path);this.We(n,a,ys.newNoDocument(a,Pt.min()))}else fn(i===1);else{const a=this.Ze(n);if(a!==i){const o=this.Xe(e),l=o?this.et(o,e,a):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Vl(i).toUint8Array()}catch(l){if(l instanceof FF)return qd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new FT(a,s,r)}catch(l){return qd(l instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(e,n,i){return n.me.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.We(n,r,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((r,a)=>{const o=this.Ye(a);if(o){if(r.current&&gS(o.target)){const l=new dt(o.target.path);this.st(l).has(a)||this.ot(a,l)||this.We(a,l,ys.newNoDocument(l,e))}r.be&&(n.set(a,r.ve()),r.Ce())}});let i=Ut();this.Qe.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,a)=>a.setReadTime(e));const s=new Cb(e,n,this.Ke,this.ke,i);return this.ke=Do(),this.qe=Bp(),this.Qe=Bp(),this.Ke=new Zn(Ht),s}Ue(e,n){if(!this.je(e))return;const i=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new fA,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ai(Ht),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ai(Ht),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new fA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bp(){return new Zn(dt.comparator)}function mA(){return new Zn(dt.comparator)}const lJ={asc:"ASCENDING",desc:"DESCENDING"},uJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cJ={and:"AND",or:"OR"};class dJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _S(t,e){return t.useProto3Json||yb(e)?e:{value:e}}function E_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hJ(t,e){return E_(t,e.toTimestamp())}function Ma(t){return fn(!!t),Pt.fromTimestamp(function(n){const i=Ml(n);return new Dt(i.seconds,i.nanos)}(t))}function BT(t,e){return yS(t,e).canonicalString()}function yS(t,e){const n=function(s){return new Bn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uB(t){const e=Bn.fromString(t);return fn(mB(e)),e}function bS(t,e){return BT(t.databaseId,e.path)}function I0(t,e){const n=uB(e);if(n.get(1)!==t.databaseId.projectId)throw new Ge(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ge(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new dt(dB(n))}function cB(t,e){return BT(t.databaseId,e)}function fJ(t){const e=uB(t);return e.length===4?Bn.emptyPath():dB(e)}function wS(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dB(t){return fn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gA(t,e,n){return{name:bS(t,e),fields:n.value.mapValue.fields}}function mJ(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(u,d){return u.useProto3Json?(fn(d===void 0||typeof d=="string"),ss.fromBase64String(d||"")):(fn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ss.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?Ie.UNKNOWN:rB(u.code);return new Ge(d,u.message||"")}(a);n=new oB(i,s,r,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=I0(t,i.document.name),r=Ma(i.document.updateTime),a=i.document.createTime?Ma(i.document.createTime):Pt.min(),o=new Xs({mapValue:{fields:i.document.fields}}),l=ys.newFoundDocument(s,r,a,o),u=i.targetIds||[],d=i.removedTargetIds||[];n=new Dv(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=I0(t,i.document),r=i.readTime?Ma(i.readTime):Pt.min(),a=ys.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Dv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=I0(t,i.document),r=i.removedTargetIds||[];n=new Dv([],r,s,null)}else{if(!("filter"in e))return bt();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new iJ(s,r),o=i.targetId;n=new aB(o,a)}}return n}function gJ(t,e){let n;if(e instanceof Fg)n={update:gA(t,e.key,e.value)};else if(e instanceof Pb)n={delete:bS(t,e.key)};else if(e instanceof Zl)n={update:gA(t,e.key,e.data),updateMask:kJ(e.fieldMask)};else{if(!(e instanceof eJ))return bt();n={verify:bS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof P_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Am)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Rm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof C_)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw bt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:hJ(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:bt()}(t,e.precondition)),n}function pJ(t,e){return t&&t.length>0?(fn(e!==void 0),t.map(n=>function(s,r){let a=s.updateTime?Ma(s.updateTime):Ma(r);return a.isEqual(Pt.min())&&(a=Ma(r)),new QQ(a,s.transformResults||[])}(n,e))):[]}function vJ(t,e){return{documents:[cB(t,e.path)]}}function _J(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=cB(t,s);const r=function(u){if(u.length!==0)return fB(la.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:dd(h.field),direction:wJ(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=_S(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:s}}function yJ(t){let e=fJ(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){fn(i===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(c){const h=hB(c);return h instanceof la&&UF(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(c){return c.map(h=>function(p){return new Dm(hd(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(c){let h;return h=typeof c=="object"?c.value:c,yb(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new T_(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new T_(f,h)}(n.endAt)),FQ(e,s,a,r,o,"F",l,u)}function bJ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hd(n.unaryFilter.field);return yi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=hd(n.unaryFilter.field);return yi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hd(n.unaryFilter.field);return yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hd(n.unaryFilter.field);return yi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(t):t.fieldFilter!==void 0?function(n){return yi.create(hd(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return la.create(n.compositeFilter.filters.map(i=>hB(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(t):bt()}function wJ(t){return lJ[t]}function xJ(t){return uJ[t]}function SJ(t){return cJ[t]}function dd(t){return{fieldPath:t.canonicalString()}}function hd(t){return ts.fromServerFormat(t.fieldPath)}function fB(t){return t instanceof yi?function(n){if(n.op==="=="){if(nA(n.value))return{unaryFilter:{field:dd(n.field),op:"IS_NAN"}};if(tA(n.value))return{unaryFilter:{field:dd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nA(n.value))return{unaryFilter:{field:dd(n.field),op:"IS_NOT_NAN"}};if(tA(n.value))return{unaryFilter:{field:dd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(n.field),op:xJ(n.op),value:n.value}}}(t):t instanceof la?function(n){const i=n.getFilters().map(s=>fB(s));return i.length===1?i[0]:{compositeFilter:{op:SJ(n.op),filters:i}}}(t):bt()}function kJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,i,s,r=Pt.min(),a=Pt.min(),o=ss.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e){this.ht=e}}function PJ(t){const e=yJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(){this.ln=new EJ}addToCollectionParentIndex(e,n){return this.ln.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Ol.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Ol.min())}updateCollectionGroup(e,n,i){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class EJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ai(Bn.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ai(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Jd(0)}static Qn(){return new Jd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA([t,e],[n,i]){const s=Ht(t,n);return s===0?Ht(e,i):s}class IJ{constructor(e){this.Gn=e,this.buffer=new Ai(vA),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DJ{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rh(n)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ah(n)}await this.Yn(3e5)})}}class AJ{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return De.resolve(_b.oe);const i=new IJ(n);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(pA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pA):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let i,s,r,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),s=this.params.maximumSequenceNumbersToCollect):s=c,a=Date.now(),this.nthSequenceNumber(e,s))).next(c=>(i=c,o=Date.now(),this.removeTargets(e,i,n))).next(c=>(r=c,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(c=>(u=Date.now(),ud()<=Ft.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:c})))}}function RJ(t,e){return new AJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this.changes=new Ic(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?De.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Zf(i.mutation,s,hr.empty(),Dt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ut()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ut()){const s=Au();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Ef();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Au();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ut()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,i,s){let r=Do();const a=Jf(),o=function(){return Jf()}();return n.forEach((l,u)=>{const d=i.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Zl)?r=r.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Zf(d.mutation,u,d.mutation.getFieldMask(),Dt.now())):a.set(u.key,hr.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var c;return o.set(u,new MJ(d,(c=a.get(u))!==null&&c!==void 0?c:null))}),o))}recalculateAndSaveOverlays(e,n){const i=Jf();let s=new Zn((a,o)=>a-o),r=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=i.get(l)||hr.empty();d=o.applyToLocalView(u,d),i.set(l,d);const c=(s.get(o.batchId)||Ut()).add(l);s=s.insert(o.batchId,c)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,c=QF();d.forEach(h=>{if(!r.has(h)){const f=iB(n.get(h),i.get(h));f!==null&&c.set(h,f),r=r.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,c))}return De.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):De.resolve(Au());let o=-1,l=r;return a.next(u=>De.forEach(u,(d,c)=>(o<c.largestBatchId&&(o=c.largestBatchId),r.get(d)?De.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Ut())).next(d=>({batchId:o,changes:KF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(i=>{let s=Ef();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Ef();return this.indexManager.getCollectionParents(e,r).next(o=>De.forEach(o,l=>{const u=function(c,h){return new Oh(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,s).next(d=>{d.forEach((c,h)=>{a=a.insert(c,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,ys.newInvalidDocument(d)))});let o=Ef();return a.forEach((l,u)=>{const d=r.get(l);d!==void 0&&Zf(d.mutation,u,hr.empty(),Dt.now()),Sb(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return De.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ma(s.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:PJ(s.bundledQuery),readTime:Ma(s.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(){this.overlays=new Zn(dt.comparator),this.Er=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Au();return De.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.Tt(e,n,r)}),De.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Er.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Er.delete(i)),De.resolve()}getOverlaysForCollection(e,n,i){const s=Au(),r=n.length+1,a=new dt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return De.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Zn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=r.get(u.largestBatchId);d===null&&(d=Au(),r=r.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Au(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=s)););return De.resolve(o)}Tt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Er.get(s.largestBatchId).delete(i.key);this.Er.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new nJ(n,i));let r=this.Er.get(n);r===void 0&&(r=Ut(),this.Er.set(n,r)),this.Er.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.dr=new Ai(Ni.Ar),this.Rr=new Ai(Ni.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const i=new Ni(e,n);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.gr(new Ni(e,n))}pr(e,n){e.forEach(i=>this.removeReference(i,n))}yr(e){const n=new dt(new Bn([])),i=new Ni(n,e),s=new Ni(n,e+1),r=[];return this.Rr.forEachInRange([i,s],a=>{this.gr(a),r.push(a.key)}),r}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new dt(new Bn([])),i=new Ni(n,e),s=new Ni(n,e+1);let r=Ut();return this.Rr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new Ni(e,0),i=this.dr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ni{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return dt.comparator(e.key,n.key)||Ht(e.br,n.br)}static Vr(e,n){return Ht(e.br,n.br)||dt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ai(Ni.Ar)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new tJ(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.vr=this.vr.add(new Ni(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return De.resolve(a)}lookupMutationBatch(e,n){return De.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Fr(i),r=s<0?0:s;return De.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ni(n,0),s=new Ni(n,Number.POSITIVE_INFINITY),r=[];return this.vr.forEachInRange([i,s],a=>{const o=this.Cr(a.br);r.push(o)}),De.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ai(Ht);return n.forEach(s=>{const r=new Ni(s,0),a=new Ni(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([r,a],o=>{i=i.add(o.br)})}),De.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;dt.isDocumentKey(r)||(r=r.child(""));const a=new Ni(new dt(r),0);let o=new Ai(Ht);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.br)),!0)},a),De.resolve(this.Mr(o))}Mr(e){const n=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){fn(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return De.forEach(n.mutations,s=>{const r=new Ni(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,n){const i=new Ni(n,0),s=this.vr.firstAfterOrEqual(i);return De.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.Nr=e,this.docs=function(){return new Zn(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.Nr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return De.resolve(i?i.document.mutableCopy():ys.newInvalidDocument(n))}getEntries(e,n){let i=Do();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ys.newInvalidDocument(s))}),De.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Do();const a=n.path,o=new dt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||vQ(pQ(d),i)<=0||(s.has(d.key)||Sb(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return De.resolve(r)}getAllFromCollectionGroup(e,n,i,s){bt()}Lr(e,n){return De.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new $J(this)}getSize(e){return De.resolve(this.size)}}class $J extends OJ{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),De.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.persistence=e,this.Br=new Ic(n=>MT(n),VT),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.kr=0,this.qr=new jT,this.targetCount=0,this.Qr=Jd.qn()}forEachTarget(e,n){return this.Br.forEach((i,s)=>n(s)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.kr&&(this.kr=n),De.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Jd(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Un(n),De.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Br.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Br.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),De.waitFor(r).next(()=>s)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const i=this.Br.get(n)||null;return De.resolve(i)}addMatchingKeys(e,n,i){return this.qr.mr(n,i),De.resolve()}removeMatchingKeys(e,n,i){this.qr.pr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),De.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const i=this.qr.Sr(n);return De.resolve(i)}containsKey(e,n){return De.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n){this.Kr={},this.overlays={},this.$r=new _b(0),this.Ur=!1,this.Ur=!0,this.Wr=new FJ,this.referenceDelegate=e(this),this.Gr=new UJ(this),this.indexManager=new CJ,this.remoteDocumentCache=function(s){return new jJ(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new TJ(n),this.jr=new LJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Kr[e.toKey()];return i||(i=new BJ(n,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,i){Ke("MemoryPersistence","Starting transaction:",e);const s=new HJ(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(r=>this.referenceDelegate.Jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Yr(e,n){return De.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,n)))}}class HJ extends yQ{constructor(e){super(),this.currentSequenceNumber=e}}class $T{constructor(e){this.persistence=e,this.Zr=new jT,this.Xr=null}static ei(e){return new $T(e)}get ti(){if(this.Xr)return this.Xr;throw bt()}addReference(e,n,i){return this.Zr.addReference(i,n),this.ti.delete(i.toString()),De.resolve()}removeReference(e,n,i){return this.Zr.removeReference(i,n),this.ti.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),De.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.ti.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.ti,i=>{const s=dt.fromPath(i);return this.ni(e,s).next(r=>{r||n.removeEntry(s,Pt.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(i=>{i?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return De.or([()=>De.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class I_{constructor(e,n){this.persistence=e,this.ri=new Ic(i=>xQ(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=RJ(this,n)}static ei(e,n){return new I_(e,n)}Hr(){}Jr(e){return De.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}nr(e){let n=0;return this.er(e,i=>{n++}).next(()=>n)}er(e,n){return De.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(r=>r?De.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.Lr(e,a=>this.ir(e,a,n).next(o=>{o||(i++,r.removeEntry(a,Pt.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),De.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),De.resolve()}removeReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),De.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),De.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cv(e.data.value)),n}ir(e,n,i){return De.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return De.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Wi=i,this.Gi=s}static zi(e,n){let i=Ut(),s=Ut();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new UT(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return J8()?8:bQ(Ps())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.Xi(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.es(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new zJ;return this.ts(e,n,a).next(o=>{if(r.result=o,this.Hi)return this.ns(e,n,a,o.size)})}).next(()=>r.result)}ns(e,n,i,s){return i.documentReadCount<this.Ji?(ud()<=Ft.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",cd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),De.resolve()):(ud()<=Ft.DEBUG&&Ke("QueryEngine","Query:",cd(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(ud()<=Ft.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",cd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oa(n))):De.resolve())}Xi(e,n){if(aA(n))return De.resolve(null);let i=Oa(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vS(n,null,"F"),i=Oa(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Ut(...r);return this.Zi.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.rs(n,o);return this.ss(n,u,a,l.readTime)?this.Xi(e,vS(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,i,s){return aA(n)||s.isEqual(Pt.min())?De.resolve(null):this.Zi.getDocuments(e,i).next(r=>{const a=this.rs(n,r);return this.ss(n,a,i,s)?De.resolve(null):(ud()<=Ft.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cd(n)),this.os(e,a,n,gQ(s,-1)).next(o=>o))})}rs(e,n){let i=new Ai(qF(e));return n.forEach((s,r)=>{Sb(e,r)&&(i=i.add(r))}),i}ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ts(e,n,i){return ud()<=Ft.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",cd(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ol.min(),i)}os(e,n,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,n,i,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new Zn(Ht),this.cs=new Ic(r=>MT(r),VT),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VJ(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function GJ(t,e,n,i){return new YJ(t,e,n,i)}async function pB(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ps(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=Ut();for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of r){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Ts:u,removedBatchIds:a,addedBatchIds:o}))})})}function qJ(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.hs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const c=u.batch,h=c.keys();let f=De.resolve();return h.forEach(p=>{f=f.next(()=>d.getEntry(l,p)).next(m=>{const v=u.docVersions.get(p);fn(v!==null),m.version.compareTo(v)<0&&(c.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,c))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Ut();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function vB(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function XJ(t,e){const n=Et(t),i=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const o=[];e.targetChanges.forEach((d,c)=>{const h=s.get(c);if(!h)return;o.push(n.Gr.removeMatchingKeys(r,d.removedDocuments,c).next(()=>n.Gr.addMatchingKeys(r,d.addedDocuments,c)));let f=h.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(c)!==null?f=f.withResumeToken(ss.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,i)),s=s.insert(c,f),function(m,v,_){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,f,d)&&o.push(n.Gr.updateTargetData(r,f))});let l=Do(),u=Ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),o.push(KJ(r,a,e.documentUpdates).next(d=>{l=d.Is,u=d.Es})),!i.isEqual(Pt.min())){const d=n.Gr.getLastRemoteSnapshotVersion(r).next(c=>n.Gr.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(d)}return De.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.us=s,r))}function KJ(t,e,n){let i=Ut(),s=Ut();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Do();return n.forEach((o,l)=>{const u=r.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Pt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ke("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Is:a,Es:s}})}function QJ(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JJ(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Gr.getTargetData(i,e).next(r=>r?(s=r,De.resolve(s)):n.Gr.allocateTargetId(i).next(a=>(s=new pl(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(i.targetId,i),n.cs.set(e,i.targetId)),i})}async function xS(t,e,n){const i=Et(t),s=i.us.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Rh(a))throw a;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function _A(t,e,n){const i=Et(t);let s=Pt.min(),r=Ut();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const c=Et(l),h=c.cs.get(d);return h!==void 0?De.resolve(c.us.get(h)):c.Gr.getTargetData(u,d)}(i,a,Oa(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i._s.getDocumentsMatchingQuery(a,e,n?s:Pt.min(),n?r:Ut())).next(o=>(ZJ(i,jQ(e),o),{documents:o,ds:r})))}function ZJ(t,e,n){let i=t.ls.get(e)||Pt.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ls.set(e,i)}class yA{constructor(){this.activeTargetIds=YQ()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eZ{constructor(){this._o=new yA,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,i){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new yA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp=null;function D0(){return jp===null?jp=function(){return 268435456+Math.round(2147483648*Math.random())}():jp++,"0x"+jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="WebChannelConnection";class sZ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+n.host,this.Mo=`projects/${s}/databases/${r}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Oo(n,i,s,r,a){const o=D0(),l=this.No(n,i.toUriEncodedString());Ke("RestConnection",`Sending RPC '${n}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,r,a),this.Bo(n,l,u,s).then(d=>(Ke("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw qd("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",l,"request:",s),d})}ko(n,i,s,r,a,o){return this.Oo(n,i,s,r,a)}Lo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,a)=>n[a]=r),s&&s.headers.forEach((r,a)=>n[a]=r)}No(n,i){const s=nZ[n];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,i,s){const r=D0();return new Promise((a,o)=>{const l=new DF;l.setWithCredentials(!0),l.listenOnce(AF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pv.NO_ERROR:const d=l.getResponseJson();Ke(hs,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(d)),a(d);break;case Pv.TIMEOUT:Ke(hs,`RPC '${e}' ${r} timed out`),o(new Ge(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Pv.HTTP_ERROR:const c=l.getStatus();if(Ke(hs,`RPC '${e}' ${r} failed with status:`,c,"response text:",l.getResponseText()),c>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(_)>=0?_:Ie.UNKNOWN}(f.status);o(new Ge(p,f.message))}else o(new Ge(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ge(Ie.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Ke(hs,`RPC '${e}' ${r} completed.`)}});const u=JSON.stringify(s);Ke(hs,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",u,i,15)})}qo(e,n,i){const s=D0(),r=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=MF(),o=OF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=r.join("");Ke(hs,`Creating RPC '${e}' stream ${s}: ${d}`,l);const c=a.createWebChannel(d,l);let h=!1,f=!1;const p=new iZ({Eo:v=>{f?Ke(hs,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(Ke(hs,`Opening RPC '${e}' stream ${s} transport.`),c.open(),h=!0),Ke(hs,`RPC '${e}' stream ${s} sending:`,v),c.send(v))},Ao:()=>c.close()}),m=(v,_,b)=>{v.listen(_,x=>{try{b(x)}catch(k){setTimeout(()=>{throw k},0)}})};return m(c,Cf.EventType.OPEN,()=>{f||(Ke(hs,`RPC '${e}' stream ${s} transport opened.`),p.So())}),m(c,Cf.EventType.CLOSE,()=>{f||(f=!0,Ke(hs,`RPC '${e}' stream ${s} transport closed`),p.Do())}),m(c,Cf.EventType.ERROR,v=>{f||(f=!0,qd(hs,`RPC '${e}' stream ${s} transport errored:`,v),p.Do(new Ge(Ie.UNAVAILABLE,"The operation could not be completed")))}),m(c,Cf.EventType.MESSAGE,v=>{var _;if(!f){const b=v.data[0];fn(!!b);const x=b,k=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(k){Ke(hs,`RPC '${e}' stream ${s} received error:`,k);const I=k.status;let E=function(w){const C=vi[w];if(C!==void 0)return rB(C)}(I),T=k.message;E===void 0&&(E=Ie.INTERNAL,T="Unknown error status: "+I+" with message "+k.message),f=!0,p.Do(new Ge(E,T)),c.close()}else Ke(hs,`RPC '${e}' stream ${s} received:`,b),p.vo(b)}}),m(o,RF.STAT_EVENT,v=>{v.stat===dS.PROXY?Ke(hs,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===dS.NOPROXY&&Ke(hs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.bo()},0),p}}function A0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){return new dJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,i=1e3,s=1.5,r=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=s,this.$o=r,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-i);s>0&&Ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n,i,s,r,a,o,l){this.li=e,this.Yo=i,this.Zo=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new _B(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===n&&this.I_(i,s)},i=>{e(()=>{const s=new Ge(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(s)})})}I_(e,n){const i=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.E_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rZ extends yB{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=mJ(this.serializer,e),i=function(r){if(!("targetChange"in r))return Pt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?Ma(a.readTime):Pt.min()}(e);return this.listener.R_(n,i)}V_(e){const n={};n.database=wS(this.serializer),n.addTarget=function(r,a){let o;const l=a.target;if(o=gS(l)?{documents:vJ(r,l)}:{query:_J(r,l).ct},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=lB(r,a.resumeToken);const u=_S(r,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Pt.min())>0){o.readTime=E_(r,a.snapshotVersion.toTimestamp());const u=_S(r,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const i=bJ(this.serializer,e);i&&(n.labels=i),this.c_(n)}m_(e){const n={};n.database=wS(this.serializer),n.removeTarget=e,this.c_(n)}}class aZ extends yB{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return fn(!!e.streamToken),this.lastStreamToken=e.streamToken,fn(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=pJ(e.writeResults,e.commitTime),i=Ma(e.commitTime);return this.listener.y_(i,n)}w_(){const e={};e.database=wS(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gJ(this.serializer,i))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Ge(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Oo(e,yS(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ge(Ie.UNKNOWN,r.toString())})}ko(e,n,i,s,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.ko(e,yS(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(Ie.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class lZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Io(n),this.C_=!1):Ke("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=r,this.Q_.uo(a=>{i.enqueueAndForget(async()=>{Dc(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.k_.add(4),await jg(u),u.K_.set("Unknown"),u.k_.delete(4),await Ib(u)}(this))})}),this.K_=new lZ(i,s)}}async function Ib(t){if(Dc(t))for(const e of t.q_)await e(!0)}async function jg(t){for(const e of t.q_)await e(!1)}function bB(t,e){const n=Et(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),YT(n)?WT(n):Mh(n).s_()&&zT(n,e))}function HT(t,e){const n=Et(t),i=Mh(n);n.B_.delete(e),i.s_()&&wB(n,e),n.B_.size===0&&(i.s_()?i.a_():Dc(n)&&n.K_.set("Unknown"))}function zT(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mh(t).V_(e)}function wB(t,e){t.U_.xe(e),Mh(t).m_(e)}function WT(t){t.U_=new oJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Mh(t).start(),t.K_.F_()}function YT(t){return Dc(t)&&!Mh(t).i_()&&t.B_.size>0}function Dc(t){return Et(t).k_.size===0}function xB(t){t.U_=void 0}async function cZ(t){t.K_.set("Online")}async function dZ(t){t.B_.forEach((e,n)=>{zT(t,e)})}async function hZ(t,e){xB(t),YT(t)?(t.K_.O_(e),WT(t)):t.K_.set("Unknown")}async function fZ(t,e,n){if(t.K_.set("Online"),e instanceof oB&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.B_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.B_.delete(o),s.U_.removeTarget(o))}(t,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await D_(t,i)}else if(e instanceof Dv?t.U_.$e(e):e instanceof aB?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Pt.min()))try{const i=await vB(t.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.U_.it(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=r.B_.get(u);d&&r.B_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=r.B_.get(l);if(!d)return;r.B_.set(l,d.withResumeToken(ss.EMPTY_BYTE_STRING,d.snapshotVersion)),wB(r,l);const c=new pl(d.target,l,u,d.sequenceNumber);zT(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),await D_(t,i)}}async function D_(t,e,n){if(!Rh(e))throw e;t.k_.add(1),await jg(t),t.K_.set("Offline"),n||(n=()=>vB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Ib(t)})}function SB(t,e){return e().catch(n=>D_(t,n,e))}async function Db(t){const e=Et(t),n=Nl(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;mZ(e);)try{const s=await QJ(e.localStore,i);if(s===null){e.L_.length===0&&n.a_();break}i=s.batchId,gZ(e,s)}catch(s){await D_(e,s)}kB(e)&&TB(e)}function mZ(t){return Dc(t)&&t.L_.length<10}function gZ(t,e){t.L_.push(e);const n=Nl(t);n.s_()&&n.f_&&n.g_(e.mutations)}function kB(t){return Dc(t)&&!Nl(t).i_()&&t.L_.length>0}function TB(t){Nl(t).start()}async function pZ(t){Nl(t).w_()}async function vZ(t){const e=Nl(t);for(const n of t.L_)e.g_(n.mutations)}async function _Z(t,e,n){const i=t.L_.shift(),s=NT.from(i,e,n);await SB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Db(t)}async function yZ(t,e){e&&Nl(t).f_&&await async function(i,s){if(function(a){return sJ(a)&&a!==Ie.ABORTED}(s.code)){const r=i.L_.shift();Nl(i).__(),await SB(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Db(i)}}(t,e),kB(t)&&TB(t)}async function wA(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=Dc(n);n.k_.add(3),await jg(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Ib(n)}async function bZ(t,e){const n=Et(t);e?(n.k_.delete(2),await Ib(n)):e||(n.k_.add(2),await jg(n),n.K_.set("Unknown"))}function Mh(t){return t.W_||(t.W_=function(n,i,s){const r=Et(n);return r.b_(),new rZ(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Ro:cZ.bind(null,t),mo:dZ.bind(null,t),po:hZ.bind(null,t),R_:fZ.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),YT(t)?WT(t):t.K_.set("Unknown")):(await t.W_.stop(),xB(t))})),t.W_}function Nl(t){return t.G_||(t.G_=function(n,i,s){const r=Et(n);return r.b_(),new aZ(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:pZ.bind(null,t),po:yZ.bind(null,t),p_:vZ.bind(null,t),y_:_Z.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Db(t)):(await t.G_.stop(),t.L_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,o=new GT(e,n,a,s,r);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qT(t,e){if(Io("AsyncQueue",`${e}: ${t}`),Rh(t))return new Ge(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{static emptySet(e){return new Md(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||dt.comparator(n.key,i.key):(n,i)=>dt.comparator(n.key,i.key),this.keyedMap=Ef(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Md)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Md;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.z_=new Zn(dt.comparator)}track(e){const n=e.doc.key,i=this.z_.get(n);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(n,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(n):e.type===1&&i.type===2?this.z_=this.z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):bt():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Zd{constructor(e,n,i,s,r,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Zd(e,n,Md.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class xZ{constructor(){this.queries=SA(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,i){const s=Et(n),r=s.queries;s.queries=SA(),r.forEach((a,o)=>{for(const l of o.J_)l.onError(i)})})(this,new Ge(Ie.ABORTED,"Firestore shutting down"))}}function SA(){return new Ic(t=>GF(t),xb)}async function XT(t,e){const n=Et(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Y_()&&e.Z_()&&(i=2):(r=new wZ,i=e.Z_()?0:1);try{switch(i){case 0:r.H_=await n.onListen(s,!0);break;case 1:r.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=qT(a,`Initialization of query '${cd(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,r),r.J_.push(e),e.ea(n.onlineState),r.H_&&e.ta(r.H_)&&QT(n)}async function KT(t,e){const n=Et(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.J_.indexOf(e);a>=0&&(r.J_.splice(a,1),r.J_.length===0?s=e.Z_()?0:1:!r.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SZ(t,e){const n=Et(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.J_)o.ta(s)&&(i=!0);a.H_=s}}i&&QT(n)}function kZ(t,e,n){const i=Et(t),s=i.queries.get(e);if(s)for(const r of s.J_)r.onError(n);i.queries.delete(e)}function QT(t){t.X_.forEach(e=>{e.next()})}var SS,kA;(kA=SS||(SS={})).na="default",kA.Cache="cache";class JT{constructor(e,n,i){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Zd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const i=n!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==SS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.key=e}}class CB{constructor(e){this.key=e}}class TZ{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ut(),this.mutatedKeys=Ut(),this.Va=qF(e),this.ma=new Md(this.Va)}get fa(){return this.da}ga(e,n){const i=n?n.pa:new xA,s=n?n.ma:this.ma;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,c)=>{const h=s.get(d),f=Sb(this.query,c)?c:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),v=!0):this.ya(h,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.Va(f,l)>0||u&&this.Va(f,u)<0)&&(o=!0)):!h&&f?(i.track({type:0,doc:f}),v=!0):h&&!f&&(i.track({type:1,doc:h}),v=!0,(l||u)&&(o=!0)),v&&(f?(a=a.add(f),r=m?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{ma:a,pa:i,ss:o,mutatedKeys:r}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((d,c)=>function(f,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return m(f)-m(p)}(d.type,c.type)||this.Va(d.doc,c.doc)),this.wa(i),s=s!=null&&s;const o=n&&!s?this.Sa():[],l=this.Ra.size===0&&this.current&&!s?1:0,u=l!==this.Aa;return this.Aa=l,a.length!==0||u?{snapshot:new Zd(this.query,e.ma,r,a,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xA,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ut(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const n=[];return e.forEach(i=>{this.Ra.has(i)||n.push(new CB(i))}),this.Ra.forEach(i=>{e.has(i)||n.push(new PB(i))}),n}va(e){this.da=e.ds,this.Ra=Ut();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Zd.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class PZ{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class CZ{constructor(e){this.key=e,this.Fa=!1}}class EZ{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new Ic(o=>GF(o),xb),this.Oa=new Map,this.Na=new Set,this.La=new Zn(dt.comparator),this.Ba=new Map,this.ka=new jT,this.qa={},this.Qa=new Map,this.Ka=Jd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function IZ(t,e,n=!0){const i=OB(t);let s;const r=i.xa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Ca()):s=await EB(i,e,n,!0),s}async function DZ(t,e){const n=OB(t);await EB(n,e,!0,!1)}async function EB(t,e,n,i){const s=await JJ(t.localStore,Oa(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await AZ(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&bB(t.remoteStore,s),o}async function AZ(t,e,n,i,s){t.Ua=(c,h,f)=>async function(m,v,_,b){let x=v.view.ga(_);x.ss&&(x=await _A(m.localStore,v.query,!1).then(({documents:T})=>v.view.ga(T,x)));const k=b&&b.targetChanges.get(v.targetId),I=b&&b.targetMismatches.get(v.targetId)!=null,E=v.view.applyChanges(x,m.isPrimaryClient,k,I);return PA(m,v.targetId,E.ba),E.snapshot}(t,c,h,f);const r=await _A(t.localStore,e,!0),a=new TZ(e,r.ds),o=a.ga(r.documents),l=Bg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),u=a.applyChanges(o,t.isPrimaryClient,l);PA(t,n,u.ba);const d=new PZ(e,n,a);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function RZ(t,e,n){const i=Et(t),s=i.xa.get(e),r=i.Oa.get(s.targetId);if(r.length>1)return i.Oa.set(s.targetId,r.filter(a=>!xb(a,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await xS(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&HT(i.remoteStore,s.targetId),kS(i,s.targetId)}).catch(Ah)):(kS(i,s.targetId),await xS(i.localStore,s.targetId,!0))}async function OZ(t,e){const n=Et(t),i=n.xa.get(e),s=n.Oa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),HT(n.remoteStore,i.targetId))}async function MZ(t,e,n){const i=$Z(t);try{const s=await function(a,o){const l=Et(a),u=Dt.now(),d=o.reduce((f,p)=>f.add(p.key),Ut());let c,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Do(),m=Ut();return l.hs.getEntries(f,d).next(v=>{p=v,p.forEach((_,b)=>{b.isValidDocument()||(m=m.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{c=v;const _=[];for(const b of o){const x=ZQ(b,c.get(b.key).overlayedDocument);x!=null&&_.push(new Zl(b.key,x,BF(x.value.mapValue),Qs.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,_,o)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(c,m);return l.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:KF(c)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.qa[a.currentUser.toKey()];u||(u=new Zn(Ht)),u=u.insert(o,l),a.qa[a.currentUser.toKey()]=u}(i,s.batchId,n),await $g(i,s.changes),await Db(i.remoteStore)}catch(s){const r=qT(s,"Failed to persist write");n.reject(r)}}async function IB(t,e){const n=Et(t);try{const i=await XJ(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Ba.get(r);a&&(fn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Fa=!0:s.modifiedDocuments.size>0?fn(a.Fa):s.removedDocuments.size>0&&(fn(a.Fa),a.Fa=!1))}),await $g(n,i,e)}catch(i){await Ah(i)}}function TA(t,e,n){const i=Et(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.xa.forEach((r,a)=>{const o=a.view.ea(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Et(a);l.onlineState=o;let u=!1;l.queries.forEach((d,c)=>{for(const h of c.J_)h.ea(o)&&(u=!0)}),u&&QT(l)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function VZ(t,e,n){const i=Et(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Ba.get(e),r=s&&s.key;if(r){let a=new Zn(dt.comparator);a=a.insert(r,ys.newNoDocument(r,Pt.min()));const o=Ut().add(r),l=new Cb(Pt.min(),new Map,new Zn(Ht),a,o);await IB(i,l),i.La=i.La.remove(r),i.Ba.delete(e),ZT(i)}else await xS(i.localStore,e,!1).then(()=>kS(i,e,n)).catch(Ah)}async function LZ(t,e){const n=Et(t),i=e.batch.batchId;try{const s=await qJ(n.localStore,e);AB(n,i,null),DB(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $g(n,s)}catch(s){await Ah(s)}}async function NZ(t,e,n){const i=Et(t);try{const s=await function(a,o){const l=Et(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(c=>(fn(c!==null),d=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);AB(i,e,n),DB(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $g(i,s)}catch(s){await Ah(s)}}function DB(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function AB(t,e,n){const i=Et(t);let s=i.qa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function kS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Oa.get(e))t.xa.delete(i),n&&t.Ma.Wa(i,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(i=>{t.ka.containsKey(i)||RB(t,i)})}function RB(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(HT(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),ZT(t))}function PA(t,e,n){for(const i of n)i instanceof PB?(t.ka.addReference(i.key,e),FZ(t,i)):i instanceof CB?(Ke("SyncEngine","Document no longer in limbo: "+i.key),t.ka.removeReference(i.key,e),t.ka.containsKey(i.key)||RB(t,i.key)):bt()}function FZ(t,e){const n=e.key,i=n.path.canonicalString();t.La.get(n)||t.Na.has(i)||(Ke("SyncEngine","New document in limbo: "+n),t.Na.add(i),ZT(t))}function ZT(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new dt(Bn.fromString(e)),i=t.Ka.next();t.Ba.set(i,new CZ(n)),t.La=t.La.insert(n,i),bB(t.remoteStore,new pl(Oa(wb(n.path)),i,"TargetPurposeLimboResolution",_b.oe))}}async function $g(t,e,n){const i=Et(t),s=[],r=[],a=[];i.xa.isEmpty()||(i.xa.forEach((o,l)=>{a.push(i.Ua(l,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){const c=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){s.push(u);const c=UT.zi(l.targetId,u);r.push(c)}}))}),await Promise.all(a),i.Ma.R_(s),await async function(l,u){const d=Et(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>De.forEach(u,h=>De.forEach(h.Wi,f=>d.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>De.forEach(h.Gi,f=>d.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Rh(c))throw c;Ke("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const f=d.us.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);d.us=d.us.insert(h,m)}}}(i.localStore,r))}async function BZ(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=await pB(n.localStore,e);n.currentUser=e,function(r,a){r.Qa.forEach(o=>{o.forEach(l=>{l.reject(new Ge(Ie.CANCELLED,a))})}),r.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $g(n,i.Ts)}}function jZ(t,e){const n=Et(t),i=n.Ba.get(e);if(i&&i.Fa)return Ut().add(i.key);{let s=Ut();const r=n.Oa.get(e);if(!r)return s;for(const a of r){const o=n.xa.get(a);s=s.unionWith(o.view.fa)}return s}}function OB(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VZ.bind(null,e),e.Ma.R_=SZ.bind(null,e.eventManager),e.Ma.Wa=kZ.bind(null,e.eventManager),e}function $Z(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NZ.bind(null,e),e}class A_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eb(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return GJ(this.persistence,new WJ,e.initialUser,this.serializer)}ja(e){return new gB($T.ei,this.serializer)}za(e){return new eZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}A_.provider={build:()=>new A_};class UZ extends A_{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){fn(this.persistence.referenceDelegate instanceof I_);const i=this.persistence.referenceDelegate.garbageCollector;return new DJ(i,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new gB(i=>I_.ei(i,n),this.serializer)}}class TS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>TA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BZ.bind(null,this.syncEngine),await bZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xZ}()}createDatastore(e){const n=Eb(e.databaseInfo.databaseId),i=function(r){return new sZ(r)}(e.databaseInfo);return function(r,a,o,l){return new oZ(r,a,o,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,o){return new uZ(i,s,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>TA(this.syncEngine,n,0),function(){return bA.p()?new bA:new tZ}())}createSyncEngine(e,n){return function(s,r,a,o,l,u,d){const c=new EZ(s,r,a,o,l,u);return d&&(c.$a=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Et(s);Ke("RemoteStore","RemoteStore shutting down."),r.k_.add(5),await jg(r),r.Q_.shutdown(),r.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}TS.provider={build:()=>new TS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ms.UNAUTHENTICATED,this.clientId=LF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Ke("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Ke("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=qT(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function R0(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await pB(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zZ(t);Ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>wA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>wA(e.remoteStore,s)),t._onlineComponents=e}async function zZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await R0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ie.FAILED_PRECONDITION||s.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qd("Error using user provided cache. Falling back to memory cache: "+n),await R0(t,new A_)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await R0(t,new UZ(void 0));return t._offlineComponents}async function MB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await CA(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await CA(t,new TS))),t._onlineComponents}function WZ(t){return MB(t).then(e=>e.syncEngine)}async function R_(t){const e=await MB(t),n=e.eventManager;return n.onListen=IZ.bind(null,e.syncEngine),n.onUnlisten=RZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OZ.bind(null,e.syncEngine),n}function YZ(t,e,n={}){const i=new So;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,u){const d=new eP({next:h=>{d.eu(),a.enqueueAndForget(()=>KT(r,c));const f=h.docs.has(o);!f&&h.fromCache?u.reject(new Ge(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new Ge(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new JT(wb(o.path),d,{includeMetadataChanges:!0,ua:!0});return XT(r,c)}(await R_(t),t.asyncQueue,e,n,i)),i.promise}function GZ(t,e,n={}){const i=new So;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,u){const d=new eP({next:h=>{d.eu(),a.enqueueAndForget(()=>KT(r,c)),h.fromCache&&l.source==="server"?u.reject(new Ge(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new JT(o,d,{includeMetadataChanges:!0,ua:!0});return XT(r,c)}(await R_(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t,e,n){if(!n)throw new Ge(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qZ(t,e,n,i){if(e===!0&&i===!0)throw new Ge(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IA(t){if(!dt.isDocumentKey(t))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DA(t){if(dt.isDocumentKey(t))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ab(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bt()}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ge(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ab(t);throw new Ge(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ge(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VB((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rb{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new aQ;switch(i.type){case"firstParty":return new cQ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ge(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=EA.get(n);i&&(Ke("ComponentProvider","Removing Datastore"),EA.delete(n),i.terminate())}(this),Promise.resolve()}}function NB(t,e,n,i={}){var s;const r=(t=gr(t,Rb))._getSettings(),a=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==a&&qd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:a,ssl:!1})),i.mockUserToken){let o,l;if(typeof i.mockUserToken=="string")o=i.mockUserToken,l=ms.MOCK_USER;else{o=G8(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ge(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ms(u)}t._authCredentials=new oQ(new VF(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new eu(this.firestore,e,this._query)}}class Ls{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Tl extends eu{constructor(e,n,i){super(e,n,wb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new dt(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function XZ(t,e,...n){if(t=ri(t),LB("collection","path",e),t instanceof Rb){const i=Bn.fromString(e,...n);return DA(i),new Tl(t,null,i)}{if(!(t instanceof Ls||t instanceof Tl))throw new Ge(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bn.fromString(e,...n));return DA(i),new Tl(t.firestore,null,i)}}function Df(t,e,...n){if(t=ri(t),arguments.length===1&&(e=LF.newId()),LB("doc","path",e),t instanceof Rb){const i=Bn.fromString(e,...n);return IA(i),new Ls(t,null,new dt(i))}{if(!(t instanceof Ls||t instanceof Tl))throw new Ge(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bn.fromString(e,...n));return IA(i),new Ls(t.firestore,t instanceof Tl?t.converter:null,new dt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new _B(this,"async_queue_retry"),this.fu=()=>{const i=A0();i&&Ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const n=A0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=A0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new So;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Rh(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(i);throw Io("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=GT.createAndSchedule(this,e,n,i,r=>this.Su(r));return this.du.push(s),s}pu(){this.Au&&bt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function OA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Ao extends Rb{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new RA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RA(e),this._firestoreClient=void 0,await e}}}function FB(t,e){const n=typeof t=="object"?t:Xk(),i=typeof t=="string"?t:"(default)",s=Th(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=Y8("firestore");r&&NB(s,...r)}return s}function Ug(t){if(t._terminated)throw new Ge(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KZ(t),t._firestoreClient}function KZ(t){var e,n,i;const s=t._freezeSettings(),r=function(o,l,u,d){return new TQ(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VB(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new HZ(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eh(ss.fromBase64String(e))}catch(n){throw new Ge(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eh(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function QZ(){return new Hg("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=/^__.*__$/;class ZZ{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fg(e,this.data,n,this.fieldTransforms)}}class BB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Zl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class iP{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Fu(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new iP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:i,Nu:!1});return s.Lu(e),s}Bu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return O_(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(jB(this.Mu)&&JZ.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class eee{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eb(e)}$u(e,n,i,s=!1){return new iP({Mu:e,methodName:n,Ku:i,path:ts.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(t){const e=t._freezeSettings(),n=Eb(t._databaseId);return new eee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sP(t,e,n,i,s,r={}){const a=t.$u(r.merge||r.mergeFields?2:0,e,n,s);rP("Data must be an object, but it was:",a,i);const o=$B(i,a);let l,u;if(r.merge)l=new hr(a.fieldMask),u=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const c of r.mergeFields){const h=PS(e,c,n);if(!a.contains(h))throw new Ge(Ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);HB(d,h)||d.push(h)}l=new hr(d),u=a.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=a.fieldTransforms;return new ZZ(new Xs(o),l,u)}class Vb extends tP{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vb}}function tee(t,e,n,i){const s=t.$u(1,e,n);rP("Data must be an object, but it was:",s,i);const r=[],a=Xs.empty();Jl(i,(l,u)=>{const d=aP(e,l,n);u=ri(u);const c=s.Bu(d);if(u instanceof Vb)r.push(d);else{const h=zg(u,c);h!=null&&(r.push(d),a.set(d,h))}});const o=new hr(r);return new BB(a,o,s.fieldTransforms)}function nee(t,e,n,i,s,r){const a=t.$u(1,e,n),o=[PS(e,i,n)],l=[s];if(r.length%2!=0)throw new Ge(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<r.length;h+=2)o.push(PS(e,r[h])),l.push(r[h+1]);const u=[],d=Xs.empty();for(let h=o.length-1;h>=0;--h)if(!HB(u,o[h])){const f=o[h];let p=l[h];p=ri(p);const m=a.Bu(f);if(p instanceof Vb)u.push(f);else{const v=zg(p,m);v!=null&&(u.push(f),d.set(f,v))}}const c=new hr(u);return new BB(d,c,a.fieldTransforms)}function iee(t,e,n,i=!1){return zg(n,t.$u(i?4:3,e))}function zg(t,e){if(UB(t=ri(t)))return rP("Unsupported field value:",e,t),$B(t,e);if(t instanceof tP)return function(i,s){if(!jB(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=zg(o,s.ku(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=ri(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GQ(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Dt.fromDate(i);return{timestampValue:E_(s.serializer,r)}}if(i instanceof Dt){const r=new Dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:E_(s.serializer,r)}}if(i instanceof Ob)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof eh)return{bytesValue:lB(s.serializer,i._byteString)};if(i instanceof Ls){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:BT(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof nP)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.qu("VectorValues must only contain numeric values.");return LT(o.serializer,l)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${Ab(i)}`)}(t,e)}function $B(t,e){const n={};return NF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jl(t,(i,s)=>{const r=zg(s,e.Ou(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function UB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Ob||t instanceof eh||t instanceof Ls||t instanceof tP||t instanceof nP)}function rP(t,e,n){if(!UB(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Ab(n);throw i==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+i)}}function PS(t,e,n){if((e=ri(e))instanceof Hg)return e._internalPath;if(typeof e=="string")return aP(t,e);throw O_("Field path arguments must be of type string or ",t,!1,void 0,n)}const see=new RegExp("[~\\*/\\[\\]]");function aP(t,e,n){if(e.search(see)>=0)throw O_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hg(...e.split("."))._internalPath}catch{throw O_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function O_(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new Ge(Ie.INVALID_ARGUMENT,o+t+l)}function HB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ree(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ree extends zB{data(){return super.data()}}function Lb(t,e){return typeof e=="string"?aP(t,e):e instanceof Hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ge(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oP{}class YB extends oP{}function O0(t,e,...n){let i=[];e instanceof oP&&i.push(e),i=i.concat(n),function(r){const a=r.filter(l=>l instanceof lP).length,o=r.filter(l=>l instanceof Nb).length;if(a>1||a>0&&o>0)throw new Ge(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Nb extends YB{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Nb(e,n,i)}_apply(e){const n=this._parse(e);return qB(e._query,n),new eu(e.firestore,e.converter,pS(e._query,n))}_parse(e){const n=Mb(e.firestore);return function(r,a,o,l,u,d,c){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ge(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){VA(c,d);const f=[];for(const p of c)f.push(MA(l,r,p));h={arrayValue:{values:f}}}else h=MA(l,r,c)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||VA(c,d),h=iee(o,a,c,d==="in"||d==="not-in");return yi.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wn(t,e,n){const i=e,s=Lb("where",t);return Nb._create(s,i,n)}class lP extends oP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lP(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:la.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const l of o)qB(a,l),a=pS(a,l)}(e._query,n),new eu(e.firestore,e.converter,pS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uP extends YB{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uP(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ge(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dm(r,a)}(e._query,this._field,this._direction);return new eu(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new Oh(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function GB(t,e="asc"){const n=e,i=Lb("orderBy",t);return uP._create(i,n)}function MA(t,e,n){if(typeof(n=ri(n))=="string"){if(n==="")throw new Ge(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YF(e)&&n.indexOf("/")!==-1)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Bn.fromString(n));if(!dt.isDocumentKey(i))throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eA(t,new dt(i))}if(n instanceof Ls)return eA(t,n._key);throw new Ge(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ab(n)}.`)}function VA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ge(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qB(t,e){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ge(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aee{convertValue(e,n="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Jl(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>ci(a.doubleValue));return new nP(r)}convertGeoPoint(e){return new Ob(ci(e.latitude),ci(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bb(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cm(e));default:return null}}convertTimestamp(e){const n=Ml(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Bn.fromString(e);fn(mB(i));const s=new Em(i.get(1),i.get(3)),r=new dt(i.popFirst(5));return s.isEqual(n)||Io(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XB extends zB{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Lb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Av extends XB{data(e={}){return super.data(e)}}class KB{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Af(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Av(this._firestore,this._userDataWriter,i.key,i,new Af(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Av(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Af(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new Av(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Af(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:oee(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){t=gr(t,Ls);const e=gr(t.firestore,Ao);return YZ(Ug(e),t._key).then(n=>QB(e,t,n))}class hP extends aee{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,n)}}function CS(t){t=gr(t,eu);const e=gr(t.firestore,Ao),n=Ug(e),i=new hP(e);return WB(t._query),GZ(n,t._query).then(s=>new KB(e,i,t,s))}function lee(t,e,n){t=gr(t,Ls);const i=gr(t.firestore,Ao),s=cP(t.converter,e,n);return Bb(i,[sP(Mb(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qs.none())])}function uee(t){return Bb(gr(t.firestore,Ao),[new Pb(t._key,Qs.none())])}function cee(t,e){const n=gr(t.firestore,Ao),i=Df(t),s=cP(t.converter,e);return Bb(n,[sP(Mb(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Qs.exists(!1))]).then(()=>i)}function Fb(t,...e){var n,i,s;t=ri(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||OA(e[a])||(r=e[a],a++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(OA(e[a])){const c=e[a];e[a]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[a+1]=(i=c.error)===null||i===void 0?void 0:i.bind(c),e[a+2]=(s=c.complete)===null||s===void 0?void 0:s.bind(c)}let l,u,d;if(t instanceof Ls)u=gr(t.firestore,Ao),d=wb(t._key.path),l={next:c=>{e[a]&&e[a](QB(u,t,c))},error:e[a+1],complete:e[a+2]};else{const c=gr(t,eu);u=gr(c.firestore,Ao),d=c._query;const h=new hP(u);l={next:f=>{e[a]&&e[a](new KB(u,h,c,f))},error:e[a+1],complete:e[a+2]},WB(t._query)}return function(h,f,p,m){const v=new eP(m),_=new JT(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>XT(await R_(h),_)),()=>{v.eu(),h.asyncQueue.enqueueAndForget(async()=>KT(await R_(h),_))}}(Ug(u),d,o,l)}function Bb(t,e){return function(i,s){const r=new So;return i.asyncQueue.enqueueAndForget(async()=>MZ(await WZ(i),s,r)),r.promise}(Ug(t),e)}function QB(t,e,n){const i=n.docs.get(e._key),s=new hP(t);return new XB(t,s,e._key,i,new Af(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mb(e)}set(e,n,i){this._verifyNotCommitted();const s=M0(e,this._firestore),r=cP(s.converter,n,i),a=sP(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(a.toMutation(s._key,Qs.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const r=M0(e,this._firestore);let a;return a=typeof(n=ri(n))=="string"||n instanceof Hg?nee(this._dataReader,"WriteBatch.update",r._key,n,i,s):tee(this._dataReader,"WriteBatch.update",r._key,n),this._mutations.push(a.toMutation(r._key,Qs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=M0(e,this._firestore);return this._mutations=this._mutations.concat(new Pb(n._key,Qs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function M0(t,e){if((t=ri(t)).firestore!==e)throw new Ge(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return Ug(t=gr(t,Ao)),new dee(t,e=>Bb(t,e))}(function(e,n=!0){(function(s){Dh=s})(Ql),Zs(new js("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Ao(new lQ(i.getProvider("auth-internal")),new hQ(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ge(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Em(u.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),is(qD,"4.7.5",e),is(qD,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="firebasestorage.googleapis.com",hee="storageBucket",fee=2*60*1e3,mee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Nr{constructor(e,n,i=0){super(V0(e),`Firebase Storage: ${n} (${V0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return V0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var za;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(za||(za={}));function V0(t){return"storage/"+t}function gee(){const t="An unknown error occurred, please check the error payload for server response.";return new Xa(za.UNKNOWN,t)}function pee(){return new Xa(za.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vee(){return new Xa(za.CANCELED,"User canceled the upload/download.")}function _ee(t){return new Xa(za.INVALID_URL,"Invalid URL '"+t+"'.")}function yee(t){return new Xa(za.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function NA(t){return new Xa(za.INVALID_ARGUMENT,t)}function ZB(){return new Xa(za.APP_DELETED,"The Firebase app was deleted.")}function bee(t){return new Xa(za.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=qr.makeFromUrl(e,n)}catch{return new qr(e,"")}if(i.path==="")return i;throw yee(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${c}/${d}/b/${s}/o${h}`,"i"),p={bucket:1,path:3},m=n===JB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",_=new RegExp(`^https?://${m}/${s}/${v}`,"i"),x=[{regex:o,indices:l,postModify:r},{regex:f,indices:p,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<x.length;k++){const I=x[k],E=I.regex.exec(e);if(E){const T=E[I.indices.bucket];let S=E[I.indices.path];S||(S=""),i=new qr(T,S),I.postModify(i);break}}if(i==null)throw _ee(e);return i}}class wee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t,e,n){let i=1,s=null,r=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function c(v){s=setTimeout(()=>{s=null,t(f,l())},v)}function h(){r&&clearTimeout(r)}function f(v,..._){if(u){h();return}if(v){h(),d.call(null,v,..._);return}if(l()||a){h(),d.call(null,v,..._);return}i<64&&(i*=2);let x;o===1?(o=2,x=0):x=(i+Math.random())*1e3,c(x)}let p=!1;function m(v){p||(p=!0,h(),!u&&(s!==null?(v||(o=2),clearTimeout(s),c(0)):v||(o=1)))}return c(0),r=setTimeout(()=>{a=!0,m(!0)},n),m}function See(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t){return t!==void 0}function FA(t,e,n,i){if(i<e)throw NA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw NA(`Invalid value for '${t}'. Expected ${n} or less.`)}function Tee(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var M_;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(M_||(M_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,n,i,s,r,a,o,l,u,d,c,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new $p(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const o=r.getErrorCode()===M_.NO_ERROR,l=r.getStatus();if(!o||Pee(l,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===M_.ABORT;i(!1,new $p(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new $p(u,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());kee(l)?r(l):r()}catch(l){a(l)}else if(o!==null){const l=gee();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?ZB():vee();a(l)}else{const l=pee();a(l)}};this.canceled_?n(!1,new $p(!1,null,!0)):this.backoffId_=xee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&See(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $p{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Eee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Iee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Aee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ree(t,e,n,i,s,r,a=!0){const o=Tee(t.urlParams),l=t.url+o,u=Object.assign({},t.headers);return Dee(u,e),Eee(u,n),Iee(u,r),Aee(u,i),new Cee(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Mee(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vee=class ES{constructor(e,n){this._service=e,n instanceof qr?this._location=n:this._location=qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ES(e,n)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mee(this._location.path)}get storage(){return this._service}get parent(){const e=Oee(this._location.path);if(e===null)return null;const n=new qr(this._location.bucket,e);return new ES(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bee(e)}};function BA(t,e){const n=e==null?void 0:e[hee];return n==null?null:qr.makeFromBucketSpec(n,t)}class Lee{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=JB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fee,this._maxUploadRetryTime=mee,this._requests=new Set,s!=null?this._bucket=qr.makeFromBucketSpec(s,this._host):this._bucket=BA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=BA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vee(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new wee(ZB());{const a=Ree(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const jA="@firebase/storage",$A="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee="storage";function Fee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Lee(n,i,s,e,Ql)}function Bee(){Zs(new js(Nee,Fee,"PUBLIC").setMultipleInstances(!0)),is(jA,$A,""),is(jA,$A,"esm2017")}Bee();const L0=new WeakMap;function ej(t,e){return L0.has(e)||L0.set(e,{f:{},r:{},s:{},u:{}}),L0.get(e)}function jee(t,e,n,i){if(!t)return n;const[s,r]=tj(t);if(!s)return n;const a=ej(void 0,i)[s]||{},o=e||r;return o&&o in a?a[o]:n}function $ee(t,e,n,i){if(!t)return;const[s,r]=tj(t);if(!s)return;const a=ej(void 0,i)[s],o=e||r;if(o)return n.then(l=>{a[o]=l}).catch(Pa),o}function tj(t){return hq(t)||fq(t)?["f",t.path]:mq(t)?["r",t.toString()]:gq(t)?["s",t.toString()]:[]}const N0=new WeakMap;function Uee(t,e,n){const i=Rg();N0.has(i)||N0.set(i,new Map);const s=N0.get(i),r=$ee(e,n,t,i);return r&&s.set(r,t),r?()=>s.delete(r):Pa}const Hee={toFirestore(t){return t},fromFirestore(t,e){return t.exists()?Object.defineProperties(t.data(e),{id:{value:t.id}}):null}};function IS(t,e,n,i){if(!cq(t))return[t,{}];const s=[{},{}],r=Object.keys(n).reduce((o,l)=>{const u=n[l];return o[u.path]=u.data(),o},{});function a(o,l,u,d){l=l||{};const[c,h]=d;Object.getOwnPropertyNames(o).forEach(f=>{const p=Object.getOwnPropertyDescriptor(o,f);p&&!p.enumerable&&Object.defineProperty(c,f,p)});for(const f in o){const p=o[f];if(p==null||p instanceof Date||p instanceof Dt||p instanceof Ob)c[f]=p;else if(uT(p)){const m=u+f;c[f]=m in n?l[f]:p.path,h[m]=p.converter?p:p.withConverter(i.converter)}else if(Array.isArray(p)){c[f]=Array(p.length);for(let m=0;m<p.length;m++){const v=p[m];v&&v.path in r&&(c[f][m]=r[v.path])}a(p,l[f]||c[f],u+f+".",[c[f],h])}else Pc(p)?(c[f]={},a(p,l[f],u+f+".",[c[f],h])):c[f]=p}}return a(t,e,"",s),s}const fP={reset:!1,wait:!0,maxRefDepth:2,converter:Hee,snapshotOptions:{serverTimestamps:"estimate"}};function V_(t){for(const e in t)t[e].unsub()}function DS(t,e,n,i,s,r,a,o,l){const[u,d]=IS(i.data(t.snapshotOptions),lT(e,n),s,t);r.set(e,n,u),AS(t,e,n,s,d,r,a,o,l)}function zee({ref:t,target:e,path:n,depth:i,resolve:s,reject:r,ops:a},o){const l=Object.create(null);let u=Pa;return o.once?dP(t).then(d=>{d.exists()?DS(o,e,n,d,l,a,i,s,r):(a.set(e,n,null),s())}).catch(r):u=Fb(t,d=>{d.exists()?DS(o,e,n,d,l,a,i,s,r):(a.set(e,n,null),s())},r),()=>{u(),V_(l)}}function AS(t,e,n,i,s,r,a,o,l){const u=Object.keys(s);if(Object.keys(i).filter(m=>u.indexOf(m)<0).forEach(m=>{i[m].unsub(),delete i[m]}),!u.length||++a>t.maxRefDepth)return o(n);let c=0;const h=u.length,f=Object.create(null);function p(m){m in f&&++c>=h&&o(n)}u.forEach(m=>{const v=i[m],_=s[m],b=`${n}.${m}`;if(f[b]=!0,v)if(v.path!==_.path)v.unsub();else return;i[m]={data:()=>lT(e,b),unsub:zee({ref:_,target:e,path:b,depth:a,ops:r,resolve:p.bind(null,b),reject:l},t),path:_.path}})}function Wee(t,e,n,i,s,r){const a=Object.assign({},fP,r),{snapshotListenOptions:o,snapshotOptions:l,wait:u,once:d}=a,c="value";let h=G(u?[]:t.value);u||n.set(t,c,[]);const f=i;let p,m=Pa;const v=[],_={added:({newIndex:x,doc:k})=>{v.splice(x,0,Object.create(null));const I=v[x],[E,T]=IS(k.data(l),void 0,I,a);n.add(Ct(h),x,E),AS(a,h,`${c}.${x}`,I,T,n,0,i.bind(null,k),s)},modified:({oldIndex:x,newIndex:k,doc:I})=>{const E=Ct(h),T=v[x],S=E[x],[w,C]=IS(I.data(l),S,T,a);v.splice(k,0,T),n.remove(E,x),n.add(E,k,w),AS(a,h,`${c}.${k}`,T,C,n,0,i,s)},removed:({oldIndex:x})=>{const k=Ct(h);n.remove(k,x),V_(v.splice(x,1)[0])}};function b(x){const k=x.docChanges(o);if(!p&&k.length){p=!0;let I=0;const E=k.length,T=Object.create(null);for(let S=0;S<E;S++)T[k[S].doc.id]=!0;i=S=>{S&&S.id in T&&++I>=E&&(u&&(n.set(t,c,Ct(h)),h=t),f(Ct(h)),i=Pa)}}k.forEach(I=>{_[I.type](I)}),k.length||(u&&(n.set(t,c,Ct(h)),h=t),i(Ct(h)))}return d?CS(e).then(b).catch(s):m=Fb(e,b,s),x=>{if(m(),x){const k=typeof x=="function"?x():[];n.set(t,c,k)}v.forEach(V_)}}function Yee(t,e,n,i,s,r){const a=Object.assign({},fP,r),o="value",l=Object.create(null);i=pq(i,()=>lT(t,o));let u=Pa;function d(c){c.exists()?DS(a,t,o,c,l,n,0,i,s):(n.set(t,o,null),i(null))}return a.once?dP(e).then(d).catch(s):u=Fb(e,d,s),c=>{if(u(),c){const h=typeof c=="function"?c():null;n.set(t,o,h)}V_(l)}}const UA=Symbol();function Gee(t,e){let n=Pa;const i=Object.assign({},fP,e),s=Ct(t),r=i.target||G();_q()&&(i.once=!0);const a=jee(s,i.ssrKey,UA,Rg()),o=a!==UA;o&&(r.value=a);let l=!o;const u=G(!1),d=G(),c=Re(),h=RV();let f=Pa;function p(){let _=Ct(t);const b=new Promise((x,k)=>{if(n(i.reset),!_)return n=Pa,x(null);u.value=l,l=!0,_.converter||(_=_.withConverter(i.converter)),n=(uT(_)?Yee:Wee)(r,_,qee,x,k,i)}).catch(x=>(c.value===b&&(d.value=x),Promise.reject(x))).finally(()=>{c.value===b&&(u.value=!1)});c.value=b}let m=Pa;(Je(t)||typeof t=="function")&&(m=be(t,p)),p(),s&&(f=Uee(c.value,s,i.ssrKey)),Tc()&&pL(()=>c.value),h&&as(v);function v(_=i.reset){m(),f(),n(_)}return Object.defineProperties(r,{error:{get:()=>d},data:{get:()=>r},pending:{get:()=>u},promise:{get:()=>c},stop:{get:()=>v}})}const qee={set:(t,e,n)=>lq(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)};function mP(t,e){return Gee(t,e)}function RS(t){return FB(Rg(t))}function Xee(t){return Kee({initialUser:t,dependencies:{popupRedirectResolver:dN,persistence:[oN,tN,rT]}})}const nj=Symbol("VueFireAuth");function Kee({dependencies:t,initialUser:e}){return(n,i)=>{const[s,r]=Qee(n,i,e,t);bq(s,r)}}function Qee(t,e,n,i,s=Y2(t,i)){const r=yq(t,e).run(()=>G(n));return gN.set(t,r),e.provide(nj,s),[r,s]}function ij(t){return oq?mt(nj):null}function Jee(t,{firebaseApp:e,modules:n=[]}){t.provide(mN,e);for(const i of n)i(e,t)}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fd=typeof document<"u";function sj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zee(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&sj(t.default)}const on=Object.assign;function F0(t,e){const n={};for(const i in e){const s=e[i];n[i]=ua(s)?s.map(t):t(s)}return n}const em=()=>{},ua=Array.isArray,rj=/#/g,ete=/&/g,tte=/\//g,nte=/=/g,ite=/\?/g,aj=/\+/g,ste=/%5B/g,rte=/%5D/g,oj=/%5E/g,ate=/%60/g,lj=/%7B/g,ote=/%7C/g,uj=/%7D/g,lte=/%20/g;function gP(t){return encodeURI(""+t).replace(ote,"|").replace(ste,"[").replace(rte,"]")}function ute(t){return gP(t).replace(lj,"{").replace(uj,"}").replace(oj,"^")}function OS(t){return gP(t).replace(aj,"%2B").replace(lte,"+").replace(rj,"%23").replace(ete,"%26").replace(ate,"`").replace(lj,"{").replace(uj,"}").replace(oj,"^")}function cte(t){return OS(t).replace(nte,"%3D")}function dte(t){return gP(t).replace(rj,"%23").replace(ite,"%3F")}function hte(t){return t==null?"":dte(t).replace(tte,"%2F")}function Om(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const fte=/\/$/,mte=t=>t.replace(fte,"");function B0(t,e,n="/"){let i,s={},r="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,o>-1?o:e.length),s=t(r)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=_te(i??e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:Om(a)}}function gte(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function HA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pte(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&th(e.matched[i],n.matched[s])&&cj(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function th(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cj(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!vte(t[n],e[n]))return!1;return!0}function vte(t,e){return ua(t)?zA(t,e):ua(e)?zA(e,t):t===e}function zA(t,e){return ua(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function _te(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const tl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Mm;(function(t){t.pop="pop",t.push="push"})(Mm||(Mm={}));var tm;(function(t){t.back="back",t.forward="forward",t.unknown=""})(tm||(tm={}));function yte(t){if(!t)if(fd){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mte(t)}const bte=/^[^#]+#/;function wte(t,e){return t.replace(bte,"#")+e}function xte(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const jb=()=>({left:window.scrollX,top:window.scrollY});function Ste(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=xte(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function WA(t,e){return(history.state?history.state.position-e:-1)+t}const MS=new Map;function kte(t,e){MS.set(t,e)}function Tte(t){const e=MS.get(t);return MS.delete(t),e}let Pte=()=>location.protocol+"//"+location.host;function dj(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let o=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),HA(l,"")}return HA(n,t)+i+s}function Cte(t,e,n,i){let s=[],r=[],a=null;const o=({state:h})=>{const f=dj(t,location),p=n.value,m=e.value;let v=0;if(h){if(n.value=f,e.value=h,a&&a===p){a=null;return}v=m?h.position-m.position:0}else i(f);s.forEach(_=>{_(n.value,p,{delta:v,type:Mm.pop,direction:v?v>0?tm.forward:tm.back:tm.unknown})})};function l(){a=n.value}function u(h){s.push(h);const f=()=>{const p=s.indexOf(h);p>-1&&s.splice(p,1)};return r.push(f),f}function d(){const{history:h}=window;h.state&&h.replaceState(on({},h.state,{scroll:jb()}),"")}function c(){for(const h of r)h();r=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:c}}function YA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?jb():null}}function Ete(t){const{history:e,location:n}=window,i={value:dj(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,d){const c=t.indexOf("#"),h=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:Pte()+t+l;try{e[d?"replaceState":"pushState"](u,"",h),s.value=u}catch(f){console.error(f),n[d?"replace":"assign"](h)}}function a(l,u){const d=on({},e.state,YA(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});r(l,d,!0),i.value=l}function o(l,u){const d=on({},s.value,e.state,{forward:l,scroll:jb()});r(d.current,d,!0);const c=on({},YA(i.value,l,null),{position:d.position+1},u);r(l,c,!1),i.value=l}return{location:i,state:s,push:o,replace:a}}function Ite(t){t=yte(t);const e=Ete(t),n=Cte(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=on({location:"",base:t,go:i,createHref:wte.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Dte(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ite(t)}function Ate(t){return typeof t=="string"||t&&typeof t=="object"}function hj(t){return typeof t=="string"||typeof t=="symbol"}const fj=Symbol("");var GA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(GA||(GA={}));function nh(t,e){return on(new Error,{type:t,[fj]:!0},e)}function ro(t,e){return t instanceof Error&&fj in t&&(e==null||!!(t.type&e))}const qA="[^/]+?",Rte={sensitive:!1,strict:!1,start:!0,end:!0},Ote=/[.+*?^${}()[\]/\\]/g;function Mte(t,e){const n=on({},Rte,e),i=[];let s=n.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let c=0;c<u.length;c++){const h=u[c];let f=40+(n.sensitive?.25:0);if(h.type===0)c||(s+="/"),s+=h.value.replace(Ote,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:v,regexp:_}=h;r.push({name:p,repeatable:m,optional:v});const b=_||qA;if(b!==qA){f+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+k.message)}}let x=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;c||(x=v&&u.length<2?`(?:/${x})`:"/"+x),v&&(x+="?"),s+=x,f+=20,v&&(f+=-8),m&&(f+=-20),b===".*"&&(f+=-50)}d.push(f)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(u){const d=u.match(a),c={};if(!d)return null;for(let h=1;h<d.length;h++){const f=d[h]||"",p=r[h-1];c[p.name]=f&&p.repeatable?f.split("/"):f}return c}function l(u){let d="",c=!1;for(const h of t){(!c||!d.endsWith("/"))&&(d+="/"),c=!1;for(const f of h)if(f.type===0)d+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:v}=f,_=p in u?u[p]:"";if(ua(_)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=ua(_)?_.join("/"):_;if(!b)if(v)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);d+=b}}return d||"/"}return{re:a,score:i,keys:r,parse:o,stringify:l}}function Vte(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function mj(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=Vte(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(XA(i))return 1;if(XA(s))return-1}return s.length-i.length}function XA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Lte={type:0,value:""},Nte=/[a-zA-Z0-9_]/;function Fte(t){if(!t)return[[]];if(t==="/")return[[Lte]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let o=0,l,u="",d="";function c(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&c(),a()):l===":"?(c(),n=1):h();break;case 4:h(),n=i;break;case 1:l==="("?n=2:Nte.test(l)?h():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),c(),a(),s}function Bte(t,e,n){const i=Mte(Fte(t.path),n),s=on(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function jte(t,e){const n=[],i=new Map;e=ZA({strict:!1,end:!0,sensitive:!1},e);function s(c){return i.get(c)}function r(c,h,f){const p=!f,m=QA(c);m.aliasOf=f&&f.record;const v=ZA(e,c),_=[m];if("alias"in c){const k=typeof c.alias=="string"?[c.alias]:c.alias;for(const I of k)_.push(QA(on({},m,{components:f?f.record.components:m.components,path:I,aliasOf:f?f.record:m})))}let b,x;for(const k of _){const{path:I}=k;if(h&&I[0]!=="/"){const E=h.record.path,T=E[E.length-1]==="/"?"":"/";k.path=h.record.path+(I&&T+I)}if(b=Bte(k,h,v),f?f.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),p&&c.name&&!JA(b)&&a(c.name)),gj(b)&&l(b),m.children){const E=m.children;for(let T=0;T<E.length;T++)r(E[T],b,f&&f.children[T])}f=f||b}return x?()=>{a(x)}:em}function a(c){if(hj(c)){const h=i.get(c);h&&(i.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&i.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return n}function l(c){const h=Hte(c,n);n.splice(h,0,c),c.record.name&&!JA(c)&&i.set(c.record.name,c)}function u(c,h){let f,p={},m,v;if("name"in c&&c.name){if(f=i.get(c.name),!f)throw nh(1,{location:c});v=f.record.name,p=on(KA(h.params,f.keys.filter(x=>!x.optional).concat(f.parent?f.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),c.params&&KA(c.params,f.keys.map(x=>x.name))),m=f.stringify(p)}else if(c.path!=null)m=c.path,f=n.find(x=>x.re.test(m)),f&&(p=f.parse(m),v=f.record.name);else{if(f=h.name?i.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw nh(1,{location:c,currentLocation:h});v=f.record.name,p=on({},h.params,c.params),m=f.stringify(p)}const _=[];let b=f;for(;b;)_.unshift(b.record),b=b.parent;return{name:v,path:m,params:p,matched:_,meta:Ute(_)}}t.forEach(c=>r(c));function d(){n.length=0,i.clear()}return{addRoute:r,resolve:u,removeRoute:a,clearRoutes:d,getRoutes:o,getRecordMatcher:s}}function KA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function QA(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$te(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $te(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function JA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ute(t){return t.reduce((e,n)=>on(e,n.meta),{})}function ZA(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Hte(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;mj(t,e[r])<0?i=r:n=r+1}const s=zte(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function zte(t){let e=t;for(;e=e.parent;)if(gj(e)&&mj(t,e)===0)return e}function gj({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wte(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(aj," "),a=r.indexOf("="),o=Om(a<0?r:r.slice(0,a)),l=a<0?null:Om(r.slice(a+1));if(o in e){let u=e[o];ua(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function eR(t){let e="";for(let n in t){const i=t[n];if(n=cte(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(ua(i)?i.map(r=>r&&OS(r)):[i&&OS(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Yte(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=ua(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Gte=Symbol(""),tR=Symbol(""),$b=Symbol(""),pP=Symbol(""),VS=Symbol("");function vf(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ll(t,e,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const u=h=>{h===!1?l(nh(4,{from:n,to:e})):h instanceof Error?l(h):Ate(h)?l(nh(2,{from:e,to:h})):(a&&i.enterCallbacks[s]===a&&typeof h=="function"&&a.push(h),o())},d=r(()=>t.call(i&&i.instances[s],e,n,u));let c=Promise.resolve(d);t.length<3&&(c=c.then(u)),c.catch(h=>l(h))})}function j0(t,e,n,i,s=r=>r()){const r=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(sj(l)){const d=(l.__vccOpts||l)[e];d&&r.push(ll(d,n,i,a,o,s))}else{let u=l();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const c=Zee(d)?d.default:d;a.mods[o]=d,a.components[o]=c;const f=(c.__vccOpts||c)[e];return f&&ll(f,n,i,a,o,s)()}))}}return r}function nR(t){const e=mt($b),n=mt(pP),i=O(()=>{const l=oe(t.to);return e.resolve(l)}),s=O(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],c=n.matched;if(!d||!c.length)return-1;const h=c.findIndex(th.bind(null,d));if(h>-1)return h;const f=iR(l[u-2]);return u>1&&iR(d)===f&&c[c.length-1].path!==f?c.findIndex(th.bind(null,l[u-2])):h}),r=O(()=>s.value>-1&&Jte(n.params,i.value.params)),a=O(()=>s.value>-1&&s.value===n.matched.length-1&&cj(n.params,i.value.params));function o(l={}){if(Qte(l)){const u=e[oe(t.replace)?"replace":"push"](oe(t.to)).catch(em);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:O(()=>i.value.href),isActive:r,isExactActive:a,navigate:o}}function qte(t){return t.length===1?t[0]:t}const Xte=St({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nR,setup(t,{slots:e}){const n=mn(nR(t)),{options:i}=mt($b),s=O(()=>({[sR(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[sR(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&qte(e.default(n));return t.custom?r:Di("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Kte=Xte;function Qte(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Jte(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!ua(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function iR(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sR=(t,e,n)=>t??e??n,Zte=St({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=mt(VS),s=O(()=>t.route||i.value),r=mt(tR,0),a=O(()=>{let u=oe(r);const{matched:d}=s.value;let c;for(;(c=d[u])&&!c.components;)u++;return u}),o=O(()=>s.value.matched[a.value]);Kt(tR,O(()=>a.value+1)),Kt(Gte,o),Kt(VS,s);const l=G();return be(()=>[l.value,o.value,t.name],([u,d,c],[h,f,p])=>{d&&(d.instances[c]=u,f&&f!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),u&&d&&(!f||!th(d,f)||!h)&&(d.enterCallbacks[c]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=s.value,d=t.name,c=o.value,h=c&&c.components[d];if(!h)return rR(n.default,{Component:h,route:u});const f=c.props[d],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,v=Di(h,on({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[d]=null)},ref:l}));return rR(n.default,{Component:v,route:u})||v}}});function rR(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ene=Zte;function tne(t){const e=jte(t.routes,t),n=t.parseQuery||Wte,i=t.stringifyQuery||eR,s=t.history,r=vf(),a=vf(),o=vf(),l=Re(tl);let u=tl;fd&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=F0.bind(null,$=>""+$),c=F0.bind(null,hte),h=F0.bind(null,Om);function f($,q){let ae,_e;return hj($)?(ae=e.getRecordMatcher($),_e=q):_e=$,e.addRoute(_e,ae)}function p($){const q=e.getRecordMatcher($);q&&e.removeRoute(q)}function m(){return e.getRoutes().map($=>$.record)}function v($){return!!e.getRecordMatcher($)}function _($,q){if(q=on({},q||l.value),typeof $=="string"){const W=B0(n,$,q.path),ce=e.resolve({path:W.path},q),de=s.createHref(W.fullPath);return on(W,ce,{params:h(ce.params),hash:Om(W.hash),redirectedFrom:void 0,href:de})}let ae;if($.path!=null)ae=on({},$,{path:B0(n,$.path,q.path).path});else{const W=on({},$.params);for(const ce in W)W[ce]==null&&delete W[ce];ae=on({},$,{params:c(W)}),q.params=c(q.params)}const _e=e.resolve(ae,q),ge=$.hash||"";_e.params=d(h(_e.params));const B=gte(i,on({},$,{hash:ute(ge),path:_e.path})),N=s.createHref(B);return on({fullPath:B,hash:ge,query:i===eR?Yte($.query):$.query||{}},_e,{redirectedFrom:void 0,href:N})}function b($){return typeof $=="string"?B0(n,$,l.value.path):on({},$)}function x($,q){if(u!==$)return nh(8,{from:q,to:$})}function k($){return T($)}function I($){return k(on(b($),{replace:!0}))}function E($){const q=$.matched[$.matched.length-1];if(q&&q.redirect){const{redirect:ae}=q;let _e=typeof ae=="function"?ae($):ae;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=b(_e):{path:_e},_e.params={}),on({query:$.query,hash:$.hash,params:_e.path!=null?{}:$.params},_e)}}function T($,q){const ae=u=_($),_e=l.value,ge=$.state,B=$.force,N=$.replace===!0,W=E(ae);if(W)return T(on(b(W),{state:typeof W=="object"?on({},ge,W.state):ge,force:B,replace:N}),q||ae);const ce=ae;ce.redirectedFrom=q;let de;return!B&&pte(i,_e,ae)&&(de=nh(16,{to:ce,from:_e}),te(_e,_e,!0,!1)),(de?Promise.resolve(de):C(ce,_e)).catch(ne=>ro(ne)?ro(ne,2)?ne:Y(ne):z(ne,ce,_e)).then(ne=>{if(ne){if(ro(ne,2))return T(on({replace:N},b(ne.to),{state:typeof ne.to=="object"?on({},ge,ne.to.state):ge,force:B}),q||ce)}else ne=D(ce,_e,!0,N,ge);return P(ce,_e,ne),ne})}function S($,q){const ae=x($,q);return ae?Promise.reject(ae):Promise.resolve()}function w($){const q=ue.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext($):$()}function C($,q){let ae;const[_e,ge,B]=nne($,q);ae=j0(_e.reverse(),"beforeRouteLeave",$,q);for(const W of _e)W.leaveGuards.forEach(ce=>{ae.push(ll(ce,$,q))});const N=S.bind(null,$,q);return ae.push(N),se(ae).then(()=>{ae=[];for(const W of r.list())ae.push(ll(W,$,q));return ae.push(N),se(ae)}).then(()=>{ae=j0(ge,"beforeRouteUpdate",$,q);for(const W of ge)W.updateGuards.forEach(ce=>{ae.push(ll(ce,$,q))});return ae.push(N),se(ae)}).then(()=>{ae=[];for(const W of B)if(W.beforeEnter)if(ua(W.beforeEnter))for(const ce of W.beforeEnter)ae.push(ll(ce,$,q));else ae.push(ll(W.beforeEnter,$,q));return ae.push(N),se(ae)}).then(()=>($.matched.forEach(W=>W.enterCallbacks={}),ae=j0(B,"beforeRouteEnter",$,q,w),ae.push(N),se(ae))).then(()=>{ae=[];for(const W of a.list())ae.push(ll(W,$,q));return ae.push(N),se(ae)}).catch(W=>ro(W,8)?W:Promise.reject(W))}function P($,q,ae){o.list().forEach(_e=>w(()=>_e($,q,ae)))}function D($,q,ae,_e,ge){const B=x($,q);if(B)return B;const N=q===tl,W=fd?history.state:{};ae&&(_e||N?s.replace($.fullPath,on({scroll:N&&W&&W.scroll},ge)):s.push($.fullPath,ge)),l.value=$,te($,q,ae,N),Y()}let A;function F(){A||(A=s.listen(($,q,ae)=>{if(!re.listening)return;const _e=_($),ge=E(_e);if(ge){T(on(ge,{replace:!0,force:!0}),_e).catch(em);return}u=_e;const B=l.value;fd&&kte(WA(B.fullPath,ae.delta),jb()),C(_e,B).catch(N=>ro(N,12)?N:ro(N,2)?(T(on(b(N.to),{force:!0}),_e).then(W=>{ro(W,20)&&!ae.delta&&ae.type===Mm.pop&&s.go(-1,!1)}).catch(em),Promise.reject()):(ae.delta&&s.go(-ae.delta,!1),z(N,_e,B))).then(N=>{N=N||D(_e,B,!1),N&&(ae.delta&&!ro(N,8)?s.go(-ae.delta,!1):ae.type===Mm.pop&&ro(N,20)&&s.go(-1,!1)),P(_e,B,N)}).catch(em)}))}let L=vf(),H=vf(),X;function z($,q,ae){Y($);const _e=H.list();return _e.length?_e.forEach(ge=>ge($,q,ae)):console.error($),Promise.reject($)}function K(){return X&&l.value!==tl?Promise.resolve():new Promise(($,q)=>{L.add([$,q])})}function Y($){return X||(X=!$,F(),L.list().forEach(([q,ae])=>$?ae($):q()),L.reset()),$}function te($,q,ae,_e){const{scrollBehavior:ge}=t;if(!fd||!ge)return Promise.resolve();const B=!ae&&Tte(WA($.fullPath,0))||(_e||!ae)&&history.state&&history.state.scroll||null;return vt().then(()=>ge($,q,B)).then(N=>N&&Ste(N)).catch(N=>z(N,$,q))}const Q=$=>s.go($);let ee;const ue=new Set,re={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:m,resolve:_,options:t,push:k,replace:I,go:Q,back:()=>Q(-1),forward:()=>Q(1),beforeEach:r.add,beforeResolve:a.add,afterEach:o.add,onError:H.add,isReady:K,install($){const q=this;$.component("RouterLink",Kte),$.component("RouterView",ene),$.config.globalProperties.$router=q,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>oe(l)}),fd&&!ee&&l.value===tl&&(ee=!0,k(s.location).catch(ge=>{}));const ae={};for(const ge in tl)Object.defineProperty(ae,ge,{get:()=>l.value[ge],enumerable:!0});$.provide($b,q),$.provide(pP,GV(ae)),$.provide(VS,l);const _e=$.unmount;ue.add($),$.unmount=function(){ue.delete($),ue.size<1&&(u=tl,A&&A(),A=null,l.value=tl,ee=!1,X=!1),_e()}}};function se($){return $.reduce((q,ae)=>q.then(()=>w(ae)),Promise.resolve())}return re}function nne(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const o=e.matched[a];o&&(t.matched.find(u=>th(u,o))?i.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(u=>th(u,l))||s.push(l))}return[n,i,s]}function Ac(){return mt($b)}function Wg(t){return mt(pP)}function Ns(t,e){let n;function i(){n=Sg(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}be(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),as(()=>{n==null||n.stop()})}const Wt=typeof window<"u",vP=Wt&&"IntersectionObserver"in window,ine=Wt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),aR=Wt&&"EyeDropper"in window;function oR(t,e,n){sne(t,e),e.set(t,n)}function sne(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rne(t,e,n){return t.set(pj(t,e),n),n}function fu(t,e){return t.get(pj(t,e))}function pj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function vj(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Ka(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Ka(t[i],e[i]))}function sc(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),vj(t,e.split("."),n))}function ii(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return sc(t,e,n);if(Array.isArray(e))return vj(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function fr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Le(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Ub(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function lR(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function _P(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const uR=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),LS=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function _j(t){return Object.keys(t)}function Ru(t,e){return e.every(n=>t.hasOwnProperty(n))}function yP(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function NS(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)?i[r]=t[r]:s[r]=t[r];return[i,s]}function en(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function Yg(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const yj=/^on[^a-z]/,Hb=t=>yj.test(t),ane=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],one=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function lne(t){return t.isComposing&&one.includes(t.key)}function Ho(t){const[e,n]=NS(t,[yj]),i=en(e,ane),[s,r]=NS(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function bn(t){return t==null?[]:Array.isArray(t)?t:[t]}function une(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),oe(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function $n(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function L_(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function cR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function dR(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function cne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function dne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(t.length/e)},(n,i)=>t.slice(i*e,i*e+e))}function FS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function xs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(lR(r)&&lR(a)){i[s]=xs(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function bj(t){return t.map(e=>e.type===Pe?bj(e.children):e).flat()}function $u(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if($u.cache.has(t))return $u.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return $u.cache.set(t,e),e}$u.cache=new Map;function vd(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>vd(t,n)).flat(1);if(e.suspense)return vd(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>vd(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return vd(t,e.component.subTree).flat(1)}return[]}var Up=new WeakMap,Jc=new WeakMap;class hne{constructor(e){oR(this,Up,[]),oR(this,Jc,0),this.size=e}push(e){fu(Up,this)[fu(Jc,this)]=e,rne(Jc,this,(fu(Jc,this)+1)%this.size)}values(){return fu(Up,this).slice(fu(Jc,this)).concat(fu(Up,this).slice(0,fu(Jc,this)))}}function fne(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function bP(t){const e=mn({}),n=O(t);return yn(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),ql(e)}function N_(t,e){return t.includes(e)}function wj(t){return t[2].toLowerCase()+t.slice(3)}const Ri=()=>[Function,Array];function hR(t,e){return e="on"+ga(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function wP(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function Vm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function xj(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function Uu(t,e){var i,s,r,a;const n=Vm(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=xj(n,e);o?o.focus():Uu(t,e==="next"?"first":"last")}}function Hp(t){return t==null||typeof t=="string"&&t.trim()===""}function Sj(){}function ih(t,e){if(!(Wt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function zb(t){return t.some(e=>Dl(e)?e.type===bs?!1:e.type!==Pe||zb(e.children):!0)?t:null}function mne(t,e){if(!Wt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function gne(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function F_(){const t=Re(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>_P(t.value)}),e}function B_(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const kj=["top","bottom"],pne=["start","end","left","right"];function BS(t,e){let[n,i]=t.split(" ");return i||(i=N_(kj,n)?"start":N_(pne,n)?"top":"center"),{side:jS(n,e),align:jS(i,e)}}function jS(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function $0(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function U0(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function fR(t){return{side:t.align,align:t.side}}function mR(t){return N_(kj,t.side)?"y":"x"}class Hu{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function gR(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Tj(t){return Array.isArray(t)?new Hu({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function xP(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],o=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],o=+s[4],l=+s[5];else return new Hu(e);const u=n.transformOrigin,d=e.x-o-(1-r)*parseFloat(u),c=e.y-l-(1-a)*parseFloat(u.slice(u.indexOf(" ")+1)),h=r?e.width/r:t.offsetWidth+1,f=a?e.height/a:t.offsetHeight+1;return new Hu({x:d,y:c,width:h,height:f})}else return new Hu(e)}function Ou(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const Rv=new WeakMap;function vne(t,e){Object.keys(e).forEach(n=>{if(Hb(n)){const i=wj(n),s=Rv.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),Rv.has(t)||Rv.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function _ne(t,e){Object.keys(e).forEach(n=>{if(Hb(n)){const i=wj(n),s=Rv.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const Zc=2.4,pR=.2126729,vR=.7151522,_R=.072175,yne=.55,bne=.58,wne=.57,xne=.62,zp=.03,yR=1.45,Sne=5e-4,kne=1.25,Tne=1.25,Pne=.078,bR=12.82051282051282,Wp=.06,Cne=.001;function wR(t,e){const n=(t.r/255)**Zc,i=(t.g/255)**Zc,s=(t.b/255)**Zc,r=(e.r/255)**Zc,a=(e.g/255)**Zc,o=(e.b/255)**Zc;let l=n*pR+i*vR+s*_R,u=r*pR+a*vR+o*_R;if(l<=zp&&(l+=(zp-l)**yR),u<=zp&&(u+=(zp-u)**yR),Math.abs(u-l)<Sne)return 0;let d;if(u>l){const c=(u**yne-l**bne)*kne;d=c<Cne?0:c<Pne?c-c*bR*Wp:c-Wp}else{const c=(u**xne-l**wne)*Tne;d=c>-.001?0:c>-.078?c-c*bR*Wp:c+Wp}return d*100}function Ene(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const j_=.20689655172413793,Ine=t=>t>j_**3?Math.cbrt(t):t/(3*j_**2)+4/29,Dne=t=>t>j_?t**3:3*j_**2*(t-4/29);function Pj(t){const e=Ine,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Cj(t){const e=Dne,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const Ane=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Rne=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,One=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Mne=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Ej(t){const e=Array(3),n=Rne,i=Ane;for(let s=0;s<3;++s)e[s]=Math.round($n(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function SP(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=Mne,a=One;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function $S(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Vne(t){return $S(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const xR=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Lne={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>SR({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>SR({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Ro({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Ro({h:t,s:e,v:n,a:i})};function Ar(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&xR.test(t)){const{groups:e}=t.match(xR),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return Lne[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),Oj(e)}else if(typeof t=="object"){if(Ru(t,["r","g","b"]))return t;if(Ru(t,["h","s","l"]))return Ro(kP(t));if(Ru(t,["h","s","v"]))return Ro(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ro(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function SR(t){return Ro(kP(t))}function Wb(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i);let a=0;s!==r&&(s===e?a=60*(0+(n-i)/(s-r)):s===n?a=60*(2+(i-e)/(s-r)):s===i&&(a=60*(4+(e-n)/(s-r)))),a<0&&(a=a+360);const o=s===0?0:(s-r)/s,l=[a,o,s];return{h:l[0],s:l[1],v:l[2],a:t.a}}function Ij(t){const{h:e,s:n,v:i,a:s}=t,r=i-i*n/2,a=r===1||r===0?0:(i-r)/Math.min(r,1-r);return{h:e,s:a,l:r,a:s}}function kP(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function Dj(t){let{r:e,g:n,b:i,a:s}=t;return s===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${s})`}function Aj(t){return Dj(Ro(t))}function Yp(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function Rj(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Yp(e),Yp(n),Yp(i),s!==void 0?Yp(Math.round(s*255)):""].join("")}`}function Oj(t){t=Nne(t);let[e,n,i,s]=cne(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function Mj(t){const e=Oj(t);return Wb(e)}function Vj(t){return Rj(Ro(t))}function Nne(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=cR(cR(t,6),8,"F")),t}function Fne(t,e){const n=Pj(SP(t));return n[0]=n[0]+e*10,Ej(Cj(n))}function Bne(t,e){const n=Pj(SP(t));return n[0]=n[0]-e*10,Ej(Cj(n))}function US(t){const e=Ar(t);return SP(e)[1]}function jne(t,e){const n=US(t),i=US(e),s=Math.max(n,i),r=Math.min(n,i);return(s+.05)/(r+.05)}function Lj(t){const e=Math.abs(wR(Ar(0),Ar(t)));return Math.abs(wR(Ar(16777215),Ar(t)))>Math.min(e,50)?"#fff":"#000"}function ie(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Be=ie({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Gn(t,e){const n=Tc();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Qa(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Gn(t).type;return $u((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let Nj=0,Ov=new WeakMap;function zi(){const t=Gn("getUid");if(Ov.has(t))return Ov.get(t);{const e=Nj++;return Ov.set(t,e),e}}zi.reset=()=>{Nj=0,Ov=new WeakMap};function $ne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const sh=Symbol.for("vuetify:defaults");function Une(t){return G(t)}function TP(){const t=mt(sh);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Dn(t,e){const n=TP(),i=G(t),s=O(()=>{if(oe(e==null?void 0:e.disabled))return n.value;const a=oe(e==null?void 0:e.scoped),o=oe(e==null?void 0:e.reset),l=oe(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let u=xs(i.value,{prev:n.value});if(a)return u;if(o||l){const d=Number(o||1/0);for(let c=0;c<=d&&!(!u||!("prev"in u));c++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=xs(xs(u,{prev:u}),u[l])),u}return u.prev?xs(u.prev,u):u});return Kt(sh,s),s}function Hne(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[$u(e)])<"u"}function zne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:TP();const i=Gn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=O(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,u){var c,h,f,p,m,v,_;const d=Reflect.get(l,u);return u==="class"||u==="style"?[(c=s.value)==null?void 0:c[u],d].filter(b=>b!=null):typeof u=="string"&&!Hne(i.vnode,u)?((h=s.value)==null?void 0:h[u])!==void 0?(f=s.value)==null?void 0:f[u]:((m=(p=n.value)==null?void 0:p.global)==null?void 0:m[u])!==void 0?(_=(v=n.value)==null?void 0:v.global)==null?void 0:_[u]:d:d}}),a=Re();yn(()=>{if(s.value){const l=Object.entries(s.value).filter(u=>{let[d]=u;return d.startsWith(d[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=$ne(sh,i);Kt(sh,O(()=>a.value?xs((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function br(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=ie(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return yP(i,e)},t.props._as=String,t.setup=function(i,s){const r=TP();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=zne(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function ve(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?br:St)(e)}function Wne(t,e){return e.props=t,e}function Ja(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ve()({name:n??ga(Fs(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Be()},setup(i,s){let{slots:r}=s;return()=>{var a;return Di(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function Fj(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Lm="cubic-bezier(0.4, 0, 0.2, 1)",Yne="cubic-bezier(0.0, 0, 0.2, 1)",Gne="cubic-bezier(0.4, 0, 1, 1)";function kR(t,e,n){return Object.keys(t).filter(i=>Hb(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function PP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?qne(t):CP(t))return t;t=t.parentElement}return document.scrollingElement}function Nm(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(CP(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function CP(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function qne(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function Xne(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function we(t){const e=Gn("useRender");e.render=t}function Ue(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const r=Gn("useProxiedModel"),a=G(t[e]!==void 0?t[e]:n),o=$u(e),u=O(o!==e?()=>{var c,h,f,p;return t[e],!!(((c=r.vnode.props)!=null&&c.hasOwnProperty(e)||(h=r.vnode.props)!=null&&h.hasOwnProperty(o))&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(p=r.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var c,h;return t[e],!!((c=r.vnode.props)!=null&&c.hasOwnProperty(e)&&((h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)))});Ns(()=>!u.value,()=>{be(()=>t[e],c=>{a.value=c})});const d=O({get(){const c=t[e];return i(u.value?c:a.value)},set(c){const h=s(c),f=Xe(u.value?t[e]:a.value);f===h||i(f)===c||(a.value=h,r==null||r.emit(`update:${e}`,h))}});return Object.defineProperty(d,"externalValue",{get:()=>u.value?t[e]:a.value}),d}const Bj={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},TR="$vuetify.",PR=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),jj=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(TR))return PR(i,r);const o=i.replace(TR,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let d=sc(l,o,null);return d||(`${i}${t.value}`,d=sc(u,o,null)),d||(d=i),typeof d!="string"&&(d=i),PR(d,r)};function $j(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function H0(t,e,n){const i=Ue(t,e,t[e]??n.value);return i.value=t[e]??n.value,be(n,s=>{t[e]==null&&(i.value=n.value)}),i}function Uj(t){return e=>{const n=H0(e,"locale",t.current),i=H0(e,"fallback",t.fallback),s=H0(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:jj(n,i,s),n:$j(n,i),provide:Uj({current:n,fallback:i,messages:s})}}}function Kne(t){const e=Re((t==null?void 0:t.locale)??"en"),n=Re((t==null?void 0:t.fallback)??"en"),i=G({en:Bj,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:jj(e,n,i),n:$j(e,n),provide:Uj({current:e,fallback:n,messages:i})}}const rh=Symbol.for("vuetify:locale");function Qne(t){return t.name!=null}function Jne(t){const e=t!=null&&t.adapter&&Qne(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Kne(t),n=tie(e,t);return{...e,...n}}function gn(){const t=mt(rh);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Zne(t){const e=mt(rh);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=nie(n,e.rtl,t),s={...n,...i};return Kt(rh,s),s}function eie(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function tie(t,e){const n=G((e==null?void 0:e.rtl)??eie()),i=O(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:O(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function nie(t,e,n){const i=O(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:O(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Si(){const t=mt(rh);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Yb={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function iie(t,e,n){const i=[];let s=[];const r=Hj(t),a=zj(t),o=n??Yb[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,u=(a.getDay()-o+7)%7;for(let d=0;d<l;d++){const c=new Date(r);c.setDate(c.getDate()-(l-d)),s.push(c)}for(let d=1;d<=a.getDate();d++){const c=new Date(t.getFullYear(),t.getMonth(),d);s.push(c),s.length===7&&(i.push(s),s=[])}for(let d=1;d<7-u;d++){const c=new Date(a);c.setDate(c.getDate()+d),s.push(c)}return s.length>0&&i.push(s),i}function sie(t,e,n){const i=n??Yb[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function rie(t,e){const n=new Date(t),i=((Yb[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function Hj(t){return new Date(t.getFullYear(),t.getMonth(),1)}function zj(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function aie(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const oie=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Wj(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(oie.test(t))return aie(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const CR=new Date(2e3,0,2);function lie(t,e){const n=e??Yb[t.slice(-2).toUpperCase()]??0;return fr(7).map(i=>{const s=new Date(CR);return s.setDate(CR.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function uie(t,e,n,i){const s=Wj(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function cie(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=dR(String(n.getMonth()+1),2,"0"),r=dR(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function die(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function hie(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function fie(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function mie(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function gie(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function pie(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function vie(t){return t.getFullYear()}function _ie(t){return t.getMonth()}function yie(t){return t.getDate()}function bie(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function wie(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function xie(t){return t.getHours()}function Sie(t){return t.getMinutes()}function kie(t){return new Date(t.getFullYear(),0,1)}function Tie(t){return new Date(t.getFullYear(),11,31)}function Pie(t,e){return $_(t,e[0])&&Iie(t,e[1])}function Cie(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function $_(t,e){return t.getTime()>e.getTime()}function Eie(t,e){return $_(HS(t),HS(e))}function Iie(t,e){return t.getTime()<e.getTime()}function ER(t,e){return t.getTime()===e.getTime()}function Die(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Aie(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Rie(t,e){return t.getFullYear()===e.getFullYear()}function Oie(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function Mie(t,e){const n=new Date(t);return n.setHours(e),n}function Vie(t,e){const n=new Date(t);return n.setMinutes(e),n}function Lie(t,e){const n=new Date(t);return n.setMonth(e),n}function Nie(t,e){const n=new Date(t);return n.setDate(e),n}function Fie(t,e){const n=new Date(t);return n.setFullYear(e),n}function HS(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Bie(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class jie{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return Wj(e)}toJsDate(e){return e}toISO(e){return cie(this,e)}parseISO(e){return die(e)}addMinutes(e,n){return hie(e,n)}addHours(e,n){return fie(e,n)}addDays(e,n){return mie(e,n)}addWeeks(e,n){return gie(e,n)}addMonths(e,n){return pie(e,n)}getWeekArray(e,n){return iie(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return sie(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return rie(e,this.locale)}startOfMonth(e){return Hj(e)}endOfMonth(e){return zj(e)}format(e,n){return uie(e,n,this.locale,this.formats)}isEqual(e,n){return ER(e,n)}isValid(e){return Cie(e)}isWithinRange(e,n){return Pie(e,n)}isAfter(e,n){return $_(e,n)}isAfterDay(e,n){return Eie(e,n)}isBefore(e,n){return!$_(e,n)&&!ER(e,n)}isSameDay(e,n){return Die(e,n)}isSameMonth(e,n){return Aie(e,n)}isSameYear(e,n){return Rie(e,n)}setMinutes(e,n){return Vie(e,n)}setHours(e,n){return Mie(e,n)}setMonth(e,n){return Lie(e,n)}setDate(e,n){return Nie(e,n)}setYear(e,n){return Fie(e,n)}getDiff(e,n,i){return Oie(e,n,i)}getWeekdays(e){return lie(this.locale,e?Number(e):void 0)}getYear(e){return vie(e)}getMonth(e){return _ie(e)}getDate(e){return yie(e)}getNextMonth(e){return bie(e)}getPreviousMonth(e){return wie(e)}getHours(e){return xie(e)}getMinutes(e){return Sie(e)}startOfDay(e){return HS(e)}endOfDay(e){return Bie(e)}startOfYear(e){return kie(e)}endOfYear(e){return Tie(e)}}const Yj=Symbol.for("vuetify:date-options"),IR=Symbol.for("vuetify:date-adapter");function $ie(t,e){const n=xs({adapter:jie,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:Gj(n,e)}}function Gj(t,e){const n=mn(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return be(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Fr(){const t=mt(Yj);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=gn();return Gj(t,e)}function Uie(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,s=o)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const Gb=["sm","md","lg","xl","xxl"],zS=Symbol.for("vuetify:display"),DR={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Hie=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DR;return xs(DR,t)};function AR(t){return Wt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function RR(t){return Wt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function OR(t){const e=Wt&&!t?window.navigator.userAgent:"ssr";function n(p){return!!e.match(p)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),d=n(/opera/i),c=n(/win/i),h=n(/mac/i),f=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:u,opera:d,win:c,mac:h,linux:f,touch:ine,ssr:e==="ssr"}}function zie(t,e){const{thresholds:n,mobileBreakpoint:i}=Hie(t),s=Re(RR(e)),r=Re(OR(e)),a=mn({}),o=Re(AR(e));function l(){s.value=RR(),o.value=AR()}function u(){l(),r.value=OR()}return yn(()=>{const d=o.value<n.sm,c=o.value<n.md&&!d,h=o.value<n.lg&&!(c||d),f=o.value<n.xl&&!(h||c||d),p=o.value<n.xxl&&!(f||h||c||d),m=o.value>=n.xxl,v=d?"xs":c?"sm":h?"md":f?"lg":p?"xl":"xxl",_=typeof i=="number"?i:n[i],b=o.value<_;a.xs=d,a.sm=c,a.md=h,a.lg=f,a.xl=p,a.xxl=m,a.smAndUp=!d,a.mdAndUp=!(d||c),a.lgAndUp=!(d||c||h),a.xlAndUp=!(d||c||h||f),a.smAndDown=!(h||f||p||m),a.mdAndDown=!(f||p||m),a.lgAndDown=!(p||m),a.xlAndDown=!m,a.name=v,a.height=s.value,a.width=o.value,a.mobile=b,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),Wt&&window.addEventListener("resize",l,{passive:!0}),{...ql(a),update:u,ssr:!!e}}const Rc=ie({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function wr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=mt(zS);if(!n)throw new Error("Could not find Vuetify display injection");const i=O(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=O(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const qj=Symbol.for("vuetify:goto");function Xj(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Wie(t){return EP(t)??(document.scrollingElement||document.body)}function EP(t){return typeof t=="string"?document.querySelector(t):_P(t)}function z0(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=EP(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function Yie(t,e){return{rtl:e.isRtl,options:xs(Xj(),t)}}async function MR(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=xs((i==null?void 0:i.options)??Xj(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:EP(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:Wie(r.container),u=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!u)throw new TypeError(`Easing function "${r.easing}" not found.`);let d;if(typeof o=="number")d=z0(o,n,a);else if(d=z0(o,n,a)-z0(l,n,a),r.layout){const p=window.getComputedStyle(o).getPropertyValue("--v-layout-top");p&&(d-=parseInt(p,10))}d+=r.offset,d=qie(l,d,!!a,!!n);const c=l[s]??0;if(d===c)return Promise.resolve(d);const h=performance.now();return new Promise(f=>requestAnimationFrame(function p(m){const _=(m-h)/r.duration,b=Math.floor(c+(d-c)*u($n(_,0,1)));if(l[s]=b,_>=1&&Math.abs(b-l[s])<10)return f(d);if(_>2)return f(l[s]);requestAnimationFrame(p)}))}function Gie(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=mt(qj),{isRtl:n}=Si();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:O(()=>e.rtl.value||n.value)};async function s(r,a){return MR(r,xs(t,a),!1,i)}return s.horizontal=async(r,a)=>MR(r,xs(t,a),!0,i),s}function qie(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return i?n?(l=-(s-a),u=0):(l=0,u=s-a):(l=0,u=r+-o),Math.max(Math.min(e,u),l)}const Xie={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},Kie={component:t=>Di(DP,{...t,class:"mdi"})},Ye=[String,Function,Object,Array],WS=Symbol.for("vuetify:icons"),qb=ie({icon:{type:Ye},tag:{type:String,required:!0}},"icon"),YS=ve()({name:"VComponentIcon",props:qb(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return g(t.tag,null,{default:()=>{var s;return[t.icon?g(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),IP=br({name:"VSvgIcon",inheritAttrs:!1,props:qb(),setup(t,e){let{attrs:n}=e;return()=>g(t.tag,Z(n,{style:null}),{default:()=>[g("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?g("path",{d:i[0],"fill-opacity":i[1]},null):g("path",{d:i},null)):g("path",{d:t.icon},null)])]})}}),Qie=br({name:"VLigatureIcon",props:qb(),setup(t){return()=>g(t.tag,null,{default:()=>[t.icon]})}}),DP=br({name:"VClassIcon",props:qb(),setup(t){return()=>g(t.tag,{class:t.icon},null)}});function Jie(){return{svg:{component:IP},class:{component:DP}}}function Zie(t){const e=Jie(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=Kie),xs({defaultSet:n,sets:e,aliases:{...Xie,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const ese=t=>{const e=mt(WS);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:O(()=>{var l;const i=oe(t);if(!i)return{component:YS};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:IP,icon:s};if(typeof s!="string")return{component:YS,icon:s};const r=Object.keys(e.sets).find(u=>typeof s=="string"&&s.startsWith(`${u}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},Fm=Symbol.for("vuetify:theme"),Lt=ie({theme:String},"theme");function VR(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function tse(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VR();const e=VR();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=xs(o,a)}return xs(e,{...t,themes:n})}function nse(t){const e=tse(t),n=G(e.defaultTheme),i=G(e.themes),s=O(()=>{const d={};for(const[c,h]of Object.entries(i.value)){const f=d[c]={...h,colors:{...h.colors}};if(e.variations)for(const p of e.variations.colors){const m=f.colors[p];if(m)for(const v of["lighten","darken"]){const _=v==="lighten"?Fne:Bne;for(const b of fr(e.variations[v],1))f.colors[`${p}-${v}-${b}`]=Rj(_(Ar(m),b))}}for(const p of Object.keys(f.colors)){if(/^on-[a-z]/.test(p)||f.colors[`on-${p}`])continue;const m=`on-${p}`,v=Ar(f.colors[p]);f.colors[m]=Lj(v)}}return d}),r=O(()=>s.value[n.value]),a=O(()=>{var p;const d=[];(p=r.value)!=null&&p.dark&&mu(d,":root",["color-scheme: dark"]),mu(d,":root",LR(r.value));for(const[m,v]of Object.entries(s.value))mu(d,`.v-theme--${m}`,[`color-scheme: ${v.dark?"dark":"normal"}`,...LR(v)]);const c=[],h=[],f=new Set(Object.values(s.value).flatMap(m=>Object.keys(m.colors)));for(const m of f)/^on-[a-z]/.test(m)?mu(h,`.${m}`,[`color: rgb(var(--v-theme-${m})) !important`]):(mu(c,`.bg-${m}`,[`--v-theme-overlay-multiplier: var(--v-theme-${m}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${m})) !important`,`color: rgb(var(--v-theme-on-${m})) !important`]),mu(h,`.text-${m}`,[`color: rgb(var(--v-theme-${m})) !important`]),mu(h,`.border-${m}`,[`--v-border-color: var(--v-theme-${m})`]));return d.push(...c,...h),d.map((m,v)=>v===0?m:`    ${m}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(d){if(e.isDisabled)return;const c=d._context.provides.usehead;if(c)if(c.push){const h=c.push(o);Wt&&be(a,()=>{h.patch(o)})}else Wt?(c.addHeadObjs(O(o)),yn(()=>c.updateDOM())):c.addHeadObjs(o());else{let f=function(){if(typeof document<"u"&&!h){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",e.cspNonce&&p.setAttribute("nonce",e.cspNonce),h=p,document.head.appendChild(h)}h&&(h.innerHTML=a.value)},h=Wt?document.getElementById("vuetify-theme-stylesheet"):null;Wt?be(a,f,{immediate:!0}):f()}}const u=O(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:u,styles:a,global:{name:n,current:r}}}function Xt(t){Gn("provideTheme");const e=mt(Fm,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=O(()=>t.theme??e.name.value),i=O(()=>e.themes.value[n.value]),s=O(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return Kt(Fm,r),r}function Gg(){Gn("useTheme");const t=mt(Fm,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function mu(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function LR(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=Ar(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${US(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?Ar(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function ca(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=F_(),i=G();if(Wt){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Oi(()=>{s.disconnect()}),be(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:bh(i)}}const Bm=Symbol.for("vuetify:layout"),Kj=Symbol.for("vuetify:layout-item"),NR=1e3,Qj=ie({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Oc=ie({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Jj(){const t=mt(Bm);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Mc(t){const e=mt(Bm);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${zi()}`,i=Gn("useLayoutItem");Kt(Kj,{id:n});const s=Re(!1);Lk(()=>s.value=!0),fL(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:O(()=>s.value?!1:t.active.value),id:n});return Oi(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const ise=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),u=i.get(a);if(!o||!l||!u)continue;const d={...s,[o.value]:parseInt(s[o.value],10)+(u.value?parseInt(l.value,10):0)};r.push({id:a,layer:d}),s=d}return r};function Zj(t){const e=mt(Bm,null),n=O(()=>e?e.rootZIndex.value-100:NR),i=G([]),s=mn(new Map),r=mn(new Map),a=mn(new Map),o=mn(new Map),l=mn(new Map),{resizeRef:u,contentRect:d}=ca(),c=O(()=>{const E=new Map,T=t.overlaps??[];for(const S of T.filter(w=>w.includes(":"))){const[w,C]=S.split(":");if(!i.value.includes(w)||!i.value.includes(C))continue;const P=s.get(w),D=s.get(C),A=r.get(w),F=r.get(C);!P||!D||!A||!F||(E.set(C,{position:P.value,amount:parseInt(A.value,10)}),E.set(w,{position:D.value,amount:-parseInt(F.value,10)}))}return E}),h=O(()=>{const E=[...new Set([...a.values()].map(S=>S.value))].sort((S,w)=>S-w),T=[];for(const S of E){const w=i.value.filter(C=>{var P;return((P=a.get(C))==null?void 0:P.value)===S});T.push(...w)}return ise(T,s,r,o)}),f=O(()=>!Array.from(l.values()).some(E=>E.value)),p=O(()=>h.value[h.value.length-1].layer),m=O(()=>({"--v-layout-left":Le(p.value.left),"--v-layout-right":Le(p.value.right),"--v-layout-top":Le(p.value.top),"--v-layout-bottom":Le(p.value.bottom),...f.value?void 0:{transition:"none"}})),v=O(()=>h.value.slice(1).map((E,T)=>{let{id:S}=E;const{layer:w}=h.value[T],C=r.get(S),P=s.get(S);return{id:S,...w,size:Number(C.value),position:P.value}})),_=E=>v.value.find(T=>T.id===E),b=Gn("createLayout"),x=Re(!1);kt(()=>{x.value=!0}),Kt(Bm,{register:(E,T)=>{let{id:S,order:w,position:C,layoutSize:P,elementSize:D,active:A,disableTransitions:F,absolute:L}=T;a.set(S,w),s.set(S,C),r.set(S,P),o.set(S,A),F&&l.set(S,F);const X=vd(Kj,b==null?void 0:b.vnode).indexOf(E);X>-1?i.value.splice(X,0,S):i.value.push(S);const z=O(()=>v.value.findIndex(Q=>Q.id===S)),K=O(()=>n.value+h.value.length*2-z.value*2),Y=O(()=>{const Q=C.value==="left"||C.value==="right",ee=C.value==="right",ue=C.value==="bottom",re=D.value??P.value,se=re===0?"%":"px",$={[C.value]:0,zIndex:K.value,transform:`translate${Q?"X":"Y"}(${(A.value?0:-(re===0?100:re))*(ee||ue?-1:1)}${se})`,position:L.value||n.value!==NR?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!x.value)return $;const q=v.value[z.value];if(!q)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const ae=c.value.get(S);return ae&&(q[ae.position]+=ae.amount),{...$,height:Q?`calc(100% - ${q.top}px - ${q.bottom}px)`:D.value?`${D.value}px`:void 0,left:ee?void 0:`${q.left}px`,right:ee?`${q.right}px`:void 0,top:C.value!=="bottom"?`${q.top}px`:void 0,bottom:C.value!=="top"?`${q.bottom}px`:void 0,width:Q?D.value?`${D.value}px`:void 0:`calc(100% - ${q.left}px - ${q.right}px)`}}),te=O(()=>({zIndex:K.value-1}));return{layoutItemStyles:Y,layoutItemScrimStyles:te,zIndex:K}},unregister:E=>{a.delete(E),s.delete(E),r.delete(E),o.delete(E),l.delete(E),i.value=i.value.filter(T=>T!==E)},mainRect:p,mainStyles:m,getLayoutItem:_,items:v,layoutRect:d,rootZIndex:n});const k=O(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),I=O(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:k,layoutStyles:I,getLayoutItem:_,items:v,layoutRect:d,layoutRef:u}}function e$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=xs(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=Une(i.defaults),l=zie(i.display,i.ssr),u=nse(i.theme),d=Zie(i.icons),c=Jne(i.locale),h=$ie(i.date,c),f=Yie(i.goTo,c);return{install:m=>{for(const v in a)m.directive(v,a[v]);for(const v in r)m.component(v,r[v]);for(const v in s)m.component(v,br({...s[v],name:v,aliasName:s[v].name}));if(u.install(m),m.provide(sh,o),m.provide(zS,l),m.provide(Fm,u),m.provide(WS,d),m.provide(rh,c),m.provide(Yj,h.options),m.provide(IR,h.instance),m.provide(qj,f),Wt&&i.ssr)if(m.$nuxt)m.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:v}=m;m.mount=function(){const _=v(...arguments);return vt(()=>l.update()),m.mount=v,_}}zi.reset(),m.mixin({computed:{$vuetify(){return mn({defaults:ed.call(this,sh),display:ed.call(this,zS),theme:ed.call(this,Fm),icons:ed.call(this,WS),locale:ed.call(this,rh),date:ed.call(this,IR)})}}})},defaults:o,display:l,theme:u,icons:d,locale:c,date:h,goTo:f}}const sse="3.7.6";e$.version=sse;function ed(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}class Ks{static getItem(e){try{const n=localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.error(`Error retrieving item from localStorage: ${n}`),null}}static setItem(e,n){try{const i=JSON.stringify(n);localStorage.setItem(e,i)}catch(i){console.error(`Error setting item in localStorage: ${i}`)}}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}var Xb,It,t$,n$,Su,FR,i$,GS,s$,AP,qS,XS,r$,jm={},a$=[],rse=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Kb=Array.isArray;function vl(t,e){for(var n in e)t[n]=e[n];return t}function RP(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function rc(t,e,n){var i,s,r,a={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?Xb.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return Mv(t,a,i,s,null)}function Mv(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++t$,__i:-1,__u:0};return s==null&&It.vnode!=null&&It.vnode(r),r}function Vt(t){return t.children}function Va(t,e){this.props=t,this.context=e}function ah(t,e){if(e==null)return t.__?ah(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ah(t):null}function o$(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return o$(t)}}function KS(t){(!t.__d&&(t.__d=!0)&&Su.push(t)&&!U_.__r++||FR!==It.debounceRendering)&&((FR=It.debounceRendering)||i$)(U_)}function U_(){var t,e,n,i,s,r,a,o;for(Su.sort(GS);t=Su.shift();)t.__d&&(e=Su.length,i=void 0,r=(s=(n=t).__v).__e,a=[],o=[],n.__P&&((i=vl({},s)).__v=s.__v+1,It.vnode&&It.vnode(i),OP(n.__P,i,s,n.__n,n.__P.namespaceURI,32&s.__u?[r]:null,a,r??ah(s),!!(32&s.__u),o),i.__v=s.__v,i.__.__k[i.__i]=i,c$(a,i,o),i.__e!=r&&o$(i)),Su.length>e&&Su.sort(GS));U_.__r=0}function l$(t,e,n,i,s,r,a,o,l,u,d){var c,h,f,p,m,v,_=i&&i.__k||a$,b=e.length;for(l=ase(n,e,_,l,b),c=0;c<b;c++)(f=n.__k[c])!=null&&(h=f.__i===-1?jm:_[f.__i]||jm,f.__i=c,v=OP(t,f,h,s,r,a,o,l,u,d),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&MP(h.ref,null,f),d.push(f.ref,f.__c||p,f)),m==null&&p!=null&&(m=p),4&f.__u||h.__k===f.__k?l=u$(f,l,t):typeof f.type=="function"&&v!==void 0?l=v:p&&(l=p.nextSibling),f.__u&=-7);return n.__e=m,l}function ase(t,e,n,i,s){var r,a,o,l,u,d=n.length,c=d,h=0;for(t.__k=new Array(s),r=0;r<s;r++)(a=e[r])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=r+h,(a=t.__k[r]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Mv(null,a,null,null,null):Kb(a)?Mv(Vt,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Mv(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,o=null,(u=a.__i=ose(a,n,l,c))!==-1&&(c--,(o=n[u])&&(o.__u|=2)),o==null||o.__v===null?(u==-1&&h--,typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,a.__u|=4))):t.__k[r]=null;if(c)for(r=0;r<d;r++)(o=n[r])!=null&&!(2&o.__u)&&(o.__e==i&&(i=ah(o)),d$(o,o));return i}function u$(t,e,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=u$(i[s],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=ah(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function H_(t,e){return e=e||[],t==null||typeof t=="boolean"||(Kb(t)?t.some(function(n){H_(n,e)}):e.push(t)),e}function ose(t,e,n,i){var s,r,a=t.key,o=t.type,l=e[n];if(l===null||l&&a==l.key&&o===l.type&&!(2&l.__u))return n;if(i>(l!=null&&!(2&l.__u)?1:0))for(s=n-1,r=n+1;s>=0||r<e.length;){if(s>=0){if((l=e[s])&&!(2&l.__u)&&a==l.key&&o===l.type)return s;s--}if(r<e.length){if((l=e[r])&&!(2&l.__u)&&a==l.key&&o===l.type)return r;r++}}return-1}function BR(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||rse.test(e)?n:n+"px"}function Gp(t,e,n,i,s){var r;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||BR(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||BR(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(s$,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=AP,t.addEventListener(e,r?XS:qS,r)):t.removeEventListener(e,r?XS:qS,r);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function jR(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=AP++;else if(e.t<n.u)return;return n(It.event?It.event(e):e)}}}function OP(t,e,n,i,s,r,a,o,l,u){var d,c,h,f,p,m,v,_,b,x,k,I,E,T,S,w,C,P=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),r=[o=e.__e=n.__e]),(d=It.__b)&&d(e);e:if(typeof P=="function")try{if(_=e.props,b="prototype"in P&&P.prototype.render,x=(d=P.contextType)&&i[d.__c],k=d?x?x.props.value:d.__:i,n.__c?v=(c=e.__c=n.__c).__=c.__E:(b?e.__c=c=new P(_,k):(e.__c=c=new Va(_,k),c.constructor=P,c.render=use),x&&x.sub(c),c.props=_,c.state||(c.state={}),c.context=k,c.__n=i,h=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&P.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=vl({},c.__s)),vl(c.__s,P.getDerivedStateFromProps(_,c.__s))),f=c.props,p=c.state,c.__v=e,h)b&&P.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&P.getDerivedStateFromProps==null&&_!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,k),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,k)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(D){D&&(D.__=e)}),I=0;I<c._sb.length;I++)c.__h.push(c._sb[I]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,k),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,p,m)})}if(c.context=k,c.props=_,c.__P=t,c.__e=!1,E=It.__r,T=0,b){for(c.state=c.__s,c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++T<25);c.state=c.__s,c.getChildContext!=null&&(i=vl(vl({},i),c.getChildContext())),b&&!h&&c.getSnapshotBeforeUpdate!=null&&(m=c.getSnapshotBeforeUpdate(f,p)),o=l$(t,Kb(w=d!=null&&d.type===Vt&&d.key==null?d.props.children:d)?w:[w],e,n,i,s,r,a,o,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),v&&(c.__E=c.__=null)}catch(D){if(e.__v=null,l||r!=null)if(D.then){for(e.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;r[r.indexOf(o)]=null,e.__e=o}else for(C=r.length;C--;)RP(r[C]);else e.__e=n.__e,e.__k=n.__k;It.__e(D,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):o=e.__e=lse(n.__e,e,n,i,s,r,a,l,u);return(d=It.diffed)&&d(e),128&e.__u?void 0:o}function c$(t,e,n){for(var i=0;i<n.length;i++)MP(n[i],n[++i],n[++i]);It.__c&&It.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){It.__e(r,s.__v)}})}function lse(t,e,n,i,s,r,a,o,l){var u,d,c,h,f,p,m,v=n.props,_=e.props,b=e.type;if(b=="svg"?s="http://www.w3.org/2000/svg":b=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((f=r[u])&&"setAttribute"in f==!!b&&(b?f.localName==b:f.nodeType==3)){t=f,r[u]=null;break}}if(t==null){if(b==null)return document.createTextNode(_);t=document.createElementNS(s,b,_.is&&_),o&&(It.__m&&It.__m(e,r),o=!1),r=null}if(b===null)v===_||o&&t.data===_||(t.data=_);else{if(r=r&&Xb.call(t.childNodes),v=n.props||jm,!o&&r!=null)for(v={},u=0;u<t.attributes.length;u++)v[(f=t.attributes[u]).name]=f.value;for(u in v)if(f=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=f;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Gp(t,u,null,f,s)}}for(u in _)f=_[u],u=="children"?h=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?p=f:u=="checked"?m=f:o&&typeof f!="function"||v[u]===f||Gp(t,u,f,v[u],s);if(d)o||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),l$(t,Kb(h)?h:[h],e,n,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":s,r,a,r?r[0]:n.__k&&ah(n,0),o,l),r!=null)for(u=r.length;u--;)RP(r[u]);o||(u="value",b=="progress"&&p==null?t.removeAttribute("value"):p!==void 0&&(p!==t[u]||b=="progress"&&!p||b=="option"&&p!==v[u])&&Gp(t,u,p,v[u],s),u="checked",m!==void 0&&m!==t[u]&&Gp(t,u,m,v[u],s))}return t}function MP(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(s){It.__e(s,n)}}function d$(t,e,n){var i,s;if(It.unmount&&It.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||MP(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){It.__e(r,e)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&d$(i[s],e,n||typeof t.type!="function");n||RP(t.__e),t.__c=t.__=t.__e=void 0}function use(t,e,n){return this.constructor(t,n)}function z_(t,e,n){var i,s,r,a;e==document&&(e=document.documentElement),It.__&&It.__(t,e),s=(i=!1)?null:e.__k,r=[],a=[],OP(e,t=e.__k=rc(Vt,null,[t]),s||jm,jm,e.namespaceURI,s?null:e.firstChild?Xb.call(e.childNodes):null,r,s?s.__e:e.firstChild,i,a),c$(r,t,a)}function h$(t,e){var n={__c:e="__cC"+r$++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=new Set,(r={})[e]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.forEach(function(o){o.__e=!0,KS(o)})},this.sub=function(a){s.add(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s&&s.delete(a),o&&o.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Xb=a$.slice,It={__e:function(t,e,n,i){for(var s,r,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),a=s.__d),a)return s.__E=s}catch(o){t=o}throw t}},t$=0,n$=function(t){return t!=null&&t.constructor==null},Va.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=vl({},this.state),typeof t=="function"&&(t=t(vl({},n),this.props)),t&&vl(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),KS(this))},Va.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),KS(this))},Va.prototype.render=Vt,Su=[],i$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,GS=function(t,e){return t.__v.__b-e.__v.__b},U_.__r=0,s$=/(PointerCapture)$|Capture$/i,AP=0,qS=jR(!1),XS=jR(!0),r$=0;var cse=0;function J(t,e,n,i,s,r){e||(e={});var a,o,l=e;if("ref"in l)for(o in l={},e)o=="ref"?a=e[o]:l[o]=e[o];var u={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--cse,__i:-1,__u:0,__source:s,__self:r};if(typeof t=="function"&&(a=t.defaultProps))for(o in a)l[o]===void 0&&(l[o]=a[o]);return It.vnode&&It.vnode(u),u}var oh,Jn,W0,$R,W_=0,f$=[],_i=It,UR=_i.__b,HR=_i.__r,zR=_i.diffed,WR=_i.__c,YR=_i.unmount,GR=_i.__;function Qb(t,e){_i.__h&&_i.__h(Jn,t,W_||e),W_=0;var n=Jn.__H||(Jn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function At(t){return W_=1,dse(g$,t)}function dse(t,e,n){var i=Qb(oh++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):g$(void 0,e),function(o){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,o);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=Jn,!Jn.u)){var s=function(o,l,u){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(h){return!!h.__c});if(d.every(function(h){return!h.__N}))return!r||r.call(this,o,l,u);var c=i.__c.props!==o;return d.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(c=!0)}}),r&&r.call(this,o,l,u)||c};Jn.u=!0;var r=Jn.shouldComponentUpdate,a=Jn.componentWillUpdate;Jn.componentWillUpdate=function(o,l,u){if(this.__e){var d=r;r=void 0,s(o,l,u),r=d}a&&a.call(this,o,l,u)},Jn.shouldComponentUpdate=s}return i.__N||i.__}function kn(t,e){var n=Qb(oh++,3);!_i.__s&&m$(n.__H,e)&&(n.__=t,n.i=e,Jn.__H.__h.push(n))}function hse(t){return W_=5,VP(function(){return{current:t}},[])}function VP(t,e){var n=Qb(oh++,7);return m$(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function An(t){var e=Jn.context[t.__c],n=Qb(oh++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Jn)),e.props.value):t.__}function fse(){for(var t;t=f$.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vv),t.__H.__h.forEach(QS),t.__H.__h=[]}catch(e){t.__H.__h=[],_i.__e(e,t.__v)}}_i.__b=function(t){Jn=null,UR&&UR(t)},_i.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),GR&&GR(t,e)},_i.__r=function(t){HR&&HR(t),oh=0;var e=(Jn=t.__c).__H;e&&(W0===Jn?(e.__h=[],Jn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Vv),e.__h.forEach(QS),e.__h=[],oh=0)),W0=Jn},_i.diffed=function(t){zR&&zR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(f$.push(e)!==1&&$R===_i.requestAnimationFrame||(($R=_i.requestAnimationFrame)||mse)(fse)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),W0=Jn=null},_i.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vv),n.__h=n.__h.filter(function(i){return!i.__||QS(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],_i.__e(i,n.__v)}}),WR&&WR(t,e)},_i.unmount=function(t){YR&&YR(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Vv(i)}catch(s){e=s}}),n.__H=void 0,e&&_i.__e(e,n.__v))};var qR=typeof requestAnimationFrame=="function";function mse(t){var e,n=function(){clearTimeout(i),qR&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);qR&&(e=requestAnimationFrame(n))}function Vv(t){var e=Jn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Jn=e}function QS(t){var e=Jn;t.__c=t.__(),Jn=e}function m$(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function g$(t,e){return typeof e=="function"?e(t):e}function gse(t,e){for(var n in e)t[n]=e[n];return t}function XR(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function KR(t,e){this.props=t,this.context=e}(KR.prototype=new Va).isPureReactComponent=!0,KR.prototype.shouldComponentUpdate=function(t,e){return XR(this.props,t)||XR(this.state,e)};var QR=It.__b;It.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),QR&&QR(t)};var pse=It.__e;It.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}pse(t,e,n,i)};var JR=It.unmount;function p$(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=gse({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return p$(i,e,n)})),t}function v$(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return v$(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function Y0(){this.__u=0,this.o=null,this.__b=null}function _$(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qp(){this.i=null,this.l=null}It.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),JR&&JR(t)},(Y0.prototype=new Va).__c=function(t,e){var n=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var s=_$(i.__v),r=!1,a=function(){r||(r=!0,n.__R=null,s?s(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=v$(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.o.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},Y0.prototype.componentWillUnmount=function(){this.o=[]},Y0.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=p$(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&rc(Vt,null,t.fallback);return s&&(s.__u&=-33),[rc(Vt,null,e.__a?null:t.children),s]};var ZR=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};function vse(t){return this.getChildContext=function(){return t.context},t.children}function _se(t){var e=this,n=t.h;e.componentWillUnmount=function(){z_(null,e.v),e.v=null,e.h=null},e.h&&e.h!==n&&e.componentWillUnmount(),e.v||(e.h=n,e.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.h.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.h.insertBefore(i,s)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}),z_(rc(vse,{context:e.context},t.__v),e.v)}function yse(t,e){var n=rc(_se,{__v:t,h:e});return n.containerInfo=e,n}(qp.prototype=new Va).__a=function(t){var e=this,n=_$(e.__v),i=e.l.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),ZR(e,t,i)):s()};n?n(r):r()}},qp.prototype.render=function(t){this.i=null,this.l=new Map;var e=H_(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},qp.prototype.componentDidUpdate=qp.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){ZR(t,n,e)})};var bse=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,wse=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,xse=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Sse=/[A-Z0-9]/g,kse=typeof document<"u",Tse=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};Va.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Va.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var eO=It.event;function Pse(){}function Cse(){return this.cancelBubble}function Ese(){return this.defaultPrevented}It.event=function(t){return eO&&(t=eO(t)),t.persist=Pse,t.isPropagationStopped=Cse,t.isDefaultPrevented=Ese,t.nativeEvent=t};var Ise={enumerable:!1,configurable:!0,get:function(){return this.class}},tO=It.vnode;It.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,s={},r=i.indexOf("-")===-1;for(var a in n){var o=n[a];if(!(a==="value"&&"defaultValue"in n&&o==null||kse&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":l==="translate"&&o==="no"?o=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Tse(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":xse.test(a)&&(a=l):l=a="oninput":r&&wse.test(a)?a=a.replace(Sse,"-$&").toLowerCase():o===null&&(o=void 0),l==="oninput"&&s[a=l]&&(a="oninputCapture"),s[a]=o}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=H_(n.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=H_(n.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Ise)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=bse,tO&&tO(t)};var nO=It.__r;It.__r=function(t){nO&&nO(t),t.__c};var iO=It.diffed;It.diffed=function(t){iO&&iO(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};var Dse=Symbol.for("preact-signals");function Jb(){if(Pl>1)Pl--;else{for(var t,e=!1;nm!==void 0;){var n=nm;for(nm=void 0,ZS++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&b$(n))try{n.c()}catch(s){e||(t=s,e=!0)}n=i}}if(ZS=0,Pl--,e)throw t}}function JS(t){if(Pl>0)return t();Pl++;try{return t()}finally{Jb()}}var xn=void 0,nm=void 0,Pl=0,ZS=0,Y_=0;function y$(t){if(xn!==void 0){var e=t.n;if(e===void 0||e.t!==xn)return e={i:0,S:t,p:xn.s,n:void 0,t:xn,e:void 0,x:void 0,r:e},xn.s!==void 0&&(xn.s.n=e),xn.s=e,t.n=e,32&xn.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=xn.s,e.n=void 0,xn.s.n=e,xn.s=e),e}}function os(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}os.prototype.brand=Dse;os.prototype.h=function(){return!0};os.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};os.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};os.prototype.subscribe=function(t){var e=this;return Oo(function(){var n=e.value,i=xn;xn=void 0;try{t(n)}finally{xn=i}})};os.prototype.valueOf=function(){return this.value};os.prototype.toString=function(){return this.value+""};os.prototype.toJSON=function(){return this.value};os.prototype.peek=function(){var t=xn;xn=void 0;try{return this.value}finally{xn=t}};Object.defineProperty(os.prototype,"value",{get:function(){var t=y$(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(ZS>100)throw new Error("Cycle detected");this.v=t,this.i++,Y_++,Pl++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Jb()}}}});function jt(t){return new os(t)}function b$(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function w$(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function x$(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function Vh(t){os.call(this,void 0),this.x=t,this.s=void 0,this.g=Y_-1,this.f=4}(Vh.prototype=new os).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Y_))return!0;if(this.g=Y_,this.f|=1,this.i>0&&!b$(this))return this.f&=-2,!0;var t=xn;try{w$(this),xn=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return xn=t,x$(this),this.f&=-2,!0};Vh.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}os.prototype.S.call(this,t)};Vh.prototype.U=function(t){if(this.t!==void 0&&(os.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};Vh.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(Vh.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=y$(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function S$(t){return new Vh(t)}function k$(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Pl++;var n=xn;xn=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,LP(t),i}finally{xn=n,Jb()}}}function LP(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,k$(t)}function Ase(t){if(xn!==this)throw new Error("Out-of-order effect");x$(this),xn=t,this.f&=-2,8&this.f&&LP(this),Jb()}function qg(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}qg.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};qg.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,k$(this),w$(this),Pl++;var t=xn;return xn=this,Ase.bind(this,t)};qg.prototype.N=function(){2&this.f||(this.f|=2,this.o=nm,nm=this)};qg.prototype.d=function(){this.f|=8,1&this.f||LP(this)};function Oo(t){var e=new qg(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var G0;function Lh(t,e){It[t]=e.bind(null,It[t]||function(){})}function G_(t){G0&&G0(),G0=t&&t.S()}function T$(t){var e=this,n=t.data,i=Ose(n);i.value=n;var s=VP(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){var a,o=e.__$u.S(),l=s.value;o(),n$(l)||((a=e.base)==null?void 0:a.nodeType)!==3?(e.__$f|=1,e.setState({})):e.base.data=l},S$(function(){var a=i.value.value;return a===0?0:a===!0?"":a||""})},[]);return s.value}T$.displayName="_st";Object.defineProperties(os.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:T$},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Lh("__b",function(t,e){if(typeof e.type=="string"){var n,i=e.props;for(var s in i)if(s!=="children"){var r=i[s];r instanceof os&&(n||(e.__np=n={}),n[s]=r,i[s]=r.peek())}}t(e)});Lh("__r",function(t,e){G_();var n,i=e.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(s){var r;return Oo(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),G_(n),t(e)});Lh("__e",function(t,e,n,i){G_(),t(e,n,i)});Lh("diffed",function(t,e){G_();var n;if(typeof e.type=="string"&&(n=e.__e)){var i=e.__np,s=e.props;if(i){var r=n.U;if(r)for(var a in r){var o=r[a];o!==void 0&&!(a in i)&&(o.d(),r[a]=void 0)}else n.U=r={};for(var l in i){var u=r[l],d=i[l];u===void 0?(u=Rse(n,l,d,s),r[l]=u):u.o(d,s)}}}t(e)});function Rse(t,e,n,i){var s=e in t&&t.ownerSVGElement===void 0,r=jt(n);return{o:function(a,o){r.value=a,i=o},d:Oo(function(){var a=r.value.value;i[e]!==a&&(i[e]=a,s?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}Lh("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var s in i){var r=i[s];r&&r.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});Lh("__h",function(t,e,n,i){(i<3||i===9)&&(e.__$f|=2),t(e,n,i)});Va.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in e)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var r in this.props)if(!(r in t))return!0;return!1};function Ose(t){return VP(function(){return jt(t)},[])}function na(t){var e=hse(t);e.current=t,kn(function(){return Oo(function(){return e.current()})},[])}const zo=h$({}),sO={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let Mse=class extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}};const _n=t=>{if(!sO.DATE_TIME_STRING.test(t)&&!sO.DATE_STRING.test(t))throw new Mse(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))},vr=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}},P$=(t,e)=>t.toLocaleString(e,{month:"long"}),Vse=(t,e)=>t.toLocaleString(e,{month:"numeric",day:"numeric",year:"numeric"}),Lse=(t,e)=>t.map(n=>n.toLocaleString(e,{weekday:"short"}).charAt(0)),NP=(t,e)=>t.toLocaleString(e,{weekday:"short"}),Nse=(t,e)=>t.map(n=>NP(n,e)),C$=(t,e)=>["zh-cn","zh-tw","ca-es"].includes(e.toLowerCase())?Nse(t,e):Lse(t,e);var Fse="data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Uploaded to: SVG Repo%2c www.svgrepo.com%2c Generator: SVG Repo Mixer Tools --%3e%3csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 9L12 15L18 9' stroke='%23DED8E1' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e";const Ms=()=>"s"+Math.random().toString(36).substring(2,11),q_=t=>t.key==="Enter"||t.key===" ";function Bse(){const t=Ms(),e=Ms(),n=Ms(),i=An(zo),s=h=>h===""?i.translate("MM/DD/YYYY"):Vse(_n(h),i.config.locale.value);kn(()=>{i.datePickerState.inputDisplayedValue.value=s(i.datePickerState.selectedDate.value)},[i.datePickerState.selectedDate.value,i.config.locale.value]);const[r,a]=At([]),o=()=>{const h=document.getElementById(n);i.datePickerState.inputWrapperElement.value=h instanceof HTMLDivElement?h:void 0};kn(()=>{i.config.teleportTo&&o();const h=["sx__date-input-wrapper"];i.datePickerState.isOpen.value&&h.push("sx__date-input--active"),a(h)},[i.datePickerState.isOpen.value]);const l=h=>{h.key==="Enter"&&u(h)},u=h=>{h.stopPropagation();try{i.datePickerState.inputDisplayedValue.value=h.target.value,i.datePickerState.close()}catch{}};kn(()=>{const h=document.getElementById(t);if(h!==null)return h.addEventListener("change",u),()=>h.removeEventListener("change",u)});const d=h=>{u(h),i.datePickerState.open()},c=h=>{q_(h)&&(h.preventDefault(),i.datePickerState.open(),setTimeout(()=>{const f=document.querySelector('[data-focus="true"]');f instanceof HTMLElement&&f.focus()},50))};return J(Vt,{children:J("div",{className:r.join(" "),id:n,children:[J("label",{for:t,id:e,className:"sx__date-input-label",children:i.config.label||i.translate("Date")}),J("input",{id:t,tabIndex:i.datePickerState.isDisabled.value?-1:0,name:i.config.name||"date","aria-describedby":e,value:i.datePickerState.inputDisplayedValue.value,"data-testid":"date-picker-input",className:"sx__date-input",onClick:d,onKeyUp:l,type:"text"}),J("button",{type:"button",tabIndex:i.datePickerState.isDisabled.value?-1:0,"aria-label":i.translate("Choose Date"),onKeyDown:c,onClick:()=>i.datePickerState.open(),className:"sx__date-input-chevron-wrapper",children:J("img",{className:"sx__date-input-chevron",src:Fse,alt:""})})]})})}var Mu;(function(t){t.MONTH_DAYS="month-days",t.YEARS="years"})(Mu||(Mu={}));const jse="years-view",$se="months-view",Use="date-picker-week";let Hse=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const As=t=>{if(t<0||t>99)throw new Hse(0,99);return String(t).padStart(2,"0")},si=t=>`${t.getFullYear()}-${As(t.getMonth()+1)}-${As(t.getDate())}`,zse=t=>`${As(t.getHours())}:${As(t.getMinutes())}`,Zb=t=>`${si(t)} ${zse(t)}`,ew=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=vr(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);let u=(l.getMonth()+e)%12;return u<0&&(u+=12),l.setMonth(l.getMonth()+e),l.getMonth()>u?l.setDate(0):l.getMonth()<u&&(l.setMonth(l.getMonth()+1),l.setDate(0)),o?Zb(l):si(l)},tu=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=vr(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);return l.setDate(l.getDate()+e),o?Zb(l):si(l)},dn=t=>t.slice(0,10),_l=t=>t.slice(11),E$=(t,e)=>(t=t.slice(0,8)+As(e)+t.slice(10),t),Wse=t=>(t=ew(t,-1),E$(t,1)),Yse=t=>(t=ew(t,1),E$(t,1)),q0=(t,e)=>`${si(_n(t))} ${e}`;function X_({direction:t,onClick:e,buttonText:n,disabled:i=!1}){return J("button",{type:"button",disabled:i,className:"sx__chevron-wrapper sx__ripple",onMouseUp:e,onKeyDown:r=>{q_(r)&&e()},tabIndex:0,children:J("i",{className:`sx__chevron sx__chevron--${t}`,children:n})})}function Gse({setYearsView:t}){const e=An(zo),n=c=>{const h=_n(c);return P$(h,e.config.locale.value)},i=c=>vr(c).year,[s,r]=At(n(e.datePickerState.datePickerDate.value)),[a,o]=At(i(e.datePickerState.datePickerDate.value)),l=()=>{e.datePickerState.datePickerDate.value=Wse(e.datePickerState.datePickerDate.value)},u=()=>{e.datePickerState.datePickerDate.value=Yse(e.datePickerState.datePickerDate.value)};kn(()=>{r(n(e.datePickerState.datePickerDate.value)),o(i(e.datePickerState.datePickerDate.value))},[e.datePickerState.datePickerDate.value]);const d=c=>{c.stopPropagation(),t()};return J(Vt,{children:J("header",{className:"sx__date-picker__month-view-header",children:[J(X_,{direction:"previous",onClick:()=>l(),buttonText:e.translate("Previous month")}),J("button",{type:"button",className:"sx__date-picker__month-view-header__month-year",onClick:c=>d(c),children:s+" "+a}),J(X_,{direction:"next",onClick:()=>u(),buttonText:e.translate("Next month")})]})})}function qse(){const t=An(zo),e=t.timeUnitsImpl.getWeekFor(_n(t.datePickerState.datePickerDate.value)),n=C$(e,t.config.locale.value);return J("div",{className:"sx__date-picker__day-names",children:n.map(i=>J("span",{"data-testid":"day-name",className:"sx__date-picker__day-name",children:i}))})}const FP=t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},Xse=(t,e)=>t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear();function I$({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("path",{d:"M12 8V12L15 15",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),J("circle",{cx:"12",cy:"12",r:"9",stroke:t,"stroke-width":"2"})]})]})})}function Kse({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:t,"stroke-width":"2"}),J("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:t,"stroke-width":"2"})]})]})})}function Qse({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("g",{"clip-path":"url(#clip0_429_11046)",children:[J("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:t,"stroke-width":"2","stroke-linejoin":"round"}),J("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:t,"stroke-width":"2","stroke-linejoin":"round"})]}),J("defs",{children:J("clipPath",{id:"clip0_429_11046",children:J("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}const Jse=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,ka=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Ss=/^(\d{4})-(\d{2})-(\d{2})$/;let Zse=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}};const BP=1.6666666666666667,Xr=t=>{if(!Jse.test(t)&&t!=="24:00")throw new Zse(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*BP).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},$m=t=>{const e=Math.floor(t/100),n=Math.round(t%100/BP);return`${As(e)}:${As(n)}`},D$=(t,e)=>{const n=e/BP,i=_n(t);return i.setMinutes(i.getMinutes()+n),Zb(i)};var e1;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(e1||(e1={}));const K_="en-US",jP=e1.MONDAY,ere="primary";let tre=class{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},h={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return ka.test(this.start)&&ka.test(this.end)&&dn(this.start)===dn(this.end)}get _isSingleDayFullDay(){return Ss.test(this.start)&&Ss.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return ka.test(this.start)&&ka.test(this.end)&&dn(this.start)!==dn(this.end)}get _isMultiDayFullDay(){return Ss.test(this.start)&&Ss.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!ka.test(this.start)||!ka.test(this.end))return!1;const e=dn(this.start),n=dn(this.end),i=si(new Date(_n(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=Xr(_l(this.start)),a=Xr(_l(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:ere}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},A$=class{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new tre(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}};const Um=(t,e)=>{const n=new A$(e.config,t.id,t.start,t.end).withTitle(t.title).withPeople(t.people).withCalendarId(t.calendarId).withForeignProperties(JSON.parse(JSON.stringify(t._getForeignProperties()))).withLocation(t.location).withDescription(t.description).withOptions(t._options).withCustomContent(t._customContent).build();return n._nDaysInGrid=t._nDaysInGrid,n},nre=t=>t.reduce((e,n,i)=>i===0?n:i===t.length-1?`${e} & ${n}`:`${e}, ${n}`,""),il=(t,e)=>{const{year:n,month:i,date:s}=vr(t);return new Date(n,i,s).toLocaleDateString(e,{day:"numeric",month:"long",year:"numeric"})},Cl=il,ku=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=vr(t);return new Date(n,i,s,r,a).toLocaleTimeString(e,{hour:"numeric",minute:"numeric"})},R$=(t,e,n="–")=>{const i={start:t.start,end:t.end};return t._isSingleDayFullDay?il(i.start,e):t._isMultiDayFullDay?`${il(i.start,e)} ${n} ${il(i.end,e)}`:t._isSingleDayTimed&&i.start!==i.end?`${il(i.start,e)} <span aria-hidden="true">⋅</span> ${ku(i.start,e)} ${n} ${ku(i.end,e)}`:t._isSingleDayTimed&&t.start===t.end?`${il(i.start,e)}, ${ku(i.start,e)}`:`${il(i.start,e)}, ${ku(i.start,e)} ${n} ${il(i.end,e)}, ${ku(i.end,e)}`};function ire({week:t}){const e=An(zo),n=t.map(o=>{const l=["sx__date-picker__day"];return FP(o)&&l.push("sx__date-picker__day--today"),si(o)===e.datePickerState.selectedDate.value&&l.push("sx__date-picker__day--selected"),Xse(o,_n(e.datePickerState.datePickerDate.value))||l.push("is-leading-or-trailing"),{day:o,classes:l}}),i=o=>{const l=si(o);return l>=e.config.min&&l<=e.config.max},s=o=>{e.datePickerState.selectedDate.value=si(o),e.datePickerState.close()},r=o=>si(o.day)===e.datePickerState.datePickerDate.value,a=o=>{if(o.key==="Enter"){e.datePickerState.selectedDate.value=e.datePickerState.datePickerDate.value,e.datePickerState.close();return}const l=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);e.datePickerState.datePickerDate.value=tu(e.datePickerState.datePickerDate.value,l.get(o.key)||0)};return J(Vt,{children:J("div",{"data-testid":Use,className:"sx__date-picker__week",children:n.map(o=>J("button",{type:"button",tabIndex:r(o)?0:-1,disabled:!i(o.day),"aria-label":Cl(e.datePickerState.datePickerDate.value,e.config.locale.value),className:o.classes.join(" "),"data-focus":r(o)?"true":void 0,onClick:()=>s(o.day),onKeyDown:a,children:o.day.getDate()}))})})}function sre({seatYearsView:t}){const e=Ms(),n=An(zo),[i,s]=At([]),r=()=>{const a=_n(n.datePickerState.datePickerDate.value);s(n.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(a.getFullYear(),a.getMonth()))};return kn(()=>{r()},[n.datePickerState.datePickerDate.value]),kn(()=>{const a=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.focus==="true"&&d.focus()})}),o=document.getElementById(e);return a.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>a.disconnect()},[]),J(Vt,{children:J("div",{id:e,"data-testid":$se,className:"sx__date-picker__month-view",children:[J(Gse,{setYearsView:t}),J(qse,{}),i.map(a=>J(ire,{week:a}))]})})}function rre({year:t,setYearAndMonth:e,isExpanded:n,expand:i}){const s=An(zo),r=s.timeUnitsImpl.getMonthsFor(t),a=(o,l)=>{o.stopPropagation(),e(t,l.getMonth())};return J(Vt,{children:J("li",{className:n?"sx__is-expanded":"",children:[J("button",{type:"button",className:"sx__date-picker__years-accordion__expand-button sx__ripple--wide",onClick:()=>i(t),children:t}),n&&J("div",{className:"sx__date-picker__years-view-accordion__panel",children:r.map(o=>J("button",{type:"button",className:"sx__date-picker__years-view-accordion__month",onClick:l=>a(l,o),children:P$(o,s.config.locale.value)}))})]})})}function are({setMonthView:t}){const e=An(zo),n=_n(e.config.min).getFullYear(),i=_n(e.config.max).getFullYear(),s=Array.from({length:i-n+1},(u,d)=>n+d),{year:r}=vr(e.datePickerState.selectedDate.value),[a,o]=At(r),l=(u,d)=>{e.datePickerState.datePickerDate.value=si(new Date(u,d,1)),t()};return kn(()=>{var u;const d=(u=document.querySelector(".sx__date-picker__years-view"))===null||u===void 0?void 0:u.querySelector(".sx__is-expanded");d&&d.scrollIntoView({block:"center"})},[]),J(Vt,{children:J("ul",{className:"sx__date-picker__years-view","data-testid":jse,children:s.map(u=>J(rre,{year:u,setYearAndMonth:(d,c)=>l(d,c),isExpanded:a===u,expand:d=>o(d)}))})})}const ore=t=>{if(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!i}return!0},O$=(t,e=[])=>!t||t===document.body||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(e.push(window),e):(ore(t)&&e.push(t),O$(t.assignedSlot?t.assignedSlot.parentNode:t.parentNode,e)),rO="sx__date-picker-popup";function lre(){const t=An(zo),[e,n]=At(Mu.MONTH_DAYS),i=[rO,t.config.placement],[s,r]=At(i);kn(()=>{r([...i,t.datePickerState.isDark.value?"is-dark":"",t.config.teleportTo?"is-teleported":""])},[t.datePickerState.isDark.value]);const a=p=>{p.target.closest(`.${rO}`)||t.datePickerState.close()},o=p=>{p.key==="Escape"&&(t.config.listeners.onEscapeKeyDown?t.config.listeners.onEscapeKeyDown(t):t.datePickerState.close())};kn(()=>(document.addEventListener("click",a),document.addEventListener("keydown",o),()=>{document.removeEventListener("click",a),document.removeEventListener("keydown",o)}),[]);const l=Number(getComputedStyle(document.documentElement).fontSize.split("px")[0]),u=362,d=332,c=()=>{const p=t.datePickerState.inputWrapperElement.value,m=p==null?void 0:p.getBoundingClientRect();if(!(p===void 0||!(m instanceof DOMRect)))return{top:t.config.placement.includes("bottom")?m.height+m.y+1:m.y-l-u,left:t.config.placement.includes("start")?m.x:m.x+m.width-d,width:d,position:"fixed"}},[h,f]=At(c());return kn(()=>{const p=t.datePickerState.inputWrapperElement.value;if(p===void 0)return;const m=O$(p),v=()=>f(c());return m.forEach(_=>_.addEventListener("scroll",v)),()=>m.forEach(_=>_.removeEventListener("scroll",v))},[]),J(Vt,{children:J("div",{style:t.config.teleportTo?h:void 0,"data-testid":"date-picker-popup",className:s.join(" "),children:e===Mu.MONTH_DAYS?J(sre,{seatYearsView:()=>n(Mu.YEARS)}):J(are,{setMonthView:()=>n(Mu.MONTH_DAYS)})})})}function ure({$app:t}){const e=["sx__date-picker-wrapper"],[n,i]=At(e);kn(()=>{var r;const a=[...e];t.datePickerState.isDark.value&&a.push("is-dark"),!((r=t.config.style)===null||r===void 0)&&r.fullWidth&&a.push("has-full-width"),t.datePickerState.isDisabled.value&&a.push("is-disabled"),i(a)},[t.datePickerState.isDark.value,t.datePickerState.isDisabled.value]);let s=J(lre,{});return t.config.teleportTo&&(s=yse(s,t.config.teleportTo)),J(Vt,{children:J("div",{className:n.join(" "),children:J(zo.Provider,{value:t,children:[J(Bse,{}),t.datePickerState.isOpen.value&&s]})})})}const ai=h$({});class cre{constructor(e,n,i,s){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:s})}}class dre{constructor(){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new cre(this.datePickerState,this.config,this.timeUnitsImpl,this.translate)}withDatePickerState(e){return this.datePickerState=e,this}withConfig(e){return this.config=e,this}withTimeUnitsImpl(e){return this.timeUnitsImpl=e,this}withTranslate(e){return this.translate=e,this}}var ks;(function(t){t.Day="day",t.Week="week",t.MonthGrid="month-grid",t.MonthAgenda="month-agenda"})(ks||(ks={}));const t1=t=>[t.config.locale.value,{month:"long"}],n1=t=>[t.config.locale.value,{year:"numeric"}],hre=(t,e,n)=>{const i=_n(e).toLocaleString(...t1(t)),s=_n(e).toLocaleString(...n1(t)),r=_n(n).toLocaleString(...t1(t)),a=_n(n).toLocaleString(...n1(t));return i===r&&s===a?`${i} ${s}`:i!==r&&s===a?`${i} – ${r} ${s}`:`${i} ${s} – ${r} ${a}`},fre=t=>{const e=_n(t.datePickerState.selectedDate.value).toLocaleString(...t1(t)),n=_n(t.datePickerState.selectedDate.value).toLocaleString(...n1(t));return`${e} ${n}`};function mre(){const t=An(ai),[e,n]=At("");return kn(()=>{t.calendarState.view.value===ks.Week&&n(hre(t,t.calendarState.range.value.start,t.calendarState.range.value.end)),(t.calendarState.view.value===ks.MonthGrid||t.calendarState.view.value===ks.Day||t.calendarState.view.value===ks.MonthAgenda)&&n(fre(t))},[t.calendarState.range.value]),J("span",{className:"sx__range-heading",children:e})}function gre(){const t=An(ai);return J("button",{type:"button",className:"sx__today-button sx__ripple",onClick:()=>{t.datePickerState.selectedDate.value=si(new Date)},children:t.translate("Today")})}function pre(){const t=An(ai),[e,n]=At([]);na(()=>{t.calendarState.isCalendarSmall.value?n(t.config.views.value.filter(m=>m.hasSmallScreenCompat)):n(t.config.views.value.filter(m=>m.hasWideScreenCompat))});const[i,s]=At("");na(()=>{const m=t.config.views.value.find(v=>v.name===t.calendarState.view.value);m&&s(t.translate(m.label))});const[r,a]=At(!1),o=m=>{const v=m.target;v instanceof HTMLElement&&!v.closest(".sx__view-selection")&&a(!1)};kn(()=>(document.addEventListener("click",o),()=>document.removeEventListener("click",o)),[]);const l=m=>{a(!1),t.calendarState.setView(m,t.datePickerState.selectedDate.value)},[u,d]=At(),[c,h]=At(0),f=m=>{q_(m)&&a(!r),setTimeout(()=>{var v;const _=(v=t.elements.calendarWrapper)===null||v===void 0?void 0:v.querySelectorAll(".sx__view-selection-item");if(!_)return;d(_);const b=_[0];b instanceof HTMLElement&&(h(0),b.focus())},50)},p=(m,v)=>{if(u)if(m.key==="ArrowDown"){const _=u[c+1];_ instanceof HTMLElement&&(h(c+1),_.focus())}else if(m.key==="ArrowUp"){const _=u[c-1];_ instanceof HTMLElement&&(h(c-1),_.focus())}else q_(m)&&l(v)};return J("div",{className:"sx__view-selection",children:[J("div",{tabIndex:0,role:"button","aria-label":t.translate("Select View"),className:"sx__view-selection-selected-item sx__ripple",onClick:()=>a(!r),onKeyDown:f,children:i}),r&&J("ul",{"data-testid":"view-selection-items",className:"sx__view-selection-items",children:e.map(m=>J("li",{"aria-label":t.translate("Select View")+" "+t.translate(m.label),tabIndex:-1,role:"button",onKeyDown:v=>p(v,m.name),onClick:()=>l(m.name),className:"sx__view-selection-item"+(m.name===t.calendarState.view.value?" is-selected":""),children:t.translate(m.label)}))})]})}function vre(){const t=An(ai),e=l=>{const u=t.config.views.value.find(d=>d.name===t.calendarState.view.value);u&&(t.datePickerState.selectedDate.value=u.backwardForwardFn(t.datePickerState.selectedDate.value,l==="forwards"?u.backwardForwardUnits:-u.backwardForwardUnits))},[n,i]=At("");na(()=>{i(`${Cl(t.calendarState.range.value.start,t.config.locale.value)} ${t.translate("to")} ${Cl(t.calendarState.range.value.end,t.config.locale.value)}`)});const[s,r]=At(""),[a,o]=At("");return kn(()=>{const l=t.config.views.value.find(u=>u.name===t.calendarState.view.value);l&&(r(l.setDateRange({range:t.calendarState.range,calendarConfig:t.config,timeUnitsImpl:t.timeUnitsImpl,date:l.backwardForwardFn(t.datePickerState.selectedDate.value,-l.backwardForwardUnits)}).end),o(l.setDateRange({range:t.calendarState.range,calendarConfig:t.config,timeUnitsImpl:t.timeUnitsImpl,date:l.backwardForwardFn(t.datePickerState.selectedDate.value,l.backwardForwardUnits)}).start))},[t.datePickerState.selectedDate.value,t.calendarState.view.value]),J(Vt,{children:J("div",{className:"sx__forward-backward-navigation","aria-label":n,"aria-live":"polite",children:[J(X_,{disabled:!!(t.config.minDate.value&&dn(s)<t.config.minDate.value),onClick:()=>e("backwards"),direction:"previous",buttonText:t.translate("Previous period")}),J(X_,{disabled:!!(t.config.maxDate.value&&dn(a)>t.config.maxDate.value),onClick:()=>e("forwards"),direction:"next",buttonText:t.translate("Next period")})]})})}const mo=t=>document.querySelector(`[data-ccid="${t}"]`);function _re(){const t=An(ai),e=new dre().withDatePickerState(t.datePickerState).withConfig(t.datePickerConfig).withTranslate(t.translate).withTimeUnitsImpl(t.timeUnitsImpl).build(),n=t.config._customComponentFns.headerContent,i=At(n?Ms():void 0)[0],s=t.config._customComponentFns.headerContentLeftPrepend,r=At(s?Ms():void 0)[0],a=t.config._customComponentFns.headerContentLeftAppend,o=At(a?Ms():void 0)[0],l=t.config._customComponentFns.headerContentRightPrepend,u=At(l?Ms():void 0)[0],d=t.config._customComponentFns.headerContentRightAppend,c=At(d?Ms():void 0)[0];kn(()=>{n&&n(mo(i),{}),s&&r&&s(mo(r),{}),a&&a(mo(o),{}),l&&l(mo(u),{}),d&&d(mo(c),{})},[]);const h=t.config.locale.value;return J("header",{className:"sx__calendar-header","data-ccid":i,children:!n&&J(Vt,{children:[J("div",{className:"sx__calendar-header-content",children:[r&&J("div",{"data-ccid":r}),J(gre,{}),J(vre,{}),J(mre,{},t.config.locale.value),o&&J("div",{"data-ccid":o})]}),J("div",{className:"sx__calendar-header-content",children:[u&&J("div",{"data-ccid":u}),t.config.views.value.length>1&&J(pre,{},h+"-view-selection"),J(ure,{$app:e}),c&&J("div",{"data-ccid":c})]})]})})}const yre=(t,e)=>{t.elements.calendarWrapper=document.getElementById(e)},bre=(t,e)=>{const n=t.config.views.value.find(i=>i.name===t.calendarState.view.value);if(e){if(n.hasSmallScreenCompat)return;const i=t.config.views.value.find(s=>s.hasSmallScreenCompat);i&&t.calendarState.setView(i.name,t.datePickerState.selectedDate.value)}else{if(n.hasWideScreenCompat)return;const i=t.config.views.value.find(s=>s.hasWideScreenCompat);i&&t.calendarState.setView(i.name,t.datePickerState.selectedDate.value)}},wre=t=>{const e=document.documentElement,n=t.elements.calendarWrapper,i=+window.getComputedStyle(e).fontSize.split("p")[0],s=700,r=16/i,a=s/r;if(!n)return;const o=t.config.callbacks.isCalendarSmall?t.config.callbacks.isCalendarSmall(t):n.clientWidth<a;o!==t.calendarState.isCalendarSmall.value&&(t.calendarState.isCalendarSmall.value=o,bre(t,o))};function xre(t){const e="sx__calendar-wrapper",[n,i]=At([e]);return na(()=>{const s=[e];t.calendarState.isCalendarSmall.value&&s.push("sx__is-calendar-small"),t.calendarState.isDark.value&&s.push("is-dark"),t.config.theme==="shadcn"&&s.push("is-shadcn"),i(s)}),n}const Sre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.onRender&&e.onRender(t)})},kre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.destroy&&e.destroy()})},Tre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.beforeRender&&e.beforeRender(t)})};function Pre({$app:t}){var e;const n=Ms(),i=Ms();kn(()=>{var h;return yre(t,n),Sre(t),!((h=t.config.callbacks)===null||h===void 0)&&h.onRender&&t.config.callbacks.onRender(t),()=>kre(t)},[]);const s=()=>{wre(t)};kn(()=>{if(t.config.isResponsive)return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const r=xre(t),[a,o]=At();na(()=>{const h=t.config.views.value.find(p=>p.name===t.calendarState.view.value),f=document.getElementById(i);!h||!f||h.name===(a==null?void 0:a.name)||(a&&a.destroy(),o(h),h.render(f,t))});const[l,u]=At(""),[d,c]=At("");return na(()=>{var h,f;const p=(((h=t.calendarState.range.value)===null||h===void 0?void 0:h.start)||"")>l;c(p?"sx__slide-left":"sx__slide-right"),setTimeout(()=>{c("")},300),u(((f=t.calendarState.range.value)===null||f===void 0?void 0:f.start)||"")}),na(()=>{t.datePickerConfig.locale.value=t.config.locale.value}),J(Vt,{children:J("div",{className:r.join(" "),id:n,children:J("div",{className:"sx__calendar",children:J(ai.Provider,{value:t,children:[J(_re,{}),J("div",{className:["sx__view-container",d].join(" "),id:i}),t.config.plugins.eventModal&&t.config.plugins.eventModal.calendarEvent.value&&J(t.config.plugins.eventModal.ComponentFn,{$app:t},(e=t.config.plugins.eventModal.calendarEvent.value)===null||e===void 0?void 0:e.id)]})})})})}const Lv=(t,e)=>{const{id:n,start:i,end:s,title:r,description:a,location:o,people:l,_options:u,...d}=t;return new A$(e,n,i,s).withTitle(r).withDescription(a).withLocation(o).withPeople(l).withCalendarId(t.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(t._customContent).build()};let Cre=class{constructor(e){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e})}set(e){this.$app.calendarEvents.list.value=e.map(n=>Lv(n,this.$app.config))}add(e){const n=Lv(e,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(e){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===e))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(e=>e._getExternalEvent())}remove(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,Lv(e,this.$app.config)),this.$app.calendarEvents.list.value=i}};class Ere{constructor(e){var n;Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.events=new Cre(this.$app),Tre(this.$app),Object.values(this.$app.config.plugins).forEach(i=>{i!=null&&i.name&&(this[i.name]=i)}),!((n=e.config.callbacks)===null||n===void 0)&&n.beforeRender&&e.config.callbacks.beforeRender(e)}render(e){z_(rc(Pre,{$app:this.$app}),e)}setTheme(e){this.$app.calendarState.isDark.value=e==="dark"}getTheme(){return this.$app.calendarState.isDark.value?"dark":"light"}_setCustomComponentFn(e,n){this.$app.config._customComponentFns[e]=n}}class Ire{constructor(e,n,i,s,r,a,o,l={calendarWrapper:void 0}){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:l})}}class Dre{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Ire(this.config,this.timeUnitsImpl,this.calendarState,this.datePickerState,this.translate,this.datePickerConfig,this.calendarEvents)}withConfig(e){return this.config=e,this}withTimeUnitsImpl(e){return this.timeUnitsImpl=e,this}withDatePickerState(e){return this.datePickerState=e,this}withCalendarState(e){return this.calendarState=e,this}withTranslate(e){return this.translate=e,this}withDatePickerConfig(e){return this.datePickerConfig=e,this}withCalendarEvents(e){return this.calendarEvents=e,this}}var Hr;(function(t){t.SLASH="/",t.DASH="-",t.PERIOD="."})(Hr||(Hr={}));var zr;(function(t){t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"})(zr||(zr={}));const _f={slashMDY:{delimiter:Hr.SLASH,order:zr.MDY},slashDMY:{delimiter:Hr.SLASH,order:zr.DMY},slashYMD:{delimiter:Hr.SLASH,order:zr.YMD},periodDMY:{delimiter:Hr.PERIOD,order:zr.DMY},dashYMD:{delimiter:Hr.DASH,order:zr.YMD}},Are=new Map([["en-US",_f.slashMDY],["en-GB",_f.slashDMY],["zh-CN",_f.slashYMD],["de-DE",_f.periodDMY],["sv-SE",_f.dashYMD]]);class Rre extends Error{constructor(e){super(`Locale not supported: ${e}`)}}class M$ extends Error{constructor(e,n){super(`Invalid date format: ${e} for locale: ${n}`)}}const Xp=(t,e,n)=>{const i=t.match(e);if(!i)throw new M$(t,n);return i},Ore=(t,e)=>{if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const i=Are.get(e);if(!i)throw new Rre(e);const{order:s,delimiter:r}=i,a=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,o=/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/,l=/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/;if(s===zr.DMY&&r===Hr.SLASH){const u=Xp(t,a,e),[,d,c,h]=u;return`${h}-${As(+c)}-${As(+d)}`}if(s===zr.MDY&&r===Hr.SLASH){const u=Xp(t,a,e),[,d,c,h]=u;return`${h}-${As(+d)}-${As(+c)}`}if(s===zr.YMD&&r===Hr.SLASH){const u=Xp(t,l,e),[,d,c,h]=u;return`${d}-${As(+c)}-${As(+h)}`}if(s===zr.DMY&&r===Hr.PERIOD){const u=Xp(t,o,e),[,d,c,h]=u;return`${h}-${As(+c)}-${As(+d)}`}throw new M$(t,e)},Mre=(t,e)=>{var n;const i=si(new Date),s=typeof e=="string"?e:i,r=jt(!1),a=jt(t.disabled||!1),o=jt(Mu.MONTH_DAYS),l=jt(s),u=jt(s||i),d=jt(((n=t.style)===null||n===void 0?void 0:n.dark)||!1),c=jt(e||""),h=jt(e||"");Oo(()=>{try{const m=Ore(c.value,t.locale.value);if(m<t.min||m>t.max){c.value=h.value;return}l.value=m,u.value=m,h.value=c.value}catch{}});let f=!1;const p=m=>{if(!f)return f=!0;t.listeners.onChange(m)};return Oo(()=>{var m;!((m=t.listeners)===null||m===void 0)&&m.onChange&&p(l.value)}),{inputWrapperElement:jt(void 0),isOpen:r,isDisabled:a,datePickerView:o,selectedDate:l,datePickerDate:u,inputDisplayedValue:c,isDark:d,open:()=>r.value=!0,close:()=>r.value=!1,toggle:()=>r.value=!r.value,setView:m=>o.value=m}},Vre={Date:"Datum","MM/DD/YYYY":"TT.MM.JJJJ","Next month":"Nächster Monat","Previous month":"Vorheriger Monat","Choose Date":"Datum auswählen"},Lre={Today:"Heute",Month:"Monat",Week:"Woche",Day:"Tag","Select View":"Ansicht auswählen",events:"Ereignisse",event:"Ereignis","No events":"Keine Ereignisse","Next period":"Nächster Zeitraum","Previous period":"Vorheriger Zeitraum",to:"bis","Full day- and multiple day events":"Ganztägige und mehrtägige Ereignisse","Link to {{n}} more events on {{date}}":"Link zu {{n}} weiteren Ereignissen am {{date}}","Link to 1 more event on {{date}}":"Link zu 1 weiteren Ereignis am {{date}}"},Nre={...Vre,...Lre},Fre={Date:"Date","MM/DD/YYYY":"MM/DD/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},Bre={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},jre={...Fre,...Bre},$re={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mese successivo","Previous month":"Mese precedente","Choose Date":"Scegli la data"},Ure={Today:"Oggi",Month:"Mese",Week:"Settimana",Day:"Giorno","Select View":"Seleziona la vista",events:"eventi",event:"evento","No events":"Nessun evento","Next period":"Periodo successivo","Previous period":"Periodo precedente",to:"a","Full day- and multiple day events":"Eventi della giornata e plurigiornalieri","Link to {{n}} more events on {{date}}":"Link a {{n}} eventi in più il {{date}}","Link to 1 more event on {{date}}":"Link a 1 evento in più il {{date}}"},Hre={...$re,...Ure},zre={Date:"Date","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},Wre={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},Yre={...zre,...Wre},Gre={Date:"Datum","MM/DD/YYYY":"ÅÅÅÅ-MM-DD","Next month":"Nästa månad","Previous month":"Föregående månad","Choose Date":"Välj datum"},qre={Today:"Idag",Month:"Månad",Week:"Vecka",Day:"Dag","Select View":"Välj vy",events:"händelser",event:"händelse","No events":"Inga händelser","Next period":"Nästa period","Previous period":"Föregående period",to:"till","Full day- and multiple day events":"Heldags- och flerdagshändelser","Link to {{n}} more events on {{date}}":"Länk till {{n}} fler händelser den {{date}}","Link to 1 more event on {{date}}":"Länk till 1 händelse till den {{date}}"},Xre={...Gre,...qre},Kre={Date:"日期","MM/DD/YYYY":"年/月/日","Next month":"下个月","Previous month":"上个月","Choose Date":"选择日期"},Qre={Today:"今天",Month:"月",Week:"周",Day:"日","Select View":"选择视图",events:"场活动",event:"活动","No events":"没有活动","Next period":"下一段时间","Previous period":"上一段时间",to:"至","Full day- and multiple day events":"全天和多天活动","Link to {{n}} more events on {{date}}":"链接到{{date}}上的{{n}}个更多活动","Link to 1 more event on {{date}}":"链接到{{date}}上的1个更多活动"},Jre={...Kre,...Qre},Zre={Date:"日期","MM/DD/YYYY":"年/月/日","Next month":"下個月","Previous month":"上個月","Choose Date":"選擇日期"},eae={Today:"今天",Month:"月",Week:"周",Day:"日","Select View":"選擇檢視模式",events:"場活動",event:"活動","No events":"沒有活動","Next period":"下一段時間","Previous period":"上一段時間",to:"到","Full day- and multiple day events":"全天和多天活動","Link to {{n}} more events on {{date}}":"連接到{{date}}上的{{n}}個更多活動","Link to 1 more event on {{date}}":"連接到{{date}}上的1個更多活動"},tae={...Zre,...eae},nae={Date:"日付","MM/DD/YYYY":"年/月/日","Next month":"次の月","Previous month":"前の月","Choose Date":"日付を選択"},iae={Today:"今日",Month:"月",Week:"週",Day:"日","Select View":"ビューを選択",events:"イベント",event:"イベント","No events":"イベントなし","Next period":"次の期間","Previous period":"前の期間",to:"から","Full day- and multiple day events":"終日および複数日イベント","Link to {{n}} more events on {{date}}":"{{date}} に{{n}}件のイベントへのリンク","Link to 1 more event on {{date}}":"{{date}} に1件のイベントへのリンク"},sae={...nae,...iae},rae={Date:"Дата","MM/DD/YYYY":"ММ/ДД/ГГГГ","Next month":"Следующий месяц","Previous month":"Прошлый месяц","Choose Date":"Выберите дату"},aae={Today:"Сегодня",Month:"Месяц",Week:"Неделя",Day:"День","Select View":"Выберите вид",events:"события",event:"событие","No events":"Нет событий","Next period":"Следующий период","Previous period":"Прошлый период",to:"по","Full day- and multiple day events":"События на целый день и несколько дней подряд","Link to {{n}} more events on {{date}}":"Ссылка на {{n}} дополнительных событий на {{date}}","Link to 1 more event on {{date}}":"Ссылка на 1 дополнительное событие на {{date}}"},oae={...rae,...aae},lae={Date:"일자","MM/DD/YYYY":"년/월/일","Next month":"다음 달","Previous month":"이전 달","Choose Date":"날짜 선택"},uae={Today:"오늘",Month:"월",Week:"주",Day:"일","Select View":"보기 선택",events:"일정들",event:"일정","No events":"일정 없음","Next period":"다음","Previous period":"이전",to:"부터","Full day- and multiple day events":"종일 및 복수일 일정","Link to {{n}} more events on {{date}}":"{{date}}에 {{n}}개 이상의 이벤트로 이동","Link to 1 more event on {{date}}":"{{date}}에 1개 이상의 이벤트로 이동"},cae={...lae,...uae},dae={Date:"Date","MM/DD/YYYY":"JJ/MM/AAAA","Next month":"Mois suivant","Previous month":"Mois précédent","Choose Date":"Choisir une date"},hae={Today:"Aujourd'hui",Month:"Mois",Week:"Semaine",Day:"Jour","Select View":"Choisir la vue",events:"événements",event:"événement","No events":"Aucun événement","Next period":"Période suivante","Previous period":"Période précédente",to:"à","Full day- and multiple day events":"Événements d'une ou plusieurs journées","Link to {{n}} more events on {{date}}":"Lien vers {{n}} autres événements le {{date}}","Link to 1 more event on {{date}}":"Lien vers 1 autre événement le {{date}}"},fae={...dae,...hae},mae={Date:"Dato","MM/DD/YYYY":"ÅÅÅÅ-MM-DD","Next month":"Næste måned","Previous month":"Foregående måned","Choose Date":"Vælg dato"},gae={Today:"I dag",Month:"Måned",Week:"Uge",Day:"Dag","Select View":"Vælg visning",events:"begivenheder",event:"begivenhed","No events":"Ingen begivenheder","Next period":"Næste periode","Previous period":"Forgående periode",to:"til","Full day- and multiple day events":"Heldagsbegivenheder og flerdagsbegivenheder","Link to {{n}} more events on {{date}}":"Link til {{n}} flere begivenheder den {{date}}","Link to 1 more event on {{date}}":"Link til 1 mere begivenhed den {{date}}"},pae={...mae,...gae},vae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Następny miesiąc","Previous month":"Poprzedni miesiąc","Choose Date":"Wybiewrz datę"},_ae={Today:"Dzisiaj",Month:"Miesiąc",Week:"Tydzień",Day:"Dzień","Select View":"Wybierz widok",events:"wydarzenia",event:"wydarzenie","No events":"Brak wydarzeń","Next period":"Następny okres","Previous period":"Poprzedni okres",to:"do","Full day- and multiple day events":"Wydarzenia całodniowe i wielodniowe","Link to {{n}} more events on {{date}}":"Link do {{n}} kolejnych wydarzeń w dniu {{date}}","Link to 1 more event on {{date}}":"Link do 1 kolejnego wydarzenia w dniu {{date}}"},yae={...vae,..._ae},bae={Date:"Fecha","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Siguiente mes","Previous month":"Mes anterior","Choose Date":"Seleccione una fecha"},wae={Today:"Hoy",Month:"Mes",Week:"Semana",Day:"Día","Select View":"Seleccione una vista",events:"eventos",event:"evento","No events":"Sin eventos","Next period":"Siguiente período","Previous period":"Período anterior",to:"a","Full day- and multiple day events":"Día completo y eventos de múltiples días","Link to {{n}} more events on {{date}}":"Enlace a {{n}} eventos más el {{date}}","Link to 1 more event on {{date}}":"Enlace a 1 evento más el {{date}}"},xae={...bae,...wae},Sae={Today:"Vandaag",Month:"Maand",Week:"Week",Day:"Dag","Select View":"Kies weergave",events:"gebeurtenissen",event:"gebeurtenis","No events":"Geen gebeurtenissen","Next period":"Volgende periode","Previous period":"Vorige periode",to:"tot","Full day- and multiple day events":"Evenementen van een hele dag en meerdere dagen","Link to {{n}} more events on {{date}}":"Link naar {{n}} meer evenementen op {{date}}","Link to 1 more event on {{date}}":"Link naar 1 meer evenement op {{date}}"},kae={Date:"Datum","MM/DD/YYYY":"DD-MM-JJJJ","Next month":"Volgende maand","Previous month":"Vorige maand","Choose Date":"Kies datum"},Tae={...kae,...Sae},Pae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mês seguinte","Previous month":"Mês anterior","Choose Date":"Escolha uma data"},Cae={Today:"Hoje",Month:"Mês",Week:"Semana",Day:"Dia","Select View":"Selecione uma visualização",events:"eventos",event:"evento","No events":"Sem eventos","Next period":"Período seguinte","Previous period":"Período anterior",to:"a","Full day- and multiple day events":"Dia inteiro e eventos de vários dias","Link to {{n}} more events on {{date}}":"Link para mais {{n}} eventos em {{date}}","Link to 1 more event on {{date}}":"Link para mais 1 evento em {{date}}"},Eae={...Pae,...Cae},Iae={Date:"Dátum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Ďalší mesiac","Previous month":"Predchádzajúci mesiac","Choose Date":"Vyberte dátum"},Dae={Today:"Dnes",Month:"Mesiac",Week:"Týždeň",Day:"Deň","Select View":"Vyberte zobrazenie",events:"udalosti",event:"udalosť","No events":"Žiadne udalosti","Next period":"Ďalšie obdobie","Previous period":"Predchádzajúce obdobie",to:"do","Full day- and multiple day events":"Celodenné a viacdňové udalosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} ďalších udalostí dňa {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 ďalšiu udalosť dňa {{date}}"},Aae={...Iae,...Dae},Rae={Date:"Датум","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Следен месец","Previous month":"Претходен месец","Choose Date":"Избери Датум"},Oae={Today:"Денес",Month:"Месец",Week:"Недела",Day:"Ден","Select View":"Избери Преглед",events:"настани",event:"настан","No events":"Нема настани","Next period":"Следен период","Previous period":"Претходен период",to:"до","Full day- and multiple day events":"Целодневни и повеќедневни настани","Link to {{n}} more events on {{date}}":"Линк до {{n}} повеќе настани на {{date}}","Link to 1 more event on {{date}}":"Линк до 1 повеќе настан на {{date}}"},Mae={...Rae,...Oae},Vae={Date:"Tarih","MM/DD/YYYY":"GG/AA/YYYY","Next month":"Sonraki ay","Previous month":"Önceki ay","Choose Date":"Tarih Seç"},Lae={Today:"Bugün",Month:"Aylık",Week:"Haftalık",Day:"Günlük","Select View":"Görünüm Seç",events:"etkinlikler",event:"etkinlik","No events":"Etkinlik yok","Next period":"Sonraki dönem","Previous period":"Önceki dönem",to:"dan","Full day- and multiple day events":"Tüm gün ve çoklu gün etkinlikleri","Link to {{n}} more events on {{date}}":"{{date}} tarihinde {{n}} etkinliğe bağlantı","Link to 1 more event on {{date}}":"{{date}} tarihinde 1 etkinliğe bağlantı"},Nae={...Vae,...Lae},Fae={Date:"Датасы","MM/DD/YYYY":"АА/КК/ЖЖЖЖ","Next month":"Кийинки ай","Previous month":"Өткөн ай","Choose Date":"Күндү тандаңыз"},Bae={Today:"Бүгүн",Month:"Ай",Week:"Апта",Day:"Күн","Select View":"Көрүнүштү тандаңыз",events:"Окуялар",event:"Окуя","No events":"Окуя жок","Next period":"Кийинки мезгил","Previous period":"Өткөн мезгил",to:"чейин","Full day- and multiple day events":"Күн бою жана бир нече күн катары менен болгон окуялар","Link to {{n}} more events on {{date}}":"{{date}} күнүндө {{n}} окуяга байланыш","Link to 1 more event on {{date}}":"{{date}} күнүндө 1 окуяга байланыш"},jae={...Fae,...Bae},$ae={Date:"Tanggal","MM/DD/YYYY":"DD.MM.YYYY","Next month":"Bulan depan","Previous month":"Bulan sebelumnya","Choose Date":"Pilih tanggal"},Uae={Today:"Hari Ini",Month:"Bulan",Week:"Minggu",Day:"Hari","Select View":"Pilih tampilan",events:"Acara",event:"Acara","No events":"Tidak ada acara","Next period":"Periode selanjutnya","Previous period":"Periode sebelumnya",to:"sampai","Full day- and multiple day events":"Sepanjang hari dan acara beberapa hari ","Link to {{n}} more events on {{date}}":"Tautan ke {{n}} acara lainnya pada {{date}}","Link to 1 more event on {{date}}":"Tautan ke 1 acara lainnya pada {{date}}"},Hae={...$ae,...Uae},zae={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Další měsíc","Previous month":"Předchozí měsíc","Choose Date":"Vyberte datum"},Wae={Today:"Dnes",Month:"Měsíc",Week:"Týden",Day:"Den","Select View":"Vyberte zobrazení",events:"události",event:"událost","No events":"Žádné události","Next period":"Příští období","Previous period":"Předchozí období",to:"do","Full day- and multiple day events":"Celodenní a vícedenní události","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} dalších událostí dne {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 další událost dne {{date}}"},Yae={...zae,...Wae},Gae={Date:"Kuupäev","MM/DD/YYYY":"PP.KK.AAAA","Next month":"Järgmine kuu","Previous month":"Eelmine kuu","Choose Date":"Vali kuupäev"},qae={Today:"Täna",Month:"Kuu",Week:"Nädal",Day:"Päev","Select View":"Vali vaade",events:"sündmused",event:"sündmus","No events":"Pole sündmusi","Next period":"Järgmine periood","Previous period":"Eelmine periood",to:"kuni","Full day- and multiple day events":"Täispäeva- ja mitmepäevasündmused","Link to {{n}} more events on {{date}}":"Link {{n}} rohkematele sündmustele kuupäeval {{date}}","Link to 1 more event on {{date}}":"Link ühele lisasündmusele kuupäeval {{date}}"},Xae={...Gae,...qae},Kae={Date:"Дата","MM/DD/YYYY":"ММ/ДД/РРРР","Next month":"Наступний місяць","Previous month":"Минулий місяць","Choose Date":"Виберіть дату"},Qae={Today:"Сьогодні",Month:"Місяць",Week:"Тиждень",Day:"День","Select View":"Виберіть вигляд",events:"події",event:"подія","No events":"Немає подій","Next period":"Наступний період","Previous period":"Минулий період",to:"по","Full day- and multiple day events":"Події на цілий день і кілька днів поспіль","Link to {{n}} more events on {{date}}":"Посилання на {{n}} додаткові події на {{date}}","Link to 1 more event on {{date}}":"Посилання на 1 додаткову подію на {{date}}"},Jae={...Kae,...Qae},Zae={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Sledeći mesec","Previous month":"Prethodni mesec","Choose Date":"Izaberite datum"},eoe={Today:"Danas",Month:"Mesec",Week:"Nedelja",Day:"Dan","Select View":"Odaberite pregled",events:"Događaji",event:"Događaj","No events":"Nema događaja","Next period":"Naredni period","Previous period":"Prethodni period",to:"do","Full day- and multiple day events":"Celodnevni i višednevni događaji","Link to {{n}} more events on {{date}}":"Link do još {{n}} događaja na {{date}}","Link to 1 more event on {{date}}":"Link do jednog događaja na {{date}}"},toe={...Zae,...eoe},noe={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Següent mes","Previous month":"Mes anterior","Choose Date":"Selecciona una data"},ioe={Today:"Avui",Month:"Mes",Week:"Setmana",Day:"Dia","Select View":"Selecciona una vista",events:"Esdeveniments",event:"Esdeveniment","No events":"Sense esdeveniments","Next period":"Següent període","Previous period":"Període anterior",to:"a","Full day- and multiple day events":"Esdeveniments de dia complet i de múltiples dies","Link to {{n}} more events on {{date}}":"Enllaç a {{n}} esdeveniments més el {{date}}","Link to 1 more event on {{date}}":"Enllaç a 1 esdeveniment més el {{date}}"},soe={...noe,...ioe},roe={Date:"Датум","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Следећи месец","Previous month":"Претходни месец","Choose Date":"Изаберите Датум"},aoe={Today:"Данас",Month:"Месец",Week:"Недеља",Day:"Дан","Select View":"Изаберите преглед",events:"Догађаји",event:"Догађај","No events":"Нема догађаја","Next period":"Следећи период","Previous period":"Претходни период",to:"да","Full day- and multiple day events":"Целодневни и вишедневни догађаји","Link to {{n}} more events on {{date}}":"Линк до још {{n}} догађаја на {{date}}","Link to 1 more event on {{date}}":"Линк до још 1 догађаја {{date}}"},ooe={...roe,...aoe},loe={Date:"Data","MM/DD/YYYY":"MMMM-MM-DD","Next month":"Kitas mėnuo","Previous month":"Ankstesnis mėnuo","Choose Date":"Pasirinkite datą"},uoe={Today:"Šiandien",Month:"Mėnuo",Week:"Savaitė",Day:"Diena","Select View":"Pasirinkite vaizdą",events:"įvykiai",event:"įvykis","No events":"Įvykių nėra","Next period":"Kitas laikotarpis","Previous period":"Ankstesnis laikotarpis",to:"iki","Full day- and multiple day events":"Visos dienos ir kelių dienų įvykiai","Link to {{n}} more events on {{date}}":"Nuoroda į dar {{n}} įvykius {{date}}","Link to 1 more event on {{date}}":"Nuoroda į dar 1 vieną įvykį {{date}}"},coe={...loe,...uoe};class doe extends Error{constructor(e){super(`Invalid locale: ${e}`)}}const hoe=(t,e)=>(n,i)=>{if(!/^[a-z]{2}-[A-Z]{2}$/.test(t.value)&&t.value!=="sr-Latn-RS")throw new doe(t.value);const s=t.value.replaceAll("-",""),r=e.value[s];if(!r)return n;let a=r[n]||n;return Object.keys(i||{}).forEach(o=>{const l=String(i==null?void 0:i[o]);l&&(a=a.replace(`{{${o}}}`,l))}),a},foe={deDE:Nre,enUS:jre,itIT:Hre,enGB:Yre,svSE:Xre,zhCN:Jre,zhTW:tae,jaJP:sae,ruRU:oae,koKR:cae,frFR:fae,daDK:pae,mkMK:Mae,plPL:yae,esES:xae,nlNL:Tae,ptBR:Eae,skSK:Aae,trTR:Nae,kyKG:jae,idID:Hae,csCZ:Yae,etEE:Xae,ukUA:Jae,caES:soe,srLatnRS:toe,srRS:ooe,ltLT:coe};class moe{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e})}setLight(){Object.entries(this.config.calendars.value||{}).forEach(([e,n])=>{if(!n.lightColors){console.warn(`No light colors defined for calendar ${e}`);return}this.setColors(n.colorName,n.lightColors)})}setDark(){Object.entries(this.config.calendars.value||{}).forEach(([e,n])=>{if(!n.darkColors){console.warn(`No dark colors defined for calendar ${e}`);return}this.setColors(n.colorName,n.darkColors)})}setColors(e,n){document.documentElement.style.setProperty(`--sx-color-${e}`,n.main),document.documentElement.style.setProperty(`--sx-color-${e}-container`,n.container),document.documentElement.style.setProperty(`--sx-color-on-${e}-container`,n.onContainer)}}const goe=(t,e,n)=>{var i;const s=jt(((i=t.views.value.find(h=>h.name===t.defaultView))===null||i===void 0?void 0:i.name)||t.views.value[0].name),r=S$(()=>s.value),a=jt(null);let o=!1;const l=h=>{if(!o)return o=!0;t.callbacks.onRangeUpdate&&h.value&&t.callbacks.onRangeUpdate(h.value)};Oo(()=>{t.callbacks.onRangeUpdate&&a.value&&l(a)});const u=h=>{var f,p;const v=t.views.value.find(_=>_.name===s.value).setDateRange({calendarConfig:t,date:h,range:a,timeUnitsImpl:e});v.start===((f=a.value)===null||f===void 0?void 0:f.start)&&v.end===((p=a.value)===null||p===void 0?void 0:p.end)||(a.value=v)};u(n||si(new Date));const d=jt(void 0),c=jt(t.isDark.value||!1);return Oo(()=>{const h=new moe(t);c.value?h.setDark():h.setLight()}),{view:r,isDark:c,setRange:u,range:a,isCalendarSmall:d,setView:(h,f)=>{JS(()=>{s.value=h,u(f)})}}},poe=(t,e,n)=>{const i=jt(t.map(r=>Lv(r,n))),s=jt(void 0);return{list:i,filterPredicate:s,backgroundEvents:jt(e)}};ks.Week;const V$={start:0,end:2400},voe=1600,Hm="blocker",_oe=(t,e,n)=>t===e?2400:n?2400-t+e:e-t;class yoe{constructor(e=K_,n=jP,i=ks.Week,s=[],r=V$,a,o={},l={},u=!1,d=!0,c={},h={},f=void 0,p=void 0,m={nEventsPerDay:4},v=void 0,_={}){Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_customComponentFns",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:jt(K_)}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=jt(e),this.firstDayOfWeek=jt(n),this.views=jt(s),this.dayBoundaries=jt(r),this.weekOptions=jt(a),this.calendars=jt(o),this.isDark=jt(u),this.minDate=jt(f),this.maxDate=jt(p),this.monthGridOptions=jt(m),this.theme=v,this.translations=jt(_)}get isHybridDay(){return this.dayBoundaries.value.start>this.dayBoundaries.value.end||this.dayBoundaries.value.start!==0&&this.dayBoundaries.value.start===this.dayBoundaries.value.end}get timePointsPerDay(){return _oe(this.dayBoundaries.value.start,this.dayBoundaries.value.end,this.isHybridDay)}}class boe{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:{gridHeight:voe,nDays:7,eventWidth:100,timeAxisFormatOptions:{hour:"numeric"}}}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backgroundEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translations",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new yoe(this.locale||K_,typeof this.firstDayOfWeek=="number"?this.firstDayOfWeek:jP,this.defaultView||ks.Week,this.views||[],this.dayBoundaries||V$,this.weekOptions,this.calendars,this.plugins,this.isDark,this.isResponsive,this.callbacks,{},this.minDate,this.maxDate,this.monthGridOptions,this.theme,this.translations)}withLocale(e){return this.locale=e,this}withTranslations(e){return this.translations=e,this}withFirstDayOfWeek(e){return this.firstDayOfWeek=e,this}withDefaultView(e){return this.defaultView=e,this}withViews(e){return this.views=e,this}withDayBoundaries(e){return e?(this.dayBoundaries={start:Xr(e.start),end:Xr(e.end)},this):this}withWeekOptions(e){return this.weekOptions={...this.weekOptions,...e},this}withCalendars(e){return this.calendars=e,this}withPlugins(e){return e?(e.forEach(n=>{this.plugins[n.name]=n}),this):this}withIsDark(e){return this.isDark=e,this}withIsResponsive(e){return this.isResponsive=e,this}withCallbacks(e){return this.callbacks=e,this}withMinDate(e){return this.minDate=e,this}withMaxDate(e){return this.maxDate=e,this}withMonthGridOptions(e){return this.monthGridOptions=e,this}withBackgroundEvents(e){return this.backgroundEvents=e,this}withTheme(e){return this.theme=e,this}}const woe=(t,e)=>new boe().withLocale(t.locale).withFirstDayOfWeek(t.firstDayOfWeek).withDefaultView(t.defaultView).withViews(t.views).withDayBoundaries(t.dayBoundaries).withWeekOptions(t.weekOptions).withCalendars(t.calendars).withPlugins(e).withIsDark(t.isDark).withIsResponsive(t.isResponsive).withCallbacks(t.callbacks).withMinDate(t.minDate).withMaxDate(t.maxDate).withMonthGridOptions(t.monthGridOptions).withBackgroundEvents(t.backgroundEvents).withTheme(t.theme).withTranslations(t.translations||foe).build();var i1;(function(t){t[t.JANUARY=0]="JANUARY",t[t.FEBRUARY=1]="FEBRUARY",t[t.MARCH=2]="MARCH",t[t.APRIL=3]="APRIL",t[t.MAY=4]="MAY",t[t.JUNE=5]="JUNE",t[t.JULY=6]="JULY",t[t.AUGUST=7]="AUGUST",t[t.SEPTEMBER=8]="SEPTEMBER",t[t.OCTOBER=9]="OCTOBER",t[t.NOVEMBER=10]="NOVEMBER",t[t.DECEMBER=11]="DECEMBER"})(i1||(i1={}));class L$ extends Error{constructor(){super("Year zero does not exist in the Gregorian calendar.")}}class xoe extends Date{constructor(e,n,i){if(super(e,n,i),e===0)throw new L$;this.setFullYear(e)}get year(){return this.getFullYear()}get month(){return this.getMonth()}get date(){return this.getDate()}}class Soe{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e})}get firstDayOfWeek(){return this.config.firstDayOfWeek.value}set firstDayOfWeek(e){this.config.firstDayOfWeek.value=e}getMonthWithTrailingAndLeadingDays(e,n){if(e===0)throw new L$;const i=new Date(e,n,1),s=[this.getWeekFor(i)];let r=!0,a=s[0][0];for(;r;){const o=new Date(a.getFullYear(),a.getMonth(),a.getDate()+7);o.getMonth()===n?(s.push(this.getWeekFor(o)),a=o):r=!1}return s}getWeekFor(e){const n=[this.getFirstDateOfWeek(e)];for(;n.length<7;){const i=n[n.length-1],s=new Date(i);s.setDate(i.getDate()+1),n.push(s)}return n}getMonthsFor(e){return Object.values(i1).filter(n=>!isNaN(Number(n))).map(n=>new xoe(e,Number(n),1))}getFirstDateOfWeek(e){const n=e.getDay()-this.firstDayOfWeek,i=e;return n===0||(n>0?i.setDate(e.getDate()-n):i.setDate(e.getDate()-(7+n))),i}}class koe{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Soe(this.config)}withConfig(e){return this.config=e,this}}const Toe=t=>new koe().withConfig(t).build();var Q_;(function(t){t.TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end"})(Q_||(Q_={}));class Poe{constructor(e=K_,n=jP,i=si(new Date(1970,0,1)),s=si(new Date(new Date().getFullYear()+50,11,31)),r=Q_.BOTTOM_START,a={},o={},l,u,d,c){Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=jt(e),this.firstDayOfWeek=jt(n)}}class Coe{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Poe(this.locale,this.firstDayOfWeek,this.min,this.max,this.placement,this.listeners,this.style,this.teleportTo,this.label,this.name,this.disabled)}withLocale(e){return this.locale=e,this}withFirstDayOfWeek(e){return this.firstDayOfWeek=e,this}withMin(e){return this.min=e,this}withMax(e){return this.max=e,this}withPlacement(e){return this.placement=e,this}withListeners(e){return this.listeners=e,this}withStyle(e){return this.style=e,this}withTeleportTo(e){return this.teleportTo=e,this}withLabel(e){return this.label=e,this}withName(e){return this.name=e,this}withDisabled(e){return this.disabled=e,this}}const Eoe=(t,e)=>{var n,i;return new Coe().withLocale(t.locale).withFirstDayOfWeek(t.firstDayOfWeek).withMin(t.minDate).withMax(t.maxDate).withTeleportTo((n=t.datePicker)===null||n===void 0?void 0:n.teleportTo).withStyle((i=t.datePicker)===null||i===void 0?void 0:i.style).withPlacement(Q_.BOTTOM_END).withListeners({onChange:e}).build()},Ioe=(t,e)=>{let n=null;return i=>{var s;t.setRange(i),!((s=e.callbacks)===null||s===void 0)&&s.onSelectedDateUpdate&&i!==n&&(n=i,e.callbacks.onSelectedDateUpdate(i))}},Doe=(t,e)=>{if(t&&e)throw new Error("You cannot provide plugins over the config object and as an argument to createCalendar.")},Aoe=(t=[])=>{t==null||t.forEach(e=>{if(!ka.test(e.start)&&!Ss.test(e.start))throw new Error(`[Schedule-X error]: Event start time ${e.start} is not a valid time format. Please refer to the docs for more information.`);if(!ka.test(e.end)&&!Ss.test(e.end))throw new Error(`[Schedule-X error]: Event end time ${e.end} is not a valid time format. Please refer to the docs for more information.`);if(typeof e.id=="number"&&e.id%1!==0)throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`);if(typeof e.id=="string"&&!/^[a-zA-Z0-9_-]*$/.test(e.id))throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`);if(typeof e.id!="string"&&typeof e.id!="number")throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`)})},Roe=(t,e)=>{var n;const i=woe(t,e),s=Toe(i),r=goe(i,s,t.selectedDate),a=Ioe(r,t),o=Eoe(t,a),l=Mre(o,t.selectedDate||((n=t.datePicker)===null||n===void 0?void 0:n.selectedDate)),u=poe(t.events||[],t.backgroundEvents||[],i);return new Dre().withConfig(i).withTimeUnitsImpl(s).withDatePickerState(l).withCalendarEvents(u).withDatePickerConfig(o).withCalendarState(r).withTranslate(hoe(i.locale,i.translations)).build()},N$=(t,e)=>(Doe(t.plugins,e),t.skipValidation!==!0&&Aoe(t.events),new Ere(Roe(t,t.plugins||[])));class Ooe{constructor(e){Object.defineProperty(this,"randomId",{enumerable:!0,configurable:!0,writable:!0,value:Ms()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"Component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setDateRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasSmallScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasWideScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardFn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardUnits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.label=e.label,this.Component=e.Component,this.setDateRange=e.setDateRange,this.hasSmallScreenCompat=e.hasSmallScreenCompat,this.hasWideScreenCompat=e.hasWideScreenCompat,this.backwardForwardFn=e.backwardForwardFn,this.backwardForwardUnits=e.backwardForwardUnits}render(e,n){z_(rc(this.Component,{$app:n,id:this.randomId}),e)}destroy(){const e=document.getElementById(this.randomId);e&&e.remove()}}const nu=t=>new Ooe(t),Rf=(t,e,n)=>{if(n<e.start){const i=2400-e.start;return(n+i)/t*100}return(n-e.start)/t*100},F$=(t,e,n,i)=>t===e?Rf(i,n,Xr(_l(D$(e,50))))-Rf(i,n,Xr(_l(t))):Rf(i,n,Xr(_l(e)))-Rf(i,n,Xr(_l(t))),Moe=(t,e)=>!t._totalConcurrentEvents||!t._previousConcurrentEvents?0:(t._previousConcurrentEvents||0)/(t._totalConcurrentEvents||0)*e,Voe=(t,e)=>e-t,Loe=t=>t._previousConcurrentEvents?"1px solid #fff":0,B$=t=>"time-grid-event-copy-"+t,Xg=t=>"touches"in t&&typeof t.touches=="object";function tw(t){const[e,n]=At(),i=u=>{if(!u)return n(void 0);n(Um(u,t))},[s,r]=At(),a=(u,d)=>{r(setTimeout(()=>u(d),150))},o=(u,d)=>{if(Xg(u)&&u.touches.length===0||!t.config.plugins.eventModal)return;const c=u.target;if(!(c instanceof HTMLElement))return;const h=c.classList.contains("sx__event")?c:c.closest(".sx__event");h instanceof HTMLElement&&(t.config.plugins.eventModal.calendarEventElement.value=h,t.config.plugins.eventModal.setCalendarEvent(d,h.getBoundingClientRect()))};return{eventCopy:e,updateCopy:i,createDragStartTimeout:a,setClickedEventIfNotDragging:(u,d)=>{s&&(clearTimeout(s),o(d,u)),r(void 0)},setClickedEvent:o}}const Noe=(t,e)=>{let n=t?"custom-time-grid-event-"+Ms():void 0;return n&&e&&(n+="-copy"),n},Fl=(t,e)=>{t.config.callbacks.onEventClick&&t.config.callbacks.onEventClick(e._getExternalEvent())},nw=(t,e)=>{t.config.callbacks.onDoubleClickEvent&&t.config.callbacks.onDoubleClickEvent(e._getExternalEvent())},j$=t=>{const e=Xg(t)?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},$$=(t,e,n)=>Rf(n,e,Xr(_l(t))),zm=t=>{setTimeout(()=>{t()})},iw=t=>{const e=t.elements.calendarWrapper;if(!(e instanceof HTMLElement))return;const n=e.querySelector(".sx__event-modal");n instanceof HTMLElement&&setTimeout(()=>{n.focus()},100)};function U$({calendarEvent:t,dayBoundariesDateTime:e,isCopy:n,setMouseDown:i}){var s,r,a,o;const l=An(ai),{eventCopy:u,updateCopy:d,createDragStartTimeout:c,setClickedEventIfNotDragging:h,setClickedEvent:f}=tw(l),p=[l.config.locale.value,{hour:"numeric",minute:"numeric"}],m=(F,L)=>{const H=_n(F).toLocaleTimeString(...p);if(F===L)return H;const X=_n(L).toLocaleTimeString(...p);return`${H} – ${X}`},v={borderLeft:`4px solid var(--sx-color-${t._color})`,textColor:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`,iconStroke:`var(--sx-color-on-${t._color}-container)`},_=Moe(t,l.config.weekOptions.value.eventWidth),b=F=>{var L;if(Xg(F)&&F.preventDefault(),!e||!F.target||!l.config.plugins.dragAndDrop||!((L=t._options)===null||L===void 0)&&L.disableDND)return;const H=Um(t,l);d(H),l.config.plugins.dragAndDrop.createTimeGridDragHandler({$app:l,eventCoordinates:j$(F),updateCopy:d,eventCopy:H},e)},x=l.config._customComponentFns.timeGridEvent,k=Noe(x,n);kn(()=>{x&&x(mo(k),{calendarEvent:t._getExternalEvent()})},[t,u]);const I=F=>{F.stopPropagation(),Fl(l,t)},E=F=>{F.stopPropagation(),nw(l,t)},T=F=>{(F.key==="Enter"||F.key===" ")&&(F.stopPropagation(),f(F,t),Fl(l,t),zm(()=>{iw(l)}))},S=F=>{if(i(!0),F.stopPropagation(),!!e&&l.config.plugins.resize){const L=Um(t,l);d(L),l.config.plugins.resize.createTimeGridEventResizer(L,d,F,e)}},w=Loe(t),C=["sx__time-grid-event","sx__event"];n&&C.push("is-event-copy"),!((s=t._options)===null||s===void 0)&&s.additionalClasses&&C.push(...t._options.additionalClasses);const P=F=>{i(!0),c(b,F)},D=F=>{zm(()=>i(!1)),h(t,F)},A=(r=t._customContent)===null||r===void 0?void 0:r.timeGrid;return J(Vt,{children:[J("div",{id:n?B$(t.id):void 0,"data-event-id":t.id,onClick:I,onDblClick:E,onKeyDown:T,onMouseDown:P,onMouseUp:D,onTouchStart:P,onTouchEnd:D,className:C.join(" "),tabIndex:0,role:"button",style:{top:`${$$(t.start,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,height:`${F$(t.start,t.end,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,left:`${_}%`,width:`${Voe(_,n?100:l.config.weekOptions.value.eventWidth)}%`,backgroundColor:x?void 0:v.backgroundColor,color:x?void 0:v.textColor,borderTop:w,borderRight:w,borderBottom:w,borderLeft:x?void 0:v.borderLeft,padding:x?"0":void 0},children:J("div",{"data-ccid":k,className:"sx__time-grid-event-inner",children:[!x&&!A&&J(Vt,{children:[t.title&&J("div",{className:"sx__time-grid-event-title",children:t.title}),J("div",{className:"sx__time-grid-event-time",children:[J(I$,{strokeColor:v.iconStroke}),m(t.start,t.end)]}),t.people&&t.people.length>0&&J("div",{className:"sx__time-grid-event-people",children:[J(Kse,{strokeColor:v.iconStroke}),nre(t.people)]}),t.location&&J("div",{className:"sx__time-grid-event-location",children:[J(Qse,{strokeColor:v.iconStroke}),t.location]})]}),A&&J("div",{dangerouslySetInnerHTML:{__html:((a=t._customContent)===null||a===void 0?void 0:a.timeGrid)||""}}),l.config.plugins.resize&&!(!((o=t._options)===null||o===void 0)&&o.disableResize)&&J("div",{className:"sx__time-grid-event-resize-handle",onMouseDown:S})]})}),u&&J(U$,{calendarEvent:u,isCopy:!0,setMouseDown:i})]})}const $P=(t,e)=>t.start===e.start?t.end<e.end?1:t.end>e.end?-1:0:t.start<e.start?-1:t.start>e.start?1:0,Foe=(t,e)=>{const n=dn(t.start),i=dn(e.start),s=dn(t.end),r=dn(e.end);return n===i?s<r?1:s>r?-1:0:n<i?-1:n>i?1:0},s1=(t,e=[],n=0)=>{for(let i=n;i<t.length;i++){const s=t[i],r=t[i+1];if(e.length&&(!r||e.every(a=>a.end<r.start))){e.push(s);for(let a=0;a<e.length;a++){const o=e[a],l=e.filter((d,c)=>d===o||c>a?!1:d.start<=o.start&&d.end>o.start).length,u=e.filter((d,c)=>d===o||c<a?!1:d.start<o.end&&d.end>=o.start).length;o._totalConcurrentEvents=l+u+1,o._previousConcurrentEvents=l}return e=[],s1(t,e,i+1)}if(r&&s.end>r.start||e.some(a=>a.end>s.start))return e.push(s),s1(t,e,i+1);s._totalConcurrentEvents=1,s._previousConcurrentEvents=0}return t},aO=(t,e,n)=>{if(!(t.target instanceof HTMLElement))return;const i="sx__time-grid-day",s=t.target.classList.contains(i)?t.target:t.target.closest("."+i),a=(t.clientY-s.getBoundingClientRect().top)/s.getBoundingClientRect().height*100,o=Math.round(e.config.timePointsPerDay/100*a);return D$(n,o)},sw=t=>{switch(t){case 0:return"sx__sunday";case 1:return"sx__monday";case 2:return"sx__tuesday";case 3:return"sx__wednesday";case 4:return"sx__thursday";case 5:return"sx__friday";case 6:return"sx__saturday";default:throw new Error("Invalid weekday")}};function Boe({backgroundEvent:t,date:e}){const n=An(ai);let i=t.start,s=t.end;return Ss.test(i)&&(i+=" 00:00"),Ss.test(s)&&(s+=" 23:59"),dn(i)!==e&&(i=e+" "+i.split(" ")[1]),dn(s)!==e&&(s=e+" "+s.split(" ")[1]),Xr(i.split(" ")[1])<n.config.dayBoundaries.value.start&&(i=e+" "+$m(n.config.dayBoundaries.value.start)),i===s?null:J(Vt,{children:J("div",{class:"sx__time-grid-background-event",title:t.title,style:{...t.style,position:"absolute",zIndex:0,top:`${$$(i,n.config.dayBoundaries.value,n.config.timePointsPerDay)}%`,height:`${F$(i,s,n.config.dayBoundaries.value,n.config.timePointsPerDay)}%`,width:"100%"}})})}function joe({calendarEvents:t,date:e,backgroundEvents:n}){const[i,s]=At(!1),r=An(ai),a=$m(r.config.dayBoundaries.value.start),o=$m(r.config.dayBoundaries.value.end),l=q0(e,a),u=r.config.isHybridDay?tu(q0(e,o),1):q0(e,o),d={start:l,end:u},c=t.sort($P),[h,f]=At([]);kn(()=>{f(s1(c))},[t]);const p=(k,I)=>{if(!I||i)return;const E=aO(k,r,l);E&&I(E)},m=k=>{const I=r.config.callbacks.onMouseDownDateTime;if(!I||i)return;const E=aO(k,r,l);E&&I(E,k)},v=()=>{setTimeout(()=>{s(!1)},10)},_=["sx__time-grid-day",sw(_n(e).getDay())],[b,x]=At(_);return na(()=>{const k=[..._];r.datePickerState.selectedDate.value===e&&k.push("is-selected"),x(k)}),J("div",{className:b.join(" "),"data-time-grid-date":e,onClick:k=>p(k,r.config.callbacks.onClickDateTime),onDblClick:k=>p(k,r.config.callbacks.onDoubleClickDateTime),"aria-label":Cl(e,r.config.locale.value),onMouseLeave:()=>s(!1),onMouseUp:v,onTouchEnd:v,onMouseDown:m,children:[n.map(k=>J(Vt,{children:J(Boe,{backgroundEvent:k,date:e})})),h.map(k=>J(U$,{calendarEvent:k,dayBoundariesDateTime:d,setMouseDown:s},k.id))]})}const $oe=({start:t,end:e},n)=>{const i=[];let s=Math.floor(t/100);if(n){for(;s<24;)i.push(s),s+=1;s=0}const r=e===0?24:Math.ceil(e/100);for(;s<r;)i.push(s),s+=1;return i};function Uoe(){const t=An(ai),[e,n]=At([]);na(()=>{n($oe(t.config.dayBoundaries.value,t.config.isHybridDay));const s=t.config.timePointsPerDay/100,r=t.config.weekOptions.value.gridHeight/s;document.documentElement.style.setProperty("--sx-week-grid-hour-height",`${r}px`)});const i=new Intl.DateTimeFormat(t.config.locale.value,t.config.weekOptions.value.timeAxisFormatOptions);return J(Vt,{children:J("div",{className:"sx__week-grid__time-axis",children:e.map(s=>J("div",{className:"sx__week-grid__hour",children:J("span",{className:"sx__week-grid__hour-text",children:i.format(new Date(0,0,0,s))})}))})})}function Hoe({week:t}){const e=An(ai),n=i=>{const s=["sx__week-grid__date",sw(i.getDay())];return FP(i)&&s.push("sx__week-grid__date--is-today"),s.join(" ")};return J(Vt,{children:J("div",{className:"sx__week-grid__date-axis",children:t.map(i=>J("div",{className:n(i),"data-date":si(i),children:[J("div",{className:"sx__week-grid__day-name",children:NP(i,e.config.locale.value)}),J("div",{className:"sx__week-grid__date-number",children:i.getDate()})]}))})})}const zoe=t=>{const e=[],n=[];for(const i of t){if(i._isSingleDayTimed||i._isSingleHybridDayTimed){n.push(i);continue}(i._isSingleDayFullDay||i._isMultiDayFullDay||i._isMultiDayTimed)&&e.push(i)}return{timeGridEvents:n,dateGridEvents:e}},oO=(t,e)=>{const n=si(e);return t[n]={date:n,timeGridEvents:[],dateGridEvents:{},backgroundEvents:[]},t},Woe=t=>t.calendarState.view.value===ks.Day?oO({},_n(t.calendarState.range.value.start)):t.timeUnitsImpl.getWeekFor(_n(t.datePickerState.selectedDate.value)).slice(0,t.config.weekOptions.value.nDays).reduce(oO,{}),Yoe=(t,e,n)=>{var i;for(const s of t){const r=n.calendarState.range.value;if(s.start>=r.start&&s.end<=r.end){let a=dn(s.start);const o=_l(s.start);Xr(o)<n.config.dayBoundaries.value.start&&(a=tu(a,-1)),(i=e[a])===null||i===void 0||i.timeGridEvents.push(s)}}return e},Goe=(t,e)=>{const n=Object.keys(e).sort(),i=n[0],s=n[n.length-1],r=new Set;for(const a of t){const o=dn(a.start),l=dn(a.end),u=!!e[o];let d=u;if(!u&&o<i&&l>=i&&(d=!0),!d)continue;const c=u?o:i,h=l<=s?l:s,f=Object.values(e).filter(v=>v.date>=c&&v.date<=h);let p,m=0;for(;p===void 0;)f.every(_=>!_.dateGridEvents[m])?(p=m,r.add(m)):m++;for(const[v,_]of f.entries())v===0?(a._nDaysInGrid=f.length,_.dateGridEvents[p]=a):_.dateGridEvents[p]=Hm}for(const a of Array.from(r))for(const[,o]of Object.entries(e))o.dateGridEvents[a]||(o.dateGridEvents[a]=void 0);return e},qoe=(t,e,n)=>{let i=2;const s=10;return t&&n&&(i+=s),e&&n&&(i+=s),i},Xoe=(t,e,n)=>({borderBottomLeftRadius:t||n?0:void 0,borderTopLeftRadius:t||n?0:void 0,borderBottomRightRadius:e||n?0:void 0,borderTopRightRadius:e||n?0:void 0});function H$({calendarEvent:t,gridRow:e,isCopy:n}){var i,s,r,a;const o=An(ai),{eventCopy:l,updateCopy:u,createDragStartTimeout:d,setClickedEventIfNotDragging:c,setClickedEvent:h}=tw(o),f={borderLeft:`4px solid var(--sx-color-${t._color})`,color:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`},p=w=>{var C;if(!o.config.plugins.dragAndDrop||!((C=t._options)===null||C===void 0)&&C.disableDND)return;Xg(w)&&w.preventDefault();const P=Um(t,o);u(P),o.config.plugins.dragAndDrop.createDateGridDragHandler({eventCoordinates:j$(w),eventCopy:P,updateCopy:u,$app:o})},m=dn(t.start)<dn(o.calendarState.range.value.start),v=dn(t.end)>dn(o.calendarState.range.value.end),_={backgroundColor:f.backgroundColor},b=o.config._customComponentFns.dateGridEvent;let x=b?"custom-date-grid-event-"+Ms():void 0;n&&x&&(x+="-copy"),kn(()=>{b&&b(mo(x),{calendarEvent:t._getExternalEvent()})},[t,l]);const k=w=>{w.stopPropagation();const C=Um(t,o);u(C),o.config.plugins.resize.createDateGridEventResizer(C,u,w)},I=w=>{(w.key==="Enter"||w.key===" ")&&(w.stopPropagation(),h(w,t),Fl(o,t),zm(()=>{iw(o)}))},E=["sx__event","sx__date-grid-event","sx__date-grid-cell"];n&&E.push("sx__date-grid-event--copy"),m&&E.push("sx__date-grid-event--overflow-left"),v&&E.push("sx__date-grid-event--overflow-right"),!((i=t._options)===null||i===void 0)&&i.additionalClasses&&E.push(...t._options.additionalClasses);const T=m?"none":f.borderLeft,S=(s=t._customContent)===null||s===void 0?void 0:s.dateGrid;return J(Vt,{children:[J("div",{id:n?B$(t.id):void 0,tabIndex:0,"aria-label":t.title+" "+R$(t,o.config.locale.value,o.translate("to")),role:"button","data-ccid":x,"data-event-id":t.id,onMouseDown:w=>d(p,w),onMouseUp:w=>c(t,w),onTouchStart:w=>d(p,w),onTouchEnd:w=>c(t,w),onClick:()=>Fl(o,t),onDblClick:()=>nw(o,t),onKeyDown:I,className:E.join(" "),style:{width:`calc(${t._nDaysInGrid*100}% - ${qoe(m,v,!b)}px)`,gridRow:e,display:l?"none":"flex",padding:b?"0px":void 0,borderLeft:b?void 0:T,color:b?void 0:f.color,backgroundColor:b?void 0:f.backgroundColor,...Xoe(m,v,!!b)},children:[!b&&!S&&J(Vt,{children:[m&&J("div",{className:"sx__date-grid-event--left-overflow",style:_}),J("span",{className:"sx__date-grid-event-text",children:[t.title,"  ",ka.test(t.start)&&J("span",{className:"sx__date-grid-event-time",children:ku(t.start,o.config.locale.value)})]}),v&&J("div",{className:"sx__date-grid-event--right-overflow",style:_})]}),S&&J("div",{dangerouslySetInnerHTML:{__html:((r=t._customContent)===null||r===void 0?void 0:r.dateGrid)||""}}),o.config.plugins.resize&&!(!((a=t._options)===null||a===void 0)&&a.disableResize)&&!v&&J("div",{className:"sx__date-grid-event-resize-handle",onMouseDown:k})]}),l&&J(H$,{calendarEvent:l,gridRow:e,isCopy:!0})]})}function Koe({calendarEvents:t,date:e,backgroundEvents:n}){const i=An(ai),s=e+" 00:00",r=e+" 23:59",a=n.find(l=>{const u=Ss.test(l.start)?l.start+" 00:00":l.start,d=Ss.test(l.end)?l.end+" 23:59":l.end;return u<=s&&d>=r}),o=l=>{const u=i.config.callbacks.onMouseDownDateGridDate;u&&u(e,l)};return J("div",{className:"sx__date-grid-day","data-date-grid-date":e,children:[a&&J("div",{className:"sx__date-grid-background-event",title:a.title,style:{...a.style}}),Object.values(t).map((l,u)=>l===Hm||!l?J("div",{className:"sx__date-grid-cell",style:{gridRow:u+1},onMouseDown:o}):J(H$,{calendarEvent:l,gridRow:u+1})),J("div",{className:"sx__spacer",onMouseDown:o})]})}const z$=(t,e)=>t.filter(n=>{let i=e.start,s=e.end;Ss.test(i)&&(i=i+" 00:00"),Ss.test(s)&&(s=s+" 23:59");let r=n.start,a=n.end;Ss.test(r)&&(r=r+" 00:00"),Ss.test(a)&&(a=a+" 23:59");const o=r>=i&&r<=s,l=a>=i&&a<=s,u=r<i&&a>s;return o||l||u}),W$=({$app:t,id:e})=>{document.documentElement.style.setProperty("--sx-week-grid-height",`${t.config.weekOptions.value.gridHeight}px`);const[n,i]=At({});return na(()=>{var s,r;const a=(s=t.calendarState.range.value)===null||s===void 0?void 0:s.start,o=(r=t.calendarState.range.value)===null||r===void 0?void 0:r.end;if(!a||!o)return;let l=Woe(t);const u=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value,{dateGridEvents:d,timeGridEvents:c}=zoe(u);l=Goe(d.sort($P),l),Object.entries(l).forEach(([h,f])=>{f.backgroundEvents=z$(t.calendarEvents.backgroundEvents.value,{start:h,end:h})}),l=Yoe(c,l,t),i(l)}),J(Vt,{children:J(ai.Provider,{value:t,children:J("div",{className:"sx__week-wrapper",id:e,children:[J("div",{className:"sx__week-header",children:J("div",{className:"sx__week-header-content",children:[J(Hoe,{week:Object.values(n).map(s=>_n(s.date))}),J("div",{className:"sx__date-grid","aria-label":t.translate("Full day- and multiple day events"),children:Object.values(n).map(s=>J(Koe,{date:s.date,calendarEvents:s.dateGridEvents,backgroundEvents:s.backgroundEvents},s.date))}),J("div",{className:"sx__week-header-border"})]})}),J("div",{className:"sx__week-grid",children:[J(Uoe,{}),Object.values(n).map(s=>J(joe,{calendarEvents:s.timeGridEvents,backgroundEvents:s.backgroundEvents,date:s.date},s.date))]})]})})})},Y$=(t,e)=>`${si(e)} ${$m(t.dayBoundaries.value.start)}`,G$=(t,e)=>{let n=$m(t.dayBoundaries.value.end),i=si(e);return t.isHybridDay&&(i=tu(i,1)),t.dayBoundaries.value.end===2400&&(n="23:59"),`${i} ${n}`},Qoe=t=>{const e=t.timeUnitsImpl.getWeekFor(_n(t.date)).slice(0,t.calendarConfig.weekOptions.value.nDays);return{start:Y$(t.calendarConfig,e[0]),end:G$(t.calendarConfig,e[e.length-1])}},q$=t=>{const{year:e,month:n}=vr(t.date),i=t.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(e,n),s=si(i[i.length-1][i[i.length-1].length-1]);return{start:Zb(i[0][0]),end:`${s} 23:59`}},Joe=t=>({start:Y$(t.calendarConfig,_n(t.date)),end:G$(t.calendarConfig,_n(t.date))}),X$={name:ks.Week,label:"Week",Component:W$,setDateRange:Qoe,hasSmallScreenCompat:!1,hasWideScreenCompat:!0,backwardForwardFn:tu,backwardForwardUnits:7},Zoe=nu(X$),ele=()=>nu(X$),tle=(t,e)=>(t.push({date:si(e),events:{},backgroundEvents:[]}),t),nle=(t,e)=>{const{year:n,month:i}=vr(t),s=e.getMonthWithTrailingAndLeadingDays(n,i),r=[];for(const a of s)r.push(a.reduce(tle,[]));return r};function ile({gridRow:t,calendarEvent:e,date:n,isFirstWeek:i,isLastWeek:s}){var r,a,o,l,u;const d=An(ai),c=i&&((r=d.calendarState.range.value)===null||r===void 0?void 0:r.start)&&dn(e.start)<dn(d.calendarState.range.value.start),h=s&&((a=d.calendarState.range.value)===null||a===void 0?void 0:a.end)&&dn(e.end)>dn(d.calendarState.range.value.end),{createDragStartTimeout:f,setClickedEventIfNotDragging:p,setClickedEvent:m}=tw(d),v=dn(e.start)===n,_=e._eventFragments[n],b={borderLeft:v?`4px solid var(--sx-color-${e._color})`:void 0,color:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`,width:`calc(${_*100+"%"} + ${_}px - 10px)`},x=P=>{var D;Xg(P)&&P.preventDefault(),P.target&&(!d.config.plugins.dragAndDrop||!((D=e._options)===null||D===void 0)&&D.disableDND||d.config.plugins.dragAndDrop.createMonthGridDragHandler(e,d))},k=d.config._customComponentFns.monthGridEvent,I=k?"custom-month-grid-event-"+Ms():void 0;kn(()=>{k&&k(mo(I),{calendarEvent:e._getExternalEvent(),hasStartDate:v})},[e]);const E=P=>{P.stopPropagation(),Fl(d,e)},T=P=>{P.stopPropagation(),nw(d,e)},S=P=>{(P.key==="Enter"||P.key===" ")&&(P.stopPropagation(),m(P,e),Fl(d,e),zm(()=>{iw(d)}))},w=["sx__event","sx__month-grid-event","sx__month-grid-cell"];!((o=e._options)===null||o===void 0)&&o.additionalClasses&&w.push(...e._options.additionalClasses),c&&w.push("sx__month-grid-event--overflow-left"),h&&w.push("sx__month-grid-event--overflow-right");const C=(l=e._customContent)===null||l===void 0?void 0:l.monthGrid;return J("div",{draggable:!!d.config.plugins.dragAndDrop,"data-event-id":e.id,"data-ccid":I,onMouseDown:P=>f(x,P),onMouseUp:P=>p(e,P),onTouchStart:P=>f(x,P),onTouchEnd:P=>p(e,P),onClick:E,onDblClick:T,onKeyDown:S,className:w.join(" "),style:{gridRow:t,width:b.width,padding:k?"0px":void 0,borderLeft:k?void 0:b.borderLeft,color:k?void 0:b.color,backgroundColor:k?void 0:b.backgroundColor},tabIndex:0,role:"button",children:[!k&&!C&&J(Vt,{children:[ka.test(e.start)&&J("div",{className:"sx__month-grid-event-time",children:ku(e.start,d.config.locale.value)}),J("div",{className:"sx__month-grid-event-title",children:e.title})]}),C&&J("div",{dangerouslySetInnerHTML:{__html:((u=e._customContent)===null||u===void 0?void 0:u.monthGrid)||""}})]})}function sle({day:t,isFirstWeek:e,isLastWeek:n}){const i=An(ai),s=Object.values(t.events).filter(E=>typeof E=="object"||E===Hm).length,r=E=>E===1?i.translate("event"):i.translate("events"),a=E=>E===1?i.translate("Link to 1 more event on {{date}}",{date:Cl(t.date,i.config.locale.value)}):i.translate("Link to {{n}} more events on {{date}}",{date:Cl(t.date,i.config.locale.value),n:s-i.config.monthGridOptions.value.nEventsPerDay}),o=E=>{E.stopPropagation(),i.config.callbacks.onClickPlusEvents&&i.config.callbacks.onClickPlusEvents(t.date),i.config.views.value.find(T=>T.name===ks.Day)&&setTimeout(()=>{i.datePickerState.selectedDate.value=t.date,i.calendarState.setView(ks.Day,t.date)},250)},l=["sx__month-grid-day__header-date"],u=_n(t.date),d=u;FP(d)&&l.push("sx__is-today");const{month:c}=vr(i.datePickerState.selectedDate.value),{month:h}=vr(t.date),f=["sx__month-grid-day",sw(u.getDay())],[p,m]=At(f);kn(()=>{const E=[...f];h!==c&&E.push("is-leading-or-trailing"),i.datePickerState.selectedDate.value===t.date&&E.push("is-selected"),m(E)},[i.datePickerState.selectedDate.value]);const _=Object.values(t.events).slice(i.config.monthGridOptions.value.nEventsPerDay).filter(E=>E===Hm||typeof E=="object").length,b=t.date+" 00:00",x=t.date+" 23:59",k=t.backgroundEvents.find(E=>{const T=Ss.test(E.start)?E.start+" 00:00":E.start,S=Ss.test(E.end)?E.end+" 23:59":E.end;return T<=b&&S>=x}),I=E=>{if(!E.target.classList.contains("sx__month-grid-day"))return;const S=i.config.callbacks.onMouseDownMonthGridDate;S&&S(t.date,E)};return J("div",{className:p.join(" "),"data-date":t.date,onClick:()=>i.config.callbacks.onClickDate&&i.config.callbacks.onClickDate(t.date),"aria-label":Cl(t.date,i.config.locale.value),onDblClick:()=>{var E,T;return(T=(E=i.config.callbacks).onDoubleClickDate)===null||T===void 0?void 0:T.call(E,t.date)},onMouseDown:I,children:[k&&J(Vt,{children:J("div",{className:"sx__month-grid-background-event",title:k.title,style:{...k.style}})}),J("div",{className:"sx__month-grid-day__header",children:[e?J("div",{className:"sx__month-grid-day__header-day-name",children:NP(d,i.config.locale.value)}):null,J("div",{className:l.join(" "),children:d.getDate()})]}),J("div",{className:"sx__month-grid-day__events",children:Object.values(t.events).slice(0,i.config.monthGridOptions.value.nEventsPerDay).map((E,T)=>typeof E!="object"?J("div",{className:"sx__month-grid-blocker sx__month-grid-cell",style:{gridRow:T+1}}):J(ile,{gridRow:T+1,calendarEvent:E,date:t.date,isFirstWeek:e,isLastWeek:n}))}),_>0?J("button",{type:"button",className:"sx__month-grid-day__events-more sx__ripple--wide","aria-label":a(_),onClick:o,children:`+ ${_} ${r(_)}`}):null]})}function rle({week:t,isFirstWeek:e,isLastWeek:n}){return J("div",{className:"sx__month-grid-week",children:t.map(i=>{const s=i.date;return J(sle,{day:i,isFirstWeek:e,isLastWeek:n},s)})})}const ale=(t,e)=>{const n=Object.keys(e).sort(),i=n[0],s=n[n.length-1],r=new Set;for(const a of t){const o=dn(a.start),l=dn(a.end),u=!!e[o];let d=u;if(!u&&o<i&&l>=i&&(d=!0),!d)continue;const c=u?o:i,h=l<=s?l:s,f=Object.values(e).filter(v=>v.date>=c&&v.date<=h);let p,m=0;for(;p===void 0;)f.every(_=>!_.events[m])?(p=m,r.add(m)):m++;for(const[v,_]of f.entries())v===0?(a._eventFragments[c]=f.length,_.events[p]=a):_.events[p]=Hm}for(const a of Array.from(r))for(const[,o]of Object.entries(e))o.events[a]||(o.events[a]=void 0);return e},ole=(t,e)=>{const n=[];return t.forEach(i=>{const s={};i.forEach(r=>s[r.date]=r),n.push(s)}),n.forEach(i=>ale(e,i)),t},lle=({$app:t,id:e})=>{const[n,i]=At([]);return na(()=>{t.calendarEvents.list.value.forEach(a=>{a._eventFragments={}});const s=nle(t.datePickerState.selectedDate.value,t.timeUnitsImpl);s.forEach(a=>{a.forEach(o=>{o.backgroundEvents=z$(t.calendarEvents.backgroundEvents.value,{start:o.date,end:o.date})})});const r=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value;i(ole(s,r.sort(Foe)))}),J(ai.Provider,{value:t,children:J("div",{id:e,className:"sx__month-grid-wrapper",children:n.map((s,r)=>J(rle,{week:s,isFirstWeek:r===0,isLastWeek:r===n.length-1},r))})})},K$={name:ks.MonthGrid,label:"Month",setDateRange:q$,Component:lle,hasWideScreenCompat:!0,hasSmallScreenCompat:!1,backwardForwardFn:ew,backwardForwardUnits:1};nu(K$);const ule=()=>nu(K$),cle=({$app:t,id:e})=>J(W$,{$app:t,id:e}),Q$={name:ks.Day,label:"Day",setDateRange:Joe,hasWideScreenCompat:!0,hasSmallScreenCompat:!0,Component:cle,backwardForwardFn:tu,backwardForwardUnits:1};nu(Q$);const J$=()=>nu(Q$),dle=(t,e)=>{const{year:n,month:i}=vr(t);return{weeks:e.getMonthWithTrailingAndLeadingDays(n,i).map(r=>r.map(a=>({date:si(a),events:[]})))}};function hle({day:t,isActive:e,setActiveDate:n}){const i=An(ai),{month:s}=vr(i.datePickerState.selectedDate.value),{month:r}=vr(t.date),a=_n(t.date),o=["sx__month-agenda-day",sw(a.getDay())];e&&o.push("sx__month-agenda-day--active"),r!==s&&o.push("is-leading-or-trailing");const l=(f,p)=>{n(t.date),p&&p(t.date)},u=f=>f.date===i.datePickerState.selectedDate.value,d=f=>{const p=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);i.datePickerState.selectedDate.value=tu(i.datePickerState.selectedDate.value,p.get(f.key)||0)},c=!!(i.config.minDate.value&&t.date<i.config.minDate.value),h=!!(i.config.maxDate.value&&t.date>i.config.maxDate.value);return J("button",{type:"button",className:o.join(" "),onClick:f=>l(f,i.config.callbacks.onClickAgendaDate),onDblClick:f=>l(f,i.config.callbacks.onDoubleClickAgendaDate),disabled:c||h,"aria-label":Cl(t.date,i.config.locale.value),tabIndex:u(t)?0:-1,"data-agenda-focus":u(t)?"true":void 0,onKeyDown:d,children:[J("div",{children:a.getDate()}),J("div",{className:"sx__month-agenda-day__event-icons",children:t.events.slice(0,3).map(f=>J("div",{style:{backgroundColor:`var(--sx-color-${f._color})`,filter:"brightness(1.6)"},className:"sx__month-agenda-day__event-icon"}))})]})}function fle({week:t,setActiveDate:e,activeDate:n}){return J("div",{className:"sx__month-agenda-week",children:t.map((i,s)=>J(hle,{setActiveDate:e,day:i,isActive:n===i.date},s+i.date))})}function mle({week:t}){const e=An(ai),n=C$(t.map(i=>_n(i.date)),e.config.locale.value);return J("div",{className:"sx__month-agenda-day-names",children:n.map(i=>J("div",{className:"sx__month-agenda-day-name",children:i}))})}const gle=(t,e)=>{let n=t;const i=[n];for(;n<e;)n=tu(n,1),i.push(n);return i},ple=t=>e=>{gle(dn(e.start),dn(e.end)).forEach(n=>{t[n]&&t[n].events.push(e)})},vle=(t,e)=>{const n=t.weeks.reduce((i,s)=>(s.forEach(r=>{i[r.date]=r}),i),{});return e.forEach(ple(n)),t};function _le({calendarEvent:t}){var e,n;const i=An(ai),{setClickedEvent:s}=tw(i),r={backgroundColor:`var(--sx-color-${t._color}-container)`,color:`var(--sx-color-on-${t._color}-container)`,borderLeft:`4px solid var(--sx-color-${t._color})`},a=i.config._customComponentFns.monthAgendaEvent,o=a?"custom-month-agenda-event-"+t.id:void 0;kn(()=>{a&&a(mo(o),{calendarEvent:t._getExternalEvent()})},[t]);const l=h=>{s(h,t),Fl(i,t)},u=h=>{s(h,t),nw(i,t)},d=h=>{(h.key==="Enter"||h.key===" ")&&(h.stopPropagation(),s(h,t),Fl(i,t),zm(()=>{iw(i)}))},c=(e=t._customContent)===null||e===void 0?void 0:e.monthAgenda;return J("div",{className:"sx__event sx__month-agenda-event","data-ccid":o,"data-event-id":t.id,style:{backgroundColor:a?void 0:r.backgroundColor,color:a?void 0:r.color,borderLeft:a?void 0:r.borderLeft,padding:a?"0px":void 0},onClick:h=>l(h),onDblClick:h=>u(h),onKeyDown:d,tabIndex:0,role:"button",children:[!a&&!c&&J(Vt,{children:[J("div",{className:"sx__month-agenda-event__title",children:t.title}),J("div",{className:"sx__month-agenda-event__time sx__month-agenda-event__has-icon",children:[J(I$,{strokeColor:`var(--sx-color-on-${t._color}-container)`}),J("div",{dangerouslySetInnerHTML:{__html:R$(t,i.config.locale.value)}})]})]}),c&&J("div",{dangerouslySetInnerHTML:{__html:((n=t._customContent)===null||n===void 0?void 0:n.monthAgenda)||""}})]})}function yle({events:t}){const e=An(ai);return J("div",{className:"sx__month-agenda-events",children:t.length?t.map(n=>J(_le,{calendarEvent:n},n.id)):J("div",{className:"sx__month-agenda-events__empty",children:e.translate("No events")})})}const ble=({$app:t,id:e})=>{var n;const i=()=>{const a=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value;return vle(dle(t.datePickerState.selectedDate.value,t.timeUnitsImpl),a.sort($P))},[s,r]=At(i());return kn(()=>{r(i())},[t.datePickerState.selectedDate.value,t.calendarEvents.list.value,t.calendarEvents.filterPredicate.value]),kn(()=>{const a=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.agendaFocus==="true"&&d.focus()})}),o=document.getElementById(e);return a.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>a.disconnect()},[]),J(ai.Provider,{value:t,children:J("div",{id:e,className:"sx__month-agenda-wrapper",children:[J(mle,{week:s.weeks[0]}),J("div",{className:"sx__month-agenda-weeks",children:s.weeks.map((a,o)=>J(fle,{week:a,setActiveDate:l=>t.datePickerState.selectedDate.value=l,activeDate:t.datePickerState.selectedDate.value},o))}),J(yle,{events:((n=s.weeks.flat().find(a=>a.date===t.datePickerState.selectedDate.value))===null||n===void 0?void 0:n.events)||[]},t.datePickerState.selectedDate.value)]})})},Z$={name:ks.MonthAgenda,label:"Month",setDateRange:q$,Component:ble,hasSmallScreenCompat:!0,hasWideScreenCompat:!1,backwardForwardFn:ew,backwardForwardUnits:1};nu(Z$);const wle=()=>nu(Z$),Vs=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],lO=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],Nv=[{name:"Recuperi",icon:"mdi-abacus",color:"blue",type:"recovery"},{name:"Spostate",icon:"mdi-account-box",color:"green",type:"moved"},{name:"Settimanali",icon:"mdi-ab-testing",color:"purple",type:"weekly"},{name:"Giornaliere",icon:"mdi-account",color:"yellow",type:"daily"}],Fv=[{name:"Normale",icon:"mdi-account",color:"green",type:"normal"},{name:"Supplenza",icon:"mdi-account-box",color:"blue",type:"substistution"}];class $t{constructor(e=0,n=0,i=0){this.hour=e,this.minutes=n,this.seconds=i}static fromITime(e){const n=Math.trunc(e/3600),i=Math.trunc((e-n*3600)/60),s=e-(n*3600+i*60);return new $t(n,i,s)}static fromHHMM(e){try{const n=e.split(":");if(n.length!=2)return;const i=parseInt(n[0]),s=parseInt(n[1]);return new $t(i,s)}catch{return}}getTotalMinutes(){return this.hour*60+this.minutes}toITime(){return this.hour*3600+this.minutes*60+this.seconds}setSeconds(e){this.seconds=e}add(e){return this.hour+=e.hour??0,this.minutes+=e.minutes??0,this.seconds+=e.seconds??0,this}format(){const e=this.hour.toString().padStart(2,"0")||"00",n=this.minutes.toString().padStart(2,"0")||"00",i=this.seconds.toString().padStart(2,"0");return this.seconds!=0?`${e}:${n}:${i}`:`${e}:${n}`}}class gt{constructor(e,n,i){this.day=e,this.month=n,this.year=i}static today(){return this.fromDate(new Date)}static fromIyyyyMMdd(e){if(e.length!=8)throw new Error("Unable to parse date, format not correct (yyyyMMdd): "+e);const n=parseInt(e.substring(0,4)),i=parseInt(e.substring(4,6)),s=parseInt(e.substring(6,8));return new gt(s,i,n)}toIyyyyMMdd(e="",n=0){return`${this.year.toString().padStart(4,"0")}${e}${(this.month+n).toString().padStart(2,"0")}${e}${this.day.toString().padStart(2,"0")}`}static fromDate(e){const n=e.getFullYear(),i=e.getMonth(),s=e.getDate();return new gt(s,i,n)}toDate(){return new Date(this.year,this.month,this.day)}format(){return Ym(this.toDate())}getDayString(e){const n=this.toDate(),i=Vs[n.getDay()].toUpperCase();return e?i.slice(0,e):i}formatAndPreappendDay(e){const n=this.toDate(),i=Vs[n.getDay()].toUpperCase();return(e?i.slice(0,e):i)+" "+Ym(n)}equals(e){return this.day==e.day&&this.month==e.month&&this.year==e.year}getYear(){return this.year}getMonth(){return this.month}getDay(){return this.day}}var Wm=(t=>(t[t.ABSENT_AND_PRESENT=0]="ABSENT_AND_PRESENT",t[t.ONLY_PRESENT=1]="ONLY_PRESENT",t))(Wm||{}),Vd=(t=>(t[t.WHOLE=0]="WHOLE",t[t.HALF=1]="HALF",t[t.NOTHING=2]="NOTHING",t))(Vd||{}),Ot=(t=>(t[t.NONE=0]="NONE",t[t.PRESENT=1]="PRESENT",t[t.ABSENT=2]="ABSENT",t[t.UNJUSTIFIED_ABSENCE=3]="UNJUSTIFIED_ABSENCE",t[t.TRIAL=4]="TRIAL",t))(Ot||{});const xle={unset:"Lezioni di Recupero da Programmare",pending:"Lezioni di Recupero Programmate",done:"Lezioni di Recupero Completate"};function J_(t){"@babel/helpers - typeof";return J_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J_(t)}var Sle=/^\s+/,kle=/\s+$/;function rt(t,e){if(t=t||"",e=e||{},t instanceof rt)return t;if(!(this instanceof rt))return new rt(t,e);var n=Tle(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}rt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,s,r,a,o;return n=e.r/255,i=e.g/255,s=e.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?o=s/12.92:o=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(e){return this._a=e4(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=cO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=cO(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+s+"%)":"hsva("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=uO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=uO(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+s+"%)":"hsla("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return dO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Ile(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zn(this._r,255)*100)+"%",g:Math.round(zn(this._g,255)*100)+"%",b:Math.round(zn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%)":"rgba("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:$le[dO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+hO(this._r,this._g,this._b,this._a),i=n,s=this._gradientType?"GradientType = 1, ":"";if(e){var r=rt(e);i="#"+hO(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,r=!n&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return r?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return rt(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Ole,arguments)},brighten:function(){return this._applyModification(Mle,arguments)},darken:function(){return this._applyModification(Vle,arguments)},desaturate:function(){return this._applyModification(Dle,arguments)},saturate:function(){return this._applyModification(Ale,arguments)},greyscale:function(){return this._applyModification(Rle,arguments)},spin:function(){return this._applyModification(Lle,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Ble,arguments)},complement:function(){return this._applyCombination(Nle,arguments)},monochromatic:function(){return this._applyCombination(jle,arguments)},splitcomplement:function(){return this._applyCombination(Fle,arguments)},triad:function(){return this._applyCombination(fO,[3])},tetrad:function(){return this._applyCombination(fO,[4])}};rt.fromRatio=function(t,e){if(J_(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=Of(t[i]));t=n}return rt(t,e)};function Tle(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,r=null,a=!1,o=!1;return typeof t=="string"&&(t=Wle(t)),J_(t)=="object"&&(ao(t.r)&&ao(t.g)&&ao(t.b)?(e=Ple(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ao(t.h)&&ao(t.s)&&ao(t.v)?(i=Of(t.s),s=Of(t.v),e=Ele(t.h,i,s),a=!0,o="hsv"):ao(t.h)&&ao(t.s)&&ao(t.l)&&(i=Of(t.s),r=Of(t.l),e=Cle(t.h,i,r),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=e4(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Ple(t,e,n){return{r:zn(t,255)*255,g:zn(e,255)*255,b:zn(n,255)*255}}function uO(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r,a,o=(i+s)/2;if(i==s)r=a=0;else{var l=i-s;switch(a=o>.5?l/(2-i-s):l/(i+s),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,l:o}}function Cle(t,e,n){var i,s,r;t=zn(t,360),e=zn(e,100),n=zn(n,100);function a(u,d,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(d-u)*6*c:c<1/2?d:c<2/3?u+(d-u)*(2/3-c)*6:u}if(e===0)i=s=r=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=a(l,o,t+1/3),s=a(l,o,t),r=a(l,o,t-1/3)}return{r:i*255,g:s*255,b:r*255}}function cO(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r,a,o=i,l=i-s;if(a=i===0?0:l/i,i==s)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,v:o}}function Ele(t,e,n){t=zn(t,360)*6,e=zn(e,100),n=zn(n,100);var i=Math.floor(t),s=t-i,r=n*(1-e),a=n*(1-s*e),o=n*(1-(1-s)*e),l=i%6,u=[n,a,r,r,o,n][l],d=[o,n,n,a,r,r][l],c=[r,r,o,n,n,a][l];return{r:u*255,g:d*255,b:c*255}}function dO(t,e,n,i){var s=[Kr(Math.round(t).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(n).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Ile(t,e,n,i,s){var r=[Kr(Math.round(t).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(n).toString(16)),Kr(t4(i))];return s&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function hO(t,e,n,i){var s=[Kr(t4(i)),Kr(Math.round(t).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(n).toString(16))];return s.join("")}rt.equals=function(t,e){return!t||!e?!1:rt(t).toRgbString()==rt(e).toRgbString()};rt.random=function(){return rt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Dle(t,e){e=e===0?0:e||10;var n=rt(t).toHsl();return n.s-=e/100,n.s=rw(n.s),rt(n)}function Ale(t,e){e=e===0?0:e||10;var n=rt(t).toHsl();return n.s+=e/100,n.s=rw(n.s),rt(n)}function Rle(t){return rt(t).desaturate(100)}function Ole(t,e){e=e===0?0:e||10;var n=rt(t).toHsl();return n.l+=e/100,n.l=rw(n.l),rt(n)}function Mle(t,e){e=e===0?0:e||10;var n=rt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),rt(n)}function Vle(t,e){e=e===0?0:e||10;var n=rt(t).toHsl();return n.l-=e/100,n.l=rw(n.l),rt(n)}function Lle(t,e){var n=rt(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,rt(n)}function Nle(t){var e=rt(t).toHsl();return e.h=(e.h+180)%360,rt(e)}function fO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=rt(t).toHsl(),i=[rt(t)],s=360/e,r=1;r<e;r++)i.push(rt({h:(n.h+r*s)%360,s:n.s,l:n.l}));return i}function Fle(t){var e=rt(t).toHsl(),n=e.h;return[rt(t),rt({h:(n+72)%360,s:e.s,l:e.l}),rt({h:(n+216)%360,s:e.s,l:e.l})]}function Ble(t,e,n){e=e||6,n=n||30;var i=rt(t).toHsl(),s=360/n,r=[rt(t)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(rt(i));return r}function jle(t,e){e=e||6;for(var n=rt(t).toHsv(),i=n.h,s=n.s,r=n.v,a=[],o=1/e;e--;)a.push(rt({h:i,s,v:r})),r=(r+o)%1;return a}rt.mix=function(t,e,n){n=n===0?0:n||50;var i=rt(t).toRgb(),s=rt(e).toRgb(),r=n/100,a={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return rt(a)};rt.readability=function(t,e){var n=rt(t),i=rt(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};rt.isReadable=function(t,e,n){var i=rt.readability(t,e),s,r;switch(r=!1,s=Yle(n),s.level+s.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7;break}return r};rt.mostReadable=function(t,e,n){var i=null,s=0,r,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<e.length;u++)r=rt.readability(t,e[u]),r>s&&(s=r,i=rt(e[u]));return rt.isReadable(t,i,{level:o,size:l})||!a?i:(n.includeFallbackColors=!1,rt.mostReadable(t,["#fff","#000"],n))};var r1=rt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$le=rt.hexNames=Ule(r1);function Ule(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function e4(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function zn(t,e){Hle(t)&&(t="100%");var n=zle(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function rw(t){return Math.min(1,Math.max(0,t))}function rr(t){return parseInt(t,16)}function Hle(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function zle(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Kr(t){return t.length==1?"0"+t:""+t}function Of(t){return t<=1&&(t=t*100+"%"),t}function t4(t){return Math.round(parseFloat(t)*255).toString(16)}function mO(t){return rr(t)/255}var $r=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ao(t){return!!$r.CSS_UNIT.exec(t)}function Wle(t){t=t.replace(Sle,"").replace(kle,"").toLowerCase();var e=!1;if(r1[t])t=r1[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$r.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$r.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$r.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$r.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$r.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$r.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$r.hex8.exec(t))?{r:rr(n[1]),g:rr(n[2]),b:rr(n[3]),a:mO(n[4]),format:e?"name":"hex8"}:(n=$r.hex6.exec(t))?{r:rr(n[1]),g:rr(n[2]),b:rr(n[3]),format:e?"name":"hex"}:(n=$r.hex4.exec(t))?{r:rr(n[1]+""+n[1]),g:rr(n[2]+""+n[2]),b:rr(n[3]+""+n[3]),a:mO(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$r.hex3.exec(t))?{r:rr(n[1]+""+n[1]),g:rr(n[2]+""+n[2]),b:rr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Yle(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const Ln=t=>t,n4=function(t){return new Dt(t.seconds,t.nanoseconds).toDate()},gO=function(t,e){const n=t.getDay();if(e==n)return t;const i=(e-n+7)%7||7,s=new Date(t);return s.setDate(t.getDate()+i),s},Gle=function(t,e){const n=t.getDay();if(e==n)return t;const i=(e-n+7)%7||7,s=new Date(t);return s.setDate(t.getDate()-i),s},qle=function(t){return gt.fromIyyyyMMdd(t).toDate().getDay()},Xle=new Intl.DateTimeFormat("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Europe/Rome"}),Ym=function(t){if(!t)return"";const e=new Date(t);return Xle.format(e)},Kle=new Intl.DateTimeFormat("it-IT",{timeStyle:"medium",dateStyle:"short",timeZone:"Europe/Rome"}),i4=function(t){if(!t)return"";const e=new Date(t);return Kle.format(e)},Qle=function(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((s,r)=>s===i[r])},Jle=function(t,e=30,n=80){let i=0;for(let r=0;r<t.length;r++)i=t.charCodeAt(r)+((i<<5)-i);return"hsl("+i%360+", "+e+"%, "+n+"%)"},s4=function(...t){const e={};return t.forEach(n=>{if(n&&n.color){const i=n.id.toLowerCase(),s=rt(n.color),r=s.lighten(20).toHexString(),a=s.isDark()?"#FFFFFF":"#000000",o=s.darken(15).toHexString(),l=s.darken(25).toHexString(),u=s.isDark()?"#FFFFFF":"#000000";e[i]={colorName:i,lightColors:{main:s.toHexString(),container:r,onContainer:a},darkColors:{main:o,container:l,onContainer:u}}}}),e},pO="1.1.0",Zle="https://raw.githubusercontent.com/Matteo099/teachers-agenda/main/package.json";function vO(t){const e=/^(\d+)\.(\d+)\.(\d+)(?:-([0-9A-Za-z-.]+))?$/,n=t.match(e);if(!n)throw new Error(`Invalid semantic version: ${t}`);return{major:parseInt(n[1],10),minor:parseInt(n[2],10),patch:parseInt(n[3],10),preRelease:n[4]||null}}function eue(t,e){const n=vO(t),i=vO(e);return i.major>n.major?!0:i.major<n.major?!1:i.minor>n.minor?!0:i.minor<n.minor?!1:i.patch>n.patch?!0:i.patch<n.patch||n.preRelease===null&&i.preRelease!==null?!1:n.preRelease!==null&&i.preRelease===null?!0:n.preRelease!==null&&i.preRelease!==null?n.preRelease<i.preRelease:!1}async function tue(){try{const t=await fetch(Zle);if(!t.ok)return console.error("Failed to fetch package.json:",t.statusText),!1;const n=(await t.json()).version;if(eue(pO,n))return console.log(`New version detected: ${n} (local: ${pO})`),!0}catch(t){console.error("Error checking for app version:",t)}return!1}const nue={class:"d-flex justify-center w-100"},iue={key:1,class:"text-h7"},sue={class:"mx-auto text-center"},rue={key:0},aue={key:1,class:"text-h7"},oue={class:"text-caption mt-1"},lue=St({__name:"App",setup(t){const{mobile:e}=wr({mobileBreakpoint:"md"}),n=G(1),i=O(()=>{switch(n.value){case 0:return"blue-grey";case 1:return"teal";case 2:return"brown";case 3:return"indigo";default:return"blue-grey"}}),s=[],r=ij(),a=Gg(),o=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,l=G(!1),u="1.1.0",d=O(()=>m.name=="login"),c=G(!1),h={text:`Versione ${u}`,scrollStrategy:"close",location:"bottom",scrim:!0,persistent:!1,openOnClick:!0,openOnHover:!1},f=pN(),p=Ac(),m=Wg(),v=O(()=>{var I,E;return((E=(I=f.value)==null?void 0:I.displayName)==null?void 0:E.split(" ").map(T=>T.charAt(0)).join(""))??"TA"}),_=O(()=>{var I;return((I=f.value)==null?void 0:I.photoURL)??o}),b=O(()=>Jle(v.value));be(c,()=>{c.value&&(s.push("Scarica la nuova versione dell'applicazione"),Ze.info("Scarica la nuova versione dell'applicazione",{autoClose:!1,closeOnClick:!0,onClick:()=>{window.location.reload()}}))}),be(f,async(I,E)=>{if(!I&&m.meta.requiresAuth&&m.name!="login")return p.push({name:"login"});if(I){if(typeof m.query.redirect=="string")return p.push(m.query.redirect);if(m.name=="login")return p.push("/")}});function x(){const I=Ks.getItem("theme")??"myCustomLightTheme";a.global.name.value=I=="myCustomDarkTheme"?"myCustomLightTheme":"myCustomDarkTheme",Ks.setItem("theme",a.global.name.value)}async function k(){c.value=await tue()}return kt(async()=>{a.global.name.value=Ks.getItem("theme")??"myCustomLightTheme",k()}),(I,E)=>{const T=j("v-img"),S=j("v-list-item-title"),w=j("v-list-item-subtitle"),C=j("v-list-item"),P=j("v-divider"),D=j("v-icon"),A=j("v-list"),F=j("v-footer"),L=j("v-navigation-drawer"),H=j("v-app-bar-nav-icon"),X=j("v-app-bar-title"),z=j("v-btn"),K=j("v-badge"),Y=j("v-menu"),te=j("v-avatar"),Q=j("v-fab-transition"),ee=j("v-card-text"),ue=j("v-card"),re=j("v-app-bar"),se=j("v-slide-x-transition"),$=j("router-view"),q=j("v-container"),ae=j("v-main"),_e=j("v-bottom-navigation"),ge=j("v-layout"),B=j("v-app"),N=tr("tooltip");return xe(),Oe(B,null,{default:M(()=>[!d.value&&!oe(e)?(xe(),Oe(L,{key:0,permanent:"",modelValue:l.value,"onUpdate:modelValue":E[0]||(E[0]=W=>l.value=W)},{append:M(()=>[g(F,{height:"45",class:"px-0"},{default:M(()=>[Ve("div",nue,[g(D,{start:""},{default:M(()=>E[9]||(E[9]=[Ce("mdi-alpha-v-circle")])),_:1}),Ve("span",null,ct(oe(u)),1)])]),_:1})]),default:M(()=>[g(C,{height:"64"},{prepend:M(()=>[g(T,{contain:"",src:oe(o),height:"45",width:"45"},null,8,["src"])]),default:M(()=>[g(S,{class:"text-h6 ml-3"},{default:M(()=>E[4]||(E[4]=[Ce("Agenda")])),_:1}),g(w,{class:"text-h6 ml-3 pb-1"},{default:M(()=>E[5]||(E[5]=[Ce("Del Maestro")])),_:1})]),_:1}),g(P),g(A,{dense:"",nav:""},{default:M(()=>[g(C,{to:"/",color:"lime-darken-4"},{prepend:M(()=>[g(D,{icon:"mdi-home"})]),default:M(()=>[g(S,null,{default:M(()=>E[6]||(E[6]=[Ce("Home")])),_:1})]),_:1}),g(C,{to:"/calendar",color:"lime-darken-4"},{prepend:M(()=>[g(D,{icon:"mdi-calendar"})]),default:M(()=>[g(S,null,{default:M(()=>E[7]||(E[7]=[Ce("Calendario")])),_:1})]),_:1}),g(C,{to:"/statistics",color:"lime-darken-4"},{prepend:M(()=>[g(D,{icon:"mdi-chart-bar"})]),default:M(()=>[g(S,null,{default:M(()=>E[8]||(E[8]=[Ce("Statistiche")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):Zt("",!0),g(re,{color:"grey-darken-4"},{default:M(()=>[!d.value&&!oe(e)?(xe(),Oe(H,{key:0,onClick:E[1]||(E[1]=W=>l.value=!l.value)})):Zt("",!0),g(X,{style:{"margin-left":"-10px"}}),oe(e)?In((xe(),Oe(z,{key:1,icon:"",class:"mr-2"},{default:M(()=>[g(D,{right:""},{default:M(()=>E[10]||(E[10]=[Ce("mdi-information")])),_:1})]),_:1})),[[N,h]]):Zt("",!0),g(z,{onClick:x,icon:"",class:"mr-2"},{default:M(()=>[g(D,{right:""},{default:M(()=>E[11]||(E[11]=[Ce("mdi-theme-light-dark")])),_:1})]),_:1}),g(Y,{transition:"slide-y-transition"},{activator:M(({props:W})=>[g(z,Z({icon:"",class:"mr-2 text-none"},W),{default:M(()=>[s.length>0?(xe(),Oe(K,{key:0,color:"error",content:s.length},{default:M(()=>[g(D,null,{default:M(()=>E[12]||(E[12]=[Ce("mdi-bell")])),_:1})]),_:1},8,["content"])):(xe(),Oe(D,{key:1},{default:M(()=>E[13]||(E[13]=[Ce("mdi-bell")])),_:1}))]),_:2},1040)]),default:M(()=>[g(A,null,{default:M(()=>[(xe(),Tt(Pe,null,Ii(s,(W,ce)=>g(C,{key:ce},{default:M(()=>[g(w,null,{default:M(()=>[Ce(ct(W),1)]),_:2},1024)]),_:2},1024)),64)),s.length==0?(xe(),Oe(C,{key:0},{default:M(()=>[g(w,null,{default:M(()=>E[14]||(E[14]=[Ce("Nessuna notifica")])),_:1})]),_:1})):Zt("",!0)]),_:1})]),_:1}),g(Y,{"min-width":"200px",class:"mr-2",rounded:""},{activator:M(({props:W})=>[g(z,Z({class:"mr-2",icon:""},W),{default:M(()=>[g(te,{color:b.value},{default:M(()=>[_.value?(xe(),Oe(T,{key:0,src:_.value},null,8,["src"])):(xe(),Tt("span",iue,ct(v.value),1))]),_:1},8,["color"])]),_:2},1040)]),default:M(()=>[g(ue,null,{default:M(()=>[g(ee,null,{default:M(()=>[Ve("div",sue,[oe(f)?(xe(),Tt("div",rue,[g(te,{color:b.value},{default:M(()=>[_.value?(xe(),Oe(T,{key:0,src:_.value},null,8,["src"])):(xe(),Tt("span",aue,ct(v.value),1))]),_:1},8,["color"]),Ve("h3",null,ct(oe(f).displayName),1),Ve("p",oue,ct(oe(f).email),1),g(P,{class:"my-3"}),g(z,{variant:"text",rounded:"",to:"/settings"},{default:M(()=>[g(D,{right:"",class:"mr-2"},{default:M(()=>E[15]||(E[15]=[Ce("mdi-cog")])),_:1}),E[16]||(E[16]=Ce(" Impostazioni "))]),_:1}),E[19]||(E[19]=Ve("br",null,null,-1)),g(z,{variant:"text",rounded:"",to:"/debugger"},{default:M(()=>[g(D,{right:"",class:"mr-2"},{default:M(()=>E[17]||(E[17]=[Ce("mdi-bug")])),_:1}),E[18]||(E[18]=Ce(" Debugger "))]),_:1}),g(P,{class:"my-3"})])):Zt("",!0),g(Q,null,{default:M(()=>[oe(f)?(xe(),Oe(z,{key:1,class:"mx-5",variant:"text",onClick:E[2]||(E[2]=W=>oe(T7)(oe(r)))},{default:M(()=>[E[23]||(E[23]=Ce(" Esci ")),g(D,{right:"",class:"ml-2"},{default:M(()=>E[22]||(E[22]=[Ce("mdi-logout")])),_:1})]),_:1})):(xe(),Oe(z,{key:0,class:"mx-5",variant:"outlined",to:"/login"},{default:M(()=>[E[21]||(E[21]=Ce(" Accedi ")),g(D,{right:"",class:"ml-2"},{default:M(()=>E[20]||(E[20]=[Ce("mdi-login")])),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),g(ae,null,{default:M(()=>[g(q,{fluid:""},{default:M(()=>[g($,null,{default:M(({Component:W,route:ce})=>[g(se,{"leave-absolute":""},{default:M(()=>[(xe(),Oe(_L(W)))]),_:2},1024)]),_:1})]),_:1})]),_:1}),!d.value&&oe(e)?(xe(),Oe(ge,{key:1,class:"overflow-visible position-relative",style:{height:"56px"}},{default:M(()=>[g(_e,{class:"position-fixed bottom-0",modelValue:n.value,"onUpdate:modelValue":E[3]||(E[3]=W=>n.value=W),"bg-color":i.value,mode:"shift"},{default:M(()=>[g(z,{to:"/calendar"},{default:M(()=>[g(D,null,{default:M(()=>E[24]||(E[24]=[Ce("mdi-calendar")])),_:1}),E[25]||(E[25]=Ve("span",null,"Calendario",-1))]),_:1}),g(z,{to:"/"},{default:M(()=>[g(D,null,{default:M(()=>E[26]||(E[26]=[Ce("mdi-home")])),_:1}),E[27]||(E[27]=Ve("span",null,"Home",-1))]),_:1}),g(z,{to:"/statistics"},{default:M(()=>[g(D,null,{default:M(()=>E[28]||(E[28]=[Ce("mdi-chart-bar")])),_:1}),E[29]||(E[29]=Ve("span",null,"Statistiche",-1))]),_:1})]),_:1},8,["modelValue","bg-color"])]),_:1})):Zt("",!0)]),_:1})}}}),uue={apiKey:"AIzaSyDhEJoQLDHojsr_VEtB1O9IErI__pShKa8",authDomain:"teachers-agenda.firebaseapp.com",projectId:"teachers-agenda",storageBucket:"teachers-agenda.appspot.com",messagingSenderId:"56057008308",appId:"1:56057008308:web:ca3a75547d1b64ba3087e1",measurementId:"G-KWTDHCXRJ4"},r4="@firebase/installations",UP="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1e4,o4=`w:${UP}`,l4="FIS_v2",cue="https://firebaseinstallations.googleapis.com/v1",due=60*60*1e3,hue="installations",fue="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mue={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ac=new Kl(hue,fue,mue);function u4(t){return t instanceof Nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4({projectId:t}){return`${cue}/projects/${t}/installations`}function d4(t){return{token:t.token,requestStatus:2,expiresIn:pue(t.expiresIn),creationTime:Date.now()}}async function h4(t,e){const i=(await e.json()).error;return ac.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function f4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gue(t,{refreshToken:e}){const n=f4(t);return n.append("Authorization",vue(e)),n}async function m4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pue(t){return Number(t.replace("s","000"))}function vue(t){return`${l4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ue({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=c4(t),s=f4(t),r=e.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:l4,appId:t.appId,sdkVersion:o4},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await m4(()=>fetch(i,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:d4(u.authToken)}}else throw await h4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yue(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue=/^[cdef][\w-]{21}$/,a1="";function wue(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xue(t);return bue.test(n)?n:a1}catch{return a1}}function xue(t){return yue(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;function v4(t,e){const n=aw(t);_4(n,e),Sue(n,e)}function _4(t,e){const n=p4.get(t);if(n)for(const i of n)i(e)}function Sue(t,e){const n=kue();n&&n.postMessage({key:t,fid:e}),Tue()}let Vu=null;function kue(){return!Vu&&"BroadcastChannel"in self&&(Vu=new BroadcastChannel("[Firebase] FID Change"),Vu.onmessage=t=>{_4(t.data.key,t.data.fid)}),Vu}function Tue(){p4.size===0&&Vu&&(Vu.close(),Vu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue="firebase-installations-database",Cue=1,oc="firebase-installations-store";let X0=null;function HP(){return X0||(X0=S2(Pue,Cue,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oc)}}})),X0}async function Z_(t,e){const n=aw(t),s=(await HP()).transaction(oc,"readwrite"),r=s.objectStore(oc),a=await r.get(n);return await r.put(e,n),await s.done,(!a||a.fid!==e.fid)&&v4(t,e.fid),e}async function y4(t){const e=aw(t),i=(await HP()).transaction(oc,"readwrite");await i.objectStore(oc).delete(e),await i.done}async function ow(t,e){const n=aw(t),s=(await HP()).transaction(oc,"readwrite"),r=s.objectStore(oc),a=await r.get(n),o=e(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&v4(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t){let e;const n=await ow(t.appConfig,i=>{const s=Eue(i),r=Iue(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===a1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Eue(t){const e=t||{fid:wue(),registrationStatus:0};return b4(e)}function Iue(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ac.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Due(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Aue(t)}:{installationEntry:e}}async function Due(t,e){try{const n=await _ue(t,e);return Z_(t.appConfig,n)}catch(n){throw u4(n)&&n.customData.serverCode===409?await y4(t.appConfig):await Z_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Aue(t){let e=await _O(t.appConfig);for(;e.registrationStatus===1;)await g4(100),e=await _O(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await zP(t);return i||n}return e}function _O(t){return ow(t,e=>{if(!e)throw ac.create("installation-not-found");return b4(e)})}function b4(t){return Rue(t)?{fid:t.fid,registrationStatus:0}:t}function Rue(t){return t.registrationStatus===1&&t.registrationTime+a4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oue({appConfig:t,heartbeatServiceProvider:e},n){const i=Mue(t,n),s=gue(t,n),r=e.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:o4,appId:t.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await m4(()=>fetch(i,o));if(l.ok){const u=await l.json();return d4(u)}else throw await h4("Generate Auth Token",l)}function Mue(t,{fid:e}){return`${c4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t,e=!1){let n;const i=await ow(t.appConfig,r=>{if(!w4(r))throw ac.create("not-registered");const a=r.authToken;if(!e&&Nue(a))return r;if(a.requestStatus===1)return n=Vue(t,e),r;{if(!navigator.onLine)throw ac.create("app-offline");const o=Bue(r);return n=Lue(t,o),o}});return n?await n:i.authToken}async function Vue(t,e){let n=await yO(t.appConfig);for(;n.authToken.requestStatus===1;)await g4(100),n=await yO(t.appConfig);const i=n.authToken;return i.requestStatus===0?WP(t,e):i}function yO(t){return ow(t,e=>{if(!w4(e))throw ac.create("not-registered");const n=e.authToken;return jue(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Lue(t,e){try{const n=await Oue(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Z_(t.appConfig,i),n}catch(n){if(u4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await y4(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Z_(t.appConfig,i)}throw n}}function w4(t){return t!==void 0&&t.registrationStatus===2}function Nue(t){return t.requestStatus===2&&!Fue(t)}function Fue(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+due}function Bue(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jue(t){return t.requestStatus===1&&t.requestTime+a4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ue(t){const e=t,{installationEntry:n,registrationPromise:i}=await zP(e);return i?i.catch(console.error):WP(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uue(t,e=!1){const n=t;return await Hue(n),(await WP(n,e)).token}async function Hue(t){const{registrationPromise:e}=await zP(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zue(t){if(!t||!t.options)throw K0("App Configuration");if(!t.name)throw K0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw K0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function K0(t){return ac.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="installations",Wue="installations-internal",Yue=t=>{const e=t.getProvider("app").getImmediate(),n=zue(e),i=Th(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Gue=t=>{const e=t.getProvider("app").getImmediate(),n=Th(e,x4).getImmediate();return{getId:()=>$ue(n),getToken:s=>Uue(n,s)}};function que(){Zs(new js(x4,Yue,"PUBLIC")),Zs(new js(Wue,Gue,"PRIVATE"))}que();is(r4,UP);is(r4,UP,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="analytics",Xue="firebase_id",Kue="origin",Que=60*1e3,Jue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",YP="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pr=new Kl("analytics","Analytics",Zue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(t){if(!t.startsWith(YP)){const e=pr.create("invalid-gtag-resource",{gtagURL:t});return Js.warn(e.message),""}return t}function S4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nce(t,e){const n=tce("firebase-js-sdk-policy",{createScriptURL:ece}),i=document.createElement("script"),s=`${YP}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function ice(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sce(t,e,n,i,s,r){const a=i[s];try{if(a)await e[a];else{const l=(await S4(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(o){Js.error(o)}t("config",s,r)}async function rce(t,e,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await S4(n);for(const l of a){const u=o.find(c=>c.measurementId===l),d=u&&e[u.appId];if(d)r.push(d);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",i,s||{})}catch(r){Js.error(r)}}function ace(t,e,n,i){async function s(r,...a){try{if(r==="event"){const[o,l]=a;await rce(t,e,n,o,l)}else if(r==="config"){const[o,l]=a;await sce(t,e,n,i,o,l)}else if(r==="consent"){const[o,l]=a;t("consent",o,l)}else if(r==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(r==="set"){const[o]=a;t("set",o)}else t(r,...a)}catch(o){Js.error(o)}}return s}function oce(t,e,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=ace(r,t,e,n),{gtagCore:r,wrappedGtag:window[s]}}function lce(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(YP)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=30,cce=1e3;class dce{constructor(e={},n=cce){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const k4=new dce;function hce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fce(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:hce(i)},r=Jue.replace("{app-id}",n),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function mce(t,e=k4,n){const{appId:i,apiKey:s,measurementId:r}=t.options;if(!i)throw pr.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw pr.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new vce;return setTimeout(async()=>{o.abort()},Que),T4({appId:i,apiKey:s,measurementId:r},a,o,e)}async function T4(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=k4){var r;const{appId:a,measurementId:o}=t;try{await gce(i,e)}catch(l){if(o)return Js.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await fce(t);return s.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!pce(u)){if(s.deleteThrottleMetadata(a),o)return Js.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const d=Number((r=u==null?void 0:u.customData)===null||r===void 0?void 0:r.httpStatus)===503?RI(n,s.intervalMillis,uce):RI(n,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,c),Js.debug(`Calling attemptFetch again in ${d} millis`),T4(t,c,i,s)}}function gce(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(r),i(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pce(t){if(!(t instanceof Nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _ce(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const r=await e,a=Object.assign(Object.assign({},i),{send_to:r});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yce(){if(Gk())try{await y2()}catch(t){return Js.warn(pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Js.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bce(t,e,n,i,s,r,a){var o;const l=mce(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Js.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Js.error(f)),e.push(l);const u=yce().then(f=>{if(f)return i.getId()}),[d,c]=await Promise.all([l,u]);lce(r)||nce(r,d.measurementId),s("js",new Date);const h=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return h[Kue]="firebase",h.update=!0,c!=null&&(h[Xue]=c),s("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e){this.app=e}_delete(){return delete im[this.app.options.appId],Promise.resolve()}}let im={},bO=[];const wO={};let Q0="dataLayer",xce="gtag",xO,P4,SO=!1;function Sce(){const t=[];if(v2()&&t.push("This is a browser extension environment."),Z8()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=pr.create("invalid-analytics-context",{errorInfo:e});Js.warn(n.message)}}function kce(t,e,n){Sce();const i=t.options.appId;if(!i)throw pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Js.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pr.create("no-api-key");if(im[i]!=null)throw pr.create("already-exists",{id:i});if(!SO){ice(Q0);const{wrappedGtag:r,gtagCore:a}=oce(im,bO,wO,Q0,xce);P4=r,xO=a,SO=!0}return im[i]=bce(t,bO,wO,e,xO,Q0,n),new wce(t)}function Tce(t,e={}){const n=Th(t,o1);if(n.isInitialized()){const s=n.getImmediate();if(bm(e,n.getOptions()))return s;throw pr.create("already-initialized")}return n.initialize({options:e})}function Pce(t,e,n,i){t=ri(t),_ce(P4,im[t.app.options.appId],e,n,i).catch(s=>Js.error(s))}const kO="@firebase/analytics",TO="0.10.10";function Cce(){Zs(new js(o1,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return kce(i,s,n)},"PUBLIC")),Zs(new js("analytics-internal",t,"PRIVATE")),is(kO,TO),is(kO,TO,"esm2017");function t(e){try{const n=e.getProvider(o1).getImmediate();return{logEvent:(i,s,r)=>Pce(n,i,s,r)}}catch(n){throw pr.create("interop-component-reg-failed",{reason:n})}}}Cce();function Ece(t){const e=t||k2(uue),n=OG(e),i=FB(e);return Tce(e),"true".toLowerCase()==="true"&&location.hostname==="localhost"&&(G2(n,"http://localhost:9099"),NB(i,"localhost",8080)),{firebaseApp:e,auth:n,firestore:i}}function Ice(){const t=hY()[0];return Ece(t)}const Dce=new fo,Ace=ie({...Be(),...Qj({fullHeight:!0}),...Lt()},"VApp"),Rce=ve()({name:"VApp",props:Ace(),setup(t,e){let{slots:n}=e;const i=Xt(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=Zj(t),{rtlClasses:l}=Si();return we(()=>{var u;return g("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[g("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),_t=ie({tag:{type:String,default:"div"}},"tag"),C4=ie({text:String,...Be(),..._t()},"VToolbarTitle"),GP=ve()({name:"VToolbarTitle",props:C4(),setup(t,e){let{slots:n}=e;return we(()=>{const i=!!(n.default||n.text||t.text);return g(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&g("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),Oce=ie({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function xr(t,e,n){return ve()({name:t,props:Oce({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:d,offsetHeight:c}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${d}px`,o.style.height=`${c}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:u,left:d,width:c,height:h}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=d||"",o.style.width=c||"",o.style.height=h||""}}};return()=>{const o=i.group?zk:Al;return Di(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function E4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ve()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?zk:Al;return()=>Di(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function I4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=Fs(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const Mce=ie({target:[Object,Array]},"v-dialog-transition"),lw=ve()({name:"VDialogTransition",props:Mce(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var h;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),s.style.visibility="";const{x:a,y:o,sx:l,sy:u,speed:d}=CO(t.target,s),c=Ou(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*d,easing:Yne});(h=PO(s))==null||h.forEach(f=>{Ou(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:Lm})}),c.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var h;await new Promise(f=>requestAnimationFrame(f));const{x:a,y:o,sx:l,sy:u,speed:d}=CO(t.target,s);Ou(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0}],{duration:125*d,easing:Gne}).finished.then(()=>r()),(h=PO(s))==null||h.forEach(f=>{Ou(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:Lm})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?g(Al,Z({name:"dialog-transition"},i,{css:!1}),n):g(Al,{name:"dialog-transition"},n)}});function PO(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function CO(t,e){const n=Tj(t),i=xP(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(_=>parseFloat(_)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let u=n.top+n.height/2;a==="top"||o==="top"?u-=n.height/2:(a==="bottom"||o==="bottom")&&(u+=n.height/2);const d=n.width/i.width,c=n.height/i.height,h=Math.max(1,d,c),f=d/h||0,p=c/h||0,m=i.width*i.height/(window.innerWidth*window.innerHeight),v=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:l-(s+i.left),y:u-(r+i.top),sx:f,sy:p,speed:v}}const Vce=xr("fab-transition","center center","out-in"),Lce=xr("dialog-bottom-transition"),Nce=xr("dialog-top-transition"),Gm=xr("fade-transition"),qP=xr("scale-transition"),Fce=xr("scroll-x-transition"),Bce=xr("scroll-x-reverse-transition"),jce=xr("scroll-y-transition"),$ce=xr("scroll-y-reverse-transition"),Uce=xr("slide-x-transition"),Hce=xr("slide-x-reverse-transition"),XP=xr("slide-y-transition"),zce=xr("slide-y-reverse-transition"),uw=E4("expand-transition",I4()),KP=E4("expand-x-transition",I4("",!0)),Wce=ie({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ut=ve(!1)({name:"VDefaultsProvider",props:Wce(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=ql(t);return Dn(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),hi=ie({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function fi(t){return{dimensionStyles:O(()=>{const n={},i=Le(t.height),s=Le(t.maxHeight),r=Le(t.maxWidth),a=Le(t.minHeight),o=Le(t.minWidth),l=Le(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function Yce(t){return{aspectStyles:O(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const D4=ie({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Be(),...hi()},"VResponsive"),l1=ve()({name:"VResponsive",props:D4(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=Yce(t),{dimensionStyles:s}=fi(t);return we(()=>{var r;return g("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[g("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&g("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function QP(t){return bP(()=>{const e=[],n={};if(t.value.background)if($S(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&Vne(t.value.background)){const i=Ar(t.value.background);if(i.a==null||i.a===1){const s=Lj(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&($S(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Ui(t,e){const n=O(()=>({text:Je(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=QP(n);return{textColorClasses:i,textColorStyles:s}}function rn(t,e){const n=O(()=>({background:Je(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=QP(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const Rn=ie({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{roundedClasses:O(()=>{const i=Je(t)?t.value:t.rounded,s=Je(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const va=ie({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Ts=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?zk:Al,...l}=typeof i=="object"?i:{};return Di(o,Z(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(u=>{let[d,c]=u;return c!==void 0})),a),n)};function Gce(t,e){if(!vP)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var c;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(c=t._observe)==null?void 0:c[e.instance.$.uid];if(!u)return;const d=o.some(h=>h.isIntersecting);s&&(!n.quiet||u.init)&&(!n.once||d||u.init)&&s(d,o,l),d&&n.once?A4(t,e):u.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function A4(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Kg={mounted:Gce,unmounted:A4},R4=ie({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...D4(),...Be(),...Rn(),...va()},"VImg"),Mo=ve()({name:"VImg",directives:{intersect:Kg},props:R4(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=rn(me(t,"color")),{roundedClasses:a}=qn(t),o=Gn("VImg"),l=Re(""),u=G(),d=Re(t.eager?"loading":"idle"),c=Re(),h=Re(),f=O(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),p=O(()=>f.value.aspect||c.value/h.value||0);be(()=>t.src,()=>{m(d.value!=="idle")}),be(p,(D,A)=>{!D&&A&&u.value&&k(u.value)}),wh(()=>m());function m(D){if(!(t.eager&&D)&&!(vP&&!D&&!t.eager)){if(d.value="loading",f.value.lazySrc){const A=new Image;A.src=f.value.lazySrc,k(A,null)}f.value.src&&vt(()=>{var A;n("loadstart",((A=u.value)==null?void 0:A.currentSrc)||f.value.src),setTimeout(()=>{var F;if(!o.isUnmounted)if((F=u.value)!=null&&F.complete){if(u.value.naturalWidth||_(),d.value==="error")return;p.value||k(u.value,null),d.value==="loading"&&v()}else p.value||k(u.value),b()})})}}function v(){var D;o.isUnmounted||(b(),k(u.value),d.value="loaded",n("load",((D=u.value)==null?void 0:D.currentSrc)||f.value.src))}function _(){var D;o.isUnmounted||(d.value="error",n("error",((D=u.value)==null?void 0:D.currentSrc)||f.value.src))}function b(){const D=u.value;D&&(l.value=D.currentSrc||D.src)}let x=-1;Oi(()=>{clearTimeout(x)});function k(D){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const F=()=>{if(clearTimeout(x),o.isUnmounted)return;const{naturalHeight:L,naturalWidth:H}=D;L||H?(c.value=H,h.value=L):!D.complete&&d.value==="loading"&&A!=null?x=window.setTimeout(F,A):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,h.value=1)};F()}const I=O(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),E=()=>{var F;if(!f.value.src||d.value==="idle")return null;const D=g("img",{class:["v-img__img",I.value],style:{objectPosition:t.position},src:f.value.src,srcset:f.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:u,onLoad:v,onError:_},null),A=(F=i.sources)==null?void 0:F.call(i);return g(Ts,{transition:t.transition,appear:!0},{default:()=>[In(A?g("picture",{class:"v-img__picture"},[A,D]):D,[[pa,d.value==="loaded"]])]})},T=()=>g(Ts,{transition:t.transition},{default:()=>[f.value.lazySrc&&d.value!=="loaded"&&g("img",{class:["v-img__img","v-img__img--preload",I.value],style:{objectPosition:t.position},src:f.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),S=()=>i.placeholder?g(Ts,{transition:t.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!i.error)&&g("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,w=()=>i.error?g(Ts,{transition:t.transition,appear:!0},{default:()=>[d.value==="error"&&g("div",{class:"v-img__error"},[i.error()])]}):null,C=()=>t.gradient?g("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,P=Re(!1);{const D=be(p,A=>{A&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.value=!0})}),D())})}return we(()=>{const D=l1.filterProps(t);return In(g(l1,Z({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!P.value},s.value,a.value,t.class],style:[{width:Le(t.width==="auto"?c.value:t.width)},r.value,t.style]},D,{aspectRatio:p.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>g(Pe,null,[g(E,null,null),g(T,null,null),g(C,null,null),g(S,null,null),g(w,null,null)]),default:i.default}),[[tr("intersect"),{handler:m,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:d,naturalWidth:c,naturalHeight:h}}}),nr=ie({border:[Boolean,Number,String]},"border");function Sr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{borderClasses:O(()=>{const i=Je(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const ki=ie({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Wi(t){return{elevationClasses:O(()=>{const n=Je(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const qce=[null,"prominent","default","comfortable","compact"],O4=ie({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>qce.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...nr(),...Be(),...ki(),...Rn(),..._t({tag:"header"}),...Lt()},"VToolbar"),u1=ve()({name:"VToolbar",props:O4(),setup(t,e){var f;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(me(t,"color")),{borderClasses:r}=Sr(t),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),{themeClasses:l}=Xt(t),{rtlClasses:u}=Si(),d=Re(!!(t.extended||(f=n.extension)!=null&&f.call(n))),c=O(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),h=O(()=>d.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Dn({VBtn:{variant:"text"}}),we(()=>{var _;const p=!!(t.title||n.title),m=!!(n.image||t.image),v=(_=n.extension)==null?void 0:_.call(n);return d.value=!!(t.extended||v),g(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,u.value,t.class],style:[s.value,t.style]},{default:()=>[m&&g("div",{key:"image",class:"v-toolbar__image"},[n.image?g(ut,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):g(Mo,{key:"image-img",cover:!0,src:t.image},null)]),g(ut,{defaults:{VTabs:{height:Le(c.value)}}},{default:()=>{var b,x,k;return[g("div",{class:"v-toolbar__content",style:{height:Le(c.value)}},[n.prepend&&g("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),p&&g(GP,{key:"title",text:t.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&g("div",{class:"v-toolbar__append"},[(k=n.append)==null?void 0:k.call(n)])])]}}),g(ut,{defaults:{VTabs:{height:Le(h.value)}}},{default:()=>[g(uw,null,{default:()=>[d.value&&g("div",{class:"v-toolbar__extension",style:{height:Le(h.value)}},[v])]})]})]})}),{contentHeight:c,extensionHeight:h}}}),Xce=ie({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Kce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=G(null),a=Re(0),o=Re(0),l=Re(0),u=Re(!1),d=Re(!1),c=O(()=>Number(t.scrollThreshold)),h=O(()=>$n((c.value-a.value)/c.value||0)),f=()=>{const p=r.value;if(!p||n&&!n.value)return;i=a.value,a.value="window"in p?p.pageYOffset:p.scrollTop;const m=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(s!==m){s=m;return}d.value=a.value<i,l.value=Math.abs(a.value-c.value)};return be(d,()=>{o.value=o.value||a.value}),be(u,()=>{o.value=0}),kt(()=>{be(()=>t.scrollTarget,p=>{var v;const m=p?document.querySelector(p):window;m&&m!==r.value&&((v=r.value)==null||v.removeEventListener("scroll",f),r.value=m,r.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Oi(()=>{var p;(p=r.value)==null||p.removeEventListener("scroll",f)}),n&&be(n,f,{immediate:!0}),{scrollThreshold:c,currentScroll:a,currentThreshold:l,isScrollActive:u,scrollRatio:h,isScrollingUp:d,savedScroll:o}}function Vc(){const t=Re(!1);return kt(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:O(()=>t.value?void 0:{transition:"none !important"}),isBooted:bh(t)}}const Qce=ie({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...O4(),...Oc(),...Xce(),height:{type:[Number,String],default:64}},"VAppBar"),Jce=ve()({name:"VAppBar",props:Qce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=G(),s=Ue(t,"modelValue"),r=O(()=>{var x;const b=new Set(((x=t.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),a=O(()=>{const b=r.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:u,scrollRatio:d}=Kce(t,{canScroll:a}),c=O(()=>r.value.hide||r.value.fullyHide),h=O(()=>t.collapse||r.value.collapse&&(r.value.inverted?d.value>0:d.value===0)),f=O(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),p=O(()=>r.value.fadeImage?r.value.inverted?1-d.value:d.value:void 0),m=O(()=>{var k,I;if(r.value.hide&&r.value.inverted)return 0;const b=((k=i.value)==null?void 0:k.contentHeight)??0,x=((I=i.value)==null?void 0:I.extensionHeight)??0;return c.value?o.value<l.value||r.value.fullyHide?b+x:b:b+x});Ns(O(()=>!!t.scrollBehavior),()=>{yn(()=>{c.value?r.value.inverted?s.value=o.value>l.value:s.value=u.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:v}=Vc(),{layoutItemStyles:_}=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:me(t,"location"),layoutSize:m,elementSize:Re(void 0),active:s,absolute:me(t,"absolute")});return we(()=>{const b=u1.filterProps(t);return g(u1,Z({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{..._.value,"--v-toolbar-image-opacity":p.value,height:void 0,...v.value},t.style]},b,{collapse:h.value,flat:f.value}),n)}),{}}}),Zce=[null,"default","comfortable","compact"],Ti=ie({density:{type:String,default:"default",validator:t=>Zce.includes(t)}},"density");function ls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{densityClasses:O(()=>`${e}--density-${t.density}`)}}const ede=["elevated","flat","tonal","outlined","text","plain"];function iu(t,e){return g(Pe,null,[t&&g("span",{key:"overlay",class:`${e}__overlay`},null),g("span",{key:"underlay",class:`${e}__underlay`},null)])}const Br=ie({color:String,variant:{type:String,default:"elevated",validator:t=>ede.includes(t)}},"variant");function Lc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=O(()=>{const{variant:r}=oe(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=QP(O(()=>{const{variant:r,color:a}=oe(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const M4=ie({baseColor:String,divided:Boolean,...nr(),...Be(),...Ti(),...ki(),...Rn(),..._t(),...Lt(),...Br()},"VBtnGroup"),c1=ve()({name:"VBtnGroup",props:M4(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{densityClasses:s}=ls(t),{borderClasses:r}=Sr(t),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t);Dn({VBtn:{height:"auto",baseColor:me(t,"baseColor"),color:me(t,"color"),density:me(t,"density"),flat:!0,variant:me(t,"variant")}}),we(()=>g(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),Nc=ie({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Fc=ie({value:null,disabled:Boolean,selectedClass:String},"group-item");function Bc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Gn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=zi();Kt(Symbol.for(`${e.description}:id`),s);const r=mt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=me(t,"value"),o=O(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),Oi(()=>{r.unregister(s)});const l=O(()=>r.isSelected(s)),u=O(()=>r.items.value[0].id===s),d=O(()=>r.items.value[r.items.value.length-1].id===s),c=O(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return be(l,h=>{i.emit("group:selected",{value:h})},{flush:"sync"}),{id:s,isSelected:l,isFirst:u,isLast:d,toggle:()=>r.select(s,!l.value),select:h=>r.select(s,h),selectedClass:c,value:a,disabled:o,group:r}}function su(t,e){let n=!1;const i=mn([]),s=Ue(t,"modelValue",[],h=>h==null?[]:V4(i,bn(h)),h=>{const f=nde(i,h);return t.multiple?f:f[0]}),r=Gn("useGroup");function a(h,f){const p=h,m=Symbol.for(`${e.description}:id`),_=vd(m,r==null?void 0:r.vnode).indexOf(f);oe(p.value)==null&&(p.value=_,p.useIndexAsValue=!0),_>-1?i.splice(_,0,p):i.push(p)}function o(h){if(n)return;l();const f=i.findIndex(p=>p.id===h);i.splice(f,1)}function l(){const h=i.find(f=>!f.disabled);h&&t.mandatory==="force"&&!s.value.length&&(s.value=[h.id])}kt(()=>{l()}),Oi(()=>{n=!0}),Nk(()=>{for(let h=0;h<i.length;h++)i[h].useIndexAsValue&&(i[h].value=h)});function u(h,f){const p=i.find(m=>m.id===h);if(!(f&&(p!=null&&p.disabled)))if(t.multiple){const m=s.value.slice(),v=m.findIndex(b=>b===h),_=~v;if(f=f??!_,_&&t.mandatory&&m.length<=1||!_&&t.max!=null&&m.length+1>t.max)return;v<0&&f?m.push(h):v>=0&&!f&&m.splice(v,1),s.value=m}else{const m=s.value.includes(h);if(t.mandatory&&m)return;s.value=f??!m?[h]:[]}}function d(h){if(t.multiple,s.value.length){const f=s.value[0],p=i.findIndex(_=>_.id===f);let m=(p+h)%i.length,v=i[m];for(;v.disabled&&m!==p;)m=(m+h)%i.length,v=i[m];if(v.disabled)return;s.value=[i[m].id]}else{const f=i.find(p=>!p.disabled);f&&(s.value=[f.id])}}const c={register:a,unregister:o,selected:s,select:u,disabled:me(t,"disabled"),prev:()=>d(i.length-1),next:()=>d(1),isSelected:h=>s.value.includes(h),selectedClass:O(()=>t.selectedClass),items:O(()=>i),getItemIndex:h=>tde(i,h)};return Kt(e,c),c}function tde(t,e){const n=V4(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function V4(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>Ka(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function nde(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const JP=Symbol.for("vuetify:v-btn-toggle"),ide=ie({...M4(),...Nc()},"VBtnToggle"),sde=ve()({name:"VBtnToggle",props:ide(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=su(t,JP);return we(()=>{const l=c1.filterProps(t);return g(c1,Z({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}}),rde=["x-small","small","default","large","x-large"],Za=ie({size:{type:[String,Number],default:"default"}},"size");function Nh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return bP(()=>{let n,i;return N_(rde,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Le(t.size),height:Le(t.size)}),{sizeClasses:n,sizeStyles:i}})}const ade=ie({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ye,...Be(),...Za(),..._t({tag:"i"}),...Lt()},"VIcon"),Bt=ve()({name:"VIcon",props:ade(),setup(t,e){let{attrs:n,slots:i}=e;const s=G(),{themeClasses:r}=Xt(t),{iconData:a}=ese(O(()=>s.value||t.icon)),{sizeClasses:o}=Nh(t),{textColorClasses:l,textColorStyles:u}=Ui(me(t,"color"));return we(()=>{var h,f;const d=(h=i.default)==null?void 0:h.call(i);d&&(s.value=(f=bj(d).filter(p=>p.type===Tg&&p.children&&typeof p.children=="string")[0])==null?void 0:f.children);const c=!!(n.onClick||n.onClickOnce);return g(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":c,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Le(t.size),height:Le(t.size),width:Le(t.size)},u.value,t.style],role:c?"button":void 0,"aria-hidden":!c,tabindex:c?t.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function cw(t,e){const n=G(),i=Re(!1);if(vP){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);Oi(()=>{s.disconnect()}),be(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const ode=ie({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Be(),...Za(),..._t({tag:"div"}),...Lt()},"VProgressCircular"),Bl=ve()({name:"VProgressCircular",props:ode(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=G(),{themeClasses:a}=Xt(t),{sizeClasses:o,sizeStyles:l}=Nh(t),{textColorClasses:u,textColorStyles:d}=Ui(me(t,"color")),{textColorClasses:c,textColorStyles:h}=Ui(me(t,"bgColor")),{intersectionRef:f,isIntersecting:p}=cw(),{resizeRef:m,contentRect:v}=ca(),_=O(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),b=O(()=>Number(t.width)),x=O(()=>l.value?Number(t.size):v.value?v.value.width:Math.max(b.value,32)),k=O(()=>i/(1-b.value/x.value)*2),I=O(()=>b.value/x.value*k.value),E=O(()=>Le((100-_.value)/100*s));return yn(()=>{f.value=r.value,m.value=r.value}),we(()=>g(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,u.value,t.class],style:[l.value,d.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:_.value},{default:()=>[g("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k.value} ${k.value}`},[g("circle",{class:["v-progress-circular__underlay",c.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),g("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":E.value},null)]),n.default&&g("div",{class:"v-progress-circular__content"},[n.default({value:_.value})])]})),{}}}),EO={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Wo=ie({location:String},"location");function jc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Si();return{locationStyles:O(()=>{if(!t.location)return{};const{side:r,align:a}=BS(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(u){return n?n(u):0}const l={};return r!=="center"&&(e?l[EO[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[EO[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const lde=ie({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Be(),...Wo({location:"top"}),...Rn(),..._t(),...Lt()},"VProgressLinear"),dw=ve()({name:"VProgressLinear",props:lde(),emits:{"update:modelValue":t=>!0},setup(t,e){var P;let{slots:n}=e;const i=Ue(t,"modelValue"),{isRtl:s,rtlClasses:r}=Si(),{themeClasses:a}=Xt(t),{locationStyles:o}=jc(t),{textColorClasses:l,textColorStyles:u}=Ui(t,"color"),{backgroundColorClasses:d,backgroundColorStyles:c}=rn(O(()=>t.bgColor||t.color)),{backgroundColorClasses:h,backgroundColorStyles:f}=rn(O(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:p,backgroundColorStyles:m}=rn(t,"color"),{roundedClasses:v}=qn(t),{intersectionRef:_,isIntersecting:b}=cw(),x=O(()=>parseFloat(t.max)),k=O(()=>parseFloat(t.height)),I=O(()=>$n(parseFloat(t.bufferValue)/x.value*100,0,100)),E=O(()=>$n(parseFloat(i.value)/x.value*100,0,100)),T=O(()=>s.value!==t.reverse),S=O(()=>t.indeterminate?"fade-transition":"slide-x-transition"),w=Wt&&((P=window.matchMedia)==null?void 0:P.call(window,"(forced-colors: active)").matches);function C(D){if(!_.value)return;const{left:A,right:F,width:L}=_.value.getBoundingClientRect(),H=T.value?L-D.clientX+(F-L):D.clientX-A;i.value=Math.round(H/L*x.value)}return we(()=>g(t.tag,{ref:_,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&b.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},v.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Le(k.value):0,"--v-progress-linear-height":Le(k.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:E.value,onClick:t.clickable&&C},{default:()=>[t.stream&&g("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[T.value?"left":"right"]:Le(-k.value),borderTop:`${Le(k.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Le(k.value/4)})`,width:Le(100-I.value,"%"),"--v-progress-linear-stream-to":Le(k.value*(T.value?1:-1))}},null),g("div",{class:["v-progress-linear__background",w?void 0:d.value],style:[c.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),g("div",{class:["v-progress-linear__buffer",w?void 0:h.value],style:[f.value,{opacity:parseFloat(t.bufferOpacity),width:Le(I.value,"%")}]},null),g(Al,{name:S.value},{default:()=>[t.indeterminate?g("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>g("div",{key:D,class:["v-progress-linear__indeterminate",D,w?void 0:p.value],style:m.value},null))]):g("div",{class:["v-progress-linear__determinate",w?void 0:p.value],style:[m.value,{width:Le(E.value,"%")}]},null)]}),n.default&&g("div",{class:"v-progress-linear__content"},[n.default({value:E.value,buffer:I.value})])]})),{}}}),hw=ie({loading:[Boolean,String]},"loader");function Qg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{loaderClasses:O(()=>({[`${e}--loading`]:t.loading}))}}function Jg(t,e){var i;let{slots:n}=e;return g("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||g(dw,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const ude=["static","relative","fixed","absolute","sticky"],Fh=ie({position:{type:String,validator:t=>ude.includes(t)}},"position");function Bh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{positionClasses:O(()=>t.position?`${e}--${t.position}`:void 0)}}function cde(){const t=Gn("useRoute");return O(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function L4(){var t,e;return(e=(t=Gn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function jh(t,e){var c,h;const n=_L("RouterLink"),i=O(()=>!!(t.href||t.to)),s=O(()=>(i==null?void 0:i.value)||hR(e,"click")||hR(t,"click"));if(typeof n=="string"||!("useLink"in n)){const f=me(t,"href");return{isLink:i,isClickable:s,href:f,linkProps:mn({href:f})}}const r=O(()=>({...t,to:me(()=>t.to||"")})),a=n.useLink(r.value),o=O(()=>t.to?a:void 0),l=cde(),u=O(()=>{var f,p,m;return o.value?t.exact?l.value?((m=o.value.isExactActive)==null?void 0:m.value)&&Ka(o.value.route.value.query,l.value.query):((p=o.value.isExactActive)==null?void 0:p.value)??!1:((f=o.value.isActive)==null?void 0:f.value)??!1:!1}),d=O(()=>{var f;return t.to?(f=o.value)==null?void 0:f.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:u,route:(c=o.value)==null?void 0:c.route,navigate:(h=o.value)==null?void 0:h.navigate,href:d,linkProps:mn({href:d,"aria-current":O(()=>u.value?"page":void 0)})}}const Zg=ie({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let J0=!1;function dde(t,e){let n=!1,i,s;Wt&&(vt(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,o,l)=>{J0?n?e(l):l():setTimeout(()=>n?e(l):l()),J0=!0}),s=t==null?void 0:t.afterEach(()=>{J0=!1})}),as(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function hde(t,e){be(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&vt(()=>{e(!0)})},{immediate:!0})}const d1=Symbol("rippleStop"),fde=80;function IO(t,e){t.style.transform=e,t.style.webkitTransform=e}function h1(t){return t.constructor.name==="TouchEvent"}function N4(t){return t.constructor.name==="KeyboardEvent"}const mde=function(t,e){var c;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!N4(t)){const h=e.getBoundingClientRect(),f=h1(t)?t.touches[t.touches.length-1]:t;i=f.clientX-h.left,s=f.clientY-h.top}let r=0,a=.3;(c=e._ripple)!=null&&c.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,u=n.center?o:`${i-r}px`,d=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:u,y:d,centerX:o,centerY:l}},ey={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:u,centerY:d}=mde(t,e,n),c=`${r*2}px`;s.className="v-ripple__animation",s.style.width=c,s.style.height=c,e.appendChild(i);const h=window.getComputedStyle(e);h&&h.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),IO(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),IO(s,`translate(${u}, ${d}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function F4(t){return typeof t>"u"||!!t}function qm(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[d1])){if(t[d1]=!0,h1(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||N4(t),n._ripple.class&&(e.class=n._ripple.class),h1(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ey.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},fde)}else ey.show(t,n,e)}}function DO(t){t[d1]=!0}function cr(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{cr(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),ey.hide(e)}}function B4(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Xm=!1;function j4(t){!Xm&&(t.keyCode===uR.enter||t.keyCode===uR.space)&&(Xm=!0,qm(t))}function $4(t){Xm=!1,cr(t)}function U4(t){Xm&&(Xm=!1,cr(t))}function H4(t,e,n){const{value:i,modifiers:s}=e,r=F4(i);if(r||ey.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,Ub(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",DO,{passive:!0}),t.addEventListener("mousedown",DO);return}t.addEventListener("touchstart",qm,{passive:!0}),t.addEventListener("touchend",cr,{passive:!0}),t.addEventListener("touchmove",B4,{passive:!0}),t.addEventListener("touchcancel",cr),t.addEventListener("mousedown",qm),t.addEventListener("mouseup",cr),t.addEventListener("mouseleave",cr),t.addEventListener("keydown",j4),t.addEventListener("keyup",$4),t.addEventListener("blur",U4),t.addEventListener("dragstart",cr,{passive:!0})}else!r&&n&&z4(t)}function z4(t){t.removeEventListener("mousedown",qm),t.removeEventListener("touchstart",qm),t.removeEventListener("touchend",cr),t.removeEventListener("touchmove",B4),t.removeEventListener("touchcancel",cr),t.removeEventListener("mouseup",cr),t.removeEventListener("mouseleave",cr),t.removeEventListener("keydown",j4),t.removeEventListener("keyup",$4),t.removeEventListener("dragstart",cr),t.removeEventListener("blur",U4)}function gde(t,e){H4(t,e,!1)}function pde(t){delete t._ripple,z4(t)}function vde(t,e){if(e.value===e.oldValue)return;const n=F4(e.oldValue);H4(t,e,n)}const Yo={mounted:gde,unmounted:pde,updated:vde},fw=ie({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:JP},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ye,appendIcon:Ye,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...nr(),...Be(),...Ti(),...hi(),...ki(),...Fc(),...hw(),...Wo(),...Fh(),...Rn(),...Zg(),...Za(),..._t({tag:"button"}),...Lt(),...Br({variant:"elevated"})},"VBtn"),pt=ve()({name:"VBtn",props:fw(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Xt(t),{borderClasses:r}=Sr(t),{densityClasses:a}=ls(t),{dimensionStyles:o}=fi(t),{elevationClasses:l}=Wi(t),{loaderClasses:u}=Qg(t),{locationStyles:d}=jc(t),{positionClasses:c}=Bh(t),{roundedClasses:h}=qn(t),{sizeClasses:f,sizeStyles:p}=Nh(t),m=Bc(t,t.symbol,!1),v=jh(t,n),_=O(()=>{var P;return t.active!==void 0?t.active:v.isLink.value?(P=v.isActive)==null?void 0:P.value:m==null?void 0:m.isSelected.value}),b=O(()=>_.value?t.activeColor??t.color:t.color),x=O(()=>{var D,A;return{color:(m==null?void 0:m.isSelected.value)&&(!v.isLink.value||((D=v.isActive)==null?void 0:D.value))||!m||((A=v.isActive)==null?void 0:A.value)?b.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:k,colorStyles:I,variantClasses:E}=Lc(x),T=O(()=>(m==null?void 0:m.disabled.value)||t.disabled),S=O(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),w=O(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function C(P){var D;T.value||v.isLink.value&&(P.metaKey||P.ctrlKey||P.shiftKey||P.button!==0||n.target==="_blank")||((D=v.navigate)==null||D.call(v,P),m==null||m.toggle())}return hde(v,m==null?void 0:m.select),we(()=>{const P=v.isLink.value?"a":t.tag,D=!!(t.prependIcon||i.prepend),A=!!(t.appendIcon||i.append),F=!!(t.icon&&t.icon!==!0);return In(g(P,Z({type:P==="a"?void 0:"button",class:["v-btn",m==null?void 0:m.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":t.block,"v-btn--disabled":T.value,"v-btn--elevated":S.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,k.value,a.value,l.value,u.value,c.value,h.value,f.value,E.value,t.class],style:[I.value,o.value,d.value,p.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:T.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:C,value:w.value},v.linkProps),{default:()=>{var L;return[iu(!0,"v-btn"),!t.icon&&D&&g("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?g(ut,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):g(Bt,{key:"prepend-icon",icon:t.prependIcon},null)]),g("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&F?g(Bt,{key:"content-icon",icon:t.icon},null):g(ut,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var H;return[((H=i.default)==null?void 0:H.call(i))??t.text]}})]),!t.icon&&A&&g("span",{key:"append",class:"v-btn__append"},[i.append?g(ut,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):g(Bt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&g("span",{key:"loader",class:"v-btn__loader"},[((L=i.loader)==null?void 0:L.call(i))??g(Bl,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[Yo,!T.value&&t.ripple,"",{center:!!t.icon}]])}),{group:m}}}),_de=ie({...fw({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),yde=ve()({name:"VAppBarNavIcon",props:_de(),setup(t,e){let{slots:n}=e;return we(()=>g(pt,Z(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),bde=ve()({name:"VAppBarTitle",props:C4(),setup(t,e){let{slots:n}=e;return we(()=>g(GP,Z(t,{class:"v-app-bar-title"}),n)),{}}}),W4=Ja("v-alert-title"),wde=["success","info","warning","error"],xde=ie({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ye,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>wde.includes(t)},...Be(),...Ti(),...hi(),...ki(),...Wo(),...Fh(),...Rn(),..._t(),...Lt(),...Br({variant:"flat"})},"VAlert"),Sde=ve()({name:"VAlert",props:xde(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ue(t,"modelValue"),r=O(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=O(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Xt(t),{colorClasses:l,colorStyles:u,variantClasses:d}=Lc(a),{densityClasses:c}=ls(t),{dimensionStyles:h}=fi(t),{elevationClasses:f}=Wi(t),{locationStyles:p}=jc(t),{positionClasses:m}=Bh(t),{roundedClasses:v}=qn(t),{textColorClasses:_,textColorStyles:b}=Ui(me(t,"borderColor")),{t:x}=gn(),k=O(()=>({"aria-label":x(t.closeLabel),onClick(I){s.value=!1,n("click:close",I)}}));return()=>{const I=!!(i.prepend||r.value),E=!!(i.title||t.title),T=!!(i.close||t.closable);return s.value&&g(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,c.value,f.value,m.value,v.value,d.value,t.class],style:[u.value,h.value,p.value,t.style],role:"alert"},{default:()=>{var S,w;return[iu(!1,"v-alert"),t.border&&g("div",{key:"border",class:["v-alert__border",_.value],style:b.value},null),I&&g("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?g(ut,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):g(Bt,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),g("div",{class:"v-alert__content"},[E&&g(W4,{key:"title"},{default:()=>{var C;return[((C=i.title)==null?void 0:C.call(i))??t.title]}}),((S=i.text)==null?void 0:S.call(i))??t.text,(w=i.default)==null?void 0:w.call(i)]),i.append&&g("div",{key:"append",class:"v-alert__append"},[i.append()]),T&&g("div",{key:"close",class:"v-alert__close"},[i.close?g(ut,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var C;return[(C=i.close)==null?void 0:C.call(i,{props:k.value})]}}):g(pt,Z({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},k.value),null)])]}})}}}),kde=ie({start:Boolean,end:Boolean,icon:Ye,image:String,text:String,...nr(),...Be(),...Ti(),...Rn(),...Za(),..._t(),...Lt(),...Br({variant:"flat"})},"VAvatar"),$s=ve()({name:"VAvatar",props:kde(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{borderClasses:s}=Sr(t),{colorClasses:r,colorStyles:a,variantClasses:o}=Lc(t),{densityClasses:l}=ls(t),{roundedClasses:u}=qn(t),{sizeClasses:d,sizeStyles:c}=Nh(t);return we(()=>g(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,l.value,u.value,d.value,o.value,t.class],style:[a.value,c.value,t.style]},{default:()=>[n.default?g(ut,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?g(Mo,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?g(Bt,{key:"icon",icon:t.icon},null):t.text,iu(!1,"v-avatar")]})),{}}}),Tde=ie({text:String,onClick:Ri(),...Be(),...Lt()},"VLabel"),$h=ve()({name:"VLabel",props:Tde(),setup(t,e){let{slots:n}=e;return we(()=>{var i;return g("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),Y4=Symbol.for("vuetify:selection-control-group"),ZP=ie({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ye,trueIcon:Ye,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ka},...Be(),...Ti(),...Lt()},"SelectionControlGroup"),Pde=ie({...ZP({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),G4=ve()({name:"VSelectionControlGroup",props:Pde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),s=zi(),r=O(()=>t.id||`v-selection-control-group-${s}`),a=O(()=>t.name||r.value),o=new Set;return Kt(Y4,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),as(()=>{o.delete(l)})}}),Dn({[t.defaultsTarget]:{color:me(t,"color"),disabled:me(t,"disabled"),density:me(t,"density"),error:me(t,"error"),inline:me(t,"inline"),modelValue:i,multiple:O(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:me(t,"falseIcon"),trueIcon:me(t,"trueIcon"),readonly:me(t,"readonly"),ripple:me(t,"ripple"),type:me(t,"type"),valueComparator:me(t,"valueComparator")}}),we(()=>{var l;return g("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),mw=ie({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Be(),...ZP()},"VSelectionControl");function Cde(t){const e=mt(Y4,void 0),{densityClasses:n}=ls(t),i=Ue(t,"modelValue"),s=O(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=O(()=>t.falseValue!==void 0?t.falseValue:!1),a=O(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=O({get(){const f=e?e.modelValue.value:i.value;return a.value?bn(f).some(p=>t.valueComparator(p,s.value)):t.valueComparator(f,s.value)},set(f){if(t.readonly)return;const p=f?s.value:r.value;let m=p;a.value&&(m=f?[...bn(i.value),p]:bn(i.value).filter(v=>!t.valueComparator(v,s.value))),e?e.modelValue.value=m:i.value=m}}),{textColorClasses:l,textColorStyles:u}=Ui(O(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:d,backgroundColorStyles:c}=rn(O(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),h=O(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,icon:h}}const jl=ve()({name:"VSelectionControl",directives:{Ripple:Yo},inheritAttrs:!1,props:mw(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,trueValue:h}=Cde(t),f=zi(),p=Re(!1),m=Re(!1),v=G(),_=O(()=>t.id||`input-${f}`),b=O(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{v.value&&(v.value.checked=o.value)});function x(T){b.value&&(p.value=!0,ih(T.target,":focus-visible")!==!1&&(m.value=!0))}function k(){p.value=!1,m.value=!1}function I(T){T.stopPropagation()}function E(T){if(!b.value){v.value&&(v.value.checked=o.value);return}t.readonly&&s&&vt(()=>s.forceUpdate()),o.value=T.target.checked}return we(()=>{var P,D;const T=i.label?i.label({label:t.label,props:{for:_.value}}):t.label,[S,w]=Ho(n),C=g("input",Z({ref:v,checked:o.value,disabled:!!t.disabled,id:_.value,onBlur:k,onFocus:x,onInput:E,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:h.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},w),null);return g("div",Z({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":t.inline},r.value,t.class]},S,{style:t.style}),[g("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(P=i.default)==null?void 0:P.call(i,{backgroundColorClasses:d,backgroundColorStyles:c}),In(g("div",{class:["v-selection-control__input"]},[((D=i.input)==null?void 0:D.call(i,{model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,inputNode:C,icon:a.value,props:{onFocus:x,onBlur:k,id:_.value}}))??g(Pe,null,[a.value&&g(Bt,{key:"icon",icon:a.value},null),C])]),[[tr("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),T&&g($h,{for:_.value,onClick:I},{default:()=>[T]})])}),{isFocused:p,input:v}}}),q4=ie({indeterminate:Boolean,indeterminateIcon:{type:Ye,default:"$checkboxIndeterminate"},...mw({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Wa=ve()({name:"VCheckboxBtn",props:q4(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"indeterminate"),s=Ue(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=O(()=>i.value?t.indeterminateIcon:t.falseIcon),o=O(()=>i.value?t.indeterminateIcon:t.trueIcon);return we(()=>{const l=en(jl.filterProps(t),["modelValue"]);return g(jl,Z(l,{modelValue:s.value,"onUpdate:modelValue":[u=>s.value=u,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function X4(t){const{t:e}=gn();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],o=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return g(Bt,{icon:t[`${s}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const Ede=ie({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Be(),...va({transition:{component:XP,leaveAbsolute:!0,group:!0}})},"VMessages"),K4=ve()({name:"VMessages",props:Ede(),setup(t,e){let{slots:n}=e;const i=O(()=>bn(t.messages)),{textColorClasses:s,textColorStyles:r}=Ui(O(()=>t.color));return we(()=>g(Ts,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,o)=>g("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Uh=ie({focused:Boolean,"onUpdate:focused":Ri()},"focus");function eo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=Ue(t,"focused"),i=O(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const Q4=Symbol.for("vuetify:form"),Ide=ie({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Dde(t){const e=Ue(t,"modelValue"),n=O(()=>t.disabled),i=O(()=>t.readonly),s=Re(!1),r=G([]),a=G([]);async function o(){const d=[];let c=!0;a.value=[],s.value=!0;for(const h of r.value){const f=await h.validate();if(f.length>0&&(c=!1,d.push({id:h.id,errorMessages:f})),!c&&t.fastFail)break}return a.value=d,s.value=!1,{valid:c,errors:a.value}}function l(){r.value.forEach(d=>d.reset())}function u(){r.value.forEach(d=>d.resetValidation())}return be(r,()=>{let d=0,c=0;const h=[];for(const f of r.value)f.isValid===!1?(c++,h.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&d++;a.value=h,e.value=c>0?!1:d===r.value.length?!0:null},{deep:!0,flush:"post"}),Kt(Q4,{register:d=>{let{id:c,vm:h,validate:f,reset:p,resetValidation:m}=d;r.value.some(v=>v.id===c),r.value.push({id:c,validate:f,reset:p,resetValidation:m,vm:Ok(h),isValid:null,errorMessages:[]})},unregister:d=>{r.value=r.value.filter(c=>c.id!==d)},update:(d,c,h)=>{const f=r.value.find(p=>p.id===d);f&&(f.isValid=c,f.errorMessages=h)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:me(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:o,reset:l,resetValidation:u}}function ep(t){const e=mt(Q4,null);return{...e,isReadonly:O(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:O(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const J4=ie({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Uh()},"validation");function Z4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zi();const i=Ue(t,"modelValue"),s=O(()=>t.validationValue===void 0?i.value:t.validationValue),r=ep(t),a=G([]),o=Re(!0),l=O(()=>!!(bn(i.value===""?null:i.value).length||bn(s.value===""?null:s.value).length)),u=O(()=>{var x;return(x=t.errorMessages)!=null&&x.length?bn(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),d=O(()=>{var I;let x=(t.validateOn??((I=r.validateOn)==null?void 0:I.value))||"input";x==="lazy"&&(x="input lazy"),x==="eager"&&(x="input eager");const k=new Set((x==null?void 0:x.split(" "))??[]);return{input:k.has("input"),blur:k.has("blur")||k.has("input")||k.has("invalid-input"),invalidInput:k.has("invalid-input"),lazy:k.has("lazy"),eager:k.has("eager")}}),c=O(()=>{var x;return t.error||(x=t.errorMessages)!=null&&x.length?!1:t.rules.length?o.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),h=Re(!1),f=O(()=>({[`${e}--error`]:c.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),p=Gn("validation"),m=O(()=>t.name??oe(n));wh(()=>{var x;(x=r.register)==null||x.call(r,{id:m.value,vm:p,validate:b,reset:v,resetValidation:_})}),Oi(()=>{var x;(x=r.unregister)==null||x.call(r,m.value)}),kt(async()=>{var x;d.value.lazy||await b(!d.value.eager),(x=r.update)==null||x.call(r,m.value,c.value,u.value)}),Ns(()=>d.value.input||d.value.invalidInput&&c.value===!1,()=>{be(s,()=>{if(s.value!=null)b();else if(t.focused){const x=be(()=>t.focused,k=>{k||b(),x()})}})}),Ns(()=>d.value.blur,()=>{be(()=>t.focused,x=>{x||b()})}),be([c,u],()=>{var x;(x=r.update)==null||x.call(r,m.value,c.value,u.value)});async function v(){i.value=null,await vt(),await _()}async function _(){o.value=!0,d.value.lazy?a.value=[]:await b(!d.value.eager)}async function b(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[];h.value=!0;for(const I of t.rules){if(k.length>=+(t.maxErrors??1))break;const T=await(typeof I=="function"?I:()=>I)(s.value);if(T!==!0){if(T!==!1&&typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}k.push(T||"")}}return a.value=k,h.value=!1,o.value=x,a.value}return{errorMessages:u,isDirty:l,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:o,isValid:c,isValidating:h,reset:v,resetValidation:_,validate:b,validationClasses:f}}const Go=ie({id:String,appendIcon:Ye,centerAffix:{type:Boolean,default:!0},prependIcon:Ye,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Ri(),"onClick:append":Ri(),...Be(),...Ti(),...Yg(hi(),["maxWidth","minWidth","width"]),...Lt(),...J4()},"VInput"),rs=ve()({name:"VInput",props:{...Go()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=ls(t),{dimensionStyles:a}=fi(t),{themeClasses:o}=Xt(t),{rtlClasses:l}=Si(),{InputIcon:u}=X4(t),d=zi(),c=O(()=>t.id||`input-${d}`),h=O(()=>`${c.value}-messages`),{errorMessages:f,isDirty:p,isDisabled:m,isReadonly:v,isPristine:_,isValid:b,isValidating:x,reset:k,resetValidation:I,validate:E,validationClasses:T}=Z4(t,"v-input",c),S=O(()=>({id:c,messagesId:h,isDirty:p,isDisabled:m,isReadonly:v,isPristine:_,isValid:b,isValidating:x,reset:k,resetValidation:I,validate:E})),w=O(()=>{var C;return(C=t.errorMessages)!=null&&C.length||!_.value&&f.value.length?f.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return we(()=>{var F,L,H,X;const C=!!(i.prepend||t.prependIcon),P=!!(i.append||t.appendIcon),D=w.value.length>0,A=!t.hideDetails||t.hideDetails==="auto"&&(D||!!i.details);return g("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,T.value,t.class],style:[a.value,t.style]},[C&&g("div",{key:"prepend",class:"v-input__prepend"},[(F=i.prepend)==null?void 0:F.call(i,S.value),t.prependIcon&&g(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&g("div",{class:"v-input__control"},[(L=i.default)==null?void 0:L.call(i,S.value)]),P&&g("div",{key:"append",class:"v-input__append"},[t.appendIcon&&g(u,{key:"append-icon",name:"append"},null),(H=i.append)==null?void 0:H.call(i,S.value)]),A&&g("div",{class:"v-input__details"},[g(K4,{id:h.value,active:D,messages:w.value},{message:i.message}),(X=i.details)==null?void 0:X.call(i,S.value)])])}),{reset:k,resetValidation:I,validate:E,isValid:b,errorMessages:f}}}),Ade=ie({...Go(),...en(q4(),["inline"])},"VCheckbox"),Rde=ve()({name:"VCheckbox",inheritAttrs:!1,props:Ade(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ue(t,"modelValue"),{isFocused:r,focus:a,blur:o}=eo(t),l=zi(),u=O(()=>t.id||`checkbox-${l}`);return we(()=>{const[d,c]=Ho(n),h=rs.filterProps(t),f=Wa.filterProps(t);return g(rs,Z({class:["v-checkbox",t.class]},d,h,{modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,id:u.value,focused:r.value,style:t.style}),{...i,default:p=>{let{id:m,messagesId:v,isDisabled:_,isReadonly:b,isValid:x}=p;return g(Wa,Z(f,{id:m.value,"aria-describedby":v.value,disabled:_.value,readonly:b.value},c,{error:x.value===!1,modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,onFocus:a,onBlur:o}),i)}})}),{}}});function Ode(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Km(s,n),a=e5(s,i,n),o=Km(s,e),l=t5(s,e),u=o*.4;return a>l?l-u:a+r<l+o?l-r+o+u:a}function Mde(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Km(i,n),r=t5(i,e),a=Km(i,e);return r-s/2+a/2}function AO(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function Vde(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function e5(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Km(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function t5(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const n5=Symbol.for("vuetify:v-slide-group"),eC=ie({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:n5},nextIcon:{type:Ye,default:"$next"},prevIcon:{type:Ye,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Be(),...Rc({mobile:null}),..._t(),...Nc({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Qm=ve()({name:"VSlideGroup",props:eC(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=Si(),{displayClasses:s,mobile:r}=wr(t),a=su(t,t.symbol),o=Re(!1),l=Re(0),u=Re(0),d=Re(0),c=O(()=>t.direction==="horizontal"),{resizeRef:h,contentRect:f}=ca(),{resizeRef:p,contentRect:m}=ca(),v=Gie(),_=O(()=>({container:h.el,duration:200,easing:"easeOutQuart"})),b=O(()=>a.selected.value.length?a.items.value.findIndex(Y=>Y.id===a.selected.value[0]):-1),x=O(()=>a.selected.value.length?a.items.value.findIndex(Y=>Y.id===a.selected.value[a.selected.value.length-1]):-1);if(Wt){let Y=-1;be(()=>[a.selected.value,f.value,m.value,c.value],()=>{cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{if(f.value&&m.value){const te=c.value?"width":"height";u.value=f.value[te],d.value=m.value[te],o.value=u.value+1<d.value}if(b.value>=0&&p.el){const te=p.el.children[x.value];I(te,t.centerActive)}})})}const k=Re(!1);function I(Y,te){let Q=0;te?Q=Mde({containerElement:h.el,isHorizontal:c.value,selectedElement:Y}):Q=Ode({containerElement:h.el,isHorizontal:c.value,isRtl:i.value,selectedElement:Y}),E(Q)}function E(Y){if(!Wt||!h.el)return;const te=Km(c.value,h.el),Q=e5(c.value,i.value,h.el);if(!(AO(c.value,h.el)<=te||Math.abs(Y-Q)<16)){if(c.value&&i.value&&h.el){const{scrollWidth:ue,offsetWidth:re}=h.el;Y=ue-re-Y}c.value?v.horizontal(Y,_.value):v(Y,_.value)}}function T(Y){const{scrollTop:te,scrollLeft:Q}=Y.target;l.value=c.value?Q:te}function S(Y){if(k.value=!0,!(!o.value||!p.el)){for(const te of Y.composedPath())for(const Q of p.el.children)if(Q===te){I(Q);return}}}function w(Y){k.value=!1}let C=!1;function P(Y){var te;!C&&!k.value&&!(Y.relatedTarget&&((te=p.el)!=null&&te.contains(Y.relatedTarget)))&&F(),C=!1}function D(){C=!0}function A(Y){if(!p.el)return;function te(Q){Y.preventDefault(),F(Q)}c.value?Y.key==="ArrowRight"?te(i.value?"prev":"next"):Y.key==="ArrowLeft"&&te(i.value?"next":"prev"):Y.key==="ArrowDown"?te("next"):Y.key==="ArrowUp"&&te("prev"),Y.key==="Home"?te("first"):Y.key==="End"&&te("last")}function F(Y){var Q,ee;if(!p.el)return;let te;if(!Y)te=Vm(p.el)[0];else if(Y==="next"){if(te=(Q=p.el.querySelector(":focus"))==null?void 0:Q.nextElementSibling,!te)return F("first")}else if(Y==="prev"){if(te=(ee=p.el.querySelector(":focus"))==null?void 0:ee.previousElementSibling,!te)return F("last")}else Y==="first"?te=p.el.firstElementChild:Y==="last"&&(te=p.el.lastElementChild);te&&te.focus({preventScroll:!0})}function L(Y){const te=c.value&&i.value?-1:1,Q=(Y==="prev"?-te:te)*u.value;let ee=l.value+Q;if(c.value&&i.value&&h.el){const{scrollWidth:ue,offsetWidth:re}=h.el;ee+=ue-re}E(ee)}const H=O(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),X=O(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),z=O(()=>Math.abs(l.value)>1),K=O(()=>{if(!h.value)return!1;const Y=AO(c.value,h.el),te=Vde(c.value,h.el);return Y-te-Math.abs(l.value)>1});return we(()=>g(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":X.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:k.value||a.selected.value.length?-1:0,onFocus:P},{default:()=>{var Y,te,Q;return[X.value&&g("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!z.value}],onMousedown:D,onClick:()=>z.value&&L("prev")},[((Y=n.prev)==null?void 0:Y.call(n,H.value))??g(Gm,null,{default:()=>[g(Bt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),g("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:T},[g("div",{ref:p,class:"v-slide-group__content",onFocusin:S,onFocusout:w,onKeydown:A},[(te=n.default)==null?void 0:te.call(n,H.value)])]),X.value&&g("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!K.value}],onMousedown:D,onClick:()=>K.value&&L("next")},[((Q=n.next)==null?void 0:Q.call(n,H.value))??g(Gm,null,{default:()=>[g(Bt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:L,scrollOffset:l,focus:F,hasPrev:z,hasNext:K}}}),i5=Symbol.for("vuetify:v-chip-group"),Lde=ie({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ka},...eC(),...Be(),...Nc({selectedClass:"v-chip--selected"}),..._t(),...Lt(),...Br({variant:"tonal"})},"VChipGroup"),Nde=ve()({name:"VChipGroup",props:Lde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=su(t,i5);return Dn({VChip:{color:me(t,"color"),disabled:me(t,"disabled"),filter:me(t,"filter"),variant:me(t,"variant")}}),we(()=>{const u=Qm.filterProps(t);return g(Qm,Z(u,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}}),Fde=ie({activeClass:String,appendAvatar:String,appendIcon:Ye,closable:Boolean,closeIcon:{type:Ye,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ye,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ye,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ri(),onClickOnce:Ri(),...nr(),...Be(),...Ti(),...ki(),...Fc(),...Rn(),...Zg(),...Za(),..._t({tag:"span"}),...Lt(),...Br({variant:"tonal"})},"VChip"),$c=ve()({name:"VChip",directives:{Ripple:Yo},props:Fde(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=gn(),{borderClasses:a}=Sr(t),{colorClasses:o,colorStyles:l,variantClasses:u}=Lc(t),{densityClasses:d}=ls(t),{elevationClasses:c}=Wi(t),{roundedClasses:h}=qn(t),{sizeClasses:f}=Nh(t),{themeClasses:p}=Xt(t),m=Ue(t,"modelValue"),v=Bc(t,i5,!1),_=jh(t,n),b=O(()=>t.link!==!1&&_.isLink.value),x=O(()=>!t.disabled&&t.link!==!1&&(!!v||t.link||_.isClickable.value)),k=O(()=>({"aria-label":r(t.closeLabel),onClick(T){T.preventDefault(),T.stopPropagation(),m.value=!1,i("click:close",T)}}));function I(T){var S;i("click",T),x.value&&((S=_.navigate)==null||S.call(_,T),v==null||v.toggle())}function E(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),I(T))}return()=>{var L;const T=_.isLink.value?"a":t.tag,S=!!(t.appendIcon||t.appendAvatar),w=!!(S||s.append),C=!!(s.close||t.closable),P=!!(s.filter||t.filter)&&v,D=!!(t.prependIcon||t.prependAvatar),A=!!(D||s.prepend),F=!v||v.isSelected.value;return m.value&&In(g(T,Z({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":x.value,"v-chip--filter":P,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((L=_.isActive)==null?void 0:L.value)},p.value,a.value,F?o.value:void 0,d.value,c.value,h.value,f.value,u.value,v==null?void 0:v.selectedClass.value,t.class],style:[F?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:x.value?0:void 0,onClick:I,onKeydown:x.value&&!b.value&&E},_.linkProps),{default:()=>{var H;return[iu(x.value,"v-chip"),P&&g(KP,{key:"filter"},{default:()=>[In(g("div",{class:"v-chip__filter"},[s.filter?g(ut,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):g(Bt,{key:"filter-icon",icon:t.filterIcon},null)]),[[pa,v.isSelected.value]])]}),A&&g("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?g(ut,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):g(Pe,null,[t.prependIcon&&g(Bt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&g($s,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),g("div",{class:"v-chip__content","data-no-activator":""},[((H=s.default)==null?void 0:H.call(s,{isSelected:v==null?void 0:v.isSelected.value,selectedClass:v==null?void 0:v.selectedClass.value,select:v==null?void 0:v.select,toggle:v==null?void 0:v.toggle,value:v==null?void 0:v.value.value,disabled:t.disabled}))??t.text]),w&&g("div",{key:"append",class:"v-chip__append"},[s.append?g(ut,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):g(Pe,null,[t.appendIcon&&g(Bt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&g($s,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),C&&g("button",Z({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},k.value),[s.close?g(ut,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):g(Bt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[tr("ripple"),x.value&&t.ripple,null]])}}}),f1=Symbol.for("vuetify:list");function s5(){const t=mt(f1,{hasPrepend:Re(!1),updateHasPrepend:()=>null}),e={hasPrepend:Re(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Kt(f1,e),t}function r5(){return mt(f1,null)}const tC=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=Xe(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of bn(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},a5=t=>{const e=tC(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=Xe(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=bn(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},Bde=t=>{const e=tC(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},jde=t=>{const e=a5(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},$de={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},o5={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},Ude={open:o5.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},nC=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Xe(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[u,d]=l;return d==="on"&&o.push(u),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},l5=t=>{const e=nC(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=Xe(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},Hde=t=>{const e=nC(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},zde=t=>{const e=l5(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},Wde=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=Xe(i);const l=new Map(r),u=[i];for(;u.length;){const c=u.shift();r.set(Xe(c),s?"on":"off"),a.has(c)&&u.push(...a.get(c))}let d=Xe(o.get(i));for(;d;){const c=a.get(d),h=c.every(p=>r.get(Xe(p))==="on"),f=c.every(p=>!r.has(Xe(p))||r.get(Xe(p))==="off");r.set(d,h?"on":f?"off":"indeterminate"),d=Xe(o.get(d))}return t&&!s&&Array.from(r.entries()).reduce((h,f)=>{let[p,m]=f;return m==="on"&&h.push(p),h},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Jm=Symbol.for("vuetify:nested"),u5={id:Re(),root:{register:()=>null,unregister:()=>null,parents:G(new Map),children:G(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:G(!1),selectable:G(!1),opened:G(new Set),activated:G(new Set),selected:G(new Map),selectedValues:G([]),getPath:()=>[]}},Yde=ie({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Gde=t=>{let e=!1;const n=G(new Map),i=G(new Map),s=Ue(t,"opened",t.opened,p=>new Set(p),p=>[...p.values()]),r=O(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return Bde(t.mandatory);case"single-leaf":return jde(t.mandatory);case"independent":return tC(t.mandatory);case"single-independent":default:return a5(t.mandatory)}}),a=O(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return zde(t.mandatory);case"leaf":return Hde(t.mandatory);case"independent":return nC(t.mandatory);case"single-independent":return l5(t.mandatory);case"classic":default:return Wde(t.mandatory)}}),o=O(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Ude;case"single":return $de;case"multiple":default:return o5}}),l=Ue(t,"activated",t.activated,p=>r.value.in(p,n.value,i.value),p=>r.value.out(p,n.value,i.value)),u=Ue(t,"selected",t.selected,p=>a.value.in(p,n.value,i.value),p=>a.value.out(p,n.value,i.value));Oi(()=>{e=!0});function d(p){const m=[];let v=p;for(;v!=null;)m.unshift(v),v=i.value.get(v);return m}const c=Gn("nested"),h=new Set,f={id:Re(),root:{opened:s,activatable:me(t,"activatable"),selectable:me(t,"selectable"),activated:l,selected:u,selectedValues:O(()=>{const p=[];for(const[m,v]of u.value.entries())v==="on"&&p.push(m);return p}),register:(p,m,v)=>{if(h.has(p)){d(p).map(String).join(" -> "),d(m).concat(p).map(String).join(" -> ");return}else h.add(p);m&&p!==m&&i.value.set(p,m),v&&n.value.set(p,[]),m!=null&&n.value.set(m,[...n.value.get(m)||[],p])},unregister:p=>{if(e)return;h.delete(p),n.value.delete(p);const m=i.value.get(p);if(m){const v=n.value.get(m)??[];n.value.set(m,v.filter(_=>_!==p))}i.value.delete(p)},open:(p,m,v)=>{c.emit("click:open",{id:p,value:m,path:d(p),event:v});const _=o.value.open({id:p,value:m,opened:new Set(s.value),children:n.value,parents:i.value,event:v});_&&(s.value=_)},openOnSelect:(p,m,v)=>{const _=o.value.select({id:p,value:m,selected:new Map(u.value),opened:new Set(s.value),children:n.value,parents:i.value,event:v});_&&(s.value=_)},select:(p,m,v)=>{c.emit("click:select",{id:p,value:m,path:d(p),event:v});const _=a.value.select({id:p,value:m,selected:new Map(u.value),children:n.value,parents:i.value,event:v});_&&(u.value=_),f.root.openOnSelect(p,m,v)},activate:(p,m,v)=>{if(!t.activatable)return f.root.select(p,!0,v);c.emit("click:activate",{id:p,value:m,path:d(p),event:v});const _=r.value.activate({id:p,value:m,activated:new Set(l.value),children:n.value,parents:i.value,event:v});_&&(l.value=_)},children:n,parents:i,getPath:d}};return Kt(Jm,f),f.root},c5=(t,e)=>{const n=mt(Jm,u5),i=Symbol(zi()),s=O(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:O(()=>n.root.opened.value.has(s.value)),parent:O(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:O(()=>n.root.activated.value.has(Xe(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:O(()=>n.root.selected.value.get(Xe(s.value))==="on"),isIndeterminate:O(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:O(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return wh(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),Oi(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Kt(Jm,r),r},qde=()=>{const t=mt(Jm,u5);Kt(Jm,{...t,isGroupActivator:!0})},Xde=br({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return qde(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),d5=ie({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ye,default:"$collapse"},expandIcon:{type:Ye,default:"$expand"},prependIcon:Ye,appendIcon:Ye,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Be(),..._t()},"VListGroup"),Zm=ve()({name:"VListGroup",props:d5(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=c5(me(t,"value"),!0),a=O(()=>`v-list-group--id-${String(r.value)}`),o=r5(),{isBooted:l}=Vc();function u(f){f.stopPropagation(),s(!i.value,f)}const d=O(()=>({onClick:u,class:"v-list-group__header",id:a.value})),c=O(()=>i.value?t.collapseIcon:t.expandIcon),h=O(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&c.value,appendIcon:t.appendIcon||!t.subgroup&&c.value,title:t.title,value:t.value}}));return we(()=>g(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&g(ut,{defaults:h.value},{default:()=>[g(Xde,null,{default:()=>[n.activator({props:d.value,isOpen:i.value})]})]}),g(Ts,{transition:{component:uw},disabled:!l.value},{default:()=>{var f;return[In(g("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(f=n.default)==null?void 0:f.call(n)]),[[pa,i.value]])]}})]})),{isOpen:i}}}),Kde=ie({opacity:[Number,String],...Be(),..._t()},"VListItemSubtitle"),h5=ve()({name:"VListItemSubtitle",props:Kde(),setup(t,e){let{slots:n}=e;return we(()=>g(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),f5=Ja("v-list-item-title"),iC=ie({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ye,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ye,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Ri(),onClickOnce:Ri(),...nr(),...Be(),...Ti(),...hi(),...ki(),...Rn(),...Zg(),..._t(),...Lt(),...Br({variant:"text"})},"VListItem"),_r=ve()({name:"VListItem",directives:{Ripple:Yo},props:iC(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=jh(t,n),a=O(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:u,isOpen:d,isSelected:c,isIndeterminate:h,isGroupActivator:f,root:p,parent:m,openOnSelect:v,id:_}=c5(a,!1),b=r5(),x=O(()=>{var ue;return t.active!==!1&&(t.active||((ue=r.isActive)==null?void 0:ue.value)||(p.activatable.value?l.value:c.value))}),k=O(()=>t.link!==!1&&r.isLink.value),I=O(()=>!!b&&(p.selectable.value||p.activatable.value||t.value!=null)),E=O(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||I.value)),T=O(()=>t.rounded||t.nav),S=O(()=>t.color??t.activeColor),w=O(()=>({color:x.value?S.value??t.baseColor:t.baseColor,variant:t.variant}));be(()=>{var ue;return(ue=r.isActive)==null?void 0:ue.value},ue=>{ue&&C()}),wh(()=>{var ue;(ue=r.isActive)!=null&&ue.value&&C()});function C(){m.value!=null&&p.open(m.value,!0),v(!0)}const{themeClasses:P}=Xt(t),{borderClasses:D}=Sr(t),{colorClasses:A,colorStyles:F,variantClasses:L}=Lc(w),{densityClasses:H}=ls(t),{dimensionStyles:X}=fi(t),{elevationClasses:z}=Wi(t),{roundedClasses:K}=qn(T),Y=O(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),te=O(()=>({isActive:x.value,select:u,isOpen:d.value,isSelected:c.value,isIndeterminate:h.value}));function Q(ue){var re;s("click",ue),E.value&&((re=r.navigate)==null||re.call(r,ue),!f&&(p.activatable.value?o(!l.value,ue):(p.selectable.value||t.value!=null)&&u(!c.value,ue)))}function ee(ue){(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),ue.target.dispatchEvent(new MouseEvent("click",ue)))}return we(()=>{const ue=k.value?"a":t.tag,re=i.title||t.title!=null,se=i.subtitle||t.subtitle!=null,$=!!(t.appendAvatar||t.appendIcon),q=!!($||i.append),ae=!!(t.prependAvatar||t.prependIcon),_e=!!(ae||i.prepend);return b==null||b.updateHasPrepend(_e),t.activeColor&&Ene("active-color",["color","base-color"]),In(g(ue,Z({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":t.disabled,"v-list-item--link":E.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!_e&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&x.value},P.value,D.value,A.value,H.value,z.value,Y.value,K.value,L.value,t.class],style:[F.value,X.value,t.style],tabindex:E.value?b?-2:0:void 0,"aria-selected":I.value?p.activatable.value?l.value:p.selectable.value?c.value:x.value:void 0,onClick:Q,onKeydown:E.value&&!k.value&&ee},r.linkProps),{default:()=>{var ge;return[iu(E.value||x.value,"v-list-item"),_e&&g("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?g(ut,{key:"prepend-defaults",disabled:!ae,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var B;return[(B=i.prepend)==null?void 0:B.call(i,te.value)]}}):g(Pe,null,[t.prependAvatar&&g($s,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&g(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),g("div",{class:"v-list-item__spacer"},null)]),g("div",{class:"v-list-item__content","data-no-activator":""},[re&&g(f5,{key:"title"},{default:()=>{var B;return[((B=i.title)==null?void 0:B.call(i,{title:t.title}))??t.title]}}),se&&g(h5,{key:"subtitle"},{default:()=>{var B;return[((B=i.subtitle)==null?void 0:B.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(ge=i.default)==null?void 0:ge.call(i,te.value)]),q&&g("div",{key:"append",class:"v-list-item__append"},[i.append?g(ut,{key:"append-defaults",disabled:!$,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var B;return[(B=i.append)==null?void 0:B.call(i,te.value)]}}):g(Pe,null,[t.appendIcon&&g(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&g($s,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),g("div",{class:"v-list-item__spacer"},null)])]}}),[[tr("ripple"),E.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:f,isSelected:c,list:b,select:u,root:p,id:_}}}),Qde=ie({color:String,inset:Boolean,sticky:Boolean,title:String,...Be(),..._t()},"VListSubheader"),m5=ve()({name:"VListSubheader",props:Qde(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ui(me(t,"color"));return we(()=>{const r=!!(n.default||t.title);return g(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&g("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),g5=ie({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Be(),...Lt()},"VDivider"),Qr=ve()({name:"VDivider",props:g5(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Xt(t),{textColorClasses:r,textColorStyles:a}=Ui(me(t,"color")),o=O(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Le(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Le(t.thickness)),l});return we(()=>{const l=g("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?g("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,g("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),Jde=ie({items:Array,returnObject:Boolean},"VListChildren"),p5=ve()({name:"VListChildren",props:Jde(),setup(t,e){let{slots:n}=e;return s5(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var h,f;let{children:a,props:o,type:l,raw:u}=r;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:o}))??g(Qr,o,null);if(l==="subheader")return((f=n.subheader)==null?void 0:f.call(n,{props:o}))??g(m5,o,null);const d={subtitle:n.subtitle?p=>{var m;return(m=n.subtitle)==null?void 0:m.call(n,{...p,item:u})}:void 0,prepend:n.prepend?p=>{var m;return(m=n.prepend)==null?void 0:m.call(n,{...p,item:u})}:void 0,append:n.append?p=>{var m;return(m=n.append)==null?void 0:m.call(n,{...p,item:u})}:void 0,title:n.title?p=>{var m;return(m=n.title)==null?void 0:m.call(n,{...p,item:u})}:void 0},c=Zm.filterProps(o);return a?g(Zm,Z({value:o==null?void 0:o.value},c),{activator:p=>{let{props:m}=p;const v={...o,...m,value:t.returnObject?u:o.value};return n.header?n.header({props:v}):g(_r,v,d)},default:()=>g(p5,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):g(_r,Z(o,{value:t.returnObject?u:o.value}),d)}))}}}),v5=ie({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Ka}},"list-items");function ml(t,e){const n=ii(e,t.itemTitle,e),i=ii(e,t.itemValue,n),s=ii(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?en(e,["children"]):e:void 0:ii(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?_5(t,s):void 0,raw:e}}function _5(t,e){const n=[];for(const i of e)n.push(ml(t,i));return n}function sC(t){const e=O(()=>_5(t,t.items)),n=O(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?ml(t,a):e.value.find(o=>t.valueComparator(a,o.value))||ml(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:o}=a;return o}):r.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:s}}function Zde(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function ehe(t,e){const n=ii(e,t.itemType,"item"),i=Zde(e)?e:ii(e,t.itemTitle),s=ii(e,t.itemValue,void 0),r=ii(e,t.itemChildren),a=t.itemProps===!0?en(e,["children"]):ii(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?y5(t,r):void 0,raw:e}}function y5(t,e){const n=[];for(const i of e)n.push(ehe(t,i));return n}function b5(t){return{items:O(()=>y5(t,t.items))}}const w5=ie({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Ye,collapseIcon:Ye,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Ri(),"onClick:select":Ri(),"onUpdate:opened":Ri(),...Yde({selectStrategy:"single-leaf",openStrategy:"list"}),...nr(),...Be(),...Ti(),...hi(),...ki(),itemType:{type:String,default:"type"},...v5(),...Rn(),..._t(),...Lt(),...Br({variant:"text"})},"VList"),lh=ve()({name:"VList",props:w5(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=b5(t),{themeClasses:s}=Xt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(me(t,"bgColor")),{borderClasses:o}=Sr(t),{densityClasses:l}=ls(t),{dimensionStyles:u}=fi(t),{elevationClasses:d}=Wi(t),{roundedClasses:c}=qn(t),{children:h,open:f,parents:p,select:m,getPath:v}=Gde(t),_=O(()=>t.lines?`v-list--${t.lines}-line`:void 0),b=me(t,"activeColor"),x=me(t,"baseColor"),k=me(t,"color");s5(),Dn({VListGroup:{activeColor:b,baseColor:x,color:k,expandIcon:me(t,"expandIcon"),collapseIcon:me(t,"collapseIcon")},VListItem:{activeClass:me(t,"activeClass"),activeColor:b,baseColor:x,color:k,density:me(t,"density"),disabled:me(t,"disabled"),lines:me(t,"lines"),nav:me(t,"nav"),slim:me(t,"slim"),variant:me(t,"variant")}});const I=Re(!1),E=G();function T(A){I.value=!0}function S(A){I.value=!1}function w(A){var F;!I.value&&!(A.relatedTarget&&((F=E.value)!=null&&F.contains(A.relatedTarget)))&&D()}function C(A){const F=A.target;if(!(!E.value||["INPUT","TEXTAREA"].includes(F.tagName))){if(A.key==="ArrowDown")D("next");else if(A.key==="ArrowUp")D("prev");else if(A.key==="Home")D("first");else if(A.key==="End")D("last");else return;A.preventDefault()}}function P(A){I.value=!0}function D(A){if(E.value)return Uu(E.value,A)}return we(()=>g(t.tag,{ref:E,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,d.value,_.value,c.value,t.class],style:[a.value,u.value,t.style],tabindex:t.disabled||I.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:T,onFocusout:S,onFocus:w,onKeydown:C,onMousedown:P},{default:()=>[g(p5,{items:i.value,returnObject:t.returnObject},n)]})),{open:f,select:m,focus:D,children:h,parents:p,getPath:v}}}),the=Ja("v-list-img"),nhe=ie({start:Boolean,end:Boolean,...Be(),..._t()},"VListItemAction"),x5=ve()({name:"VListItemAction",props:nhe(),setup(t,e){let{slots:n}=e;return we(()=>g(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),ihe=ie({start:Boolean,end:Boolean,...Be(),..._t()},"VListItemMedia"),she=ve()({name:"VListItemMedia",props:ihe(),setup(t,e){let{slots:n}=e;return we(()=>g(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function Z0(t,e){return{x:t.x+e.x,y:t.y+e.y}}function rhe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function RO(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Z0({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Z0({x:s,y:r},e)}return Z0({x:e.width/2,y:e.height/2},e)}const S5={static:lhe,connected:che},ahe=ie({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in S5},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ohe(t,e){const n=G({}),i=G();Wt&&Ns(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;be(()=>t.locationStrategy,r),as(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=S5[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function lhe(){}function uhe(t,e){const n=xP(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function che(t,e,n){(Array.isArray(t.target.value)||Xne(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=bP(()=>{const p=BS(e.location,t.isRtl.value),m=e.origin==="overlap"?p:e.origin==="auto"?$0(p):BS(e.origin,t.isRtl.value);return p.side===m.side&&p.align===U0(m).align?{preferredAnchor:fR(p),preferredOrigin:fR(m)}:{preferredAnchor:p,preferredOrigin:m}}),[a,o,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>O(()=>{const m=parseFloat(e[p]);return isNaN(m)?1/0:m})),d=O(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const p=e.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let c=!1;const h=new ResizeObserver(()=>{c&&f()});be([t.target,t.contentEl],(p,m)=>{let[v,_]=p,[b,x]=m;b&&!Array.isArray(b)&&h.unobserve(b),v&&!Array.isArray(v)&&h.observe(v),x&&h.unobserve(x),_&&h.observe(_)},{immediate:!0}),as(()=>{h.disconnect()});function f(){if(c=!1,requestAnimationFrame(()=>c=!0),!t.target.value||!t.contentEl.value)return;const p=Tj(t.target.value),m=uhe(t.contentEl.value,t.isRtl.value),v=Nm(t.contentEl.value),_=12;v.length||(v.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=v.reduce((P,D)=>{const A=D.getBoundingClientRect(),F=new Hu({x:D===document.documentElement?0:A.x,y:D===document.documentElement?0:A.y,width:D.clientWidth,height:D.clientHeight});return P?new Hu({x:Math.max(P.left,F.left),y:Math.max(P.top,F.top),width:Math.min(P.right,F.right)-Math.max(P.left,F.left),height:Math.min(P.bottom,F.bottom)-Math.max(P.top,F.top)}):F},void 0);b.x+=_,b.y+=_,b.width-=_*2,b.height-=_*2;let x={anchor:s.value,origin:r.value};function k(P){const D=new Hu(m),A=RO(P.anchor,p),F=RO(P.origin,D);let{x:L,y:H}=rhe(A,F);switch(P.anchor.side){case"top":H-=d.value[0];break;case"bottom":H+=d.value[0];break;case"left":L-=d.value[0];break;case"right":L+=d.value[0];break}switch(P.anchor.align){case"top":H-=d.value[1];break;case"bottom":H+=d.value[1];break;case"left":L-=d.value[1];break;case"right":L+=d.value[1];break}return D.x+=L,D.y+=H,D.width=Math.min(D.width,l.value),D.height=Math.min(D.height,u.value),{overflows:gR(D,b),x:L,y:H}}let I=0,E=0;const T={x:0,y:0},S={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:P,y:D,overflows:A}=k(x);I+=P,E+=D,m.x+=P,m.y+=D;{const F=mR(x.anchor),L=A.x.before||A.x.after,H=A.y.before||A.y.after;let X=!1;if(["x","y"].forEach(z=>{if(z==="x"&&L&&!S.x||z==="y"&&H&&!S.y){const K={anchor:{...x.anchor},origin:{...x.origin}},Y=z==="x"?F==="y"?U0:$0:F==="y"?$0:U0;K.anchor=Y(K.anchor),K.origin=Y(K.origin);const{overflows:te}=k(K);(te[z].before<=A[z].before&&te[z].after<=A[z].after||te[z].before+te[z].after<(A[z].before+A[z].after)/2)&&(x=K,X=S[z]=!0)}}),X)continue}A.x.before&&(I+=A.x.before,m.x+=A.x.before),A.x.after&&(I-=A.x.after,m.x-=A.x.after),A.y.before&&(E+=A.y.before,m.y+=A.y.before),A.y.after&&(E-=A.y.after,m.y-=A.y.after);{const F=gR(m,b);T.x=b.width-F.x.before-F.x.after,T.y=b.height-F.y.before-F.y.after,I+=F.x.before,m.x+=F.x.before,E+=F.y.before,m.y+=F.y.before}break}const C=mR(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:Le(ex(E)),left:t.isRtl.value?void 0:Le(ex(I)),right:t.isRtl.value?Le(ex(-I)):void 0,minWidth:Le(C==="y"?Math.min(a.value,p.width):a.value),maxWidth:Le(OO($n(T.x,a.value===1/0?0:a.value,l.value))),maxHeight:Le(OO($n(T.y,o.value===1/0?0:o.value,u.value)))}),{available:T,contentBox:m}}return be(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),vt(()=>{const p=f();if(!p)return;const{available:m,contentBox:v}=p;v.height>m.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function ex(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function OO(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let m1=!0;const ty=[];function dhe(t){!m1||ty.length?(ty.push(t),g1()):(m1=!1,t(),g1())}let MO=-1;function g1(){cancelAnimationFrame(MO),MO=requestAnimationFrame(()=>{const t=ty.shift();t&&t(),ty.length?g1():m1=!0})}const Bv={none:null,close:mhe,block:ghe,reposition:phe},hhe=ie({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Bv}},"VOverlay-scroll-strategies");function fhe(t,e){if(!Wt)return;let n;yn(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Sg(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=Bv[t.scrollStrategy])==null||i.call(Bv,e,t,n)}))}),as(()=>{n==null||n.stop()})}function mhe(t){function e(n){t.isActive.value=!1}k5(t.targetEl.value??t.contentEl.value,e)}function ghe(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Nm(t.targetEl.value,e.contained?n:void 0),...Nm(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>CP(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Le(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Le(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Le(s)),o.classList.add("v-overlay-scroll-blocked")}),as(()=>{i.forEach((o,l)=>{const u=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),c=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-u,o.scrollTop=-d,o.style.scrollBehavior=c}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function phe(t,e,n){let i=!1,s=-1,r=-1;function a(o){dhe(()=>{var d,c;const l=performance.now();(c=(d=t.updateLocation).value)==null||c.call(d,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{k5(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),as(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function k5(t,e){const n=[document,...Nm(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),as(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const p1=Symbol.for("vuetify:v-menu"),gw=ie({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function rC(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=mne(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const vhe=ie({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...gw()},"VOverlay-activator");function _he(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=Gn("useActivator"),a=G();let o=!1,l=!1,u=!0;const d=O(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=O(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!d.value),{runOpenDelay:h,runCloseDelay:f}=rC(t,S=>{S===(t.openOnHover&&o||d.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(u=!0),n.value=S)}),p=G(),m={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(p.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var w;(w=S.sourceCapabilities)!=null&&w.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,h())},onMouseleave:S=>{o=!1,f()},onFocus:S=>{ih(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,h())},onBlur:S=>{l=!1,S.stopPropagation(),f()}},v=O(()=>{const S={};return c.value&&(S.onClick=m.onClick),t.openOnHover&&(S.onMouseenter=m.onMouseenter,S.onMouseleave=m.onMouseleave),d.value&&(S.onFocus=m.onFocus,S.onBlur=m.onBlur),S}),_=O(()=>{const S={};if(t.openOnHover&&(S.onMouseenter=()=>{o=!0,h()},S.onMouseleave=()=>{o=!1,f()}),d.value&&(S.onFocusin=()=>{l=!0,h()},S.onFocusout=()=>{l=!1,f()}),t.closeOnContentClick){const w=mt(p1,null);S.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return S}),b=O(()=>{const S={};return t.openOnHover&&(S.onMouseenter=()=>{u&&(o=!0,u=!1,h())},S.onMouseleave=()=>{o=!1,f()}),S});be(i,S=>{var w;S&&(t.openOnHover&&!o&&(!d.value||!l)||d.value&&!l&&(!t.openOnHover||!o))&&!((w=s.value)!=null&&w.contains(document.activeElement))&&(n.value=!1)}),be(n,S=>{S||setTimeout(()=>{p.value=void 0})},{flush:"post"});const x=F_();yn(()=>{x.value&&vt(()=>{a.value=x.el})});const k=F_(),I=O(()=>t.target==="cursor"&&p.value?p.value:k.value?k.el:T5(t.target,r)||a.value),E=O(()=>Array.isArray(I.value)?void 0:I.value);let T;return be(()=>!!t.activator,S=>{S&&Wt?(T=Sg(),T.run(()=>{yhe(t,r,{activatorEl:a,activatorEvents:v})})):T&&T.stop()},{flush:"post",immediate:!0}),as(()=>{T==null||T.stop()}),{activatorEl:a,activatorRef:x,target:I,targetEl:E,targetRef:k,activatorEvents:v,contentEvents:_,scrimEvents:b}}function yhe(t,e,n){let{activatorEl:i,activatorEvents:s}=n;be(()=>t.activator,(l,u)=>{if(u&&l!==u){const d=o(u);d&&a(d)}l&&vt(()=>r())},{immediate:!0}),be(()=>t.activatorProps,()=>{r()}),as(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&vne(l,Z(s.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&_ne(l,Z(s.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const u=T5(l,e);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function T5(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function P5(){if(!Wt)return Re(!1);const{ssr:t}=wr();if(t){const e=Re(!1);return kt(()=>{e.value=!0}),e}else return Re(!0)}const aC=ie({eager:Boolean},"lazy");function oC(t,e){const n=Re(!1),i=O(()=>n.value||t.eager||e.value);be(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function Uc(){const e=Gn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const VO=Symbol.for("vuetify:stack"),yf=mn([]);function bhe(t,e,n){const i=Gn("useStack"),s=!n,r=mt(VO,void 0),a=mn({activeChildren:new Set});Kt(VO,a);const o=Re(+e.value);Ns(t,()=>{var c;const d=(c=yf.at(-1))==null?void 0:c[1];o.value=d?d+10:+e.value,s&&yf.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),as(()=>{if(s){const h=Xe(yf).findIndex(f=>f[0]===i.uid);yf.splice(h,1)}r==null||r.activeChildren.delete(i.uid)})});const l=Re(!0);s&&yn(()=>{var c;const d=((c=yf.at(-1))==null?void 0:c[0])===i.uid;setTimeout(()=>l.value=d)});const u=O(()=>!a.activeChildren.size);return{globalTop:bh(l),localTop:u,stackStyles:O(()=>({zIndex:o.value}))}}function whe(t){return{teleportTarget:O(()=>{const n=t();if(n===!0||!Wt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function xhe(){return!0}function C5(t,e,n){if(!t||E5(t,n)===!1)return!1;const i=Fj(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function E5(t,e){return(typeof e.value=="object"&&e.value.closeConditional||xhe)(t)}function She(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&C5(t,e,n)&&setTimeout(()=>{E5(t,n)&&i&&i(t)},0)}function LO(t,e){const n=Fj(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const I5={mounted(t,e){const n=s=>She(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=C5(s,t,e)};LO(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(LO(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function khe(t){const{modelValue:e,color:n,...i}=t;return g(Al,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&g("div",Z({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const tp=ie({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...vhe(),...Be(),...hi(),...aC(),...ahe(),...hhe(),...Lt(),...va()},"VOverlay"),da=ve()({name:"VOverlay",directives:{ClickOutside:I5},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...tp()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=Gn("VOverlay"),a=G(),o=G(),l=G(),u=Ue(t,"modelValue"),d=O({get:()=>u.value,set:se=>{se&&t.disabled||(u.value=se)}}),{themeClasses:c}=Xt(t),{rtlClasses:h,isRtl:f}=Si(),{hasContent:p,onAfterLeave:m}=oC(t,d),v=rn(O(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:_,localTop:b,stackStyles:x}=bhe(d,me(t,"zIndex"),t._disableGlobalStack),{activatorEl:k,activatorRef:I,target:E,targetEl:T,targetRef:S,activatorEvents:w,contentEvents:C,scrimEvents:P}=_he(t,{isActive:d,isTop:b,contentEl:l}),{teleportTarget:D}=whe(()=>{var q,ae,_e;const se=t.attach||t.contained;if(se)return se;const $=((q=k==null?void 0:k.value)==null?void 0:q.getRootNode())||((_e=(ae=r.proxy)==null?void 0:ae.$el)==null?void 0:_e.getRootNode());return $ instanceof ShadowRoot?$:!1}),{dimensionStyles:A}=fi(t),F=P5(),{scopeId:L}=Uc();be(()=>t.disabled,se=>{se&&(d.value=!1)});const{contentStyles:H,updateLocation:X}=ohe(t,{isRtl:f,contentEl:l,target:E,isActive:d});fhe(t,{root:a,contentEl:l,targetEl:T,isActive:d,updateLocation:X});function z(se){s("click:outside",se),t.persistent?ee():d.value=!1}function K(se){return d.value&&_.value&&(!t.scrim||se.target===o.value||se instanceof MouseEvent&&se.shadowTarget===o.value)}Wt&&be(d,se=>{se?window.addEventListener("keydown",Y):window.removeEventListener("keydown",Y)},{immediate:!0}),Oi(()=>{Wt&&window.removeEventListener("keydown",Y)});function Y(se){var $,q;se.key==="Escape"&&_.value&&(t.persistent?ee():(d.value=!1,($=l.value)!=null&&$.contains(document.activeElement)&&((q=k.value)==null||q.focus())))}const te=L4();Ns(()=>t.closeOnBack,()=>{dde(te,se=>{_.value&&d.value?(se(!1),t.persistent?ee():d.value=!1):se()})});const Q=G();be(()=>d.value&&(t.absolute||t.contained)&&D.value==null,se=>{if(se){const $=PP(a.value);$&&$!==document.scrollingElement&&(Q.value=$.scrollTop)}});function ee(){t.noClickAnimation||l.value&&Ou(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Lm})}function ue(){s("afterEnter")}function re(){m(),s("afterLeave")}return we(()=>{var se;return g(Pe,null,[(se=n.activator)==null?void 0:se.call(n,{isActive:d.value,targetRef:S,props:Z({ref:I},w.value,t.activatorProps)}),F.value&&p.value&&g(rL,{disabled:!D.value,to:D.value},{default:()=>[g("div",Z({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":d.value,"v-overlay--contained":t.contained},c.value,h.value,t.class],style:[x.value,{"--v-overlay-opacity":t.opacity,top:Le(Q.value)},t.style],ref:a},L,i),[g(khe,Z({color:v,modelValue:d.value&&!!t.scrim,ref:o},P.value),null),g(Ts,{appear:!0,persisted:!0,transition:t.transition,target:E.value,onAfterEnter:ue,onAfterLeave:re},{default:()=>{var $;return[In(g("div",Z({ref:l,class:["v-overlay__content",t.contentClass],style:[A.value,H.value]},C.value,t.contentProps),[($=n.default)==null?void 0:$.call(n,{isActive:d})]),[[pa,d.value],[tr("click-outside"),{handler:z,closeConditional:K,include:()=>[k.value]}]])]}})])]})])}),{activatorEl:k,scrimEl:o,target:E,animateClick:ee,contentEl:l,globalTop:_,localTop:b,updateLocation:X}}}),tx=Symbol("Forwarded refs");function nx(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function kr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[tx]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=nx(l.value,r)??("_"in l.value?nx((o=l.value._)==null?void 0:o.setupState,r):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[tx];if(!u)continue;const d=u.slice();for(;d.length;){const c=d.shift(),h=nx(c.value,r);if(h)return h;const f=c.value&&c.value[tx];f&&d.push(...f)}}}}})}const D5=ie({id:String,submenu:Boolean,...en(tp({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:lw}}),["absolute"])},"VMenu"),lc=ve()({name:"VMenu",props:D5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),{scopeId:s}=Uc(),{isRtl:r}=Si(),a=zi(),o=O(()=>t.id||`v-menu-${a}`),l=G(),u=mt(p1,null),d=Re(new Set);Kt(p1,{register(){d.value.add(a)},unregister(){d.value.delete(a)},closeParents(v){setTimeout(()=>{var _;!d.value.size&&!t.persistent&&(v==null||(_=l.value)!=null&&_.contentEl&&!gne(v,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),Oi(()=>{u==null||u.unregister(),document.removeEventListener("focusin",c)}),Lk(()=>i.value=!1);async function c(v){var x,k,I;const _=v.relatedTarget,b=v.target;await vt(),i.value&&_!==b&&((x=l.value)!=null&&x.contentEl)&&((k=l.value)!=null&&k.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((I=Vm(l.value.contentEl)[0])==null||I.focus())}be(i,v=>{v?(u==null||u.register(),Wt&&document.addEventListener("focusin",c,{once:!0})):(u==null||u.unregister(),Wt&&document.removeEventListener("focusin",c))},{immediate:!0});function h(v){u==null||u.closeParents(v)}function f(v){var _,b,x,k,I;if(!t.disabled)if(v.key==="Tab"||v.key==="Enter"&&!t.closeOnContentClick){if(v.key==="Enter"&&(v.target instanceof HTMLTextAreaElement||v.target instanceof HTMLInputElement&&v.target.closest("form")))return;v.key==="Enter"&&v.preventDefault(),xj(Vm((_=l.value)==null?void 0:_.contentEl,!1),v.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(i.value=!1,(x=(b=l.value)==null?void 0:b.activatorEl)==null||x.focus())}else t.submenu&&v.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(I=(k=l.value)==null?void 0:k.activatorEl)==null||I.focus())}function p(v){var b;if(t.disabled)return;const _=(b=l.value)==null?void 0:b.contentEl;_&&i.value?v.key==="ArrowDown"?(v.preventDefault(),v.stopImmediatePropagation(),Uu(_,"next")):v.key==="ArrowUp"?(v.preventDefault(),v.stopImmediatePropagation(),Uu(_,"prev")):t.submenu&&(v.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:v.key===(r.value?"ArrowLeft":"ArrowRight")&&(v.preventDefault(),Uu(_,"first"))):(t.submenu?v.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(v.key))&&(i.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>p(v))))}const m=O(()=>Z({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:p},t.activatorProps));return we(()=>{const v=da.filterProps(t);return g(da,Z({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},v,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,absolute:!0,activatorProps:m.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":h,onKeydown:f},s),{activator:n.activator,default:function(){for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];return g(ut,{root:"VMenu"},{default:()=>{var k;return[(k=n.default)==null?void 0:k.call(n,...b)]}})}})}),kr({id:o,ΨopenChildren:d},l)}}),The=ie({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Be(),...va({transition:{component:XP}})},"VCounter"),pw=ve()({name:"VCounter",functional:!0,props:The(),setup(t,e){let{slots:n}=e;const i=O(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return we(()=>g(Ts,{transition:t.transition},{default:()=>[In(g("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[pa,t.active]])]})),{}}}),Phe=ie({floating:Boolean,...Be()},"VFieldLabel"),Mf=ve()({name:"VFieldLabel",props:Phe(),setup(t,e){let{slots:n}=e;return we(()=>g($h,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),Che=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],np=ie({appendInnerIcon:Ye,bgColor:String,clearable:Boolean,clearIcon:{type:Ye,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ye,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Che.includes(t)},"onClick:clear":Ri(),"onClick:appendInner":Ri(),"onClick:prependInner":Ri(),...Be(),...hw(),...Rn(),...Lt()},"VField"),Hh=ve()({name:"VField",inheritAttrs:!1,props:{id:String,...Uh(),...np()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Xt(t),{loaderClasses:a}=Qg(t),{focusClasses:o,isFocused:l,focus:u,blur:d}=eo(t),{InputIcon:c}=X4(t),{roundedClasses:h}=qn(t),{rtlClasses:f}=Si(),p=O(()=>t.dirty||t.active),m=O(()=>!t.singleLine&&!!(t.label||s.label)),v=zi(),_=O(()=>t.id||`input-${v}`),b=O(()=>`${_.value}-messages`),x=G(),k=G(),I=G(),E=O(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:T,backgroundColorStyles:S}=rn(me(t,"bgColor")),{textColorClasses:w,textColorStyles:C}=Ui(O(()=>t.error||t.disabled?void 0:p.value&&l.value?t.color:t.baseColor));be(p,F=>{if(m.value){const L=x.value.$el,H=k.value.$el;requestAnimationFrame(()=>{const X=xP(L),z=H.getBoundingClientRect(),K=z.x-X.x,Y=z.y-X.y-(X.height/2-z.height/2),te=z.width/.75,Q=Math.abs(te-X.width)>1?{maxWidth:Le(te)}:void 0,ee=getComputedStyle(L),ue=getComputedStyle(H),re=parseFloat(ee.transitionDuration)*1e3||150,se=parseFloat(ue.getPropertyValue("--v-field-label-scale")),$=ue.getPropertyValue("color");L.style.visibility="visible",H.style.visibility="hidden",Ou(L,{transform:`translate(${K}px, ${Y}px) scale(${se})`,color:$,...Q},{duration:re,easing:Lm,direction:F?"normal":"reverse"}).finished.then(()=>{L.style.removeProperty("visibility"),H.style.removeProperty("visibility")})})}},{flush:"post"});const P=O(()=>({isActive:p,isFocused:l,controlRef:I,blur:d,focus:u}));function D(F){F.target!==document.activeElement&&F.preventDefault()}function A(F){var L;F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),F.stopPropagation(),(L=t["onClick:clear"])==null||L.call(t,new MouseEvent("click")))}return we(()=>{var K,Y,te;const F=t.variant==="outlined",L=!!(s["prepend-inner"]||t.prependInnerIcon),H=!!(t.clearable||s.clear),X=!!(s["append-inner"]||t.appendInnerIcon||H),z=()=>s.label?s.label({...P.value,label:t.label,props:{for:_.value}}):t.label;return g("div",Z({class:["v-field",{"v-field--active":p.value,"v-field--appended":X,"v-field--center-affix":t.centerAffix??!E.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":L,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!z(),[`v-field--variant-${t.variant}`]:!0},r.value,T.value,o.value,a.value,h.value,f.value,t.class],style:[S.value,t.style],onClick:D},n),[g("div",{class:"v-field__overlay"},null),g(Jg,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),L&&g("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&g(c,{key:"prepend-icon",name:"prependInner"},null),(K=s["prepend-inner"])==null?void 0:K.call(s,P.value)]),g("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&m.value&&g(Mf,{key:"floating-label",ref:k,class:[w.value],floating:!0,for:_.value,style:C.value},{default:()=>[z()]}),m.value&&g(Mf,{key:"label",ref:x,for:_.value},{default:()=>[z()]}),(Y=s.default)==null?void 0:Y.call(s,{...P.value,props:{id:_.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:d})]),H&&g(KP,{key:"clear"},{default:()=>[In(g("div",{class:"v-field__clearable",onMousedown:Q=>{Q.preventDefault(),Q.stopPropagation()}},[g(ut,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...P.value,props:{onKeydown:A,onFocus:u,onBlur:d,onClick:t["onClick:clear"]}}):g(c,{name:"clear",onKeydown:A,onFocus:u,onBlur:d},null)]})]),[[pa,t.dirty]])]}),X&&g("div",{key:"append",class:"v-field__append-inner"},[(te=s["append-inner"])==null?void 0:te.call(s,P.value),t.appendInnerIcon&&g(c,{key:"append-icon",name:"appendInner"},null)]),g("div",{class:["v-field__outline",w.value],style:C.value},[F&&g(Pe,null,[g("div",{class:"v-field__outline__start"},null),m.value&&g("div",{class:"v-field__outline__notch"},[g(Mf,{ref:k,floating:!0,for:_.value},{default:()=>[z()]})]),g("div",{class:"v-field__outline__end"},null)]),E.value&&m.value&&g(Mf,{ref:k,floating:!0,for:_.value},{default:()=>[z()]})])])}),{controlRef:I}}});function lC(t){const e=Object.keys(Hh.props).filter(n=>!Hb(n)&&n!=="class"&&n!=="style");return yP(t,e)}const Ehe=["color","file","time","date","datetime-local","week","month"],zh=ie({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Go(),...np()},"VTextField"),ha=ve()({name:"VTextField",directives:{Intersect:Kg},inheritAttrs:!1,props:zh(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ue(t,"modelValue"),{isFocused:a,focus:o,blur:l}=eo(t),u=O(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),d=O(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),c=O(()=>["plain","underlined"].includes(t.variant));function h(E,T){var S,w;!t.autofocus||!E||(w=(S=T[0].target)==null?void 0:S.focus)==null||w.call(S)}const f=G(),p=G(),m=G(),v=O(()=>Ehe.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function _(){var E;m.value!==document.activeElement&&((E=m.value)==null||E.focus()),a.value||o()}function b(E){i("mousedown:control",E),E.target!==m.value&&(_(),E.preventDefault())}function x(E){_(),i("click:control",E)}function k(E){E.stopPropagation(),_(),vt(()=>{r.value=null,wP(t["onClick:clear"],E)})}function I(E){var S;const T=E.target;if(r.value=T.value,(S=t.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(t.type)){const w=[T.selectionStart,T.selectionEnd];vt(()=>{T.selectionStart=w[0],T.selectionEnd=w[1]})}}return we(()=>{const E=!!(s.counter||t.counter!==!1&&t.counter!=null),T=!!(E||s.details),[S,w]=Ho(n),{modelValue:C,...P}=rs.filterProps(t),D=lC(t);return g(rs,Z({ref:f,modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":c.value},t.class],style:t.style},S,P,{centerAffix:!c.value,focused:a.value}),{...s,default:A=>{let{id:F,isDisabled:L,isDirty:H,isReadonly:X,isValid:z}=A;return g(Hh,Z({ref:p,onMousedown:b,onClick:x,"onClick:clear":k,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},D,{id:F.value,active:v.value||H.value,dirty:H.value||t.dirty,disabled:L.value,focused:a.value,error:z.value===!1}),{...s,default:K=>{let{props:{class:Y,...te}}=K;const Q=In(g("input",Z({ref:m,value:r.value,onInput:I,autofocus:t.autofocus,readonly:X.value,disabled:L.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:_,onBlur:l},te,w),null),[[tr("intersect"),{handler:h},null,{once:!0}]]);return g(Pe,null,[t.prefix&&g("span",{class:"v-text-field__prefix"},[g("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?g("div",{class:Y,"data-no-activator":""},[s.default(),Q]):$a(Q,{class:Y}),t.suffix&&g("span",{class:"v-text-field__suffix"},[g("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:T?A=>{var F;return g(Pe,null,[(F=s.details)==null?void 0:F.call(s,A),E&&g(Pe,null,[g("span",null,null),g(pw,{active:t.persistentCounter||a.value,value:u.value,max:d.value,disabled:t.disabled},s.counter)])])}:void 0})}),kr({},f,p,m)}}),Ihe=ie({renderless:Boolean,...Be()},"VVirtualScrollItem"),A5=ve()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ihe(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=ca(void 0,"border");be(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),we(()=>{var o,l;return t.renderless?g(Pe,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):g("div",Z({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),Dhe=-1,Ahe=1,ix=100,R5=ie({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function O5(t,e){const n=wr(),i=Re(0);yn(()=>{i.value=parseFloat(t.itemHeight||0)});const s=Re(0),r=Re(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=Re(0),o=Re(0),l=G(),u=G();let d=0;const{resizeRef:c,contentRect:h}=ca();yn(()=>{c.value=l.value});const f=O(()=>{var Y;return l.value===document.documentElement?n.height.value:((Y=h.value)==null?void 0:Y.height)||parseInt(t.height)||0}),p=O(()=>!!(l.value&&u.value&&f.value&&i.value));let m=Array.from({length:e.value.length}),v=Array.from({length:e.value.length});const _=Re(0);let b=-1;function x(Y){return m[Y]||i.value}const k=une(()=>{const Y=performance.now();v[0]=0;const te=e.value.length;for(let Q=1;Q<=te-1;Q++)v[Q]=(v[Q-1]||0)+x(Q-1);_.value=Math.max(_.value,performance.now()-Y)},_),I=be(p,Y=>{Y&&(I(),d=u.value.offsetTop,k.immediate(),H(),~b&&vt(()=>{Wt&&window.requestAnimationFrame(()=>{z(b),b=-1})}))});as(()=>{k.clear()});function E(Y,te){const Q=m[Y],ee=i.value;i.value=ee?Math.min(i.value,te):te,(Q!==te||ee!==i.value)&&(m[Y]=te,k())}function T(Y){return Y=$n(Y,0,e.value.length-1),v[Y]||0}function S(Y){return Rhe(v,Y)}let w=0,C=0,P=0;be(f,(Y,te)=>{te&&(H(),Y<te&&requestAnimationFrame(()=>{C=0,H()}))});let D=-1;function A(){if(!l.value||!u.value)return;const Y=l.value.scrollTop,te=performance.now();te-P>500?(C=Math.sign(Y-w),d=u.value.offsetTop):C=Y-w,w=Y,P=te,window.clearTimeout(D),D=window.setTimeout(F,500),H()}function F(){!l.value||!u.value||(C=0,P=0,window.clearTimeout(D),H())}let L=-1;function H(){cancelAnimationFrame(L),L=requestAnimationFrame(X)}function X(){if(!l.value||!f.value)return;const Y=w-d,te=Math.sign(C),Q=Math.max(0,Y-ix),ee=$n(S(Q),0,e.value.length),ue=Y+f.value+ix,re=$n(S(ue)+1,ee+1,e.value.length);if((te!==Dhe||ee<s.value)&&(te!==Ahe||re>r.value)){const se=T(s.value)-T(ee),$=T(re)-T(r.value);Math.max(se,$)>ix?(s.value=ee,r.value=re):(ee<=0&&(s.value=ee),re>=e.value.length&&(r.value=re))}a.value=T(s.value),o.value=T(e.value.length)-T(r.value)}function z(Y){const te=T(Y);!l.value||Y&&!te?b=Y:l.value.scrollTop=te}const K=O(()=>e.value.slice(s.value,r.value).map((Y,te)=>({raw:Y,index:te+s.value,key:Ub(Y)&&"value"in Y?Y.value:te+s.value})));return be(e,()=>{m=Array.from({length:e.value.length}),v=Array.from({length:e.value.length}),k.immediate(),H()},{deep:!0}),{calculateVisibleItems:H,containerRef:l,markerRef:u,computedItems:K,paddingTop:a,paddingBottom:o,scrollToIndex:z,handleScroll:A,handleScrollend:F,handleItemResize:E}}function Rhe(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const Ohe=ie({items:{type:Array,default:()=>[]},renderless:Boolean,...R5(),...Be(),...hi()},"VVirtualScroll"),vw=ve()({name:"VVirtualScroll",props:Ohe(),setup(t,e){let{slots:n}=e;const i=Gn("VVirtualScroll"),{dimensionStyles:s}=fi(t),{calculateVisibleItems:r,containerRef:a,markerRef:o,handleScroll:l,handleScrollend:u,handleItemResize:d,scrollToIndex:c,paddingTop:h,paddingBottom:f,computedItems:p}=O5(t,me(t,"items"));return Ns(()=>t.renderless,()=>{function m(){var b,x;const _=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[_]("scroll",l,{passive:!0}),document[_]("scrollend",u)):((b=a.value)==null||b[_]("scroll",l,{passive:!0}),(x=a.value)==null||x[_]("scrollend",u))}kt(()=>{a.value=PP(i.vnode.el,!0),m(!0)}),as(m)}),we(()=>{const m=p.value.map(v=>g(A5,{key:v.key,renderless:t.renderless,"onUpdate:height":_=>d(v.index,_)},{default:_=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:v.raw,index:v.index,..._})}}));return t.renderless?g(Pe,null,[g("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Le(h.value)}},null),m,g("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Le(f.value)}},null)]):g("div",{ref:a,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:u,style:[s.value,t.style]},[g("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Le(h.value),paddingBottom:Le(f.value)}},[m])])}),{calculateVisibleItems:r,scrollToIndex:c}}});function uC(t,e){const n=Re(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=be(n,()=>{l(),o()})}else o()})}async function a(o){var d,c;if(o.key==="Tab"&&((d=e.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(c=t.value)==null?void 0:c.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const h=l.getBoundingClientRect().top;for(const f of u)if(f.getBoundingClientRect().top>=h){f.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const f of[...u].reverse())if(f.getBoundingClientRect().bottom<=h){f.focus();break}}}return{onScrollPassive:s,onKeydown:a}}const cC=ie({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ye,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...v5({itemChildren:!1})},"Select"),Mhe=ie({...cC(),...en(zh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...va({transition:{component:lw}})},"VSelect"),dC=ve()({name:"VSelect",props:Mhe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=G(),r=G(),a=G(),o=Ue(t,"menu"),l=O({get:()=>o.value,set:K=>{var Y;o.value&&!K&&((Y=r.value)!=null&&Y.ΨopenChildren.size)||(o.value=K)}}),{items:u,transformIn:d,transformOut:c}=sC(t),h=Ue(t,"modelValue",[],K=>d(K===null?[null]:bn(K)),K=>{const Y=c(K);return t.multiple?Y:Y[0]??null}),f=O(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:h.value.length),p=ep(t),m=O(()=>h.value.map(K=>K.value)),v=Re(!1),_=O(()=>l.value?t.closeText:t.openText);let b="",x;const k=O(()=>t.hideSelected?u.value.filter(K=>!h.value.some(Y=>t.valueComparator(Y,K))):u.value),I=O(()=>t.hideNoData&&!k.value.length||p.isReadonly.value||p.isDisabled.value),E=O(()=>{var K;return{...t.menuProps,activatorProps:{...((K=t.menuProps)==null?void 0:K.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=G(),S=uC(T,s);function w(K){t.openOnClear&&(l.value=!0)}function C(){I.value||(l.value=!l.value)}function P(K){B_(K)&&D(K)}function D(K){var ee,ue;if(!K.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(K.key)&&K.preventDefault(),["Enter","ArrowDown"," "].includes(K.key)&&(l.value=!0),["Escape","Tab"].includes(K.key)&&(l.value=!1),K.key==="Home"?(ee=T.value)==null||ee.focus("first"):K.key==="End"&&((ue=T.value)==null||ue.focus("last"));const Y=1e3;if(t.multiple||!B_(K))return;const te=performance.now();te-x>Y&&(b=""),b+=K.key.toLowerCase(),x=te;const Q=u.value.find(re=>re.title.toLowerCase().startsWith(b));if(Q!==void 0){h.value=[Q];const re=k.value.indexOf(Q);Wt&&window.requestAnimationFrame(()=>{var se;re>=0&&((se=a.value)==null||se.scrollToIndex(re))})}}function A(K){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!K.props.disabled)if(t.multiple){const te=h.value.findIndex(ee=>t.valueComparator(ee.value,K.value)),Q=Y??!~te;if(~te){const ee=Q?[...h.value,K]:[...h.value];ee.splice(te,1),h.value=ee}else Q&&(h.value=[...h.value,K])}else{const te=Y!==!1;h.value=te?[K]:[],vt(()=>{l.value=!1})}}function F(K){var Y;(Y=T.value)!=null&&Y.$el.contains(K.relatedTarget)||(l.value=!1)}function L(){var K;t.eager&&((K=a.value)==null||K.calculateVisibleItems())}function H(){var K;v.value&&((K=s.value)==null||K.focus())}function X(K){v.value=!0}function z(K){if(K==null)h.value=[];else if(ih(s.value,":autofill")||ih(s.value,":-webkit-autofill")){const Y=u.value.find(te=>te.title===K);Y&&A(Y)}else s.value&&(s.value.value="")}return be(l,()=>{if(!t.hideSelected&&l.value&&h.value.length){const K=k.value.findIndex(Y=>h.value.some(te=>t.valueComparator(te.value,Y.value)));Wt&&window.requestAnimationFrame(()=>{var Y;K>=0&&((Y=a.value)==null||Y.scrollToIndex(K))})}}),be(()=>t.items,(K,Y)=>{l.value||v.value&&!Y.length&&K.length&&(l.value=!0)}),we(()=>{const K=!!(t.chips||n.chip),Y=!!(!t.hideNoData||k.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),te=h.value.length>0,Q=ha.filterProps(t),ee=te||!v.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return g(ha,Z({ref:s},Q,{modelValue:h.value.map(ue=>ue.props.value).join(", "),"onUpdate:modelValue":z,focused:v.value,"onUpdate:focused":ue=>v.value=ue,validationValue:h.externalValue,counterValue:f.value,dirty:te,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:ee,"onClick:clear":w,"onMousedown:control":C,onBlur:F,onKeydown:D,"aria-label":i(_.value),title:i(_.value)}),{...n,default:()=>g(Pe,null,[g(lc,Z({ref:r,modelValue:l.value,"onUpdate:modelValue":ue=>l.value=ue,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:L,onAfterLeave:H},E.value),{default:()=>[Y&&g(lh,Z({ref:T,selected:m.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ue=>ue.preventDefault(),onKeydown:P,onFocusin:X,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},S,t.listProps),{default:()=>{var ue,re,se;return[(ue=n["prepend-item"])==null?void 0:ue.call(n),!k.value.length&&!t.hideNoData&&(((re=n["no-data"])==null?void 0:re.call(n))??g(_r,{key:"no-data",title:i(t.noDataText)},null)),g(vw,{ref:a,renderless:!0,items:k.value},{default:$=>{var B;let{item:q,index:ae,itemRef:_e}=$;const ge=Z(q.props,{ref:_e,key:q.value,onClick:()=>A(q,null)});return((B=n.item)==null?void 0:B.call(n,{item:q,index:ae,props:ge}))??g(_r,Z(ge,{role:"option"}),{prepend:N=>{let{isSelected:W}=N;return g(Pe,null,[t.multiple&&!t.hideSelected?g(Wa,{key:q.value,modelValue:W,ripple:!1,tabindex:"-1"},null):void 0,q.props.prependAvatar&&g($s,{image:q.props.prependAvatar},null),q.props.prependIcon&&g(Bt,{icon:q.props.prependIcon},null)])}})}}),(se=n["append-item"])==null?void 0:se.call(n)]}})]}),h.value.map((ue,re)=>{function se(_e){_e.stopPropagation(),_e.preventDefault(),A(ue,!1)}const $={"onClick:close":se,onKeydown(_e){_e.key!=="Enter"&&_e.key!==" "||(_e.preventDefault(),_e.stopPropagation(),se(_e))},onMousedown(_e){_e.preventDefault(),_e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},q=K?!!n.chip:!!n.selection,ae=q?zb(K?n.chip({item:ue,index:re,props:$}):n.selection({item:ue,index:re})):void 0;if(!(q&&!ae))return g("div",{key:ue.value,class:"v-select__selection"},[K?n.chip?g(ut,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ue.title}}},{default:()=>[ae]}):g($c,Z({key:"chip",closable:t.closableChips,size:"small",text:ue.title,disabled:ue.props.disabled},$),null):ae??g("span",{class:"v-select__selection-text"},[ue.title,t.multiple&&re<h.value.length-1&&g("span",{class:"v-select__selection-comma"},[Ce(",")])])])})]),"append-inner":function(){var $;for(var ue=arguments.length,re=new Array(ue),se=0;se<ue;se++)re[se]=arguments[se];return g(Pe,null,[($=n["append-inner"])==null?void 0:$.call(n,...re),t.menuIcon?g(Bt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),kr({isFocused:v,menu:l,select:A},s)}}),Vhe=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Wh=ie({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Lhe(t,e,n){var o;const i=[],s=(n==null?void 0:n.default)??Vhe,r=n!=null&&n.filterKeys?bn(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[u,d=u]=bn(t[l]),c={},h={};let f=-1;if((e||a>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const v=r||Object.keys(d);for(const _ of v){const b=ii(d,_),x=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[_];if(f=x?x(b,e,u):s(b,e,u),f!==-1&&f!==!1)x?c[_]=f:h[_]=f;else if((n==null?void 0:n.filterMode)==="every")continue e}}else f=s(u,e,u),f!==-1&&f!==!1&&(h.title=f);const p=Object.keys(h).length,m=Object.keys(c).length;if(!p&&!m||(n==null?void 0:n.filterMode)==="union"&&m!==a&&!p||(n==null?void 0:n.filterMode)==="intersection"&&(m!==a||!p))continue}i.push({index:l,matches:{...h,...c}})}return i}function Yh(t,e,n,i){const s=G([]),r=G(new Map),a=O(()=>i!=null&&i.transform?oe(e).map(l=>[l,i.transform(l)]):oe(e));yn(()=>{const l=typeof n=="function"?n():oe(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),d=Lhe(a.value,u,{customKeyFilter:{...t.customKeyFilter,...oe(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),c=oe(e),h=[],f=new Map;d.forEach(p=>{let{index:m,matches:v}=p;const _=c[m];h.push(_),f.set(_.value,v)}),s.value=h,r.value=f});function o(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:o}}function Nhe(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?g(Pe,null,[g("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),g("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),g("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const Fhe=ie({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Wh({filterKeys:["title"]}),...cC(),...en(zh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...va({transition:!1})},"VAutocomplete"),Bhe=ve()({name:"VAutocomplete",props:Fhe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=G(),r=Re(!1),a=Re(!0),o=Re(!1),l=G(),u=G(),d=Ue(t,"menu"),c=O({get:()=>d.value,set:ge=>{var B;d.value&&!ge&&((B=l.value)!=null&&B.ΨopenChildren.size)||(d.value=ge)}}),h=Re(-1),f=O(()=>{var ge;return(ge=s.value)==null?void 0:ge.color}),p=O(()=>c.value?t.closeText:t.openText),{items:m,transformIn:v,transformOut:_}=sC(t),{textColorClasses:b,textColorStyles:x}=Ui(f),k=Ue(t,"search",""),I=Ue(t,"modelValue",[],ge=>v(ge===null?[null]:bn(ge)),ge=>{const B=_(ge);return t.multiple?B:B[0]??null}),E=O(()=>typeof t.counterValue=="function"?t.counterValue(I.value):typeof t.counterValue=="number"?t.counterValue:I.value.length),T=ep(t),{filteredItems:S,getMatches:w}=Yh(t,m,()=>a.value?"":k.value),C=O(()=>t.hideSelected?S.value.filter(ge=>!I.value.some(B=>B.value===ge.value)):S.value),P=O(()=>!!(t.chips||n.chip)),D=O(()=>P.value||!!n.selection),A=O(()=>I.value.map(ge=>ge.props.value)),F=O(()=>{var B;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&k.value===((B=C.value[0])==null?void 0:B.title))&&C.value.length>0&&!a.value&&!o.value}),L=O(()=>t.hideNoData&&!C.value.length||T.isReadonly.value||T.isDisabled.value),H=G(),X=uC(H,s);function z(ge){t.openOnClear&&(c.value=!0),k.value=""}function K(){L.value||(c.value=!0)}function Y(ge){L.value||(r.value&&(ge.preventDefault(),ge.stopPropagation()),c.value=!c.value)}function te(ge){var B;B_(ge)&&((B=s.value)==null||B.focus())}function Q(ge){var W,ce,de;if(T.isReadonly.value)return;const B=s.value.selectionStart,N=I.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ge.key))&&ge.preventDefault(),["Enter","ArrowDown"].includes(ge.key)&&(c.value=!0),["Escape"].includes(ge.key)&&(c.value=!1),F.value&&["Enter","Tab"].includes(ge.key)&&!I.value.some(ne=>{let{value:Te}=ne;return Te===C.value[0].value})&&_e(C.value[0]),ge.key==="ArrowDown"&&F.value&&((W=H.value)==null||W.focus("next")),["Backspace","Delete"].includes(ge.key)){if(!t.multiple&&D.value&&I.value.length>0&&!k.value)return _e(I.value[0],!1);if(~h.value){const ne=h.value;_e(I.value[h.value],!1),h.value=ne>=N-1?N-2:ne}else ge.key==="Backspace"&&!k.value&&(h.value=N-1)}if(t.multiple){if(ge.key==="ArrowLeft"){if(h.value<0&&B>0)return;const ne=h.value>-1?h.value-1:N-1;I.value[ne]?h.value=ne:(h.value=-1,s.value.setSelectionRange((ce=k.value)==null?void 0:ce.length,(de=k.value)==null?void 0:de.length))}if(ge.key==="ArrowRight"){if(h.value<0)return;const ne=h.value+1;I.value[ne]?h.value=ne:(h.value=-1,s.value.setSelectionRange(0,0))}}}function ee(ge){if(ih(s.value,":autofill")||ih(s.value,":-webkit-autofill")){const B=m.value.find(N=>N.title===ge.target.value);B&&_e(B)}}function ue(){var ge;t.eager&&((ge=u.value)==null||ge.calculateVisibleItems())}function re(){var ge;r.value&&(a.value=!0,(ge=s.value)==null||ge.focus())}function se(ge){r.value=!0,setTimeout(()=>{o.value=!0})}function $(ge){o.value=!1}function q(ge){(ge==null||ge===""&&!t.multiple&&!D.value)&&(I.value=[])}const ae=Re(!1);function _e(ge){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!ge||ge.props.disabled))if(t.multiple){const N=I.value.findIndex(ce=>t.valueComparator(ce.value,ge.value)),W=B??!~N;if(~N){const ce=W?[...I.value,ge]:[...I.value];ce.splice(N,1),I.value=ce}else W&&(I.value=[...I.value,ge]);t.clearOnSelect&&(k.value="")}else{const N=B!==!1;I.value=N?[ge]:[],k.value=N&&!D.value?ge.title:"",vt(()=>{c.value=!1,a.value=!0})}}return be(r,(ge,B)=>{var N;ge!==B&&(ge?(ae.value=!0,k.value=t.multiple||D.value?"":String(((N=I.value.at(-1))==null?void 0:N.props.title)??""),a.value=!0,vt(()=>ae.value=!1)):(!t.multiple&&k.value==null&&(I.value=[]),c.value=!1,I.value.some(W=>{let{title:ce}=W;return ce===k.value})||(k.value=""),h.value=-1))}),be(k,ge=>{!r.value||ae.value||(ge&&(c.value=!0),a.value=!ge)}),be(c,()=>{if(!t.hideSelected&&c.value&&I.value.length){const ge=C.value.findIndex(B=>I.value.some(N=>B.value===N.value));Wt&&window.requestAnimationFrame(()=>{var B;ge>=0&&((B=u.value)==null||B.scrollToIndex(ge))})}}),be(()=>t.items,(ge,B)=>{c.value||r.value&&!B.length&&ge.length&&(c.value=!0)}),we(()=>{const ge=!!(!t.hideNoData||C.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),B=I.value.length>0,N=ha.filterProps(t);return g(ha,Z({ref:s},N,{modelValue:k.value,"onUpdate:modelValue":[W=>k.value=W,q],focused:r.value,"onUpdate:focused":W=>r.value=W,validationValue:I.externalValue,counterValue:E.value,dirty:B,onChange:ee,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!D.value,"v-autocomplete--selecting-index":h.value>-1},t.class],style:t.style,readonly:T.isReadonly.value,placeholder:B?void 0:t.placeholder,"onClick:clear":z,"onMousedown:control":K,onKeydown:Q}),{...n,default:()=>g(Pe,null,[g(lc,Z({ref:l,modelValue:c.value,"onUpdate:modelValue":W=>c.value=W,activator:"parent",contentClass:"v-autocomplete__content",disabled:L.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ue,onAfterLeave:re},t.menuProps),{default:()=>[ge&&g(lh,Z({ref:H,selected:A.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:W=>W.preventDefault(),onKeydown:te,onFocusin:se,onFocusout:$,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},X,t.listProps),{default:()=>{var W,ce,de;return[(W=n["prepend-item"])==null?void 0:W.call(n),!C.value.length&&!t.hideNoData&&(((ce=n["no-data"])==null?void 0:ce.call(n))??g(_r,{key:"no-data",title:i(t.noDataText)},null)),g(vw,{ref:u,renderless:!0,items:C.value},{default:ne=>{var ze;let{item:Te,index:Me,itemRef:Se}=ne;const Ee=Z(Te.props,{ref:Se,key:Te.value,active:F.value&&Me===0?!0:void 0,onClick:()=>_e(Te,null)});return((ze=n.item)==null?void 0:ze.call(n,{item:Te,index:Me,props:Ee}))??g(_r,Z(Ee,{role:"option"}),{prepend:Fe=>{let{isSelected:qe}=Fe;return g(Pe,null,[t.multiple&&!t.hideSelected?g(Wa,{key:Te.value,modelValue:qe,ripple:!1,tabindex:"-1"},null):void 0,Te.props.prependAvatar&&g($s,{image:Te.props.prependAvatar},null),Te.props.prependIcon&&g(Bt,{icon:Te.props.prependIcon},null)])},title:()=>{var Fe,qe;return a.value?Te.title:Nhe(Te.title,(Fe=w(Te))==null?void 0:Fe.title,((qe=k.value)==null?void 0:qe.length)??0)}})}}),(de=n["append-item"])==null?void 0:de.call(n)]}})]}),I.value.map((W,ce)=>{function de(Se){Se.stopPropagation(),Se.preventDefault(),_e(W,!1)}const ne={"onClick:close":de,onKeydown(Se){Se.key!=="Enter"&&Se.key!==" "||(Se.preventDefault(),Se.stopPropagation(),de(Se))},onMousedown(Se){Se.preventDefault(),Se.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Te=P.value?!!n.chip:!!n.selection,Me=Te?zb(P.value?n.chip({item:W,index:ce,props:ne}):n.selection({item:W,index:ce})):void 0;if(!(Te&&!Me))return g("div",{key:W.value,class:["v-autocomplete__selection",ce===h.value&&["v-autocomplete__selection--selected",b.value]],style:ce===h.value?x.value:{}},[P.value?n.chip?g(ut,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:W.title}}},{default:()=>[Me]}):g($c,Z({key:"chip",closable:t.closableChips,size:"small",text:W.title,disabled:W.props.disabled},ne),null):Me??g("span",{class:"v-autocomplete__selection-text"},[W.title,t.multiple&&ce<I.value.length-1&&g("span",{class:"v-autocomplete__selection-comma"},[Ce(",")])])])})]),"append-inner":function(){var ne;for(var W=arguments.length,ce=new Array(W),de=0;de<W;de++)ce[de]=arguments[de];return g(Pe,null,[(ne=n["append-inner"])==null?void 0:ne.call(n,...ce),t.menuIcon?g(Bt,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:Y,onClick:Sj,"aria-label":i(p.value),title:i(p.value),tabindex:"-1"},null):void 0])}})}),kr({isFocused:r,isPristine:a,menu:c,search:k,filteredItems:S,select:_e},s)}}),jhe=ie({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ye,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Be(),...Wo({location:"top end"}),...Rn(),..._t(),...Lt(),...va({transition:"scale-rotate-transition"})},"VBadge"),M5=ve()({name:"VBadge",inheritAttrs:!1,props:jhe(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=rn(me(t,"color")),{roundedClasses:s}=qn(t),{t:r}=gn(),{textColorClasses:a,textColorStyles:o}=Ui(me(t,"textColor")),{themeClasses:l}=Gg(),{locationStyles:u}=jc(t,!0,d=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(d)?+(t.offsetY??0):["left","right"].includes(d)?+(t.offsetX??0):0));return we(()=>{const d=Number(t.content),c=!t.max||isNaN(d)?t.content:d<=+t.max?d:`${t.max}+`,[h,f]=NS(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return g(t.tag,Z({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},f,{style:t.style}),{default:()=>{var p,m;return[g("div",{class:"v-badge__wrapper"},[(m=(p=e.slots).default)==null?void 0:m.call(p),g(Ts,{transition:t.transition},{default:()=>{var v,_;return[In(g("span",Z({class:["v-badge__badge",l.value,n.value,s.value,a.value],style:[i.value,o.value,t.inline?{}:u.value],"aria-atomic":"true","aria-label":r(t.label,d),"aria-live":"polite",role:"status"},h),[t.dot?void 0:e.slots.badge?(_=(v=e.slots).badge)==null?void 0:_.call(v):t.icon?g(Bt,{icon:t.icon},null):c]),[[pa,t.modelValue]])]}})])]}})}),{}}}),$he=ie({color:String,density:String,...Be()},"VBannerActions"),V5=ve()({name:"VBannerActions",props:$he(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),we(()=>{var i;return g("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),L5=Ja("v-banner-text"),Uhe=ie({avatar:String,bgColor:String,color:String,icon:Ye,lines:String,stacked:Boolean,sticky:Boolean,text:String,...nr(),...Be(),...Ti(),...hi(),...Rc({mobile:null}),...ki(),...Wo(),...Fh(),...Rn(),..._t(),...Lt()},"VBanner"),Hhe=ve()({name:"VBanner",props:Uhe(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(t,"bgColor"),{borderClasses:r}=Sr(t),{densityClasses:a}=ls(t),{displayClasses:o,mobile:l}=wr(t),{dimensionStyles:u}=fi(t),{elevationClasses:d}=Wi(t),{locationStyles:c}=jc(t),{positionClasses:h}=Bh(t),{roundedClasses:f}=qn(t),{themeClasses:p}=Xt(t),m=me(t,"color"),v=me(t,"density");Dn({VBannerActions:{color:m,density:v}}),we(()=>{const _=!!(t.text||n.text),b=!!(t.avatar||t.icon),x=!!(b||n.prepend);return g(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},p.value,i.value,r.value,a.value,o.value,d.value,h.value,f.value,t.class],style:[s.value,u.value,c.value,t.style],role:"banner"},{default:()=>{var k;return[x&&g("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?g(ut,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{color:m.value,density:v.value,icon:t.icon,image:t.avatar}}},n.prepend):g($s,{key:"prepend-avatar",color:m.value,density:v.value,icon:t.icon,image:t.avatar},null)]),g("div",{class:"v-banner__content"},[_&&g(L5,{key:"text"},{default:()=>{var I;return[((I=n.text)==null?void 0:I.call(n))??t.text]}}),(k=n.default)==null?void 0:k.call(n)]),n.actions&&g(V5,{key:"actions"},n.actions)]}})})}}),zhe=ie({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...nr(),...Be(),...Ti(),...ki(),...Rn(),...Oc({name:"bottom-navigation"}),..._t({tag:"header"}),...Nc({selectedClass:"v-btn--selected"}),...Lt()},"VBottomNavigation"),Whe=ve()({name:"VBottomNavigation",props:zhe(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Gg(),{borderClasses:s}=Sr(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(me(t,"bgColor")),{densityClasses:o}=ls(t),{elevationClasses:l}=Wi(t),{roundedClasses:u}=qn(t),{ssrBootStyles:d}=Vc(),c=O(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),h=Ue(t,"active",t.active),{layoutItemStyles:f}=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:O(()=>"bottom"),layoutSize:O(()=>h.value?c.value:0),elementSize:c,active:h,absolute:me(t,"absolute")});return su(t,JP),Dn({VBtn:{baseColor:me(t,"baseColor"),color:me(t,"color"),density:me(t,"density"),stacked:O(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),we(()=>g(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":h.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,r.value,s.value,o.value,l.value,u.value,t.class],style:[a.value,f.value,{height:Le(c.value)},d.value,t.style]},{default:()=>[n.default&&g("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),N5=ie({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...tp({origin:"center center",scrollStrategy:"block",transition:{component:lw},zIndex:2400})},"VDialog"),v1=ve()({name:"VDialog",props:N5(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ue(t,"modelValue"),{scopeId:r}=Uc(),a=G();function o(d){var f,p;const c=d.relatedTarget,h=d.target;if(c!==h&&((f=a.value)!=null&&f.contentEl)&&((p=a.value)!=null&&p.globalTop)&&![document,a.value.contentEl].includes(h)&&!a.value.contentEl.contains(h)){const m=Vm(a.value.contentEl);if(!m.length)return;const v=m[0],_=m[m.length-1];c===v?_.focus():v.focus()}}Oi(()=>{document.removeEventListener("focusin",o)}),Wt&&be(()=>s.value&&t.retainFocus,d=>{d?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var d;n("afterEnter"),(d=a.value)!=null&&d.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return be(s,async d=>{var c;d||(await vt(),(c=a.value.activatorEl)==null||c.focus({preventScroll:!0}))}),we(()=>{const d=da.filterProps(t),c=Z({"aria-haspopup":"dialog"},t.activatorProps),h=Z({tabindex:-1},t.contentProps);return g(da,Z({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},d,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,"aria-modal":"true",activatorProps:c,contentProps:h,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:u},r),{activator:i.activator,default:function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return g(ut,{root:"VDialog"},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,...p)]}})}})}),kr({},a)}}),Yhe=ie({inset:Boolean,...N5({transition:"bottom-sheet-transition"})},"VBottomSheet"),Ghe=ve()({name:"VBottomSheet",props:Yhe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue");return we(()=>{const s=v1.filterProps(t);return g(v1,Z(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),qhe=ie({divider:[Number,String],...Be()},"VBreadcrumbsDivider"),F5=ve()({name:"VBreadcrumbsDivider",props:qhe(),setup(t,e){let{slots:n}=e;return we(()=>{var i;return g("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),Xhe=ie({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Be(),...Zg(),..._t({tag:"li"})},"VBreadcrumbsItem"),B5=ve()({name:"VBreadcrumbsItem",props:Xhe(),setup(t,e){let{slots:n,attrs:i}=e;const s=jh(t,i),r=O(()=>{var u;return t.active||((u=s.isActive)==null?void 0:u.value)}),a=O(()=>r.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=Ui(a);return we(()=>g(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":r.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:r.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":r.value?"page":void 0},{default:()=>{var u,d;return[s.isLink.value?g("a",Z({class:"v-breadcrumbs-item--link",onClick:s.navigate},s.linkProps),[((d=n.default)==null?void 0:d.call(n))??t.title]):((u=n.default)==null?void 0:u.call(n))??t.title]}})),{}}}),Khe=ie({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ye,items:{type:Array,default:()=>[]},...Be(),...Ti(),...Rn(),..._t({tag:"ul"})},"VBreadcrumbs"),Qhe=ve()({name:"VBreadcrumbs",props:Khe(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(me(t,"bgColor")),{densityClasses:r}=ls(t),{roundedClasses:a}=qn(t);Dn({VBreadcrumbsDivider:{divider:me(t,"divider")},VBreadcrumbsItem:{activeClass:me(t,"activeClass"),activeColor:me(t,"activeColor"),color:me(t,"color"),disabled:me(t,"disabled")}});const o=O(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return we(()=>{const l=!!(n.prepend||t.icon);return g(t.tag,{class:["v-breadcrumbs",i.value,r.value,a.value,t.class],style:[s.value,t.style]},{default:()=>{var u;return[l&&g("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?g(ut,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):g(Bt,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((d,c,h)=>{var m;let{item:f,raw:p}=d;return g(Pe,null,[((m=n.item)==null?void 0:m.call(n,{item:f,index:c}))??g(B5,Z({key:c,disabled:c>=h.length-1},typeof f=="string"?{title:f}:f),{default:n.title?()=>{var v;return(v=n.title)==null?void 0:v.call(n,{item:f,index:c})}:void 0}),c<h.length-1&&g(F5,null,{default:n.divider?()=>{var v;return(v=n.divider)==null?void 0:v.call(n,{item:p,index:c})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),j5=ve()({name:"VCardActions",props:Be(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{slim:!0,variant:"text"}}),we(()=>{var i;return g("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Jhe=ie({opacity:[Number,String],...Be(),..._t()},"VCardSubtitle"),$5=ve()({name:"VCardSubtitle",props:Jhe(),setup(t,e){let{slots:n}=e;return we(()=>g(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),U5=Ja("v-card-title"),Zhe=ie({appendAvatar:String,appendIcon:Ye,prependAvatar:String,prependIcon:Ye,subtitle:[String,Number],title:[String,Number],...Be(),...Ti()},"VCardItem"),H5=ve()({name:"VCardItem",props:Zhe(),setup(t,e){let{slots:n}=e;return we(()=>{var u;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return g("div",{class:["v-card-item",t.class],style:t.style},[s&&g("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?g(ut,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):g(Pe,null,[t.prependAvatar&&g($s,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&g(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),g("div",{class:"v-card-item__content"},[o&&g(U5,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??t.title]}}),l&&g($5,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??t.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),a&&g("div",{key:"append",class:"v-card-item__append"},[n.append?g(ut,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):g(Pe,null,[t.appendIcon&&g(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&g($s,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),efe=ie({opacity:[Number,String],...Be(),..._t()},"VCardText"),z5=ve()({name:"VCardText",props:efe(),setup(t,e){let{slots:n}=e;return we(()=>g(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),tfe=ie({appendAvatar:String,appendIcon:Ye,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ye,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...nr(),...Be(),...Ti(),...hi(),...ki(),...hw(),...Wo(),...Fh(),...Rn(),...Zg(),..._t(),...Lt(),...Br({variant:"elevated"})},"VCard"),nfe=ve()({name:"VCard",directives:{Ripple:Yo},props:tfe(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Xt(t),{borderClasses:r}=Sr(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Lc(t),{densityClasses:u}=ls(t),{dimensionStyles:d}=fi(t),{elevationClasses:c}=Wi(t),{loaderClasses:h}=Qg(t),{locationStyles:f}=jc(t),{positionClasses:p}=Bh(t),{roundedClasses:m}=qn(t),v=jh(t,n),_=O(()=>t.link!==!1&&v.isLink.value),b=O(()=>!t.disabled&&t.link!==!1&&(t.link||v.isClickable.value));return we(()=>{const x=_.value?"a":t.tag,k=!!(i.title||t.title!=null),I=!!(i.subtitle||t.subtitle!=null),E=k||I,T=!!(i.append||t.appendAvatar||t.appendIcon),S=!!(i.prepend||t.prependAvatar||t.prependIcon),w=!!(i.image||t.image),C=E||S||T,P=!!(i.text||t.text!=null);return In(g(x,Z({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b.value},s.value,r.value,a.value,u.value,c.value,h.value,p.value,m.value,l.value,t.class],style:[o.value,d.value,f.value,t.style],onClick:b.value&&v.navigate,tabindex:t.disabled?-1:void 0},v.linkProps),{default:()=>{var D;return[w&&g("div",{key:"image",class:"v-card__image"},[i.image?g(ut,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):g(Mo,{key:"image-img",cover:!0,src:t.image},null)]),g(Jg,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),C&&g(H5,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),P&&g(z5,{key:"text"},{default:()=>{var A;return[((A=i.text)==null?void 0:A.call(i))??t.text]}}),(D=i.default)==null?void 0:D.call(i),i.actions&&g(j5,null,{default:i.actions}),iu(b.value,"v-card")]}}),[[tr("ripple"),b.value&&t.ripple]])}),{}}}),ife=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,a=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-a&&t.up(t),t.down&&s>i+a&&t.down(t))};function sfe(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function rfe(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),ife(e)}function afe(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function ofe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>sfe(n,e),touchend:n=>rfe(n,e),touchmove:n=>afe(n,e)}}function lfe(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(o=e.instance)==null?void 0:o.$.uid;if(!i||!r)return;const a=ofe(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=a,_j(a).forEach(l=>{i.addEventListener(l,a[l],s)})}function ufe(t,e){var r,a;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];_j(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[i]}const hC={mounted:lfe,unmounted:ufe},W5=Symbol.for("vuetify:v-window"),Y5=Symbol.for("vuetify:v-window-group"),_w=ie({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Be(),..._t(),...Lt()},"VWindow"),uc=ve()({name:"VWindow",directives:{Touch:hC},props:_w(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{isRtl:s}=Si(),{t:r}=gn(),a=su(t,Y5),o=G(),l=O(()=>s.value?!t.reverse:t.reverse),u=Re(!1),d=O(()=>{const k=t.direction==="vertical"?"y":"x",E=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${k}${E}-transition`}),c=Re(0),h=G(void 0),f=O(()=>a.items.value.findIndex(k=>a.selected.value.includes(k.id)));be(f,(k,I)=>{const E=a.items.value.length,T=E-1;E<=2?u.value=k<I:k===T&&I===0?u.value=!0:k===0&&I===T?u.value=!1:u.value=k<I}),Kt(W5,{transition:d,isReversed:u,transitionCount:c,transitionHeight:h,rootRef:o});const p=O(()=>t.continuous||f.value!==0),m=O(()=>t.continuous||f.value!==a.items.value.length-1);function v(){p.value&&a.prev()}function _(){m.value&&a.next()}const b=O(()=>{const k=[],I={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};k.push(p.value?n.prev?n.prev({props:I}):g(pt,I,null):g("div",null,null));const E={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return k.push(m.value?n.next?n.next({props:E}):g(pt,E,null):g("div",null,null)),k}),x=O(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?v():_()},right:()=>{l.value?_():v()},start:I=>{let{originalEvent:E}=I;E.stopPropagation()}},...t.touch===!0?{}:t.touch});return we(()=>In(g(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var k,I;return[g("div",{class:"v-window__container",style:{height:h.value}},[(k=n.default)==null?void 0:k.call(n,{group:a}),t.showArrows!==!1&&g("div",{class:"v-window__controls"},[b.value])]),(I=n.additional)==null?void 0:I.call(n,{group:a})]}}),[[tr("touch"),x.value]])),{group:a}}}),cfe=ie({color:String,cycle:Boolean,delimiterIcon:{type:Ye,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],..._w({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),dfe=ve()({name:"VCarousel",props:cfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),{t:s}=gn(),r=G();let a=-1;be(i,l),be(()=>t.interval,l),be(()=>t.cycle,u=>{u?l():window.clearTimeout(a)}),kt(o);function o(){!t.cycle||!r.value||(a=window.setTimeout(r.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(a),window.requestAnimationFrame(o)}return we(()=>{const u=uc.filterProps(t);return g(uc,Z({ref:r},u,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Le(t.height)},t.style]}),{default:n.default,additional:d=>{let{group:c}=d;return g(Pe,null,[!t.hideDelimiters&&g("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[c.items.value.length>0&&g(ut,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[c.items.value.map((h,f)=>{const p={id:`carousel-item-${h.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",f+1,c.items.value.length),class:["v-carousel__controls__item",c.isSelected(h.id)&&"v-btn--active"],onClick:()=>c.select(h.id,!0)};return n.item?n.item({props:p,item:h}):g(pt,Z(h,p),null)})]})]),t.progress&&g(dw,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(c.getItemIndex(i.value)+1)/c.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),yw=ie({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...Fc(),...aC()},"VWindowItem"),cc=ve()({name:"VWindowItem",directives:{Touch:hC},props:yw(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=mt(W5),s=Bc(t,Y5),{isBooted:r}=Vc();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=Re(!1),o=O(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var p;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Le((p=i.rootRef.value)==null?void 0:p.clientHeight)),i.transitionCount.value+=1)}function d(){l()}function c(p){a.value&&vt(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=Le(p.clientHeight))})}const h=O(()=>{const p=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof p!="string"?i.transition.value:p,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:d,onEnter:c}:!1}),{hasContent:f}=oC(t,s.isSelected);return we(()=>g(Ts,{transition:h.value,disabled:!r.value},{default:()=>{var p;return[In(g("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[f.value&&((p=n.default)==null?void 0:p.call(n))]),[[pa,s.isSelected.value]])]}})),{groupItem:s}}}),hfe=ie({...R4(),...yw()},"VCarouselItem"),ffe=ve()({name:"VCarouselItem",inheritAttrs:!1,props:hfe(),setup(t,e){let{slots:n,attrs:i}=e;we(()=>{const s=Mo.filterProps(t),r=cc.filterProps(t);return g(cc,Z({class:["v-carousel-item",t.class]},r),{default:()=>[g(Mo,Z(i,s),n)]})})}}),mfe=Ja("v-code","code"),gfe=ie({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Be()},"VColorPickerCanvas"),pfe=br({name:"VColorPickerCanvas",props:gfe(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=Re(!1),s=G(),r=Re(parseFloat(t.width)),a=Re(parseFloat(t.height)),o=G({x:0,y:0}),l=O({get:()=>o.value,set(v){var x,k;if(!s.value)return;const{x:_,y:b}=v;o.value=v,n("update:color",{h:((x=t.color)==null?void 0:x.h)??0,s:$n(_,0,r.value)/r.value,v:1-$n(b,0,a.value)/a.value,a:((k=t.color)==null?void 0:k.a)??1})}}),u=O(()=>{const{x:v,y:_}=l.value,b=parseInt(t.dotSize,10)/2;return{width:Le(t.dotSize),height:Le(t.dotSize),transform:`translate(${Le(v-b)}, ${Le(_-b)})`}}),{resizeRef:d}=ca(v=>{var x;if(!((x=d.el)!=null&&x.offsetParent))return;const{width:_,height:b}=v[0].contentRect;r.value=_,a.value=b});function c(v,_,b){const{left:x,top:k,width:I,height:E}=b;l.value={x:$n(v-x,0,I),y:$n(_-k,0,E)}}function h(v){v.type==="mousedown"&&v.preventDefault(),!t.disabled&&(f(v),window.addEventListener("mousemove",f),window.addEventListener("mouseup",p),window.addEventListener("touchmove",f),window.addEventListener("touchend",p))}function f(v){if(t.disabled||!s.value)return;i.value=!0;const _=fne(v);c(_.clientX,_.clientY,s.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",p)}function m(){var k;if(!s.value)return;const v=s.value,_=v.getContext("2d");if(!_)return;const b=_.createLinearGradient(0,0,v.width,0);b.addColorStop(0,"hsla(0, 0%, 100%, 1)"),b.addColorStop(1,`hsla(${((k=t.color)==null?void 0:k.h)??0}, 100%, 50%, 1)`),_.fillStyle=b,_.fillRect(0,0,v.width,v.height);const x=_.createLinearGradient(0,0,0,v.height);x.addColorStop(0,"hsla(0, 0%, 0%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),_.fillStyle=x,_.fillRect(0,0,v.width,v.height)}return be(()=>{var v;return(v=t.color)==null?void 0:v.h},m,{immediate:!0}),be(()=>[r.value,a.value],(v,_)=>{m(),o.value={x:l.value.x*v[0]/_[0],y:l.value.y*v[1]/_[1]}},{flush:"post"}),be(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*r.value,y:(1-t.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),kt(()=>m()),we(()=>g("div",{ref:d,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:h,onTouchstartPassive:h},[g("canvas",{ref:s,width:r.value,height:a.value},null),t.color&&g("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:u.value},null)])),{}}});function vfe(t,e){if(e){const{a:n,...i}=t;return i}return t}function _fe(t,e){if(e==null||typeof e=="string"){const n=Vj(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return Ru(e,["r","g","b"])?n=Ro(t):Ru(e,["h","s","l"])?n=Ij(t):Ru(e,["h","s","v"])&&(n=t),vfe(n,!Ru(e,["a"])&&t.a===1)}return t}const _d={h:0,s:0,v:0,a:1},_1={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Ro,from:Wb};var wV;const yfe={..._1,inputs:(wV=_1.inputs)==null?void 0:wV.slice(0,3)},y1={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Ij,from:kP},bfe={...y1,inputs:y1.inputs.slice(0,3)},G5={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:Vj,from:Mj},wfe={...G5,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},zu={rgb:yfe,rgba:_1,hsl:bfe,hsla:y1,hex:wfe,hexa:G5},xfe=t=>{let{label:e,...n}=t;return g("div",{class:"v-color-picker-edit__input"},[g("input",n,null),g("span",null,[e])])},Sfe=ie({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(zu).includes(t)},modes:{type:Array,default:()=>Object.keys(zu),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(zu).includes(e))},...Be()},"VColorPickerEdit"),kfe=br({name:"VColorPickerEdit",props:Sfe(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=O(()=>t.modes.map(r=>({...zu[r],name:r}))),s=O(()=>{var o;const r=i.value.find(l=>l.name===t.mode);if(!r)return[];const a=t.color?r.to(t.color):null;return(o=r.inputs)==null?void 0:o.map(l=>{let{getValue:u,getColor:d,...c}=l;return{...r.inputProps,...c,disabled:t.disabled,value:a&&u(a),onChange:h=>{const f=h.target;f&&n("update:color",r.from(d(a??r.to(_d),f.value)))}}})});return we(()=>{var r;return g("div",{class:["v-color-picker-edit",t.class],style:t.style},[(r=s.value)==null?void 0:r.map(a=>g(xfe,a,null)),i.value.length>1&&g(pt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(a+1)%i.value.length].name)}},null)])}),{}}}),fC=Symbol.for("vuetify:v-slider");function b1(t,e,n){const i=n==="vertical",s=e.getBoundingClientRect(),r="touches"in t?t.touches[0]:t;return i?r.clientY-(s.top+s.height/2):r.clientX-(s.left+s.width/2)}function Tfe(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const q5=ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Rn(),...ki({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),X5=t=>{const e=O(()=>parseFloat(t.min)),n=O(()=>parseFloat(t.max)),i=O(()=>+t.step>0?parseFloat(t.step):0),s=O(()=>Math.max(L_(i.value),L_(e.value)));function r(a){if(a=parseFloat(a),i.value<=0)return a;const o=$n(a,e.value,n.value),l=e.value%i.value,u=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(s.value))}return{min:e,max:n,step:i,decimals:s,roundValue:r}},K5=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:s,onSliderEnd:r,getActiveThumb:a}=t;const{isRtl:o}=Si(),l=me(e,"reverse"),u=O(()=>e.direction==="vertical"),d=O(()=>u.value!==l.value),{min:c,max:h,step:f,decimals:p,roundValue:m}=n,v=O(()=>parseInt(e.thumbSize,10)),_=O(()=>parseInt(e.tickSize,10)),b=O(()=>parseInt(e.trackSize,10)),x=O(()=>(h.value-c.value)/f.value),k=me(e,"disabled"),I=O(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),E=O(()=>e.error||e.disabled?void 0:e.trackColor??e.color),T=O(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),S=Re(!1),w=Re(0),C=G(),P=G();function D(se){var ce;const $=e.direction==="vertical",q=$?"top":"left",ae=$?"height":"width",_e=$?"clientY":"clientX",{[q]:ge,[ae]:B}=(ce=C.value)==null?void 0:ce.$el.getBoundingClientRect(),N=Tfe(se,_e);let W=Math.min(Math.max((N-ge-w.value)/B,0),1)||0;return($?d.value:d.value!==o.value)&&(W=1-W),m(c.value+W*(h.value-c.value))}const A=se=>{r({value:D(se)}),S.value=!1,w.value=0},F=se=>{P.value=a(se),P.value&&(P.value.focus(),S.value=!0,P.value.contains(se.target)?w.value=b1(se,P.value,e.direction):(w.value=0,s({value:D(se)})),i({value:D(se)}))},L={passive:!0,capture:!0};function H(se){s({value:D(se)})}function X(se){se.stopPropagation(),se.preventDefault(),A(se),window.removeEventListener("mousemove",H,L),window.removeEventListener("mouseup",X)}function z(se){var $;A(se),window.removeEventListener("touchmove",H,L),($=se.target)==null||$.removeEventListener("touchend",z)}function K(se){var $;F(se),window.addEventListener("touchmove",H,L),($=se.target)==null||$.addEventListener("touchend",z,{passive:!1})}function Y(se){se.preventDefault(),F(se),window.addEventListener("mousemove",H,L),window.addEventListener("mouseup",X,{passive:!1})}const te=se=>{const $=(se-c.value)/(h.value-c.value)*100;return $n(isNaN($)?0:$,0,100)},Q=me(e,"showTicks"),ee=O(()=>Q.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(se=>({value:se,position:te(se),label:se.toString()})):Object.keys(e.ticks).map(se=>({value:parseFloat(se),position:te(parseFloat(se)),label:e.ticks[se]})):x.value!==1/0?fr(x.value+1).map(se=>{const $=c.value+se*f.value;return{value:$,position:te($)}}):[]:[]),ue=O(()=>ee.value.some(se=>{let{label:$}=se;return!!$})),re={activeThumbRef:P,color:me(e,"color"),decimals:p,disabled:k,direction:me(e,"direction"),elevation:me(e,"elevation"),hasLabels:ue,isReversed:l,indexFromEnd:d,min:c,max:h,mousePressed:S,numTicks:x,onSliderMousedown:Y,onSliderTouchstart:K,parsedTicks:ee,parseMouseMove:D,position:te,readonly:me(e,"readonly"),rounded:me(e,"rounded"),roundValue:m,showTicks:Q,startOffset:w,step:f,thumbSize:v,thumbColor:I,thumbLabel:me(e,"thumbLabel"),ticks:me(e,"ticks"),tickSize:_,trackColor:E,trackContainerRef:C,trackFillColor:T,trackSize:b,vertical:u};return Kt(fC,re),re},Pfe=ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Be()},"VSliderThumb"),w1=ve()({name:"VSliderThumb",directives:{Ripple:Yo},props:Pfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=mt(fC),{isRtl:r,rtlClasses:a}=Si();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:u,thumbSize:d,thumbLabel:c,direction:h,isReversed:f,vertical:p,readonly:m,elevation:v,mousePressed:_,decimals:b,indexFromEnd:x}=s,k=O(()=>u.value?void 0:v.value),{elevationClasses:I}=Wi(k),{textColorClasses:E,textColorStyles:T}=Ui(o),{pageup:S,pagedown:w,end:C,home:P,left:D,right:A,down:F,up:L}=LS,H=[S,w,C,P,D,A,F,L],X=O(()=>l.value?[1,2,3]:[1,5,10]);function z(Y,te){if(!H.includes(Y.key))return;Y.preventDefault();const Q=l.value||.1,ee=(t.max-t.min)/Q;if([D,A,F,L].includes(Y.key)){const re=(p.value?[r.value?D:A,f.value?F:L]:x.value!==r.value?[D,L]:[A,L]).includes(Y.key)?1:-1,se=Y.shiftKey?2:Y.ctrlKey?1:0;te=te+re*Q*X.value[se]}else if(Y.key===P)te=t.min;else if(Y.key===C)te=t.max;else{const ue=Y.key===w?1:-1;te=te-ue*Q*(ee>100?ee/10:10)}return Math.max(t.min,Math.min(t.max,te))}function K(Y){const te=z(Y,t.modelValue);te!=null&&i("update:modelValue",te)}return we(()=>{const Y=Le(x.value?100-t.position:t.position,"%");return g("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&_.value},t.class,a.value],style:[{"--v-slider-thumb-position":Y,"--v-slider-thumb-size":Le(d.value)},t.style],role:"slider",tabindex:u.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!m.value,"aria-orientation":h.value,onKeydown:m.value?void 0:K},[g("div",{class:["v-slider-thumb__surface",E.value,I.value],style:{...T.value}},null),In(g("div",{class:["v-slider-thumb__ripple",E.value],style:T.value},null),[[tr("ripple"),t.ripple,null,{circle:!0,center:!0}]]),g(qP,{origin:"bottom center"},{default:()=>{var te;return[In(g("div",{class:"v-slider-thumb__label-container"},[g("div",{class:["v-slider-thumb__label"]},[g("div",null,[((te=n["thumb-label"])==null?void 0:te.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?b.value:1)])])]),[[pa,c.value&&t.focused||c.value==="always"]])]}})])}),{}}}),Cfe=ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Be()},"VSliderTrack"),Q5=ve()({name:"VSliderTrack",props:Cfe(),emits:{},setup(t,e){let{slots:n}=e;const i=mt(fC);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:r,rounded:a,showTicks:o,tickSize:l,trackColor:u,trackFillColor:d,trackSize:c,vertical:h,min:f,max:p,indexFromEnd:m}=i,{roundedClasses:v}=qn(a),{backgroundColorClasses:_,backgroundColorStyles:b}=rn(d),{backgroundColorClasses:x,backgroundColorStyles:k}=rn(u),I=O(()=>`inset-${h.value?"block":"inline"}-${m.value?"end":"start"}`),E=O(()=>h.value?"height":"width"),T=O(()=>({[I.value]:"0%",[E.value]:"100%"})),S=O(()=>t.stop-t.start),w=O(()=>({[I.value]:Le(t.start,"%"),[E.value]:Le(S.value,"%")})),C=O(()=>o.value?(h.value?r.value.slice().reverse():r.value).map((D,A)=>{var L;const F=D.value!==f.value&&D.value!==p.value?Le(D.position,"%"):void 0;return g("div",{key:D.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":D.position>=t.start&&D.position<=t.stop,"v-slider-track__tick--first":D.value===f.value,"v-slider-track__tick--last":D.value===p.value}],style:{[I.value]:F}},[(D.label||n["tick-label"])&&g("div",{class:"v-slider-track__tick-label"},[((L=n["tick-label"])==null?void 0:L.call(n,{tick:D,index:A}))??D.label])])}):[]);return we(()=>g("div",{class:["v-slider-track",v.value,t.class],style:[{"--v-slider-track-size":Le(c.value),"--v-slider-tick-size":Le(l.value)},t.style]},[g("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!s.value||!d.value}],style:{...T.value,...k.value}},null),g("div",{class:["v-slider-track__fill",_.value],style:{...w.value,...b.value}},null),o.value&&g("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[C.value])])),{}}}),Efe=ie({...Uh(),...q5(),...Go(),modelValue:{type:[Number,String],default:0}},"VSlider"),x1=ve()({name:"VSlider",props:Efe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=G(),{rtlClasses:r}=Si(),a=X5(t),o=Ue(t,"modelValue",void 0,E=>a.roundValue(E??a.min.value)),{min:l,max:u,mousePressed:d,roundValue:c,onSliderMousedown:h,onSliderTouchstart:f,trackContainerRef:p,position:m,hasLabels:v,readonly:_}=K5({props:t,steps:a,onSliderStart:()=>{i("start",o.value)},onSliderEnd:E=>{let{value:T}=E;const S=c(T);o.value=S,i("end",S)},onSliderMove:E=>{let{value:T}=E;return o.value=c(T)},getActiveThumb:()=>{var E;return(E=s.value)==null?void 0:E.$el}}),{isFocused:b,focus:x,blur:k}=eo(t),I=O(()=>m(o.value));return we(()=>{const E=rs.filterProps(t),T=!!(t.label||n.label||n.prepend);return g(rs,Z({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||v.value,"v-slider--focused":b.value,"v-slider--pressed":d.value,"v-slider--disabled":t.disabled},r.value,t.class],style:t.style},E,{focused:b.value}),{...n,prepend:T?S=>{var w,C;return g(Pe,null,[((w=n.label)==null?void 0:w.call(n,S))??(t.label?g($h,{id:S.id.value,class:"v-slider__label",text:t.label},null):void 0),(C=n.prepend)==null?void 0:C.call(n,S)])}:void 0,default:S=>{let{id:w,messagesId:C}=S;return g("div",{class:"v-slider__container",onMousedown:_.value?void 0:h,onTouchstartPassive:_.value?void 0:f},[g("input",{id:w.value,name:t.name||w.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),g(Q5,{ref:p,start:0,stop:I.value},{"tick-label":n["tick-label"]}),g(w1,{ref:s,"aria-describedby":C.value,focused:b.value,min:l.value,max:u.value,modelValue:o.value,"onUpdate:modelValue":P=>o.value=P,position:I.value,elevation:t.elevation,onFocus:x,onBlur:k,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Ife=ie({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Be()},"VColorPickerPreview"),Dfe=br({name:"VColorPickerPreview",props:Ife(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;Us(()=>i.abort());async function s(){if(!aR)return;const r=new window.EyeDropper;try{const a=await r.open({signal:i.signal}),o=Mj(a.sRGBHex);n("update:color",{...t.color??_d,...o})}catch{}}return we(()=>{var r,a;return g("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[aR&&g("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[g(pt,{onClick:s,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),g("div",{class:"v-color-picker-preview__dot"},[g("div",{style:{background:Aj(t.color??_d)}},null)]),g("div",{class:"v-color-picker-preview__sliders"},[g(x1,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??_d,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&g(x1,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=t.color)==null?void 0:a.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??_d,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Afe={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Rfe={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Ofe={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Mfe={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Vfe={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Lfe={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Nfe={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Ffe={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Bfe={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},jfe={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},$fe={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Ufe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Hfe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},zfe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Wfe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Yfe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Gfe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},qfe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Xfe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Kfe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Qfe={red:Afe,pink:Rfe,purple:Ofe,deepPurple:Mfe,indigo:Vfe,blue:Lfe,lightBlue:Nfe,cyan:Ffe,teal:Bfe,green:jfe,lightGreen:$fe,lime:Ufe,yellow:Hfe,amber:zfe,orange:Wfe,deepOrange:Yfe,brown:Gfe,blueGrey:qfe,grey:Xfe,shades:Kfe},Jfe=ie({swatches:{type:Array,default:()=>Zfe(Qfe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Be()},"VColorPickerSwatches");function Zfe(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const eme=br({name:"VColorPickerSwatches",props:Jfe(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return we(()=>g("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Le(t.maxHeight)},t.style]},[g("div",null,[t.swatches.map(i=>g("div",{class:"v-color-picker-swatches__swatch"},[i.map(s=>{const r=Ar(s),a=Wb(r),o=Dj(r);return g("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[g("div",{style:{background:o}},[t.color&&Ka(t.color,a)?g(Bt,{size:"x-small",icon:"$success",color:jne(s,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),ip=ie({color:String,...nr(),...Be(),...hi(),...ki(),...Wo(),...Fh(),...Rn(),..._t(),...Lt()},"VSheet"),Ya=ve()({name:"VSheet",props:ip(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=rn(me(t,"color")),{borderClasses:a}=Sr(t),{dimensionStyles:o}=fi(t),{elevationClasses:l}=Wi(t),{locationStyles:u}=jc(t),{positionClasses:d}=Bh(t),{roundedClasses:c}=qn(t);return we(()=>g(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,d.value,c.value,t.class],style:[r.value,o.value,u.value,t.style]},n)),{}}}),tme=ie({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(zu).includes(t)},modes:{type:Array,default:()=>Object.keys(zu),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(zu).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...en(ip({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),nme=br({name:"VColorPicker",props:tme(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=Ue(t,"mode"),n=G(null),i=Ue(t,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=Wb(Ar(l))}catch{return null}return u},l=>l?_fe(l,t.modelValue):null),s=O(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:r}=Si();let a=!0;be(i,l=>{if(!a){a=!0;return}l&&(n.value=l.h)},{immediate:!0});const o=l=>{a=!1,n.value=l.h,i.value=l};return wh(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),Dn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),we(()=>{const l=Ya.filterProps(t);return g(Ya,Z({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",r.value,t.class],style:[{"--v-color-picker-color-hsv":Aj({...s.value??_d,a:1})},t.style]},l,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&g(pfe,{key:"canvas",color:s.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&g("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&g(Dfe,{key:"preview",color:s.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&g(kfe,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":u=>e.value=u,color:s.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&g(eme,{key:"swatches",color:s.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function ime(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?g(Pe,null,[g("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),g("span",{class:"v-combobox__mask"},[t.substr(e,n)]),g("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const sme=ie({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Wh({filterKeys:["title"]}),...cC({hideNoData:!0,returnObject:!0}),...en(zh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...va({transition:!1})},"VCombobox"),rme=ve()({name:"VCombobox",props:sme(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var B;let{emit:n,slots:i}=e;const{t:s}=gn(),r=G(),a=Re(!1),o=Re(!0),l=Re(!1),u=G(),d=G(),c=Ue(t,"menu"),h=O({get:()=>c.value,set:N=>{var W;c.value&&!N&&((W=u.value)!=null&&W.ΨopenChildren.size)||(c.value=N)}}),f=Re(-1);let p=!1;const m=O(()=>{var N;return(N=r.value)==null?void 0:N.color}),v=O(()=>h.value?t.closeText:t.openText),{items:_,transformIn:b,transformOut:x}=sC(t),{textColorClasses:k,textColorStyles:I}=Ui(m),E=Ue(t,"modelValue",[],N=>b(bn(N)),N=>{const W=x(N);return t.multiple?W:W[0]??null}),T=ep(t),S=O(()=>!!(t.chips||i.chip)),w=O(()=>S.value||!!i.selection),C=Re(!t.multiple&&!w.value?((B=E.value[0])==null?void 0:B.title)??"":""),P=O({get:()=>C.value,set:N=>{var W;if(C.value=N??"",!t.multiple&&!w.value&&(E.value=[ml(t,N)]),N&&t.multiple&&((W=t.delimiters)!=null&&W.length)){const ce=N.split(new RegExp(`(?:${t.delimiters.join("|")})+`));ce.length>1&&(ce.forEach(de=>{de=de.trim(),de&&q(ml(t,de))}),C.value="")}N||(f.value=-1),o.value=!N}}),D=O(()=>typeof t.counterValue=="function"?t.counterValue(E.value):typeof t.counterValue=="number"?t.counterValue:t.multiple?E.value.length:P.value.length);be(C,N=>{p?vt(()=>p=!1):a.value&&!h.value&&(h.value=!0),n("update:search",N)}),be(E,N=>{var W;!t.multiple&&!w.value&&(C.value=((W=N[0])==null?void 0:W.title)??"")});const{filteredItems:A,getMatches:F}=Yh(t,_,()=>o.value?"":P.value),L=O(()=>t.hideSelected?A.value.filter(N=>!E.value.some(W=>W.value===N.value)):A.value),H=O(()=>E.value.map(N=>N.value)),X=O(()=>{var W;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&P.value===((W=L.value[0])==null?void 0:W.title))&&L.value.length>0&&!o.value&&!l.value}),z=O(()=>t.hideNoData&&!L.value.length||T.isReadonly.value||T.isDisabled.value),K=G(),Y=uC(K,r);function te(N){p=!0,t.openOnClear&&(h.value=!0)}function Q(){z.value||(h.value=!0)}function ee(N){z.value||(a.value&&(N.preventDefault(),N.stopPropagation()),h.value=!h.value)}function ue(N){var W;B_(N)&&((W=r.value)==null||W.focus())}function re(N){var de;if(lne(N)||T.isReadonly.value)return;const W=r.value.selectionStart,ce=E.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(N.key))&&N.preventDefault(),["Enter","ArrowDown"].includes(N.key)&&(h.value=!0),["Escape"].includes(N.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(N.key)&&(X.value&&["Enter","Tab"].includes(N.key)&&!E.value.some(ne=>{let{value:Te}=ne;return Te===L.value[0].value})&&q(A.value[0]),o.value=!0),N.key==="ArrowDown"&&X.value&&((de=K.value)==null||de.focus("next")),N.key==="Enter"&&P.value&&(q(ml(t,P.value)),w.value&&(C.value="")),["Backspace","Delete"].includes(N.key)){if(!t.multiple&&w.value&&E.value.length>0&&!P.value)return q(E.value[0],!1);if(~f.value){const ne=f.value;q(E.value[f.value],!1),f.value=ne>=ce-1?ce-2:ne}else N.key==="Backspace"&&!P.value&&(f.value=ce-1)}if(t.multiple){if(N.key==="ArrowLeft"){if(f.value<0&&W>0)return;const ne=f.value>-1?f.value-1:ce-1;E.value[ne]?f.value=ne:(f.value=-1,r.value.setSelectionRange(P.value.length,P.value.length))}if(N.key==="ArrowRight"){if(f.value<0)return;const ne=f.value+1;E.value[ne]?f.value=ne:(f.value=-1,r.value.setSelectionRange(0,0))}}}function se(){var N;t.eager&&((N=d.value)==null||N.calculateVisibleItems())}function $(){var N;a.value&&(o.value=!0,(N=r.value)==null||N.focus())}function q(N){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!N||N.props.disabled))if(t.multiple){const ce=E.value.findIndex(ne=>t.valueComparator(ne.value,N.value)),de=W??!~ce;if(~ce){const ne=de?[...E.value,N]:[...E.value];ne.splice(ce,1),E.value=ne}else de&&(E.value=[...E.value,N]);t.clearOnSelect&&(P.value="")}else{const ce=W!==!1;E.value=ce?[N]:[],C.value=ce&&!w.value?N.title:"",vt(()=>{h.value=!1,o.value=!0})}}function ae(N){a.value=!0,setTimeout(()=>{l.value=!0})}function _e(N){l.value=!1}function ge(N){(N==null||N===""&&!t.multiple&&!w.value)&&(E.value=[])}return be(a,(N,W)=>{if(!(N||N===W)&&(f.value=-1,h.value=!1,P.value)){if(t.multiple){q(ml(t,P.value));return}if(!w.value)return;E.value.some(ce=>{let{title:de}=ce;return de===P.value})?C.value="":q(ml(t,P.value))}}),be(h,()=>{if(!t.hideSelected&&h.value&&E.value.length){const N=L.value.findIndex(W=>E.value.some(ce=>t.valueComparator(ce.value,W.value)));Wt&&window.requestAnimationFrame(()=>{var W;N>=0&&((W=d.value)==null||W.scrollToIndex(N))})}}),be(()=>t.items,(N,W)=>{h.value||a.value&&!W.length&&N.length&&(h.value=!0)}),we(()=>{const N=!!(!t.hideNoData||L.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),W=E.value.length>0,ce=ha.filterProps(t);return g(ha,Z({ref:r},ce,{modelValue:P.value,"onUpdate:modelValue":[de=>P.value=de,ge],focused:a.value,"onUpdate:focused":de=>a.value=de,validationValue:E.externalValue,counterValue:D.value,dirty:W,class:["v-combobox",{"v-combobox--active-menu":h.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!w.value,"v-combobox--selecting-index":f.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:T.isReadonly.value,placeholder:W?void 0:t.placeholder,"onClick:clear":te,"onMousedown:control":Q,onKeydown:re}),{...i,default:()=>g(Pe,null,[g(lc,Z({ref:u,modelValue:h.value,"onUpdate:modelValue":de=>h.value=de,activator:"parent",contentClass:"v-combobox__content",disabled:z.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:se,onAfterLeave:$},t.menuProps),{default:()=>[N&&g(lh,Z({ref:K,selected:H.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:de=>de.preventDefault(),onKeydown:ue,onFocusin:ae,onFocusout:_e,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Y,t.listProps),{default:()=>{var de,ne,Te;return[(de=i["prepend-item"])==null?void 0:de.call(i),!L.value.length&&!t.hideNoData&&(((ne=i["no-data"])==null?void 0:ne.call(i))??g(_r,{key:"no-data",title:s(t.noDataText)},null)),g(vw,{ref:d,renderless:!0,items:L.value},{default:Me=>{var qe;let{item:Se,index:Ee,itemRef:ze}=Me;const Fe=Z(Se.props,{ref:ze,key:Se.value,active:X.value&&Ee===0?!0:void 0,onClick:()=>q(Se,null)});return((qe=i.item)==null?void 0:qe.call(i,{item:Se,index:Ee,props:Fe}))??g(_r,Z(Fe,{role:"option"}),{prepend:st=>{let{isSelected:et}=st;return g(Pe,null,[t.multiple&&!t.hideSelected?g(Wa,{key:Se.value,modelValue:et,ripple:!1,tabindex:"-1"},null):void 0,Se.props.prependAvatar&&g($s,{image:Se.props.prependAvatar},null),Se.props.prependIcon&&g(Bt,{icon:Se.props.prependIcon},null)])},title:()=>{var st,et;return o.value?Se.title:ime(Se.title,(st=F(Se))==null?void 0:st.title,((et=P.value)==null?void 0:et.length)??0)}})}}),(Te=i["append-item"])==null?void 0:Te.call(i)]}})]}),E.value.map((de,ne)=>{function Te(ze){ze.stopPropagation(),ze.preventDefault(),q(de,!1)}const Me={"onClick:close":Te,onKeydown(ze){ze.key!=="Enter"&&ze.key!==" "||(ze.preventDefault(),ze.stopPropagation(),Te(ze))},onMousedown(ze){ze.preventDefault(),ze.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Se=S.value?!!i.chip:!!i.selection,Ee=Se?zb(S.value?i.chip({item:de,index:ne,props:Me}):i.selection({item:de,index:ne})):void 0;if(!(Se&&!Ee))return g("div",{key:de.value,class:["v-combobox__selection",ne===f.value&&["v-combobox__selection--selected",k.value]],style:ne===f.value?I.value:{}},[S.value?i.chip?g(ut,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:de.title}}},{default:()=>[Ee]}):g($c,Z({key:"chip",closable:t.closableChips,size:"small",text:de.title,disabled:de.props.disabled},Me),null):Ee??g("span",{class:"v-combobox__selection-text"},[de.title,t.multiple&&ne<E.value.length-1&&g("span",{class:"v-combobox__selection-comma"},[Ce(",")])])])})]),"append-inner":function(){var Me;for(var de=arguments.length,ne=new Array(de),Te=0;Te<de;Te++)ne[Te]=arguments[Te];return g(Pe,null,[(Me=i["append-inner"])==null?void 0:Me.call(i,...ne),(!t.hideNoData||t.items.length)&&t.menuIcon?g(Bt,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:ee,onClick:Sj,"aria-label":s(v.value),title:s(v.value),tabindex:"-1"},null):void 0])}})}),kr({isFocused:a,isPristine:o,menu:h,search:P,selectionIndex:f,filteredItems:A,select:q},r)}}),J5=ie({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),S1=ve()({name:"VConfirmEdit",props:J5(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ue(t,"modelValue"),r=G();yn(()=>{r.value=structuredClone(Xe(s.value))});const{t:a}=gn(),o=O(()=>Ka(s.value,r.value));function l(){s.value=r.value,n("save",r.value)}function u(){r.value=structuredClone(Xe(s.value)),n("cancel")}function d(h){return g(Pe,null,[g(pt,Z({disabled:o.value,variant:"text",color:t.color,onClick:u,text:a(t.cancelText)},h),null),g(pt,Z({disabled:o.value,variant:"text",color:t.color,onClick:l,text:a(t.okText)},h),null)])}let c=!1;return we(()=>{var h;return g(Pe,null,[(h=i.default)==null?void 0:h.call(i,{model:r,save:l,cancel:u,isPristine:o.value,get actions(){return c=!0,d}}),!c&&d()])}),{save:l,cancel:u,isPristine:o}}}),Z5=ie({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),e3=Symbol.for("vuetify:datatable:expanded");function bw(t){const e=me(t,"expandOnClick"),n=Ue(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const u=new Set(n.value);l?u.add(o.value):u.delete(o.value),n.value=u}function s(o){return n.value.has(o.value)}function r(o){i(o,!s(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return Kt(e3,a),a}function t3(){const t=mt(e3);if(!t)throw new Error("foo");return t}const mC=ie({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),n3=Symbol.for("vuetify:data-table-group");function gC(t){return{groupBy:Ue(t,"groupBy")}}function ww(t){const{disableSort:e,groupBy:n,sortBy:i}=t,s=G(new Set),r=O(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(e!=null&&e.value?[]:i.value));function a(d){return s.value.has(d.id)}function o(d){const c=new Set(s.value);a(d)?c.delete(d.id):c.add(d.id),s.value=c}function l(d){function c(h){const f=[];for(const p of h.items)"type"in p&&p.type==="group"?f.push(...c(p)):f.push(p);return f}return c({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:r,toggleGroup:o,opened:s,groupBy:n,extractRows:l,isGroupOpen:a};return Kt(n3,u),u}function i3(){const t=mt(n3);if(!t)throw new Error("Missing group!");return t}function ame(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=sc(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function s3(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=ame(t,e[0]),r=[],a=e.slice(1);return s.forEach((o,l)=>{const u=e[0],d=`${i}_${u}_${l}`;r.push({depth:n,id:d,key:u,value:l,items:a.length?s3(o,a,n+1,d):o,type:"group"})}),r}function r3(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...r3(i.items,e))):n.push(i);return n}function xw(t,e,n){return{flatItems:O(()=>{if(!e.value.length)return t.value;const s=s3(t.value,e.value.map(r=>r.key));return r3(s,n.value)})}}function Sw(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const a=Gn("VDataTable"),o=O(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;be(o,()=>{Ka(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const pC=ie({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),a3=Symbol.for("vuetify:data-table-pagination");function vC(t){const e=Ue(t,"page",void 0,i=>+(i??1)),n=Ue(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function _C(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=O(()=>n.value===-1?0:n.value*(e.value-1)),r=O(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),a=O(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));be([e,a],()=>{e.value>a.value&&(e.value=a.value)});function o(h){n.value=h,e.value=1}function l(){e.value=$n(e.value+1,1,a.value)}function u(){e.value=$n(e.value-1,1,a.value)}function d(h){e.value=$n(h,1,a.value)}const c={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:a,itemsLength:i,nextPage:l,prevPage:u,setPage:d,setItemsPerPage:o};return Kt(a3,c),c}function ome(){const t=mt(a3);if(!t)throw new Error("Missing pagination!");return t}function o3(t){const e=Gn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,a=O(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return be(a,o=>{e.emit("update:currentItems",o)}),{paginatedItems:a}}const lme={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},l3={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return l3.select({items:n,value:e,selected:i})}},u3={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return u3.select({items:n,value:e,selected:i})}},c3=ie({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ka}},"DataTable-select"),d3=Symbol.for("vuetify:data-table-selection");function kw(t,e){let{allItems:n,currentPage:i}=e;const s=Ue(t,"modelValue",t.modelValue,_=>new Set(bn(_).map(b=>{var x;return((x=n.value.find(k=>t.valueComparator(b,k.value)))==null?void 0:x.value)??b})),_=>[..._.values()]),r=O(()=>n.value.filter(_=>_.selectable)),a=O(()=>i.value.filter(_=>_.selectable)),o=O(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return lme;case"all":return u3;case"page":default:return l3}});function l(_){return bn(_).every(b=>s.value.has(b.value))}function u(_){return bn(_).some(b=>s.value.has(b.value))}function d(_,b){const x=o.value.select({items:_,value:b,selected:new Set(s.value)});s.value=x}function c(_){d([_],!l([_]))}function h(_){const b=o.value.selectAll({value:_,allItems:r.value,currentPage:a.value,selected:new Set(s.value)});s.value=b}const f=O(()=>s.value.size>0),p=O(()=>{const _=o.value.allSelected({allItems:r.value,currentPage:a.value});return!!_.length&&l(_)}),m=O(()=>o.value.showSelectAll),v={toggleSelect:c,select:d,selectAll:h,isSelected:l,isSomeSelected:u,someSelected:f,allSelected:p,showSelectAll:m};return Kt(d3,v),v}function Tw(){const t=mt(d3);if(!t)throw new Error("Missing selection!");return t}const h3=ie({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),f3=Symbol.for("vuetify:data-table-sort");function Pw(t){const e=Ue(t,"sortBy"),n=me(t,"mustSort"),i=me(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function Cw(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let u=e.value.map(c=>({...c}))??[];const d=u.find(c=>c.key===l.key);d?d.order==="desc"?n.value?d.order="asc":u=u.filter(c=>c.key!==l.key):d.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],e.value=u,s&&(s.value=1)};function a(l){return!!e.value.find(u=>u.key===l.key)}const o={sortBy:e,toggleSort:r,isSorted:a};return Kt(f3,o),o}function m3(){const t=mt(f3);if(!t)throw new Error("Missing sort!");return t}function yC(t,e,n,i){const s=gn();return{sortedItems:O(()=>{var a,o;return n.value.length?ume(e.value,n.value,s.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(a=i==null?void 0:i.sortFunctions)==null?void 0:a.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value}):e.value})}}function ume(t,e,n,i){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(a=>[a,i!=null&&i.transform?i.transform(a):a]).sort((a,o)=>{var l,u;for(let d=0;d<e.length;d++){let c=!1;const h=e[d].key,f=e[d].order??"asc";if(f===!1)continue;let p=sc(a[1],h),m=sc(o[1],h),v=a[0].raw,_=o[0].raw;if(f==="desc"&&([p,m]=[m,p],[v,_]=[_,v]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[h]){const b=i.sortRawFunctions[h](v,_);if(b==null)continue;if(c=!0,b)return b}if((u=i==null?void 0:i.sortFunctions)!=null&&u[h]){const b=i.sortFunctions[h](p,m);if(b==null)continue;if(c=!0,b)return b}if(!c){if(p instanceof Date&&m instanceof Date)return p.getTime()-m.getTime();if([p,m]=[p,m].map(b=>b!=null?b.toString().toLocaleLowerCase():b),p!==m)return Hp(p)&&Hp(m)?0:Hp(p)?-1:Hp(m)?1:!isNaN(p)&&!isNaN(m)?Number(p)-Number(m):s.compare(p,m)}}return 0}).map(a=>{let[o]=a;return o})}const cme=ie({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function dme(t,e){const n=t.returnObject?e:ii(e,t.itemValue),i=ii(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function hme(t,e){const n=[];for(const i of e)n.push(dme(t,i));return n}function fme(t){return{items:O(()=>hme(t,t.items))}}const mme=ie({search:String,loading:Boolean,...Be(),...cme(),...c3(),...h3(),...pC({itemsPerPage:5}),...Z5(),...mC(),...Wh(),..._t(),...va({transition:{component:Gm,hideOnLeave:!0}})},"VDataIterator"),gme=ve()({name:"VDataIterator",props:mme(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"groupBy"),s=me(t,"search"),{items:r}=fme(t),{filteredItems:a}=Yh(t,r,s,{transform:te=>te.raw}),{sortBy:o,multiSort:l,mustSort:u}=Pw(t),{page:d,itemsPerPage:c}=vC(t),{toggleSort:h}=Cw({sortBy:o,multiSort:l,mustSort:u,page:d}),{sortByWithGroups:f,opened:p,extractRows:m,isGroupOpen:v,toggleGroup:_}=ww({groupBy:i,sortBy:o}),{sortedItems:b}=yC(t,a,f,{transform:te=>te.raw}),{flatItems:x}=xw(b,i,p),k=O(()=>x.value.length),{startIndex:I,stopIndex:E,pageCount:T,prevPage:S,nextPage:w,setItemsPerPage:C,setPage:P}=_C({page:d,itemsPerPage:c,itemsLength:k}),{paginatedItems:D}=o3({items:x,startIndex:I,stopIndex:E,itemsPerPage:c}),A=O(()=>m(D.value)),{isSelected:F,select:L,selectAll:H,toggleSelect:X}=kw(t,{allItems:r,currentPage:A}),{isExpanded:z,toggleExpand:K}=bw(t);Sw({page:d,itemsPerPage:c,sortBy:o,groupBy:i,search:s});const Y=O(()=>({page:d.value,itemsPerPage:c.value,sortBy:o.value,pageCount:T.value,toggleSort:h,prevPage:S,nextPage:w,setPage:P,setItemsPerPage:C,isSelected:F,select:L,selectAll:H,toggleSelect:X,isExpanded:z,toggleExpand:K,isGroupOpen:v,toggleGroup:_,items:A.value,groupedItems:D.value}));return we(()=>g(t.tag,{class:["v-data-iterator",{"v-data-iterator--loading":t.loading},t.class],style:t.style},{default:()=>{var te,Q;return[(te=n.header)==null?void 0:te.call(n,Y.value),g(Ts,{transition:t.transition},{default:()=>{var ee,ue;return[t.loading?g(Jg,{key:"loader",name:"v-data-iterator",active:!0},{default:re=>{var se;return(se=n.loader)==null?void 0:se.call(n,re)}}):g("div",{key:"items"},[D.value.length?(ue=n.default)==null?void 0:ue.call(n,Y.value):(ee=n["no-data"])==null?void 0:ee.call(n)])]}}),(Q=n.footer)==null?void 0:Q.call(n,Y.value)]}})),{}}});function pme(){const t=G([]);gL(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const vme=ie({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:Ye,default:"$first"},prevIcon:{type:Ye,default:"$prev"},nextIcon:{type:Ye,default:"$next"},lastIcon:{type:Ye,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...nr(),...Be(),...Ti(),...ki(),...Rn(),...Za(),..._t({tag:"nav"}),...Lt(),...Br({variant:"text"})},"VPagination"),k1=ve()({name:"VPagination",props:vme(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Ue(t,"modelValue"),{t:r,n:a}=gn(),{isRtl:o}=Si(),{themeClasses:l}=Xt(t),{width:u}=wr(),d=Re(-1);Dn(void 0,{scoped:!0});const{resizeRef:c}=ca(S=>{if(!S.length)return;const{target:w,contentRect:C}=S[0],P=w.querySelector(".v-pagination__list > *");if(!P)return;const D=C.width,A=P.offsetWidth+parseFloat(getComputedStyle(P).marginRight)*2;d.value=m(D,A)}),h=O(()=>parseInt(t.length,10)),f=O(()=>parseInt(t.start,10)),p=O(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):d.value>=0?d.value:m(u.value,58));function m(S,w){const C=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-w*C)/w).toFixed(2)))}const v=O(()=>{if(h.value<=0||isNaN(h.value)||h.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=0)return[];if(p.value===1)return[s.value];if(h.value<=p.value)return fr(h.value,f.value);const S=p.value%2===0,w=S?p.value/2:Math.floor(p.value/2),C=S?w:w+1,P=h.value-w;if(C-s.value>=0)return[...fr(Math.max(1,p.value-1),f.value),t.ellipsis,h.value];if(s.value-P>=(S?1:0)){const D=p.value-1,A=h.value-D+f.value;return[f.value,t.ellipsis,...fr(D,A)]}else{const D=Math.max(1,p.value-3),A=D===1?s.value:s.value-Math.ceil(D/2)+f.value;return[f.value,t.ellipsis,...fr(D,A),t.ellipsis,h.value]}});function _(S,w,C){S.preventDefault(),s.value=w,C&&i(C,w)}const{refs:b,updateRef:x}=pme();Dn({VPaginationBtn:{color:me(t,"color"),border:me(t,"border"),density:me(t,"density"),size:me(t,"size"),variant:me(t,"variant"),rounded:me(t,"rounded"),elevation:me(t,"elevation")}});const k=O(()=>v.value.map((S,w)=>{const C=P=>x(P,w);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${w}`,page:S,props:{ref:C,ellipsis:!0,icon:!0,disabled:!0}};{const P=S===s.value;return{isActive:P,key:S,page:a(S),props:{ref:C,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:P?t.activeColor:t.color,"aria-current":P,"aria-label":r(P?t.currentPageAriaLabel:t.pageAriaLabel,S),onClick:D=>_(D,S)}}}})),I=O(()=>{const S=!!t.disabled||s.value<=f.value,w=!!t.disabled||s.value>=f.value+h.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:C=>_(C,f.value,"first"),disabled:S,"aria-label":r(t.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:C=>_(C,s.value-1,"prev"),disabled:S,"aria-label":r(t.previousAriaLabel),"aria-disabled":S},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:C=>_(C,s.value+1,"next"),disabled:w,"aria-label":r(t.nextAriaLabel),"aria-disabled":w},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:C=>_(C,f.value+h.value-1,"last"),disabled:w,"aria-label":r(t.lastAriaLabel),"aria-disabled":w}:void 0}});function E(){var w;const S=s.value-f.value;(w=b.value[S])==null||w.$el.focus()}function T(S){S.key===LS.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,vt(E)):S.key===LS.right&&!t.disabled&&s.value<f.value+h.value-1&&(s.value=s.value+1,vt(E))}return we(()=>g(t.tag,{ref:c,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[g("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&g("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(I.value.first):g(pt,Z({_as:"VPaginationBtn"},I.value.first),null)]),g("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(I.value.prev):g(pt,Z({_as:"VPaginationBtn"},I.value.prev),null)]),k.value.map((S,w)=>g("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):g(pt,Z({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),g("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(I.value.next):g(pt,Z({_as:"VPaginationBtn"},I.value.next),null)]),t.showFirstLastPage&&g("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(I.value.last):g(pt,Z({_as:"VPaginationBtn"},I.value.last),null)])])]})),{}}}),bC=ie({prevIcon:{type:Ye,default:"$prev"},nextIcon:{type:Ye,default:"$next"},firstIcon:{type:Ye,default:"$first"},lastIcon:{type:Ye,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),eg=ve()({name:"VDataTableFooter",props:bC(),setup(t,e){let{slots:n}=e;const{t:i}=gn(),{page:s,pageCount:r,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:u,setItemsPerPage:d}=ome(),c=O(()=>t.itemsPerPageOptions.map(h=>typeof h=="number"?{value:h,title:h===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(h)}:{...h,title:isNaN(Number(h.title))?i(h.title):h.title}));return we(()=>{var f;const h=k1.filterProps(t);return g("div",{class:"v-data-table-footer"},[(f=n.prepend)==null?void 0:f.call(n),g("div",{class:"v-data-table-footer__items-per-page"},[g("span",null,[i(t.itemsPerPageText)]),g(dC,{items:c.value,modelValue:u.value,"onUpdate:modelValue":p=>d(Number(p)),density:"compact",variant:"outlined","hide-details":!0},null)]),g("div",{class:"v-data-table-footer__info"},[g("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),g("div",{class:"v-data-table-footer__pagination"},[g(k1,Z({modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},h),null)])])}),{}}}),ny=Wne({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return g(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:Le(t.height),width:Le(t.width),maxWidth:Le(t.maxWidth),left:Le(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),_me=ie({headers:Array},"DataTable-header"),g3=Symbol.for("vuetify:data-table-headers"),p3={title:"",sortable:!1},yme={...p3,width:48};function bme(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function T1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)T1(n,e);return e}function v3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&v3(n.children,e);return e}function wme(t){if(t.key){if(t.key==="data-table-group")return p3;if(["data-table-expand","data-table-select"].includes(t.key))return yme}}function wC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>wC(n,e+1))):e}function xme(t){let e=!1;function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(a&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return a;if(r.children){r.fixedOffset=a;for(const o of r.children)a=i(o,a)}else r.fixed&&(r.fixedOffset=a,a+=parseFloat(r.width||"0")||0);return a}let s=0;for(const r of t)s=i(r,s)}function Sme(t,e){const n=[];let i=0;const s=bme(t);for(;s.size()>0;){let a=s.count();const o=[];let l=1;for(;a>0;){const{element:u,priority:d}=s.dequeue(),c=e-i-wC(u);if(o.push({...u,rowspan:c??1,colspan:u.children?T1(u).length:1}),u.children)for(const h of u.children){const f=d%1+l/Math.pow(10,i+2);s.enqueue(h,i+c+f)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>T1(a)).flat(),headers:n}}function _3(t){const e=[];for(const n of t){const i={...wme(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,a={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?_3(i.children):void 0};e.push(a)}return e}function xC(t,e){const n=G([]),i=G([]),s=G({}),r=G({}),a=G({});yn(()=>{var m,v,_;const u=(t.headers||Object.keys(t.items[0]??{}).map(b=>({key:b,title:ga(b)}))).slice(),d=v3(u);(m=e==null?void 0:e.groupBy)!=null&&m.value.length&&!d.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(v=e==null?void 0:e.showSelect)!=null&&v.value&&!d.has("data-table-select")&&u.unshift({key:"data-table-select"}),(_=e==null?void 0:e.showExpand)!=null&&_.value&&!d.has("data-table-expand")&&u.push({key:"data-table-expand"});const c=_3(u);xme(c);const h=Math.max(...c.map(b=>wC(b)))+1,f=Sme(c,h);n.value=f.headers,i.value=f.columns;const p=f.headers.flat(1);for(const b of p)b.key&&(b.sortable&&(b.sort&&(s.value[b.key]=b.sort),b.sortRaw&&(r.value[b.key]=b.sortRaw)),b.filter&&(a.value[b.key]=b.filter))});const o={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:a};return Kt(g3,o),o}function Ew(){const t=mt(g3);if(!t)throw new Error("Missing headers!");return t}const y3=ie({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Ye,default:"$sortAsc"},sortDescIcon:{type:Ye,default:"$sortDesc"},headerProps:{type:Object},...Rc(),...hw()},"VDataTableHeaders"),dc=ve()({name:"VDataTableHeaders",props:y3(),setup(t,e){let{slots:n}=e;const{t:i}=gn(),{toggleSort:s,sortBy:r,isSorted:a}=m3(),{someSelected:o,allSelected:l,selectAll:u,showSelectAll:d}=Tw(),{columns:c,headers:h}=Ew(),{loaderClasses:f}=Qg(t);function p(S,w){if(!(!t.sticky&&!S.fixed))return{position:"sticky",left:S.fixed?Le(S.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function m(S){const w=r.value.find(C=>C.key===S.key);return w?w.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:_}=rn(t,"color"),{displayClasses:b,mobile:x}=wr(t),k=O(()=>({headers:h.value,columns:c.value,toggleSort:s,isSorted:a,sortBy:r.value,someSelected:o.value,allSelected:l.value,selectAll:u,getSortIcon:m})),I=O(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky},b.value,f.value]),E=S=>{let{column:w,x:C,y:P}=S;const D=w.key==="data-table-select"||w.key==="data-table-expand",A=Z(t.headerProps??{},w.headerProps??{});return g(ny,Z({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!t.disableSort,"v-data-table__th--sorted":a(w),"v-data-table__th--fixed":w.fixed},...I.value],style:{width:Le(w.width),minWidth:Le(w.minWidth),maxWidth:Le(w.maxWidth),...p(w,P)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>s(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:D},A),{default:()=>{var H;const F=`header.${w.key}`,L={column:w,selectAll:u,isSorted:a,toggleSort:s,sortBy:r.value,someSelected:o.value,allSelected:l.value,getSortIcon:m};return n[F]?n[F](L):w.key==="data-table-select"?((H=n["header.data-table-select"])==null?void 0:H.call(n,L))??(d.value&&g(Wa,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":u},null)):g("div",{class:"v-data-table-header__content"},[g("span",null,[w.title]),w.sortable&&!t.disableSort&&g(Bt,{key:"icon",class:"v-data-table-header__sort-icon",icon:m(w)},null),t.multiSort&&a(w)&&g("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:_.value},[r.value.findIndex(X=>X.key===w.key)+1])])}})},T=()=>{const S=Z(t.headerProps??{}??{}),w=O(()=>c.value.filter(P=>(P==null?void 0:P.sortable)&&!t.disableSort)),C=O(()=>{if(c.value.find(D=>D.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return g(ny,Z({tag:"th",class:[...I.value],colspan:h.value.length+1},S),{default:()=>[g("div",{class:"v-data-table-header__content"},[g(dC,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:C.value,"onClick:append":()=>u(!l.value)},{...n,chip:P=>{var D;return g($c,{onClick:(D=P.item.raw)!=null&&D.sortable?()=>s(P.item.raw):void 0,onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},{default:()=>[P.item.title,g(Bt,{class:["v-data-table__td-sort-icon",a(P.item.raw)&&"v-data-table__td-sort-icon-active"],icon:m(P.item.raw),size:"small"},null)]})}})])]})};we(()=>x.value?g("tr",null,[g(T,null,null)]):g(Pe,null,[n.headers?n.headers(k.value):h.value.map((S,w)=>g("tr",null,[S.map((C,P)=>g(E,{column:C,x:P,y:w},null))])),t.loading&&g("tr",{class:"v-data-table-progress"},[g("th",{colspan:c.value.length},[g(Jg,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),kme=ie({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Tme=ve()({name:"VDataTableGroupHeaderRow",props:kme(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=i3(),{isSelected:a,isSomeSelected:o,select:l}=Tw(),{columns:u}=Ew(),d=O(()=>r([t.item]));return()=>g("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[u.value.map(c=>{var h,f;if(c.key==="data-table-group"){const p=i(t.item)?"$expand":"$next",m=()=>s(t.item);return((h=n["data-table-group"])==null?void 0:h.call(n,{item:t.item,count:d.value.length,props:{icon:p,onClick:m}}))??g(ny,{class:"v-data-table-group-header-row__column"},{default:()=>[g(pt,{size:"small",variant:"text",icon:p,onClick:m},null),g("span",null,[t.item.value]),g("span",null,[Ce("("),d.value.length,Ce(")")])]})}if(c.key==="data-table-select"){const p=a(d.value),m=o(d.value)&&!p,v=_=>l(d.value,_);return((f=n["data-table-select"])==null?void 0:f.call(n,{props:{modelValue:p,indeterminate:m,"onUpdate:modelValue":v}}))??g("td",null,[g(Wa,{modelValue:p,indeterminate:m,"onUpdate:modelValue":v},null)])}return g("td",null,null)})])}}),Pme=ie({index:Number,item:Object,cellProps:[Object,Function],onClick:Ri(),onContextmenu:Ri(),onDblclick:Ri(),...Rc()},"VDataTableRow"),SC=ve()({name:"VDataTableRow",props:Pme(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:s}=wr(t,"v-data-table__tr"),{isSelected:r,toggleSelect:a,someSelected:o,allSelected:l,selectAll:u}=Tw(),{isExpanded:d,toggleExpand:c}=t3(),{toggleSort:h,sortBy:f,isSorted:p}=m3(),{columns:m}=Ew();we(()=>g("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&m.value.map((v,_)=>{const b=t.item,x=`item.${v.key}`,k=`header.${v.key}`,I={index:t.index,item:b.raw,internalItem:b,value:sc(b.columns,v.key),column:v,isSelected:r,toggleSelect:a,isExpanded:d,toggleExpand:c},E={column:v,selectAll:u,isSorted:p,toggleSort:h,sortBy:f.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},T=typeof t.cellProps=="function"?t.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value,column:v}):t.cellProps,S=typeof v.cellProps=="function"?v.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value}):v.cellProps;return g(ny,Z({align:v.align,class:{"v-data-table__td--expanded-row":v.key==="data-table-expand","v-data-table__td--select-row":v.key==="data-table-select"},fixed:v.fixed,fixedOffset:v.fixedOffset,lastFixed:v.lastFixed,maxWidth:s.value?void 0:v.maxWidth,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",nowrap:v.nowrap,width:s.value?void 0:v.width},T,S),{default:()=>{var C,P,D,A,F;if(n[x]&&!s.value)return(C=n[x])==null?void 0:C.call(n,I);if(v.key==="data-table-select")return((P=n["item.data-table-select"])==null?void 0:P.call(n,I))??g(Wa,{disabled:!b.selectable,modelValue:r([b]),onClick:Ku(()=>a(b),["stop"])},null);if(v.key==="data-table-expand")return((D=n["item.data-table-expand"])==null?void 0:D.call(n,I))??g(pt,{icon:d(b)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ku(()=>c(b),["stop"])},null);const w=ct(I.value);return s.value?g(Pe,null,[g("div",{class:"v-data-table__td-title"},[((A=n[k])==null?void 0:A.call(n,E))??v.title]),g("div",{class:"v-data-table__td-value"},[((F=n[x])==null?void 0:F.call(n,I))??w])]):w}})})]))}}),b3=ie({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Rc()},"VDataTableRows"),hc=ve()({name:"VDataTableRows",inheritAttrs:!1,props:b3(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=Ew(),{expandOnClick:r,toggleExpand:a,isExpanded:o}=t3(),{isSelected:l,toggleSelect:u}=Tw(),{toggleGroup:d,isGroupOpen:c}=i3(),{t:h}=gn(),{mobile:f}=wr(t);return we(()=>{var p,m;return t.loading&&(!t.items.length||i.loading)?g("tr",{class:"v-data-table-rows-loading",key:"loading"},[g("td",{colspan:s.value.length},[((p=i.loading)==null?void 0:p.call(i))??h(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?g("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[g("td",{colspan:s.value.length},[((m=i["no-data"])==null?void 0:m.call(i))??h(t.noDataText)])]):g(Pe,null,[t.items.map((v,_)=>{var k;if(v.type==="group"){const I={index:_,item:v,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u,toggleGroup:d,isGroupOpen:c};return i["group-header"]?i["group-header"](I):g(Tme,Z({key:`group-header_${v.id}`,item:v},kR(n,":group-header",()=>I)),i)}const b={index:_,item:v.raw,internalItem:v,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u},x={...b,props:Z({key:`item_${v.key??v.index}`,onClick:r.value?()=>{a(v)}:void 0,index:_,item:v,cellProps:t.cellProps,mobile:f.value},kR(n,":row",()=>b),typeof t.rowProps=="function"?t.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):t.rowProps)};return g(Pe,{key:x.props.key},[i.item?i.item(x):g(SC,x.props,i),o(v)&&((k=i["expanded-row"])==null?void 0:k.call(i,b))])})])}),{}}}),w3=ie({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Be(),...Ti(),..._t(),...Lt()},"VTable"),fc=ve()({name:"VTable",props:w3(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Xt(t),{densityClasses:r}=ls(t);return we(()=>g(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?g("div",{class:"v-table__wrapper",style:{height:Le(t.height)}},[g("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),Cme=ie({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Eme(t,e,n,i){const s=t.returnObject?e:ii(e,t.itemValue),r=ii(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=ii(e,l.value)),o),{});return{type:"item",key:t.returnObject?ii(e,t.itemValue):s,index:n,value:s,selectable:r,columns:a,raw:e}}function Ime(t,e,n){return e.map((i,s)=>Eme(t,i,s,n))}function kC(t,e){return{items:O(()=>Ime(t,t.items,e.value))}}const TC=ie({...b3(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Z5(),...mC(),..._me(),...Cme(),...c3(),...h3(),...y3(),...w3()},"DataTable"),Dme=ie({...pC(),...TC(),...Wh(),...bC()},"VDataTable"),Ame=ve()({name:"VDataTable",props:Dme(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=gC(t),{sortBy:r,multiSort:a,mustSort:o}=Pw(t),{page:l,itemsPerPage:u}=vC(t),{disableSort:d}=ql(t),{columns:c,headers:h,sortFunctions:f,sortRawFunctions:p,filterFunctions:m}=xC(t,{groupBy:s,showSelect:me(t,"showSelect"),showExpand:me(t,"showExpand")}),{items:v}=kC(t,c),_=me(t,"search"),{filteredItems:b}=Yh(t,v,_,{transform:$=>$.columns,customKeyFilter:m}),{toggleSort:x}=Cw({sortBy:r,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:k,opened:I,extractRows:E,isGroupOpen:T,toggleGroup:S}=ww({groupBy:s,sortBy:r,disableSort:d}),{sortedItems:w}=yC(t,b,k,{transform:$=>({...$.raw,...$.columns}),sortFunctions:f,sortRawFunctions:p}),{flatItems:C}=xw(w,s,I),P=O(()=>C.value.length),{startIndex:D,stopIndex:A,pageCount:F,setItemsPerPage:L}=_C({page:l,itemsPerPage:u,itemsLength:P}),{paginatedItems:H}=o3({items:C,startIndex:D,stopIndex:A,itemsPerPage:u}),X=O(()=>E(H.value)),{isSelected:z,select:K,selectAll:Y,toggleSelect:te,someSelected:Q,allSelected:ee}=kw(t,{allItems:v,currentPage:X}),{isExpanded:ue,toggleExpand:re}=bw(t);Sw({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:_}),Dn({VDataTableRows:{hideNoData:me(t,"hideNoData"),noDataText:me(t,"noDataText"),loading:me(t,"loading"),loadingText:me(t,"loadingText")}});const se=O(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:F.value,toggleSort:x,setItemsPerPage:L,someSelected:Q.value,allSelected:ee.value,isSelected:z,select:K,selectAll:Y,toggleSelect:te,isExpanded:ue,toggleExpand:re,isGroupOpen:T,toggleGroup:S,items:X.value.map($=>$.raw),internalItems:X.value,groupedItems:H.value,columns:c.value,headers:h.value}));return we(()=>{const $=eg.filterProps(t),q=dc.filterProps(t),ae=hc.filterProps(t),_e=fc.filterProps(t);return g(fc,Z({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},_e),{top:()=>{var ge;return(ge=i.top)==null?void 0:ge.call(i,se.value)},default:()=>{var ge,B,N,W,ce,de;return i.default?i.default(se.value):g(Pe,null,[(ge=i.colgroup)==null?void 0:ge.call(i,se.value),!t.hideDefaultHeader&&g("thead",{key:"thead"},[g(dc,q,i)]),(B=i.thead)==null?void 0:B.call(i,se.value),!t.hideDefaultBody&&g("tbody",null,[(N=i["body.prepend"])==null?void 0:N.call(i,se.value),i.body?i.body(se.value):g(hc,Z(n,ae,{items:H.value}),i),(W=i["body.append"])==null?void 0:W.call(i,se.value)]),(ce=i.tbody)==null?void 0:ce.call(i,se.value),(de=i.tfoot)==null?void 0:de.call(i,se.value)])},bottom:()=>i.bottom?i.bottom(se.value):!t.hideDefaultFooter&&g(Pe,null,[g(Qr,null,null),g(eg,$,{prepend:i["footer.prepend"]})])})}),{}}}),Rme=ie({...TC(),...mC(),...R5(),...Wh()},"VDataTableVirtual"),Ome=ve()({name:"VDataTableVirtual",props:Rme(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=gC(t),{sortBy:r,multiSort:a,mustSort:o}=Pw(t),{disableSort:l}=ql(t),{columns:u,headers:d,filterFunctions:c,sortFunctions:h,sortRawFunctions:f}=xC(t,{groupBy:s,showSelect:me(t,"showSelect"),showExpand:me(t,"showExpand")}),{items:p}=kC(t,u),m=me(t,"search"),{filteredItems:v}=Yh(t,p,m,{transform:q=>q.columns,customKeyFilter:c}),{toggleSort:_}=Cw({sortBy:r,multiSort:a,mustSort:o}),{sortByWithGroups:b,opened:x,extractRows:k,isGroupOpen:I,toggleGroup:E}=ww({groupBy:s,sortBy:r,disableSort:l}),{sortedItems:T}=yC(t,v,b,{transform:q=>({...q.raw,...q.columns}),sortFunctions:h,sortRawFunctions:f}),{flatItems:S}=xw(T,s,x),w=O(()=>k(S.value)),{isSelected:C,select:P,selectAll:D,toggleSelect:A,someSelected:F,allSelected:L}=kw(t,{allItems:w,currentPage:w}),{isExpanded:H,toggleExpand:X}=bw(t),{containerRef:z,markerRef:K,paddingTop:Y,paddingBottom:te,computedItems:Q,handleItemResize:ee,handleScroll:ue,handleScrollend:re}=O5(t,S),se=O(()=>Q.value.map(q=>q.raw));Sw({sortBy:r,page:Re(1),itemsPerPage:Re(-1),groupBy:s,search:m}),Dn({VDataTableRows:{hideNoData:me(t,"hideNoData"),noDataText:me(t,"noDataText"),loading:me(t,"loading"),loadingText:me(t,"loadingText")}});const $=O(()=>({sortBy:r.value,toggleSort:_,someSelected:F.value,allSelected:L.value,isSelected:C,select:P,selectAll:D,toggleSelect:A,isExpanded:H,toggleExpand:X,isGroupOpen:I,toggleGroup:E,items:w.value.map(q=>q.raw),internalItems:w.value,groupedItems:S.value,columns:u.value,headers:d.value}));we(()=>{const q=dc.filterProps(t),ae=hc.filterProps(t),_e=fc.filterProps(t);return g(fc,Z({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},_e),{top:()=>{var ge;return(ge=i.top)==null?void 0:ge.call(i,$.value)},wrapper:()=>{var ge,B,N;return g("div",{ref:z,onScrollPassive:ue,onScrollend:re,class:"v-table__wrapper",style:{height:Le(t.height)}},[g("table",null,[(ge=i.colgroup)==null?void 0:ge.call(i,$.value),!t.hideDefaultHeader&&g("thead",{key:"thead"},[g(dc,Z(q,{sticky:t.fixedHeader}),i)]),!t.hideDefaultBody&&g("tbody",null,[g("tr",{ref:K,style:{height:Le(Y.value),border:0}},[g("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(B=i["body.prepend"])==null?void 0:B.call(i,$.value),g(hc,Z(n,ae,{items:se.value}),{...i,item:W=>g(A5,{key:W.internalItem.index,renderless:!0,"onUpdate:height":ce=>ee(W.internalItem.index,ce)},{default:ce=>{var ne;let{itemRef:de}=ce;return((ne=i.item)==null?void 0:ne.call(i,{...W,itemRef:de}))??g(SC,Z(W.props,{ref:de,key:W.internalItem.index,index:W.internalItem.index}),i)}})}),(N=i["body.append"])==null?void 0:N.call(i,$.value),g("tr",{style:{height:Le(te.value),border:0}},[g("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var ge;return(ge=i.bottom)==null?void 0:ge.call(i,$.value)}})})}}),Mme=ie({itemsLength:{type:[Number,String],required:!0},...pC(),...TC(),...bC()},"VDataTableServer"),Vme=ve()({name:"VDataTableServer",props:Mme(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=gC(t),{sortBy:r,multiSort:a,mustSort:o}=Pw(t),{page:l,itemsPerPage:u}=vC(t),{disableSort:d}=ql(t),c=O(()=>parseInt(t.itemsLength,10)),{columns:h,headers:f}=xC(t,{groupBy:s,showSelect:me(t,"showSelect"),showExpand:me(t,"showExpand")}),{items:p}=kC(t,h),{toggleSort:m}=Cw({sortBy:r,multiSort:a,mustSort:o,page:l}),{opened:v,isGroupOpen:_,toggleGroup:b,extractRows:x}=ww({groupBy:s,sortBy:r,disableSort:d}),{pageCount:k,setItemsPerPage:I}=_C({page:l,itemsPerPage:u,itemsLength:c}),{flatItems:E}=xw(p,s,v),{isSelected:T,select:S,selectAll:w,toggleSelect:C,someSelected:P,allSelected:D}=kw(t,{allItems:p,currentPage:p}),{isExpanded:A,toggleExpand:F}=bw(t),L=O(()=>x(p.value));Sw({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:me(t,"search")}),Kt("v-data-table",{toggleSort:m,sortBy:r}),Dn({VDataTableRows:{hideNoData:me(t,"hideNoData"),noDataText:me(t,"noDataText"),loading:me(t,"loading"),loadingText:me(t,"loadingText")}});const H=O(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:k.value,toggleSort:m,setItemsPerPage:I,someSelected:P.value,allSelected:D.value,isSelected:T,select:S,selectAll:w,toggleSelect:C,isExpanded:A,toggleExpand:F,isGroupOpen:_,toggleGroup:b,items:L.value.map(X=>X.raw),internalItems:L.value,groupedItems:E.value,columns:h.value,headers:f.value}));we(()=>{const X=eg.filterProps(t),z=dc.filterProps(t),K=hc.filterProps(t),Y=fc.filterProps(t);return g(fc,Z({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},Y),{top:()=>{var te;return(te=i.top)==null?void 0:te.call(i,H.value)},default:()=>{var te,Q,ee,ue,re,se;return i.default?i.default(H.value):g(Pe,null,[(te=i.colgroup)==null?void 0:te.call(i,H.value),!t.hideDefaultHeader&&g("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[g(dc,Z(z,{sticky:t.fixedHeader}),i)]),(Q=i.thead)==null?void 0:Q.call(i,H.value),!t.hideDefaultBody&&g("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(ee=i["body.prepend"])==null?void 0:ee.call(i,H.value),i.body?i.body(H.value):g(hc,Z(n,K,{items:E.value}),i),(ue=i["body.append"])==null?void 0:ue.call(i,H.value)]),(re=i.tbody)==null?void 0:re.call(i,H.value),(se=i.tfoot)==null?void 0:se.call(i,H.value)])},bottom:()=>i.bottom?i.bottom(H.value):!t.hideDefaultFooter&&g(Pe,null,[g(Qr,null,null),g(eg,X,{prepend:i["footer.prepend"]})])})})}}),Lme=ie({fluid:{type:Boolean,default:!1},...Be(),...hi(),..._t()},"VContainer"),Nme=ve()({name:"VContainer",props:Lme(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=Si(),{dimensionStyles:s}=fi(t);return we(()=>g(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[s.value,t.style]},n)),{}}}),x3=Gb.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),S3=Gb.reduce((t,e)=>{const n="offset"+ga(e);return t[n]={type:[String,Number],default:null},t},{}),k3=Gb.reduce((t,e)=>{const n="order"+ga(e);return t[n]={type:[String,Number],default:null},t},{}),NO={col:Object.keys(x3),offset:Object.keys(S3),order:Object.keys(k3)};function Fme(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const Bme=["auto","start","end","center","baseline","stretch"],jme=ie({cols:{type:[Boolean,String,Number],default:!1},...x3,offset:{type:[String,Number],default:null},...S3,order:{type:[String,Number],default:null},...k3,alignSelf:{type:String,default:null,validator:t=>Bme.includes(t)},...Be(),..._t()},"VCol"),$me=ve()({name:"VCol",props:jme(),setup(t,e){let{slots:n}=e;const i=O(()=>{const s=[];let r;for(r in NO)NO[r].forEach(o=>{const l=t[o],u=Fme(r,o,l);u&&s.push(u)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return Di(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),PC=["start","end","center"],T3=["space-between","space-around","space-evenly"];function CC(t,e){return Gb.reduce((n,i)=>{const s=t+ga(i);return n[s]=e(),n},{})}const Ume=[...PC,"baseline","stretch"],P3=t=>Ume.includes(t),C3=CC("align",()=>({type:String,default:null,validator:P3})),Hme=[...PC,...T3],E3=t=>Hme.includes(t),I3=CC("justify",()=>({type:String,default:null,validator:E3})),zme=[...PC,...T3,"stretch"],D3=t=>zme.includes(t),A3=CC("alignContent",()=>({type:String,default:null,validator:D3})),FO={align:Object.keys(C3),justify:Object.keys(I3),alignContent:Object.keys(A3)},Wme={align:"align",justify:"justify",alignContent:"align-content"};function Yme(t,e,n){let i=Wme[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const Gme=ie({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:P3},...C3,justify:{type:String,default:null,validator:E3},...I3,alignContent:{type:String,default:null,validator:D3},...A3,...Be(),..._t()},"VRow"),qme=ve()({name:"VRow",props:Gme(),setup(t,e){let{slots:n}=e;const i=O(()=>{const s=[];let r;for(r in FO)FO[r].forEach(a=>{const o=t[a],l=Yme(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return Di(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),R3=Ja("v-spacer","div","VSpacer"),O3=ie({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Ye,default:"$next"},prevIcon:{type:Ye,default:"$prev"},modeIcon:{type:Ye,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),P1=ve()({name:"VDatePickerControls",props:O3(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=O(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=O(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=O(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=O(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function d(){n("click:month")}return we(()=>g("div",{class:["v-date-picker-controls"]},[g(pt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:d},null),g(pt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:u},null),g(R3,{key:"mode-spacer"},null),g("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[g(pt,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:o},null),g(pt,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),Xme=ie({appendIcon:Ye,color:String,header:String,transition:String,onClick:Ri()},"VDatePickerHeader"),C1=ve()({name:"VDatePickerHeader",props:Xme(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=rn(t,"color");function a(){n("click")}function o(){n("click:append")}return we(()=>{const l=!!(i.default||t.header),u=!!(i.append||t.appendIcon);return g("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&g("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&g(Ts,{key:"content",name:t.transition},{default:()=>{var d;return[g("div",{key:t.header,class:"v-date-picker-header__content"},[((d=i.default)==null?void 0:d.call(i))??t.header])]}}),u&&g("div",{class:"v-date-picker-header__append"},[i.append?g(ut,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=i.append)==null?void 0:d.call(i)]}}):g(pt,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),M3=ie({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function V3(t){const e=Fr(),n=Ue(t,"modelValue",[],f=>bn(f)),i=O(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=Ue(t,"year",void 0,f=>{const p=f!=null?Number(f):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),p))},f=>e.getYear(f)),r=Ue(t,"month",void 0,f=>{const p=f!=null?Number(f):e.getMonth(i.value),m=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(m,p)},f=>e.getMonth(f)),a=O(()=>{const f=Number(t.firstDayOfWeek??0);return t.weekdays.map(p=>(p+f)%7)}),o=O(()=>{const f=e.getWeekArray(r.value,t.firstDayOfWeek),p=f.flat(),m=6*7;if(t.weeksInMonth==="static"&&p.length<m){const v=p[p.length-1];let _=[];for(let b=1;b<=m-p.length;b++)_.push(e.addDays(v,b)),b%7===0&&(f.push(_),_=[])}return f});function l(f,p){return f.filter(m=>a.value.includes(e.toJsDate(m).getDay())).map((m,v)=>{const _=e.toISO(m),b=!e.isSameMonth(m,r.value),x=e.isSameDay(m,e.startOfMonth(r.value)),k=e.isSameDay(m,e.endOfMonth(r.value)),I=e.isSameDay(m,r.value);return{date:m,isoDate:_,formatted:e.format(m,"keyboardDate"),year:e.getYear(m),month:e.getMonth(m),isDisabled:h(m),isWeekStart:v%7===0,isWeekEnd:v%7===6,isToday:e.isSameDay(m,p),isAdjacent:b,isHidden:b&&!t.showAdjacentMonths,isStart:x,isSelected:n.value.some(E=>e.isSameDay(m,E)),isEnd:k,isSame:I,localized:e.format(m,"dayOfMonth")}})}const u=O(()=>{const f=e.startOfWeek(i.value,t.firstDayOfWeek),p=[];for(let v=0;v<=6;v++)p.push(e.addDays(f,v));const m=e.date();return l(p,m)}),d=O(()=>{const f=o.value.flat(),p=e.date();return l(f,p)}),c=O(()=>o.value.map(f=>f.length?Uie(e,f[0]):null));function h(f){if(t.disabled)return!0;const p=e.date(f);return t.min&&e.isAfter(e.date(t.min),p)||t.max&&e.isAfter(p,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(m=>e.isSameDay(e.date(m),p)):typeof t.allowedDates=="function"?!t.allowedDates(p):!1}return{displayValue:i,daysInMonth:d,daysInWeek:u,genDays:l,model:n,weeksInMonth:o,weekDays:a,weekNumbers:c}}const L3=ie({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...M3()},"VDatePickerMonth"),E1=ve()({name:"VDatePickerMonth",props:L3(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=G(),{daysInMonth:r,model:a,weekNumbers:o}=V3(t),l=Fr(),u=Re(),d=Re(),c=Re(!1),h=O(()=>c.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(u.value=a.value[0],a.value.length>1&&(d.value=a.value[a.value.length-1]));const f=O(()=>{const _=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=_});be(r,(_,b)=>{b&&(c.value=l.isBefore(_[0].date,b[0].date))});function p(_){const b=l.startOfDay(_);if(a.value.length===0?u.value=void 0:a.value.length===1&&(u.value=a.value[0],d.value=void 0),!u.value)u.value=b,a.value=[u.value];else if(d.value)u.value=_,d.value=void 0,a.value=[u.value];else{if(l.isSameDay(b,u.value)){u.value=void 0,a.value=[];return}else l.isBefore(b,u.value)?(d.value=l.endOfDay(u.value),u.value=b):d.value=l.endOfDay(b);const x=l.getDiff(d.value,u.value,"days"),k=[u.value];for(let I=1;I<x;I++){const E=l.addDays(u.value,I);k.push(E)}k.push(d.value),a.value=k}}function m(_){const b=a.value.findIndex(x=>l.isSameDay(x,_));if(b===-1)a.value=[...a.value,_];else{const x=[...a.value];x.splice(b,1),a.value=x}}function v(_){t.multiple==="range"?p(_):t.multiple?m(_):a.value=[_]}return()=>g("div",{class:"v-date-picker-month"},[t.showWeek&&g("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&g("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ce(" ")]),o.value.map(_=>g("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[_]))]),g(Ts,{name:h.value},{default:()=>{var _;return[g("div",{ref:s,key:(_=r.value[0].date)==null?void 0:_.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(b=>g("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[b])),r.value.map((b,x)=>{const k={props:{onClick:()=>v(b.date)},item:b,i:x};return f.value&&!b.isSelected&&(b.isDisabled=!0),g("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}],"data-v-date":b.isDisabled?void 0:b.isoDate},[(t.showAdjacentMonths||!b.isAdjacent)&&g(ut,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(b.isSelected||b.isToday)&&!b.isDisabled?t.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isDisabled?b.isToday?"outlined":"text":b.isToday&&!b.isSelected?"outlined":"flat",onClick:()=>v(b.date)}}},{default:()=>{var I;return[((I=i.day)==null?void 0:I.call(i,k))??g(pt,k.props,null)]}})])})])]}})])}}),N3=ie({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),I1=ve()({name:"VDatePickerMonths",props:N3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),r=Ue(t,"modelValue"),a=O(()=>{let o=s.startOfYear(s.date());return t.year&&(o=s.setYear(o,t.year)),fr(12).map(l=>{const u=s.format(o,"monthShort"),d=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),o)||t.max&&s.isAfter(o,s.startOfMonth(s.date(t.max))));return o=s.getNextMonth(o),{isDisabled:d,text:u,value:l}})});return yn(()=>{r.value=r.value??s.getMonth(s.date())}),we(()=>g("div",{class:"v-date-picker-months",style:{height:Le(t.height)}},[g("div",{class:"v-date-picker-months__content"},[a.value.map((o,l)=>{var c;const u={active:r.value===l,color:r.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>d(l)};function d(h){if(r.value===h){n("update:modelValue",r.value);return}r.value=h}return((c=i.month)==null?void 0:c.call(i,{month:o,i:l,props:u}))??g(pt,Z({key:"month"},u),null)})])])),{}}}),F3=ie({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),D1=ve()({name:"VDatePickerYears",props:F3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),r=Ue(t,"modelValue"),a=O(()=>{const l=s.getYear(s.date());let u=l-100,d=l+52;t.min&&(u=s.getYear(s.date(t.min))),t.max&&(d=s.getYear(s.date(t.max)));let c=s.startOfYear(s.date());return c=s.setYear(c,u),fr(d-u+1,u).map(h=>{const f=s.format(c,"year");return c=s.setYear(c,s.getYear(c)+1),{text:f,value:h}})});yn(()=>{r.value=r.value??s.getYear(s.date())});const o=F_();return kt(async()=>{var l;await vt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),we(()=>g("div",{class:"v-date-picker-years",style:{height:Le(t.height)}},[g("div",{class:"v-date-picker-years__content"},[a.value.map((l,u)=>{var c;const d={ref:r.value===l.value?o:void 0,active:r.value===l.value,color:r.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>{if(r.value===l.value){n("update:modelValue",r.value);return}r.value=l.value}};return((c=i.year)==null?void 0:c.call(i,{year:l,i:u,props:d}))??g(pt,Z({key:"month"},d),null)})])])),{}}}),B3=Ja("v-picker-title"),EC=ie({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ip()},"VPicker"),tg=ve()({name:"VPicker",props:EC(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(me(t,"color"));return we(()=>{const r=Ya.filterProps(t),a=!!(t.title||n.title);return g(Ya,Z(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&g("div",{key:"header",class:[i.value],style:[s.value]},[a&&g(B3,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&g("div",{class:"v-picker__header"},[n.header()])]),g("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&g(ut,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[g("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),j3=ie({header:{type:String,default:"$vuetify.datePicker.header"},...O3(),...L3({weeksInMonth:"static"}),...en(N3(),["modelValue"]),...en(F3(),["modelValue"]),...EC({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),A1=ve()({name:"VDatePicker",props:j3(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),{t:r}=gn(),a=Ue(t,"modelValue",void 0,w=>bn(w),w=>t.multiple?w:w[0]),o=Ue(t,"viewMode"),l=O(()=>{var C;const w=s.date((C=a.value)==null?void 0:C[0]);return w&&s.isValid(w)?w:s.date()}),u=G(Number(t.month??s.getMonth(s.startOfMonth(l.value)))),d=G(Number(t.year??s.getYear(s.startOfYear(s.setMonth(l.value,u.value))))),c=Re(!1),h=O(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),f=O(()=>{let w=s.date();return w=s.setDate(w,1),w=s.setMonth(w,u.value),w=s.setYear(w,d.value),s.format(w,"monthAndYear")}),p=O(()=>`date-picker-header${c.value?"-reverse":""}-transition`),m=O(()=>{const w=s.date(t.min);return t.min&&s.isValid(w)?w:null}),v=O(()=>{const w=s.date(t.max);return t.max&&s.isValid(w)?w:null}),_=O(()=>{if(t.disabled)return!0;const w=[];if(o.value!=="month")w.push("prev","next");else{let C=s.date();if(C=s.setYear(C,d.value),C=s.setMonth(C,u.value),m.value){const P=s.addDays(s.startOfMonth(C),-1);s.isAfter(m.value,P)&&w.push("prev")}if(v.value){const P=s.addDays(s.endOfMonth(C),1);s.isAfter(P,v.value)&&w.push("next")}}return w});function b(){u.value<11?u.value++:(d.value++,u.value=0,S(d.value)),T(u.value)}function x(){u.value>0?u.value--:(d.value--,u.value=11,S(d.value)),T(u.value)}function k(){o.value="month"}function I(){o.value=o.value==="months"?"month":"months"}function E(){o.value=o.value==="year"?"month":"year"}function T(w){o.value==="months"&&I(),n("update:month",w)}function S(w){o.value==="year"&&E(),n("update:year",w)}return be(a,(w,C)=>{const P=bn(C),D=bn(w);if(!D.length)return;const A=s.date(P[P.length-1]),F=s.date(D[D.length-1]),L=s.getMonth(F),H=s.getYear(F);L!==u.value&&(u.value=L,T(u.value)),H!==d.value&&(d.value=H,S(d.value)),c.value=s.isBefore(A,F)}),we(()=>{const w=tg.filterProps(t),C=P1.filterProps(t),P=C1.filterProps(t),D=E1.filterProps(t),A=en(I1.filterProps(t),["modelValue"]),F=en(D1.filterProps(t),["modelValue"]),L={header:h.value,transition:p.value};return g(tg,Z(w,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var H;return((H=i.title)==null?void 0:H.call(i))??g("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?g(ut,{defaults:{VDatePickerHeader:{...L}}},{default:()=>{var H;return[(H=i.header)==null?void 0:H.call(i,L)]}}):g(C1,Z({key:"header"},P,L,{onClick:o.value!=="month"?k:void 0}),{...i,default:void 0}),default:()=>g(Pe,null,[g(P1,Z(C,{disabled:_.value,text:f.value,"onClick:next":b,"onClick:prev":x,"onClick:month":I,"onClick:year":E}),null),g(Gm,{hideOnLeave:!0},{default:()=>[o.value==="months"?g(I1,Z({key:"date-picker-months"},A,{modelValue:u.value,"onUpdate:modelValue":[H=>u.value=H,T],min:m.value,max:v.value,year:d.value}),null):o.value==="year"?g(D1,Z({key:"date-picker-years"},F,{modelValue:d.value,"onUpdate:modelValue":[H=>d.value=H,S],min:m.value,max:v.value}),null):g(E1,Z({key:"date-picker-month"},D,{modelValue:a.value,"onUpdate:modelValue":H=>a.value=H,month:u.value,"onUpdate:month":[H=>u.value=H,T],year:d.value,"onUpdate:year":[H=>d.value=H,S],min:m.value,max:v.value}),null)]})]),actions:i.actions})}),{}}}),Kme=ie({actionText:String,bgColor:String,color:String,icon:Ye,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Be(),...hi(),...Za({size:void 0}),...Lt()},"VEmptyState"),Qme=ve()({name:"VEmptyState",props:Kme(),emits:{"click:action":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{themeClasses:s}=Xt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(me(t,"bgColor")),{dimensionStyles:o}=fi(t),{displayClasses:l}=wr();function u(d){n("click:action",d)}return we(()=>{var v,_,b;const d=!!(i.actions||t.actionText),c=!!(i.headline||t.headline),h=!!(i.title||t.title),f=!!(i.text||t.text),p=!!(i.media||t.image||t.icon),m=t.size||(t.image?200:96);return g("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},s.value,r.value,l.value,t.class],style:[a.value,o.value,t.style]},[p&&g("div",{key:"media",class:"v-empty-state__media"},[i.media?g(ut,{key:"media-defaults",defaults:{VImg:{src:t.image,height:m},VIcon:{size:m,icon:t.icon}}},{default:()=>[i.media()]}):g(Pe,null,[t.image?g(Mo,{key:"image",src:t.image,height:m},null):t.icon?g(Bt,{key:"icon",color:t.color,size:m,icon:t.icon},null):void 0])]),c&&g("div",{key:"headline",class:"v-empty-state__headline"},[((v=i.headline)==null?void 0:v.call(i))??t.headline]),h&&g("div",{key:"title",class:"v-empty-state__title"},[((_=i.title)==null?void 0:_.call(i))??t.title]),f&&g("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Le(t.textWidth)}},[((b=i.text)==null?void 0:b.call(i))??t.text]),i.default&&g("div",{key:"content",class:"v-empty-state__content"},[i.default()]),d&&g("div",{key:"actions",class:"v-empty-state__actions"},[g(ut,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color??"surface-variant",text:t.actionText}}},{default:()=>{var x;return[((x=i.actions)==null?void 0:x.call(i,{props:{onClick:u}}))??g(pt,{onClick:u},null)]}})])])}),{}}}),ng=Symbol.for("vuetify:v-expansion-panel"),$3=ie({...Be(),...aC()},"VExpansionPanelText"),R1=ve()({name:"VExpansionPanelText",props:$3(),setup(t,e){let{slots:n}=e;const i=mt(ng);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:r}=oC(t,i.isSelected);return we(()=>g(uw,{onAfterLeave:r},{default:()=>{var a;return[In(g("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&s.value&&g("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[pa,i.isSelected.value]])]}})),{}}}),U3=ie({color:String,expandIcon:{type:Ye,default:"$expand"},collapseIcon:{type:Ye,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Be(),...hi()},"VExpansionPanelTitle"),O1=ve()({name:"VExpansionPanelTitle",directives:{Ripple:Yo},props:U3(),setup(t,e){let{slots:n}=e;const i=mt(ng);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:r}=rn(t,"color"),{dimensionStyles:a}=fi(t),o=O(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=O(()=>i.isSelected.value?t.collapseIcon:t.expandIcon);return we(()=>{var u;return In(g("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},s.value,t.class],style:[r.value,a.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[g("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,o.value),!t.hideActions&&g(ut,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var d;return[g("span",{class:"v-expansion-panel-title__icon"},[((d=n.actions)==null?void 0:d.call(n,o.value))??g(Bt,null,null)])]}})]),[[tr("ripple"),t.ripple]])}),{}}}),IC=ie({title:String,text:String,bgColor:String,...ki(),...Fc(),...Rn(),..._t(),...U3(),...$3()},"VExpansionPanel"),M1=ve()({name:"VExpansionPanel",props:IC(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Bc(t,ng),{backgroundColorClasses:s,backgroundColorStyles:r}=rn(t,"bgColor"),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),l=O(()=>(i==null?void 0:i.disabled.value)||t.disabled),u=O(()=>i.group.items.value.reduce((h,f,p)=>(i.group.selected.value.includes(f.id)&&h.push(p),h),[])),d=O(()=>{const h=i.group.items.value.findIndex(f=>f.id===i.id);return!i.isSelected.value&&u.value.some(f=>f-h===1)}),c=O(()=>{const h=i.group.items.value.findIndex(f=>f.id===i.id);return!i.isSelected.value&&u.value.some(f=>f-h===-1)});return Kt(ng,i),we(()=>{const h=!!(n.text||t.text),f=!!(n.title||t.title),p=O1.filterProps(t),m=R1.filterProps(t);return g(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":l.value},o.value,s.value,t.class],style:[r.value,t.style]},{default:()=>[g("div",{class:["v-expansion-panel__shadow",...a.value]},null),g(ut,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...m}}},{default:()=>{var v;return[f&&g(O1,{key:"title"},{default:()=>[n.title?n.title():t.title]}),h&&g(R1,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(v=n.default)==null?void 0:v.call(n)]}})]})}),{groupItem:i}}}),Jme=["default","accordion","inset","popout"],H3=ie({flat:Boolean,...Nc(),...yP(IC(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Lt(),...Be(),..._t(),variant:{type:String,default:"default",validator:t=>Jme.includes(t)}},"VExpansionPanels"),V1=ve()({name:"VExpansionPanels",props:H3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:i,prev:s}=su(t,ng),{themeClasses:r}=Xt(t),a=O(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return Dn({VExpansionPanel:{bgColor:me(t,"bgColor"),collapseIcon:me(t,"collapseIcon"),color:me(t,"color"),eager:me(t,"eager"),elevation:me(t,"elevation"),expandIcon:me(t,"expandIcon"),focusable:me(t,"focusable"),hideActions:me(t,"hideActions"),readonly:me(t,"readonly"),ripple:me(t,"ripple"),rounded:me(t,"rounded"),static:me(t,"static")}}),we(()=>g(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},r.value,a.value,t.class],style:t.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:i})]}})),{next:i,prev:s}}}),Zme=ie({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...en(fw({active:!0}),["location"]),...Oc(),...Wo(),...va({transition:"fab-transition"})},"VFab"),ege=ve()({name:"VFab",props:Zme(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),s=Re(56),r=G(),{resizeRef:a}=ca(c=>{c.length&&(s.value=c[0].target.clientHeight)}),o=O(()=>t.app||t.absolute),l=O(()=>{var c;return o.value?((c=t.location)==null?void 0:c.split(" ").shift())??"bottom":!1}),u=O(()=>{var c;return o.value?((c=t.location)==null?void 0:c.split(" ")[1])??"end":!1});Ns(()=>t.app,()=>{const c=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:l,layoutSize:O(()=>t.layout?s.value+24:0),elementSize:O(()=>s.value+24),active:O(()=>t.app&&i.value),absolute:me(t,"absolute")});yn(()=>{r.value=c.layoutItemStyles.value})});const d=G();return we(()=>{const c=pt.filterProps(t);return g("div",{ref:d,class:["v-fab",{"v-fab--absolute":t.absolute,"v-fab--app":!!t.app,"v-fab--extended":t.extended,"v-fab--offset":t.offset,[`v-fab--${l.value}`]:o.value,[`v-fab--${u.value}`]:o.value},t.class],style:[t.app?{...r.value}:{height:"inherit",width:void 0},t.style]},[g("div",{class:"v-fab__container"},[g(Ts,{appear:t.appear,transition:t.transition},{default:()=>[In(g(pt,Z({ref:a},c,{active:void 0,location:void 0}),n),[[pa,t.active]])]})])])}),{}}}),tge=ie({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...Go({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>bn(t).every(e=>e!=null&&typeof e=="object")},...np({clearable:!0})},"VFileInput"),nge=ve()({name:"VFileInput",inheritAttrs:!1,props:tge(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=gn(),a=Ue(t,"modelValue",t.modelValue,w=>bn(w),w=>!t.multiple&&Array.isArray(w)?w[0]:w),{isFocused:o,focus:l,blur:u}=eo(t),d=O(()=>typeof t.showSize!="boolean"?t.showSize:void 0),c=O(()=>(a.value??[]).reduce((w,C)=>{let{size:P=0}=C;return w+P},0)),h=O(()=>FS(c.value,d.value)),f=O(()=>(a.value??[]).map(w=>{const{name:C="",size:P=0}=w;return t.showSize?`${C} (${FS(P,d.value)})`:C})),p=O(()=>{var C;const w=((C=a.value)==null?void 0:C.length)??0;return t.showSize?r(t.counterSizeString,w,h.value):r(t.counterString,w)}),m=G(),v=G(),_=G(),b=O(()=>o.value||t.active),x=O(()=>["plain","underlined"].includes(t.variant));function k(){var w;_.value!==document.activeElement&&((w=_.value)==null||w.focus()),o.value||l()}function I(w){var C;(C=_.value)==null||C.click()}function E(w){i("mousedown:control",w)}function T(w){var C;(C=_.value)==null||C.click(),i("click:control",w)}function S(w){w.stopPropagation(),k(),vt(()=>{a.value=[],wP(t["onClick:clear"],w)})}return be(a,w=>{(!Array.isArray(w)||!w.length)&&_.value&&(_.value.value="")}),we(()=>{const w=!!(s.counter||t.counter),C=!!(w||s.details),[P,D]=Ho(n),{modelValue:A,...F}=rs.filterProps(t),L=lC(t);return g(rs,Z({ref:m,modelValue:a.value,"onUpdate:modelValue":H=>a.value=H,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":x.value},t.class],style:t.style,"onClick:prepend":I},P,F,{centerAffix:!x.value,focused:o.value}),{...s,default:H=>{let{id:X,isDisabled:z,isDirty:K,isReadonly:Y,isValid:te}=H;return g(Hh,Z({ref:v,"prepend-icon":t.prependIcon,onMousedown:E,onClick:T,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},L,{id:X.value,active:b.value||K.value,dirty:K.value||t.dirty,disabled:z.value,focused:o.value,error:te.value===!1}),{...s,default:Q=>{var re;let{props:{class:ee,...ue}}=Q;return g(Pe,null,[g("input",Z({ref:_,type:"file",readonly:Y.value,disabled:z.value,multiple:t.multiple,name:t.name,onClick:se=>{se.stopPropagation(),Y.value&&se.preventDefault(),k()},onChange:se=>{if(!se.target)return;const $=se.target;a.value=[...$.files??[]]},onFocus:k,onBlur:u},ue,D),null),g("div",{class:ee},[!!((re=a.value)!=null&&re.length)&&!t.hideInput&&(s.selection?s.selection({fileNames:f.value,totalBytes:c.value,totalBytesReadable:h.value}):t.chips?f.value.map(se=>g($c,{key:se,size:"small",text:se},null)):f.value.join(", "))])])}})},details:C?H=>{var X,z;return g(Pe,null,[(X=s.details)==null?void 0:X.call(s,H),w&&g(Pe,null,[g("span",null,null),g(pw,{active:!!((z=a.value)!=null&&z.length),value:p.value,disabled:t.disabled},s.counter)])])}:void 0})}),kr({},m,v,_)}}),ige=ie({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...nr(),...Be(),...ki(),...Oc(),...Rn(),..._t({tag:"footer"}),...Lt()},"VFooter"),sge=ve()({name:"VFooter",props:ige(),setup(t,e){let{slots:n}=e;const i=G(),{themeClasses:s}=Xt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(me(t,"color")),{borderClasses:o}=Sr(t),{elevationClasses:l}=Wi(t),{roundedClasses:u}=qn(t),d=Re(32),{resizeRef:c}=ca(f=>{f.length&&(d.value=f[0].target.clientHeight)}),h=O(()=>t.height==="auto"?d.value:parseInt(t.height,10));return Ns(()=>t.app,()=>{const f=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:O(()=>"bottom"),layoutSize:h,elementSize:O(()=>t.height==="auto"?void 0:h.value),active:O(()=>t.app),absolute:me(t,"absolute")});yn(()=>{i.value=f.layoutItemStyles.value})}),we(()=>g(t.tag,{ref:c,class:["v-footer",s.value,r.value,o.value,l.value,u.value,t.class],style:[a.value,t.app?i.value:{height:Le(t.height)},t.style]},n)),{}}}),rge=ie({...Be(),...Ide()},"VForm"),age=ve()({name:"VForm",props:rge(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Dde(t),r=G();function a(l){l.preventDefault(),s.reset()}function o(l){const u=l,d=s.validate();u.then=d.then.bind(d),u.catch=d.catch.bind(d),u.finally=d.finally.bind(d),i("submit",u),u.defaultPrevented||d.then(c=>{var f;let{valid:h}=c;h&&((f=r.value)==null||f.submit())}),u.preventDefault()}return we(()=>{var l;return g("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,s)])}),kr(s,r)}}),oge=ie({disabled:Boolean,modelValue:{type:Boolean,default:null},...gw()},"VHover"),lge=ve()({name:"VHover",props:oge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),{runOpenDelay:s,runCloseDelay:r}=rC(t,a=>!t.disabled&&(i.value=a));return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isHovering:i.value,props:{onMouseenter:s,onMouseleave:r}})}}}),uge=ie({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...hi(),..._t()},"VInfiniteScroll"),BO=br({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:s}=cw();return be(s,async r=>{n("intersect",t.side,r)}),we(()=>g("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":t.rootMargin},ref:i},[Ce(" ")])),{}}}),cge=ve()({name:"VInfiniteScroll",props:uge(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=G(),r=Re("ok"),a=Re("ok"),o=O(()=>Le(t.margin)),l=Re(!1);function u(I){if(!s.value)return;const E=t.direction==="vertical"?"scrollTop":"scrollLeft";s.value[E]=I}function d(){if(!s.value)return 0;const I=t.direction==="vertical"?"scrollTop":"scrollLeft";return s.value[I]}function c(){if(!s.value)return 0;const I=t.direction==="vertical"?"scrollHeight":"scrollWidth";return s.value[I]}function h(){if(!s.value)return 0;const I=t.direction==="vertical"?"clientHeight":"clientWidth";return s.value[I]}kt(()=>{s.value&&(t.side==="start"?u(c()):t.side==="both"&&u(c()/2-h()/2))});function f(I,E){I==="start"?r.value=E:I==="end"&&(a.value=E)}function p(I){return I==="start"?r.value:a.value}let m=0;function v(I,E){l.value=E,l.value&&_(I)}function _(I){if(t.mode!=="manual"&&!l.value)return;const E=p(I);if(!s.value||["empty","loading"].includes(E))return;m=c(),f(I,"loading");function T(S){f(I,S),vt(()=>{S==="empty"||S==="error"||(S==="ok"&&I==="start"&&u(c()-m+d()),t.mode!=="manual"&&vt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{_(I)})})})}))})}i("load",{side:I,done:T})}const{t:b}=gn();function x(I,E){var w,C,P,D,A;if(t.side!==I&&t.side!=="both")return;const T=()=>_(I),S={side:I,props:{onClick:T,color:t.color}};return E==="error"?(w=n.error)==null?void 0:w.call(n,S):E==="empty"?((C=n.empty)==null?void 0:C.call(n,S))??g("div",null,[b(t.emptyText)]):t.mode==="manual"?E==="loading"?((P=n.loading)==null?void 0:P.call(n,S))??g(Bl,{indeterminate:!0,color:t.color},null):((D=n["load-more"])==null?void 0:D.call(n,S))??g(pt,{variant:"outlined",color:t.color,onClick:T},{default:()=>[b(t.loadMoreText)]}):((A=n.loading)==null?void 0:A.call(n,S))??g(Bl,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:k}=fi(t);we(()=>{const I=t.tag,E=t.side==="start"||t.side==="both",T=t.side==="end"||t.side==="both",S=t.mode==="intersect";return g(I,{ref:s,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":E,"v-infinite-scroll--end":T}],style:k.value},{default:()=>{var w;return[g("div",{class:"v-infinite-scroll__side"},[x("start",r.value)]),E&&S&&g(BO,{key:"start",side:"start",onIntersect:v,rootMargin:o.value},null),(w=n.default)==null?void 0:w.call(n),T&&S&&g(BO,{key:"end",side:"end",onIntersect:v,rootMargin:o.value},null),g("div",{class:"v-infinite-scroll__side"},[x("end",a.value)])]}})})}}),z3=Symbol.for("vuetify:v-item-group"),dge=ie({...Be(),...Nc({selectedClass:"v-item--selected"}),..._t(),...Lt()},"VItemGroup"),hge=ve()({name:"VItemGroup",props:dge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=su(t,z3);return()=>g(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}}),fge=ve()({name:"VItem",props:Fc(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:s,toggle:r,selectedClass:a,value:o,disabled:l}=Bc(t,z3);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:a.value,select:s,toggle:r,value:o.value,disabled:l.value})}}}),mge=Ja("v-kbd","kbd"),gge=ie({...Be(),...hi(),...Qj()},"VLayout"),pge=ve()({name:"VLayout",props:gge(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:s,getLayoutItem:r,items:a,layoutRef:o}=Zj(t),{dimensionStyles:l}=fi(t);return we(()=>{var u;return g("div",{ref:o,class:[i.value,t.class],style:[l.value,s.value,t.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:r,items:a}}}),vge=ie({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Be(),...Oc()},"VLayoutItem"),_ge=ve()({name:"VLayoutItem",props:vge(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:me(t,"position"),elementSize:me(t,"size"),layoutSize:me(t,"size"),active:me(t,"modelValue"),absolute:me(t,"absolute")});return()=>{var s;return g("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(s=n.default)==null?void 0:s.call(n)])}}}),yge=ie({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Be(),...hi(),..._t(),...va({transition:"fade-transition"})},"VLazy"),bge=ve()({name:"VLazy",directives:{intersect:Kg},props:yge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=fi(t),s=Ue(t,"modelValue");function r(a){s.value||(s.value=a)}return we(()=>In(g(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[s.value&&g(Ts,{transition:t.transition,appear:!0},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})]}),[[tr("intersect"),{handler:r,options:t.options},null]])),{}}}),wge=ie({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Be()},"VLocaleProvider"),xge=ve()({name:"VLocaleProvider",props:wge(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=Zne(t);return we(()=>{var s;return g("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),Sge=ie({scrollable:Boolean,...Be(),...hi(),..._t({tag:"main"})},"VMain"),kge=ve()({name:"VMain",props:Sge(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=fi(t),{mainStyles:s}=Jj(),{ssrBootStyles:r}=Vc();return we(()=>g(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,o;return[t.scrollable?g("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Tge(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=Re(!1),r=Re(0),a=O(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:Le(r.value)}:{top:i.value.top}]});kt(()=>{be(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Oi(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const u=o>window.scrollY?"up":"down",d=e.value.getBoundingClientRect(),c=parseFloat(i.value.top??0),h=window.scrollY-Math.max(0,r.value-c),f=d.height+Math.max(r.value,c)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-c?(s.value="top",r.value=c):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(r.value=window.scrollY+d.top-p,s.value=!0):u==="down"&&f<=0?(r.value=0,s.value="bottom"):u==="up"&&h<=0&&(p?s.value!=="top"&&(r.value=-h+p+c,s.value="top"):(r.value=d.top+h,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:a}}const Pge=100,Cge=20;function jO(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function $O(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=jO(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return jO(e)*1e3}function Ege(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new hne(Cge))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var u;const r=(u=t[s])==null?void 0:u.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],o=[],l=[];for(const d of r){if(a[0]-d[0]>Pge)break;o.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:$O(o),y:$O(l),get direction(){const{x:d,y:c}=this,[h,f]=[Math.abs(d),Math.abs(c)];return h>f&&d>=0?"right":h>f&&d<=0?"left":f>h&&c>=0?"down":f>h&&c<=0?"up":Ige()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function Ige(){throw new Error}function Dge(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;kt(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),Oi(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",k)});const o=O(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:u,getVelocity:d}=Ege();let c=!1;const h=Re(!1),f=Re(0),p=Re(0);let m;function v(E,T){return(a.value==="left"?E:a.value==="right"?document.documentElement.clientWidth-E:a.value==="top"?E:a.value==="bottom"?document.documentElement.clientHeight-E:td())-(T?s.value:0)}function _(E){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(E-p.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-E-p.value)/s.value:a.value==="top"?(E-p.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-E-p.value)/s.value:td();return T?Math.max(0,Math.min(1,S)):S}function b(E){if(r.value)return;const T=E.changedTouches[0].clientX,S=E.changedTouches[0].clientY,w=25,C=a.value==="left"?T<w:a.value==="right"?T>document.documentElement.clientWidth-w:a.value==="top"?S<w:a.value==="bottom"?S>document.documentElement.clientHeight-w:td(),P=n.value&&(a.value==="left"?T<s.value:a.value==="right"?T>document.documentElement.clientWidth-s.value:a.value==="top"?S<s.value:a.value==="bottom"?S>document.documentElement.clientHeight-s.value:td());(C||P||n.value&&i.value)&&(m=[T,S],p.value=v(o.value?T:S,n.value),f.value=_(o.value?T:S),c=p.value>-20&&p.value<80,u(E),l(E))}function x(E){const T=E.changedTouches[0].clientX,S=E.changedTouches[0].clientY;if(c){if(!E.cancelable){c=!1;return}const C=Math.abs(T-m[0]),P=Math.abs(S-m[1]);(o.value?C>P&&C>3:P>C&&P>3)?(h.value=!0,c=!1):(o.value?P:C)>3&&(c=!1)}if(!h.value)return;E.preventDefault(),l(E);const w=_(o.value?T:S,!1);f.value=Math.max(0,Math.min(1,w)),w>1?p.value=v(o.value?T:S,!0):w<0&&(p.value=v(o.value?T:S,!1))}function k(E){if(c=!1,!h.value)return;l(E),h.value=!1;const T=d(E.changedTouches[0].identifier),S=Math.abs(T.x),w=Math.abs(T.y);(o.value?S>w&&S>400:w>S&&w>3)?n.value=T.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||td()):n.value=f.value>.5}const I=O(()=>h.value?{transform:a.value==="left"?`translateX(calc(-100% + ${f.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${f.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${f.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${f.value*s.value}px))`:td(),transition:"none"}:void 0);return Ns(h,()=>{var S,w;const E=((S=e.value)==null?void 0:S.style.transform)??null,T=((w=e.value)==null?void 0:w.style.transition)??null;yn(()=>{var C,P,D,A;(P=e.value)==null||P.style.setProperty("transform",((C=I.value)==null?void 0:C.transform)||"none"),(A=e.value)==null||A.style.setProperty("transition",((D=I.value)==null?void 0:D.transition)||null)}),as(()=>{var C,P;(C=e.value)==null||C.style.setProperty("transform",E),(P=e.value)==null||P.style.setProperty("transition",T)})}),{isDragging:h,dragProgress:f,dragStyles:I}}function td(){throw new Error}const Age=["start","end","left","right","top","bottom"],Rge=ie({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Age.includes(t)},sticky:Boolean,...nr(),...Be(),...gw(),...Rc({mobile:null}),...ki(),...Oc(),...Rn(),..._t({tag:"nav"}),...Lt()},"VNavigationDrawer"),Oge=ve()({name:"VNavigationDrawer",props:Rge(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=Si(),{themeClasses:a}=Xt(t),{borderClasses:o}=Sr(t),{backgroundColorClasses:l,backgroundColorStyles:u}=rn(me(t,"color")),{elevationClasses:d}=Wi(t),{displayClasses:c,mobile:h}=wr(t),{roundedClasses:f}=qn(t),p=L4(),m=Ue(t,"modelValue",null,te=>!!te),{ssrBootStyles:v}=Vc(),{scopeId:_}=Uc(),b=G(),x=Re(!1),{runOpenDelay:k,runCloseDelay:I}=rC(t,te=>{x.value=te}),E=O(()=>t.rail&&t.expandOnHover&&x.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),T=O(()=>jS(t.location,r.value)),S=O(()=>t.persistent),w=O(()=>!t.permanent&&(h.value||t.temporary)),C=O(()=>t.sticky&&!w.value&&T.value!=="bottom");Ns(()=>t.expandOnHover&&t.rail!=null,()=>{be(x,te=>i("update:rail",!te))}),Ns(()=>!t.disableResizeWatcher,()=>{be(w,te=>!t.permanent&&vt(()=>m.value=!te))}),Ns(()=>!t.disableRouteWatcher&&!!p,()=>{be(p.currentRoute,()=>w.value&&(m.value=!1))}),be(()=>t.permanent,te=>{te&&(m.value=!0)}),t.modelValue==null&&!w.value&&(m.value=t.permanent||!h.value);const{isDragging:P,dragProgress:D}=Dge({el:b,isActive:m,isTemporary:w,width:E,touchless:me(t,"touchless"),position:T}),A=O(()=>{const te=w.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):E.value;return P.value?te*D.value:te}),F=O(()=>["top","bottom"].includes(t.location)?0:E.value),{layoutItemStyles:L,layoutItemScrimStyles:H}=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:T,layoutSize:A,elementSize:F,active:O(()=>m.value||P.value),disableTransitions:O(()=>P.value),absolute:O(()=>t.absolute||C.value&&typeof X.value!="string")}),{isStuck:X,stickyStyles:z}=Tge({rootEl:b,isSticky:C,layoutItemStyles:L}),K=rn(O(()=>typeof t.scrim=="string"?t.scrim:null)),Y=O(()=>({...P.value?{opacity:D.value*.2,transition:"none"}:void 0,...H.value}));return Dn({VList:{bgColor:"transparent"}}),we(()=>{const te=s.image||t.image;return g(Pe,null,[g(t.tag,Z({ref:b,onMouseenter:k,onMouseleave:I,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":m.value,"v-navigation-drawer--sticky":C.value},a.value,l.value,o.value,c.value,d.value,f.value,t.class],style:[u.value,L.value,v.value,z.value,t.style,["top","bottom"].includes(T.value)?{height:"auto"}:{}]},_,n),{default:()=>{var Q,ee,ue;return[te&&g("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?g(ut,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):g(Mo,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&g("div",{class:"v-navigation-drawer__prepend"},[(Q=s.prepend)==null?void 0:Q.call(s)]),g("div",{class:"v-navigation-drawer__content"},[(ee=s.default)==null?void 0:ee.call(s)]),s.append&&g("div",{class:"v-navigation-drawer__append"},[(ue=s.append)==null?void 0:ue.call(s)])]}}),g(Al,{name:"fade-transition"},{default:()=>[w.value&&(P.value||m.value)&&!!t.scrim&&g("div",Z({class:["v-navigation-drawer__scrim",K.backgroundColorClasses.value],style:[Y.value,K.backgroundColorStyles.value],onClick:()=>{S.value||(m.value=!1)}},_),null)]})])}),{isStuck:X}}}),Mge=br({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=P5();return()=>{var s;return i.value&&((s=n.default)==null?void 0:s.call(n))}}}),Vge=ie({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...hi(),...Uh(),...Yg(np({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Lge=ve()({name:"VOtpInput",props:Vge(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{dimensionStyles:r}=fi(t),{isFocused:a,focus:o,blur:l}=eo(t),u=Ue(t,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:d}=gn(),c=O(()=>Number(t.length)),h=O(()=>Array(c.value).fill(0)),f=G(-1),p=G(),m=G([]),v=O(()=>m.value[f.value]);function _(){if(T(v.value.value)){v.value.value="";return}const S=u.value.slice(),w=v.value.value;S[f.value]=w;let C=null;f.value>u.value.length?C=u.value.length+1:f.value+1!==c.value&&(C="next"),u.value=S,C&&Uu(p.value,C)}function b(S){const w=u.value.slice(),C=f.value;let P=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?P="prev":S.key==="ArrowRight"?P="next":["Backspace","Delete"].includes(S.key)&&(w[f.value]="",u.value=w,f.value>0&&S.key==="Backspace"?P="prev":requestAnimationFrame(()=>{var D;(D=m.value[C])==null||D.select()})),requestAnimationFrame(()=>{P!=null&&Uu(p.value,P)}))}function x(S,w){var P,D;w.preventDefault(),w.stopPropagation();const C=((P=w==null?void 0:w.clipboardData)==null?void 0:P.getData("Text").slice(0,c.value))??"";T(C)||(u.value=C.split(""),(D=m.value)==null||D[S].blur())}function k(){u.value=[]}function I(S,w){o(),f.value=w}function E(){l(),f.value=-1}function T(S){return t.type==="number"&&/[^0-9]/g.test(S)}return Dn({VField:{color:O(()=>t.color),bgColor:O(()=>t.color),baseColor:O(()=>t.baseColor),disabled:O(()=>t.disabled),error:O(()=>t.error),variant:O(()=>t.variant)}},{scoped:!0}),be(u,S=>{S.length===c.value&&i("finish",S.join(""))},{deep:!0}),be(f,S=>{S<0||vt(()=>{var w;(w=m.value[S])==null||w.select()})}),we(()=>{var C;const[S,w]=Ho(n);return g("div",Z({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},S),[g("div",{ref:p,class:"v-otp-input__content",style:[r.value]},[h.value.map((P,D)=>g(Pe,null,[t.divider&&D!==0&&g("span",{class:"v-otp-input__divider"},[t.divider]),g(Hh,{focused:a.value&&t.focusAll||f.value===D,key:D},{...s,loader:void 0,default:()=>g("input",{ref:A=>m.value[D]=A,"aria-label":d(t.label,D+1),autofocus:D===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:u.value[D],onInput:_,onFocus:A=>I(A,D),onBlur:E,onKeydown:b,onPaste:A=>x(D,A)},null)})])),g("input",Z({class:"v-otp-input-input",type:"hidden"},w,{value:u.value.join("")}),null),g(da,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var P;return[((P=s.loader)==null?void 0:P.call(s))??g(Bl,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(C=s.default)==null?void 0:C.call(s)])])}),{blur:()=>{var S;(S=m.value)==null||S.some(w=>w.blur())},focus:()=>{var S;(S=m.value)==null||S[0].focus()},reset:k,isFocused:a}}});function Nge(t){return Math.floor(Math.abs(t))*Math.sign(t)}const Fge=ie({scale:{type:[Number,String],default:.5},...Be()},"VParallax"),Bge=ve()({name:"VParallax",props:Fge(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:s}=cw(),{resizeRef:r,contentRect:a}=ca(),{height:o}=wr(),l=G();yn(()=>{var f;i.value=r.value=(f=l.value)==null?void 0:f.$el});let u;be(s,f=>{f?(u=PP(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",h,{passive:!0}),h()):u.removeEventListener("scroll",h)}),Oi(()=>{u==null||u.removeEventListener("scroll",h)}),be(o,h),be(()=>{var f;return(f=a.value)==null?void 0:f.height},h);const d=O(()=>1-$n(+t.scale));let c=-1;function h(){s.value&&(cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var I;const f=((I=l.value)==null?void 0:I.$el).querySelector(".v-img__img");if(!f)return;const p=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,m=u instanceof Document?window.scrollY:u.scrollTop,v=i.value.getBoundingClientRect().top+m,_=a.value.height,b=v+(_-p)/2,x=Nge((m-b)*d.value),k=Math.max(1,(d.value*(p-_)+_)/_);f.style.setProperty("transform",`translateY(${x}px) scale(${k})`)}))}return we(()=>g(Mo,{class:["v-parallax",{"v-parallax--active":s.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:h,onLoad:h},n)),{}}}),jge=ie({...mw({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),$ge=ve()({name:"VRadio",props:jge(),setup(t,e){let{slots:n}=e;return we(()=>{const i=jl.filterProps(t);return g(jl,Z(i,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)}),{}}}),Uge=ie({height:{type:[Number,String],default:"auto"},...Go(),...en(ZP(),["multiple"]),trueIcon:{type:Ye,default:"$radioOn"},falseIcon:{type:Ye,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Hge=ve()({name:"VRadioGroup",inheritAttrs:!1,props:Uge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=zi(),r=O(()=>t.id||`radio-group-${s}`),a=Ue(t,"modelValue");return we(()=>{const[o,l]=Ho(n),u=rs.filterProps(t),d=jl.filterProps(t),c=i.label?i.label({label:t.label,props:{for:r.value}}):t.label;return g(rs,Z({class:["v-radio-group",t.class],style:t.style},o,u,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,id:r.value}),{...i,default:h=>{let{id:f,messagesId:p,isDisabled:m,isReadonly:v}=h;return g(Pe,null,[c&&g($h,{id:f.value},{default:()=>[c]}),g(G4,Z(d,{id:f.value,"aria-describedby":p.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:m.value,readonly:v.value,"aria-labelledby":c?f.value:void 0,multiple:!1},l,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_}),i)])}})}),{}}}),zge=ie({...Uh(),...Go(),...q5(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),Wge=ve()({name:"VRangeSlider",props:zge(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=G(),r=G(),a=G(),{rtlClasses:o}=Si();function l(C){if(!s.value||!r.value)return;const P=b1(C,s.value.$el,t.direction),D=b1(C,r.value.$el,t.direction),A=Math.abs(P),F=Math.abs(D);return A<F||A===F&&P<0?s.value.$el:r.value.$el}const u=X5(t),d=Ue(t,"modelValue",void 0,C=>C!=null&&C.length?C.map(P=>u.roundValue(P)):[0,0]),{activeThumbRef:c,hasLabels:h,max:f,min:p,mousePressed:m,onSliderMousedown:v,onSliderTouchstart:_,position:b,trackContainerRef:x,readonly:k}=K5({props:t,steps:u,onSliderStart:()=>{i("start",d.value)},onSliderEnd:C=>{var A;let{value:P}=C;const D=c.value===((A=s.value)==null?void 0:A.$el)?[P,d.value[1]]:[d.value[0],P];!t.strict&&D[0]<D[1]&&(d.value=D),i("end",d.value)},onSliderMove:C=>{var F,L,H,X;let{value:P}=C;const[D,A]=d.value;!t.strict&&D===A&&D!==p.value&&(c.value=P>D?(F=r.value)==null?void 0:F.$el:(L=s.value)==null?void 0:L.$el,(H=c.value)==null||H.focus()),c.value===((X=s.value)==null?void 0:X.$el)?d.value=[Math.min(P,A),A]:d.value=[D,Math.max(D,P)]},getActiveThumb:l}),{isFocused:I,focus:E,blur:T}=eo(t),S=O(()=>b(d.value[0])),w=O(()=>b(d.value[1]));return we(()=>{const C=rs.filterProps(t),P=!!(t.label||n.label||n.prepend);return g(rs,Z({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||h.value,"v-slider--focused":I.value,"v-slider--pressed":m.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:a},C,{focused:I.value}),{...n,prepend:P?D=>{var A,F;return g(Pe,null,[((A=n.label)==null?void 0:A.call(n,D))??(t.label?g($h,{class:"v-slider__label",text:t.label},null):void 0),(F=n.prepend)==null?void 0:F.call(n,D)])}:void 0,default:D=>{var L,H;let{id:A,messagesId:F}=D;return g("div",{class:"v-slider__container",onMousedown:k.value?void 0:v,onTouchstartPassive:k.value?void 0:_},[g("input",{id:`${A.value}_start`,name:t.name||A.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:d.value[0]},null),g("input",{id:`${A.value}_stop`,name:t.name||A.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:d.value[1]},null),g(Q5,{ref:x,start:S.value,stop:w.value},{"tick-label":n["tick-label"]}),g(w1,{ref:s,"aria-describedby":F.value,focused:I&&c.value===((L=s.value)==null?void 0:L.$el),modelValue:d.value[0],"onUpdate:modelValue":X=>d.value=[X,d.value[1]],onFocus:X=>{var z,K,Y,te;E(),c.value=(z=s.value)==null?void 0:z.$el,f.value!==p.value&&d.value[0]===d.value[1]&&d.value[1]===p.value&&X.relatedTarget!==((K=r.value)==null?void 0:K.$el)&&((Y=s.value)==null||Y.$el.blur(),(te=r.value)==null||te.$el.focus())},onBlur:()=>{T(),c.value=void 0},min:p.value,max:d.value[1],position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),g(w1,{ref:r,"aria-describedby":F.value,focused:I&&c.value===((H=r.value)==null?void 0:H.$el),modelValue:d.value[1],"onUpdate:modelValue":X=>d.value=[d.value[0],X],onFocus:X=>{var z,K,Y,te;E(),c.value=(z=r.value)==null?void 0:z.$el,f.value!==p.value&&d.value[0]===d.value[1]&&d.value[0]===f.value&&X.relatedTarget!==((K=s.value)==null?void 0:K.$el)&&((Y=r.value)==null||Y.$el.blur(),(te=s.value)==null||te.$el.focus())},onBlur:()=>{T(),c.value=void 0},min:d.value[0],max:f.value,position:w.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Yge=ie({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ye,default:"$ratingEmpty"},fullIcon:{type:Ye,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...Be(),...Ti(),...Za(),..._t(),...Lt()},"VRating"),Gge=ve()({name:"VRating",props:Yge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),{themeClasses:s}=Xt(t),r=Ue(t,"modelValue"),a=O(()=>$n(parseFloat(r.value),0,+t.length)),o=O(()=>fr(Number(t.length),1)),l=O(()=>o.value.flatMap(m=>t.halfIncrements?[m-.5,m]:[m])),u=Re(-1),d=O(()=>l.value.map(m=>{const v=t.hover&&u.value>-1,_=a.value>=m,b=u.value>=m,k=(v?b:_)?t.fullIcon:t.emptyIcon,I=t.activeColor??t.color,E=_||b?I:t.color;return{isFilled:_,isHovered:b,icon:k,color:E}})),c=O(()=>[0,...l.value].map(m=>{function v(){u.value=m}function _(){u.value=-1}function b(){t.disabled||t.readonly||(r.value=a.value===m&&t.clearable?0:m)}return{onMouseenter:t.hover?v:void 0,onMouseleave:t.hover?_:void 0,onClick:b}})),h=O(()=>t.name??`v-rating-${zi()}`);function f(m){var S,w;let{value:v,index:_,showStar:b=!0}=m;const{onMouseenter:x,onMouseleave:k,onClick:I}=c.value[_+1],E=`${h.value}-${String(v).replace(".","-")}`,T={color:(S=d.value[_])==null?void 0:S.color,density:t.density,disabled:t.disabled,icon:(w=d.value[_])==null?void 0:w.icon,ripple:t.ripple,size:t.size,variant:"plain"};return g(Pe,null,[g("label",{for:E,class:{"v-rating__item--half":t.halfIncrements&&v%1>0,"v-rating__item--full":t.halfIncrements&&v%1===0},onMouseenter:x,onMouseleave:k,onClick:I},[g("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,v,t.length)]),b?n.item?n.item({...d.value[_],props:T,value:v,index:_,rating:a.value}):g(pt,Z({"aria-label":i(t.itemAriaLabel,v,t.length)},T),null):void 0]),g("input",{class:"v-rating__hidden",name:h.value,id:E,type:"radio",value:v,checked:a.value===v,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function p(m){return n["item-label"]?n["item-label"](m):m.label?g("span",null,[m.label]):g("span",null,[Ce(" ")])}return we(()=>{var v;const m=!!((v=t.itemLabels)!=null&&v.length)||n["item-label"];return g(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},s.value,t.class],style:t.style},{default:()=>[g(f,{value:0,index:-1,showStar:!1},null),o.value.map((_,b)=>{var x,k;return g("div",{class:"v-rating__wrapper"},[m&&t.itemLabelPosition==="top"?p({value:_,index:b,label:(x=t.itemLabels)==null?void 0:x[b]}):void 0,g("div",{class:"v-rating__item"},[t.halfIncrements?g(Pe,null,[g(f,{value:_-.5,index:b*2},null),g(f,{value:_,index:b*2+1},null)]):g(f,{value:_,index:b},null)]),m&&t.itemLabelPosition==="bottom"?p({value:_,index:b,label:(k=t.itemLabels)==null?void 0:k[b]}):void 0])})]})}),{}}}),qge={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function Xge(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return g("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function UO(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>Iw(e))}function Iw(t){let e=[];if(!t)return e;const n=qge[t];if(t!==n){if(t.includes(","))return HO(t);if(t.includes("@"))return UO(t);n.includes(",")?e=HO(n):n.includes("@")?e=UO(n):n&&e.push(Iw(n))}return[Xge(t,e)]}function HO(t){return t.replace(/\s/g,"").split(",").map(Iw)}const Kge=ie({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...hi(),...ki(),...Lt()},"VSkeletonLoader"),Qge=ve()({name:"VSkeletonLoader",props:Kge(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(me(t,"color")),{dimensionStyles:r}=fi(t),{elevationClasses:a}=Wi(t),{themeClasses:o}=Xt(t),{t:l}=gn(),u=O(()=>Iw(bn(t.type).join(",")));return we(()=>{var h;const d=!n.default||t.loading,c=t.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:l(t.loadingText),role:"alert"};return g("div",Z({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,a.value],style:[s.value,d?r.value:{}]},c),[d?u.value:(h=n.default)==null?void 0:h.call(n)])}),{}}}),Jge=ve()({name:"VSlideGroupItem",props:Fc(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Bc(t,n5);return()=>{var s;return(s=n.default)==null?void 0:s.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function Zge(t){const e=Re(t());let n=-1;function i(){clearInterval(n)}function s(){i(),vt(()=>e.value=t())}function r(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const d=performance.now()-u+l;e.value=Math.max(t()-d,0),e.value<=0&&i()},l)}return as(i),{clear:i,time:e,start:r,reset:s}}const W3=ie({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Wo({location:"bottom"}),...Fh(),...Rn(),...Br(),...Lt(),...en(tp({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),L1=ve()({name:"VSnackbar",props:W3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),{positionClasses:s}=Bh(t),{scopeId:r}=Uc(),{themeClasses:a}=Xt(t),{colorClasses:o,colorStyles:l,variantClasses:u}=Lc(t),{roundedClasses:d}=qn(t),c=Zge(()=>Number(t.timeout)),h=G(),f=G(),p=Re(!1),m=Re(0),v=G(),_=mt(Bm,void 0);Ns(()=>!!_,()=>{const P=Jj();yn(()=>{v.value=P.mainStyles.value})}),be(i,x),be(()=>t.timeout,x),kt(()=>{i.value&&x()});let b=-1;function x(){c.reset(),window.clearTimeout(b);const P=Number(t.timeout);if(!i.value||P===-1)return;const D=_P(f.value);c.start(D),b=window.setTimeout(()=>{i.value=!1},P)}function k(){c.reset(),window.clearTimeout(b)}function I(){p.value=!0,k()}function E(){p.value=!1,x()}function T(P){m.value=P.touches[0].clientY}function S(P){Math.abs(m.value-P.changedTouches[0].clientY)>50&&(i.value=!1)}function w(){p.value&&E()}const C=O(()=>t.location.split(" ").reduce((P,D)=>(P[`v-snackbar--${D}`]=!0,P),{}));return we(()=>{const P=da.filterProps(t),D=!!(n.default||n.text||t.text);return g(da,Z({ref:h,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},C.value,s.value,t.class],style:[v.value,t.style]},P,{modelValue:i.value,"onUpdate:modelValue":A=>i.value=A,contentProps:Z({class:["v-snackbar__wrapper",a.value,o.value,d.value,u.value],style:[l.value],onPointerenter:I,onPointerleave:E},P.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:T,onTouchend:S,onAfterLeave:w},r),{default:()=>{var A,F;return[iu(!1,"v-snackbar"),t.timer&&!p.value&&g("div",{key:"timer",class:"v-snackbar__timer"},[g(dw,{ref:f,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":c.time.value},null)]),D&&g("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((A=n.text)==null?void 0:A.call(n))??t.text,(F=n.default)==null?void 0:F.call(n)]),n.actions&&g(ut,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[g("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),kr({},h)}}),Y3=ie({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:t=>["top","bottom","left","right"].includes(t),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),G3=ie({autoLineWidth:Boolean,...Y3()},"VBarline"),zO=ve()({name:"VBarline",props:G3(),setup(t,e){let{slots:n}=e;const i=zi(),s=O(()=>t.id||`barline-${i}`),r=O(()=>Number(t.autoDrawDuration)||500),a=O(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),o=O(()=>parseFloat(t.lineWidth)||4),l=O(()=>Math.max(t.modelValue.length*o.value,Number(t.width))),u=O(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(t.height,10)})),d=O(()=>t.modelValue.map(m=>ii(m,t.itemValue,m)));function c(m,v){const{minX:_,maxX:b,minY:x,maxY:k}=v,I=m.length;let E=t.max!=null?Number(t.max):Math.max(...m),T=t.min!=null?Number(t.min):Math.min(...m);T>0&&t.min==null&&(T=0),E<0&&t.max==null&&(E=0);const S=b/I,w=(k-x)/(E-T||1),C=k-Math.abs(T*w);return m.map((P,D)=>{const A=Math.abs(w*P);return{x:_+D*S,y:C-A+ +(P<0)*A,height:A,value:P}})}const h=O(()=>{const m=[],v=c(d.value,u.value),_=v.length;for(let b=0;m.length<_;b++){const x=v[b];let k=t.labels[b];k||(k=typeof x=="object"?x.value:x),m.push({x:x.x,value:String(k)})}return m}),f=O(()=>c(d.value,u.value)),p=O(()=>(Math.abs(f.value[0].x-f.value[1].x)-o.value)/2);we(()=>{const m=t.gradient.slice().length?t.gradient.slice().reverse():[""];return g("svg",{display:"block"},[g("defs",null,[g("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[m.map((v,_)=>g("stop",{offset:_/Math.max(m.length-1,1),"stop-color":v||"currentColor"},null))])]),g("clipPath",{id:`${s.value}-clip`},[f.value.map(v=>g("rect",{x:v.x+p.value,y:v.y,width:o.value,height:v.height,rx:typeof t.smooth=="number"?t.smooth:t.smooth?2:0,ry:typeof t.smooth=="number"?t.smooth:t.smooth?2:0},[t.autoDraw&&g(Pe,null,[g("animate",{attributeName:"y",from:v.y+v.height,to:v.y,dur:`${r.value}ms`,fill:"freeze"},null),g("animate",{attributeName:"height",from:"0",to:v.height,dur:`${r.value}ms`,fill:"freeze"},null)])]))]),a.value&&g("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[h.value.map((v,_)=>{var b;return g("text",{x:v.x+p.value+o.value/2,y:parseInt(t.height,10)-2+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((b=n.label)==null?void 0:b.call(n,{index:_,value:v.value}))??v.value])})]),g("g",{"clip-path":`url(#${s.value}-clip)`,fill:`url(#${s.value})`},[g("rect",{x:0,y:0,width:Math.max(t.modelValue.length*o.value,Number(t.width)),height:t.height},null)])])})}});function epe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(t.length===0)return"";const s=t.shift(),r=t[t.length-1];return(n?`M${s.x} ${i-s.x+2} L${s.x} ${s.y}`:`M${s.x} ${s.y}`)+t.map((a,o)=>{const l=t[o+1],u=t[o-1]||s,d=l&&tpe(l,a,u);if(!l||d)return`L${a.x} ${a.y}`;const c=Math.min(WO(u,a),WO(l,a)),f=c/2<e?c/2:e,p=YO(u,a,f),m=YO(l,a,f);return`L${p.x} ${p.y}S${a.x} ${a.y} ${m.x} ${m.y}`}).join("")+(n?`L${r.x} ${i-s.x+2} Z`:"")}function Kp(t){return parseInt(t,10)}function tpe(t,e,n){return Kp(t.x+n.x)===Kp(2*e.x)&&Kp(t.y+n.y)===Kp(2*e.y)}function WO(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function YO(t,e,n){const i={x:t.x-e.x,y:t.y-e.y},s=Math.sqrt(i.x*i.x+i.y*i.y),r={x:i.x/s,y:i.y/s};return{x:e.x+r.x*n,y:e.y+r.y*n}}const q3=ie({fill:Boolean,...Y3()},"VTrendline"),GO=ve()({name:"VTrendline",props:q3(),setup(t,e){let{slots:n}=e;const i=zi(),s=O(()=>t.id||`trendline-${i}`),r=O(()=>Number(t.autoDrawDuration)||(t.fill?500:2e3)),a=G(0),o=G(null);function l(v,_){const{minX:b,maxX:x,minY:k,maxY:I}=_,E=v.length,T=t.max!=null?Number(t.max):Math.max(...v),S=t.min!=null?Number(t.min):Math.min(...v),w=(x-b)/(E-1),C=(I-k)/(T-S||1);return v.map((P,D)=>({x:b+D*w,y:I-(P-S)*C,value:P}))}const u=O(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),d=O(()=>parseFloat(t.lineWidth)||4),c=O(()=>Number(t.width)),h=O(()=>{const v=Number(t.padding);return{minX:v,maxX:c.value-v,minY:v,maxY:parseInt(t.height,10)-v}}),f=O(()=>t.modelValue.map(v=>ii(v,t.itemValue,v))),p=O(()=>{const v=[],_=l(f.value,h.value),b=_.length;for(let x=0;v.length<b;x++){const k=_[x];let I=t.labels[x];I||(I=typeof k=="object"?k.value:k),v.push({x:k.x,value:String(I)})}return v});be(()=>t.modelValue,async()=>{if(await vt(),!t.autoDraw||!o.value)return;const v=o.value,_=v.getTotalLength();t.fill?(v.style.transformOrigin="bottom center",v.style.transition="none",v.style.transform="scaleY(0)",v.getBoundingClientRect(),v.style.transition=`transform ${r.value}ms ${t.autoDrawEasing}`,v.style.transform="scaleY(1)"):(v.style.strokeDasharray=`${_}`,v.style.strokeDashoffset=`${_}`,v.getBoundingClientRect(),v.style.transition=`stroke-dashoffset ${r.value}ms ${t.autoDrawEasing}`,v.style.strokeDashoffset="0"),a.value=_},{immediate:!0});function m(v){return epe(l(f.value,h.value),t.smooth?8:Number(t.smooth),v,parseInt(t.height,10))}we(()=>{var _;const v=t.gradient.slice().length?t.gradient.slice().reverse():[""];return g("svg",{display:"block","stroke-width":parseFloat(t.lineWidth)??4},[g("defs",null,[g("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[v.map((b,x)=>g("stop",{offset:x/Math.max(v.length-1,1),"stop-color":b||"currentColor"},null))])]),u.value&&g("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((b,x)=>{var k;return g("text",{x:b.x+d.value/2+d.value/2,y:parseInt(t.height,10)-4+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((k=n.label)==null?void 0:k.call(n,{index:x,value:b.value}))??b.value])})]),g("path",{ref:o,d:m(t.fill),fill:t.fill?`url(#${s.value})`:"none",stroke:t.fill?"none":`url(#${s.value})`},null),t.fill&&g("path",{d:m(!1),fill:"none",stroke:t.color??((_=t.gradient)==null?void 0:_[0])},null)])})}}),npe=ie({type:{type:String,default:"trend"},...G3(),...q3()},"VSparkline"),ipe=ve()({name:"VSparkline",props:npe(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ui(me(t,"color")),r=O(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),a=O(()=>{let o=parseInt(t.height,10);return r.value&&(o+=parseInt(t.labelSize,10)*1.5),o});we(()=>{const o=t.type==="trend"?GO:zO,l=t.type==="trend"?GO.filterProps(t):zO.filterProps(t);return g(o,Z({key:t.type,class:i.value,style:s.value,viewBox:`0 0 ${t.width} ${parseInt(a.value,10)}`},l),n)})}}),spe=ie({...Be(),...D5({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),rpe=ve()({name:"VSpeedDial",props:spe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),s=G(),r=O(()=>{var u;const[o,l="center"]=((u=t.location)==null?void 0:u.split(" "))??[];return`${o} ${l}`}),a=O(()=>({[`v-speed-dial__content--${r.value.replace(" ","-")}`]:!0}));return we(()=>{const o=lc.filterProps(t);return g(lc,Z(o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:t.class,style:t.style,contentClass:["v-speed-dial__content",a.value,t.contentClass],location:r.value,ref:s,transition:"fade-transition"}),{...n,default:l=>g(ut,{defaults:{VBtn:{size:"small"}}},{default:()=>[g(Ts,{appear:!0,group:!0,transition:t.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),DC=Symbol.for("vuetify:v-stepper"),AC=ie({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),iy=ve()({name:"VStepperActions",props:AC(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn();function r(){n("click:prev")}function a(){n("click:next")}return we(()=>{const o={onClick:r},l={onClick:a};return g("div",{class:"v-stepper-actions"},[g(ut,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:s(t.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:o}))??g(pt,o,null)]}}),g(ut,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:s(t.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??g(pt,l,null)]}})])}),{}}}),X3=Ja("v-stepper-header"),K3=ie({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Ye,default:"$complete"},editable:Boolean,editIcon:{type:Ye,default:"$edit"},error:Boolean,errorIcon:{type:Ye,default:"$error"},icon:Ye,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),ape=ie({...K3(),...Fc()},"VStepperItem"),Q3=ve()({name:"VStepperItem",directives:{Ripple:Yo},props:ape(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Bc(t,DC,!0),s=O(()=>(i==null?void 0:i.value.value)??t.value),r=O(()=>t.rules.every(h=>h()===!0)),a=O(()=>!t.disabled&&t.editable),o=O(()=>!t.disabled&&t.editable),l=O(()=>t.error||!r.value),u=O(()=>t.complete||t.rules.length>0&&r.value),d=O(()=>l.value?t.errorIcon:u.value?t.completeIcon:i.isSelected.value&&t.editable?t.editIcon:t.icon),c=O(()=>({canEdit:o.value,hasError:l.value,hasCompleted:u.value,title:t.title,subtitle:t.subtitle,step:s.value,value:t.value}));return we(()=>{var v,_,b;const h=(!i||i.isSelected.value||u.value||o.value)&&!l.value&&!t.disabled,f=!!(t.title!=null||n.title),p=!!(t.subtitle!=null||n.subtitle);function m(){i==null||i.toggle()}return In(g("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,onClick:m},[a.value&&iu(!0,"v-stepper-item"),g($s,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:h?t.color:void 0,size:24},{default:()=>{var x;return[((x=n.icon)==null?void 0:x.call(n,c.value))??(d.value?g(Bt,{icon:d.value},null):s.value)]}}),g("div",{class:"v-stepper-item__content"},[f&&g("div",{key:"title",class:"v-stepper-item__title"},[((v=n.title)==null?void 0:v.call(n,c.value))??t.title]),p&&g("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((_=n.subtitle)==null?void 0:_.call(n,c.value))??t.subtitle]),(b=n.default)==null?void 0:b.call(n,c.value)])]),[[tr("ripple"),t.ripple&&t.editable,null]])}),{}}}),ope=ie({...en(_w(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),J3=ve()({name:"VStepperWindow",props:ope(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=mt(DC,null),s=Ue(t,"modelValue"),r=O({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return we(()=>{const a=uc.filterProps(t);return g(uc,Z({_as:"VStepperWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-stepper-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),lpe=ie({...yw()},"VStepperWindowItem"),Z3=ve()({name:"VStepperWindowItem",props:lpe(),setup(t,e){let{slots:n}=e;return we(()=>{const i=cc.filterProps(t);return g(cc,Z({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",t.class],style:t.style}),n)}),{}}}),eU=ie({altLabels:Boolean,bgColor:String,completeIcon:Ye,editIcon:Ye,editable:Boolean,errorIcon:Ye,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Rc()},"Stepper"),upe=ie({...eU(),...Nc({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ip(),...Yg(AC(),["prevText","nextText"])},"VStepper"),cpe=ve()({name:"VStepper",props:upe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:s,prev:r,selected:a}=su(t,DC),{displayClasses:o,mobile:l}=wr(t),{completeIcon:u,editIcon:d,errorIcon:c,color:h,editable:f,prevText:p,nextText:m}=ql(t),v=O(()=>t.items.map((x,k)=>{const I=ii(x,t.itemTitle,x),E=ii(x,t.itemValue,k+1);return{title:I,value:E,raw:x}})),_=O(()=>i.value.findIndex(x=>a.value.includes(x.id))),b=O(()=>t.disabled?t.disabled:_.value===0?"prev":_.value===i.value.length-1?"next":!1);return Dn({VStepperItem:{editable:f,errorIcon:c,completeIcon:u,editIcon:d,prevText:p,nextText:m},VStepperActions:{color:h,disabled:b,prevText:p,nextText:m}}),we(()=>{const x=Ya.filterProps(t),k=!!(n.header||t.items.length),I=t.items.length>0,E=!t.hideActions&&!!(I||n.actions);return g(Ya,Z(x,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":l.value},o.value,t.class],style:t.style}),{default:()=>{var T,S;return[k&&g(X3,{key:"stepper-header"},{default:()=>[v.value.map((w,C)=>{let{raw:P,...D}=w;return g(Pe,null,[!!C&&g(Qr,null,null),g(Q3,D,{default:n[`header-item.${D.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),I&&g(J3,{key:"stepper-window"},{default:()=>[v.value.map(w=>g(Z3,{value:w.value},{default:()=>{var C,P;return((C=n[`item.${w.value}`])==null?void 0:C.call(n,w))??((P=n.item)==null?void 0:P.call(n,w))}}))]}),(T=n.default)==null?void 0:T.call(n,{prev:r,next:s}),E&&(((S=n.actions)==null?void 0:S.call(n,{next:s,prev:r}))??g(iy,{key:"stepper-actions","onClick:prev":r,"onClick:next":s},n))]}})}),{prev:r,next:s}}}),dpe=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Go(),...mw()},"VSwitch"),hpe=ve()({name:"VSwitch",inheritAttrs:!1,props:dpe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ue(t,"indeterminate"),r=Ue(t,"modelValue"),{loaderClasses:a}=Qg(t),{isFocused:o,focus:l,blur:u}=eo(t),d=G(),c=Wt&&window.matchMedia("(forced-colors: active)").matches,h=O(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),f=zi(),p=O(()=>t.id||`switch-${f}`);function m(){s.value&&(s.value=!1)}function v(_){var b,x;_.stopPropagation(),_.preventDefault(),(x=(b=d.value)==null?void 0:b.input)==null||x.click()}return we(()=>{const[_,b]=Ho(n),x=rs.filterProps(t),k=jl.filterProps(t);return g(rs,Z({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":s.value},a.value,t.class]},_,x,{modelValue:r.value,"onUpdate:modelValue":I=>r.value=I,id:p.value,focused:o.value,style:t.style}),{...i,default:I=>{let{id:E,messagesId:T,isDisabled:S,isReadonly:w,isValid:C}=I;const P={model:r,isValid:C};return g(jl,Z({ref:d},k,{modelValue:r.value,"onUpdate:modelValue":[D=>r.value=D,m],id:E.value,"aria-describedby":T.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:S.value,readonly:w.value,onFocus:l,onBlur:u},b),{...i,default:D=>{let{backgroundColorClasses:A,backgroundColorStyles:F}=D;return g("div",{class:["v-switch__track",c?void 0:A.value],style:F.value,onClick:v},[i["track-true"]&&g("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](P)]),i["track-false"]&&g("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](P)])])},input:D=>{let{inputNode:A,icon:F,backgroundColorClasses:L,backgroundColorStyles:H}=D;return g(Pe,null,[A,g("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":F||t.loading},t.inset||c?void 0:L.value],style:t.inset?void 0:H.value},[i.thumb?g(ut,{defaults:{VIcon:{icon:F,size:"x-small"}}},{default:()=>[i.thumb({...P,icon:F})]}):g(qP,null,{default:()=>[t.loading?g(Jg,{name:"v-switch",active:!0,color:C.value===!1?void 0:h.value},{default:X=>i.loader?i.loader(X):g(Bl,{active:X.isActive,color:X.color,indeterminate:!0,size:"16",width:"2"},null)}):F&&g(Bt,{key:String(F),icon:F,size:"x-small"},null)]})])])}})}})}),{}}}),fpe=ie({color:String,height:[Number,String],window:Boolean,...Be(),...ki(),...Oc(),...Rn(),..._t(),...Lt()},"VSystemBar"),mpe=ve()({name:"VSystemBar",props:fpe(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=rn(me(t,"color")),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),{ssrBootStyles:l}=Vc(),u=O(()=>t.height??(t.window?32:24)),{layoutItemStyles:d}=Mc({id:t.name,order:O(()=>parseInt(t.order,10)),position:Re("top"),layoutSize:u,elementSize:u,active:O(()=>!0),absolute:me(t,"absolute")});return we(()=>g(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,s.value,a.value,o.value,t.class],style:[r.value,d.value,l.value,t.style]},n)),{}}}),RC=Symbol.for("vuetify:v-tabs"),gpe=ie({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...en(fw({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),tU=ve()({name:"VTab",props:gpe(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=Ui(t,"sliderColor"),a=G(),o=G(),l=O(()=>t.direction==="horizontal"),u=O(()=>{var c,h;return((h=(c=a.value)==null?void 0:c.group)==null?void 0:h.isSelected.value)??!1});function d(c){var f,p;let{value:h}=c;if(h){const m=(p=(f=a.value)==null?void 0:f.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),v=o.value;if(!m||!v)return;const _=getComputedStyle(m).color,b=m.getBoundingClientRect(),x=v.getBoundingClientRect(),k=l.value?"x":"y",I=l.value?"X":"Y",E=l.value?"right":"bottom",T=l.value?"width":"height",S=b[k],w=x[k],C=S>w?b[E]-x[E]:b[k]-x[k],P=Math.sign(C)>0?l.value?"right":"bottom":Math.sign(C)<0?l.value?"left":"top":"center",A=(Math.abs(C)+(Math.sign(C)<0?b[T]:x[T]))/Math.max(b[T],x[T])||0,F=b[T]/x[T]||0,L=1.5;Ou(v,{backgroundColor:[_,"currentcolor"],transform:[`translate${I}(${C}px) scale${I}(${F})`,`translate${I}(${C/L}px) scale${I}(${(A-1)/L+1})`,"none"],transformOrigin:Array(3).fill(P)},{duration:225,easing:Lm})}}return we(()=>{const c=pt.filterProps(t);return g(pt,Z({symbol:RC,ref:a,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},c,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var h;return g(Pe,null,[((h=n.default)==null?void 0:h.call(n))??t.text,!t.hideSlider&&g("div",{ref:o,class:["v-tab__slider",s.value],style:r.value},null)])}})}),kr({},a)}}),ppe=ie({...en(_w(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),nU=ve()({name:"VTabsWindow",props:ppe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=mt(RC,null),s=Ue(t,"modelValue"),r=O({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return we(()=>{const a=uc.filterProps(t);return g(uc,Z({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),vpe=ie({...yw()},"VTabsWindowItem"),iU=ve()({name:"VTabsWindowItem",props:vpe(),setup(t,e){let{slots:n}=e;return we(()=>{const i=cc.filterProps(t);return g(cc,Z({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function _pe(t){return t?t.map(e=>Ub(e)?e:{text:e,value:e}):[]}const ype=ie({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...eC({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ti(),..._t()},"VTabs"),bpe=ve()({name:"VTabs",props:ype(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ue(t,"modelValue"),r=O(()=>_pe(t.items)),{densityClasses:a}=ls(t),{backgroundColorClasses:o,backgroundColorStyles:l}=rn(me(t,"bgColor")),{scopeId:u}=Uc();return Dn({VTab:{color:me(t,"color"),direction:me(t,"direction"),stacked:me(t,"stacked"),fixed:me(t,"fixedTabs"),sliderColor:me(t,"sliderColor"),hideSlider:me(t,"hideSlider")}}),we(()=>{const d=Qm.filterProps(t),c=!!(i.window||t.items.length>0);return g(Pe,null,[g(Qm,Z(d,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},a.value,o.value,t.class],style:[{"--v-tabs-height":Le(t.height)},l.value,t.style],role:"tablist",symbol:RC},u,n),{default:()=>{var h;return[((h=i.default)==null?void 0:h.call(i))??r.value.map(f=>{var p;return((p=i.tab)==null?void 0:p.call(i,{item:f}))??g(tU,Z(f,{key:f.text,value:f.value}),{default:i[`tab.${f.value}`]?()=>{var m;return(m=i[`tab.${f.value}`])==null?void 0:m.call(i,{item:f})}:void 0})})]}}),c&&g(nU,Z({modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,key:"tabs-window"},u),{default:()=>{var h;return[r.value.map(f=>{var p;return((p=i.item)==null?void 0:p.call(i,{item:f}))??g(iU,{value:f.value},{default:()=>{var m;return(m=i[`item.${f.value}`])==null?void 0:m.call(i,{item:f})}})}),(h=i.window)==null?void 0:h.call(i)]}})])}),{}}}),wpe=ie({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...Go(),...np()},"VTextarea"),xpe=ve()({name:"VTextarea",directives:{Intersect:Kg},inheritAttrs:!1,props:wpe(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ue(t,"modelValue"),{isFocused:a,focus:o,blur:l}=eo(t),u=O(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),d=O(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function c(P,D){var A,F;!t.autofocus||!P||(F=(A=D[0].target)==null?void 0:A.focus)==null||F.call(A)}const h=G(),f=G(),p=Re(""),m=G(),v=O(()=>t.persistentPlaceholder||a.value||t.active);function _(){var P;m.value!==document.activeElement&&((P=m.value)==null||P.focus()),a.value||o()}function b(P){_(),i("click:control",P)}function x(P){i("mousedown:control",P)}function k(P){P.stopPropagation(),_(),vt(()=>{r.value="",wP(t["onClick:clear"],P)})}function I(P){var A;const D=P.target;if(r.value=D.value,(A=t.modelModifiers)!=null&&A.trim){const F=[D.selectionStart,D.selectionEnd];vt(()=>{D.selectionStart=F[0],D.selectionEnd=F[1]})}}const E=G(),T=G(+t.rows),S=O(()=>["plain","underlined"].includes(t.variant));yn(()=>{t.autoGrow||(T.value=+t.rows)});function w(){t.autoGrow&&vt(()=>{if(!E.value||!f.value)return;const P=getComputedStyle(E.value),D=getComputedStyle(f.value.$el),A=parseFloat(P.getPropertyValue("--v-field-padding-top"))+parseFloat(P.getPropertyValue("--v-input-padding-top"))+parseFloat(P.getPropertyValue("--v-field-padding-bottom")),F=E.value.scrollHeight,L=parseFloat(P.lineHeight),H=Math.max(parseFloat(t.rows)*L+A,parseFloat(D.getPropertyValue("--v-input-control-height"))),X=parseFloat(t.maxRows)*L+A||1/0,z=$n(F??0,H,X);T.value=Math.floor((z-A)/L),p.value=Le(z)})}kt(w),be(r,w),be(()=>t.rows,w),be(()=>t.maxRows,w),be(()=>t.density,w);let C;return be(E,P=>{P?(C=new ResizeObserver(w),C.observe(E.value)):C==null||C.disconnect()}),Oi(()=>{C==null||C.disconnect()}),we(()=>{const P=!!(s.counter||t.counter||t.counterValue),D=!!(P||s.details),[A,F]=Ho(n),{modelValue:L,...H}=rs.filterProps(t),X=lC(t);return g(rs,Z({ref:h,modelValue:r.value,"onUpdate:modelValue":z=>r.value=z,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":S.value},t.class],style:t.style},A,H,{centerAffix:T.value===1&&!S.value,focused:a.value}),{...s,default:z=>{let{id:K,isDisabled:Y,isDirty:te,isReadonly:Q,isValid:ee}=z;return g(Hh,Z({ref:f,style:{"--v-textarea-control-height":p.value},onClick:b,onMousedown:x,"onClick:clear":k,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},X,{id:K.value,active:v.value||te.value,centerAffix:T.value===1&&!S.value,dirty:te.value||t.dirty,disabled:Y.value,focused:a.value,error:ee.value===!1}),{...s,default:ue=>{let{props:{class:re,...se}}=ue;return g(Pe,null,[t.prefix&&g("span",{class:"v-text-field__prefix"},[t.prefix]),In(g("textarea",Z({ref:m,class:re,value:r.value,onInput:I,autofocus:t.autofocus,readonly:Q.value,disabled:Y.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:_,onBlur:l},se,F),null),[[tr("intersect"),{handler:c},null,{once:!0}]]),t.autoGrow&&In(g("textarea",{class:[re,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":$=>r.value=$,ref:E,readonly:!0,"aria-hidden":"true"},null),[[$z,r.value]]),t.suffix&&g("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:D?z=>{var K;return g(Pe,null,[(K=s.details)==null?void 0:K.call(s,z),P&&g(Pe,null,[g("span",null,null),g(pw,{active:t.persistentCounter||a.value,value:u.value,max:d.value,disabled:t.disabled},s.counter)])])}:void 0})}),kr({},h,f,m)}}),Spe=ie({withBackground:Boolean,...Be(),...Lt(),..._t()},"VThemeProvider"),kpe=ve()({name:"VThemeProvider",props:Spe(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t);return()=>{var s;return t.withBackground?g(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}}):(s=n.default)==null?void 0:s.call(n)}}}),Tpe=ie({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ye,iconColor:String,lineColor:String,...Be(),...Rn(),...Za(),...ki()},"VTimelineDivider"),Ppe=ve()({name:"VTimelineDivider",props:Tpe(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:s}=Nh(t,"v-timeline-divider__dot"),{backgroundColorStyles:r,backgroundColorClasses:a}=rn(me(t,"dotColor")),{roundedClasses:o}=qn(t,"v-timeline-divider__dot"),{elevationClasses:l}=Wi(t),{backgroundColorClasses:u,backgroundColorStyles:d}=rn(me(t,"lineColor"));return we(()=>g("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[g("div",{class:["v-timeline-divider__before",u.value],style:d.value},null),!t.hideDot&&g("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:s.value},[g("div",{class:["v-timeline-divider__inner-dot",a.value,o.value],style:r.value},[n.default?g(ut,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):g(Bt,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),g("div",{class:["v-timeline-divider__after",u.value],style:d.value},null)])),{}}}),sU=ie({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ye,iconColor:String,lineInset:[Number,String],...Be(),...hi(),...ki(),...Rn(),...Za(),..._t()},"VTimelineItem"),Cpe=ve()({name:"VTimelineItem",props:sU(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=fi(t),s=Re(0),r=G();return be(r,a=>{var o;a&&(s.value=((o=a.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),we(()=>{var a,o;return g("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Le(s.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Le(t.lineInset)})`:Le(0)},t.style]},[g("div",{class:"v-timeline-item__body",style:i.value},[(a=n.default)==null?void 0:a.call(n)]),g(Ppe,{ref:r,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&g("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),Epe=ie({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Yg(sU({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Be(),...Ti(),..._t(),...Lt()},"VTimeline"),Ipe=ve()({name:"VTimeline",props:Epe(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Xt(t),{densityClasses:s}=ls(t),{rtlClasses:r}=Si();Dn({VTimelineDivider:{lineColor:me(t,"lineColor")},VTimelineItem:{density:me(t,"density"),dotColor:me(t,"dotColor"),fillDot:me(t,"fillDot"),hideOpposite:me(t,"hideOpposite"),iconColor:me(t,"iconColor"),lineColor:me(t,"lineColor"),lineInset:me(t,"lineInset"),size:me(t,"size")}});const a=O(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=O(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return we(()=>g(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,s.value,a.value,r.value,t.class],style:[{"--v-timeline-line-thickness":Le(t.lineThickness)},t.style]},n)),{}}}),Dpe=ie({...Be(),...Br({variant:"text"})},"VToolbarItems"),Ape=ve()({name:"VToolbarItems",props:Dpe(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{color:me(t,"color"),height:"inherit",variant:me(t,"variant")}}),we(()=>{var i;return g("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Rpe=ie({id:String,text:String,...en(tp({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),rU=ve()({name:"VTooltip",props:Rpe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),{scopeId:s}=Uc(),r=zi(),a=O(()=>t.id||`v-tooltip-${r}`),o=G(),l=O(()=>t.location.split(" ").length>1?t.location:t.location+" center"),u=O(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),d=O(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),c=O(()=>Z({"aria-describedby":a.value},t.activatorProps));return we(()=>{const h=da.filterProps(t);return g(da,Z({ref:o,class:["v-tooltip",t.class],style:t.style,id:a.value},h,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,transition:d.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var v;for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return((v=n.default)==null?void 0:v.call(n,...p))??t.text}})}),kr({},o)}}),Ope=ve()({name:"VValidation",props:J4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Z4(t,"validation");return()=>{var s;return(s=n.default)==null?void 0:s.call(n,i)}}}),Mpe=Object.freeze(Object.defineProperty({__proto__:null,VAlert:Sde,VAlertTitle:W4,VApp:Rce,VAppBar:Jce,VAppBarNavIcon:yde,VAppBarTitle:bde,VAutocomplete:Bhe,VAvatar:$s,VBadge:M5,VBanner:Hhe,VBannerActions:V5,VBannerText:L5,VBottomNavigation:Whe,VBottomSheet:Ghe,VBreadcrumbs:Qhe,VBreadcrumbsDivider:F5,VBreadcrumbsItem:B5,VBtn:pt,VBtnGroup:c1,VBtnToggle:sde,VCard:nfe,VCardActions:j5,VCardItem:H5,VCardSubtitle:$5,VCardText:z5,VCardTitle:U5,VCarousel:dfe,VCarouselItem:ffe,VCheckbox:Rde,VCheckboxBtn:Wa,VChip:$c,VChipGroup:Nde,VClassIcon:DP,VCode:mfe,VCol:$me,VColorPicker:nme,VCombobox:rme,VComponentIcon:YS,VConfirmEdit:S1,VContainer:Nme,VCounter:pw,VDataIterator:gme,VDataTable:Ame,VDataTableFooter:eg,VDataTableHeaders:dc,VDataTableRow:SC,VDataTableRows:hc,VDataTableServer:Vme,VDataTableVirtual:Ome,VDatePicker:A1,VDatePickerControls:P1,VDatePickerHeader:C1,VDatePickerMonth:E1,VDatePickerMonths:I1,VDatePickerYears:D1,VDefaultsProvider:ut,VDialog:v1,VDialogBottomTransition:Lce,VDialogTopTransition:Nce,VDialogTransition:lw,VDivider:Qr,VEmptyState:Qme,VExpandTransition:uw,VExpandXTransition:KP,VExpansionPanel:M1,VExpansionPanelText:R1,VExpansionPanelTitle:O1,VExpansionPanels:V1,VFab:ege,VFabTransition:Vce,VFadeTransition:Gm,VField:Hh,VFieldLabel:Mf,VFileInput:nge,VFooter:sge,VForm:age,VHover:lge,VIcon:Bt,VImg:Mo,VInfiniteScroll:cge,VInput:rs,VItem:fge,VItemGroup:hge,VKbd:mge,VLabel:$h,VLayout:pge,VLayoutItem:_ge,VLazy:bge,VLigatureIcon:Qie,VList:lh,VListGroup:Zm,VListImg:the,VListItem:_r,VListItemAction:x5,VListItemMedia:she,VListItemSubtitle:h5,VListItemTitle:f5,VListSubheader:m5,VLocaleProvider:xge,VMain:kge,VMenu:lc,VMessages:K4,VNavigationDrawer:Oge,VNoSsr:Mge,VOtpInput:Lge,VOverlay:da,VPagination:k1,VParallax:Bge,VProgressCircular:Bl,VProgressLinear:dw,VRadio:$ge,VRadioGroup:Hge,VRangeSlider:Wge,VRating:Gge,VResponsive:l1,VRow:qme,VScaleTransition:qP,VScrollXReverseTransition:Bce,VScrollXTransition:Fce,VScrollYReverseTransition:$ce,VScrollYTransition:jce,VSelect:dC,VSelectionControl:jl,VSelectionControlGroup:G4,VSheet:Ya,VSkeletonLoader:Qge,VSlideGroup:Qm,VSlideGroupItem:Jge,VSlideXReverseTransition:Hce,VSlideXTransition:Uce,VSlideYReverseTransition:zce,VSlideYTransition:XP,VSlider:x1,VSnackbar:L1,VSpacer:R3,VSparkline:ipe,VSpeedDial:rpe,VStepper:cpe,VStepperActions:iy,VStepperHeader:X3,VStepperItem:Q3,VStepperWindow:J3,VStepperWindowItem:Z3,VSvgIcon:IP,VSwitch:hpe,VSystemBar:mpe,VTab:tU,VTable:fc,VTabs:bpe,VTabsWindow:nU,VTabsWindowItem:iU,VTextField:ha,VTextarea:xpe,VThemeProvider:kpe,VTimeline:Ipe,VTimelineItem:Cpe,VToolbar:u1,VToolbarItems:Ape,VToolbarTitle:GP,VTooltip:rU,VValidation:Ope,VVirtualScroll:vw,VWindow:uc,VWindowItem:cc},Symbol.toStringTag,{value:"Module"}));function Vpe(t,e){const n=e.modifiers||{},i=e.value,{once:s,immediate:r,...a}=n,o=!Object.keys(a).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(a==null?void 0:a.attr)??o,characterData:(a==null?void 0:a.char)??o,childList:(a==null?void 0:a.child)??o,subtree:(a==null?void 0:a.sub)??o}},d=new MutationObserver(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;l==null||l(c,h),s&&aU(t,e)});r&&(l==null||l([],d)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:d},d.observe(t,u)}function aU(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const Lpe={mounted:Vpe,unmounted:aU};function Npe(t,e){var s,r;const n=e.value,i={passive:!((s=e.modifiers)!=null&&s.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(r=e.modifiers)!=null&&r.quiet||n()}function Fpe(t,e){var s;if(!((s=t._onResize)!=null&&s[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const Bpe={mounted:Npe,unmounted:Fpe};function oU(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,s=typeof i=="object"&&i.options||{passive:!0},r=typeof i=="function"||"handleEvent"in i?i:i.handler,a=n?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",r,s),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:r,options:s,target:n?void 0:a})}function lU(t,e){var r;if(!((r=t._onScroll)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i,target:s=t}=t._onScroll[e.instance.$.uid];s.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function jpe(t,e){e.value!==e.oldValue&&(lU(t,e),oU(t,e))}const $pe={mounted:oU,unmounted:lU,updated:jpe};function Upe(t,e){const n=typeof t=="string"?j(t):t,i=Hpe(n,e);return{mounted:i,updated:i,unmounted(s){QL(null,s)}}}function Hpe(t,e){return function(n,i,s){var c,h,f;const r=typeof e=="function"?e(i):e,a=((c=i.value)==null?void 0:c.text)??i.value??(r==null?void 0:r.text),o=Ub(i.value)?i.value:{},l=()=>a??n.textContent,u=(s.ctx===i.instance.$?(h=zpe(s,i.instance.$))==null?void 0:h.provides:(f=s.ctx)==null?void 0:f.provides)??i.instance.$.provides,d=Di(t,Z(r,o),l);d.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),QL(d,n)}}function zpe(t,e){const n=new Set,i=r=>{var a,o;for(const l of r){if(!l)continue;if(l===t||l.el&&t.el&&l.el===t.el)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(a=l.component)!=null&&a.vnode&&(u=i([(o=l.component)==null?void 0:o.subTree])),u)return u;n.delete(l)}return!1};if(!i([e.subTree]))return e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const Wpe=Upe(rU,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}}),Ype=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:I5,Intersect:Kg,Mutate:Lpe,Resize:Bpe,Ripple:Yo,Scroll:$pe,Tooltip:Wpe,Touch:hC},Symbol.toStringTag,{value:"Module"})),Gpe=ie({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),N1=ve()({name:"VCalendarIntervalEvent",props:Gpe(),setup(t){const e=Fr(),n=()=>{var i,s,r,a;if(!((i=t.event)!=null&&i.first)&&!((s=t.event)!=null&&s.last)||e.isEqual((r=t.event)==null?void 0:r.start,(a=t.interval)==null?void 0:a.start))return{height:"100%",margin:Le(0)};{const{height:o,margin:l}=Array.from({length:t.intervalDivisions},u=>u*(t.intervalDuration/t.intervalDivisions)).reduce((u,d,c)=>{var h,f;return e.isBefore(e.addMinutes((h=t.interval)==null?void 0:h.start,d),(f=t.event)==null?void 0:f.start)?{height:Le(t.intervalHeight/t.intervalDivisions*c),margin:Le(t.intervalHeight/t.intervalDivisions*c)}:{height:u.height,margin:u.margin}},{height:"",margin:""});return{height:o,margin:l}}};return we(()=>{var i,s,r,a,o;return g(Ya,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((i=t.event)==null?void 0:i.color)??void 0,rounded:(s=t.event)!=null&&s.first&&((r=t.event)!=null&&r.last)?!0:(a=t.event)!=null&&a.first?"t":(o=t.event)!=null&&o.last?"b":!1},{default:()=>{var l,u;return[(l=t.event)!=null&&l.first?(u=t.event)==null?void 0:u.title:""]}})}),{}}}),uU=ie({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),F1=ve()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...uU()},setup(t,e){const n=Fr(),i=O(()=>{const s=n.addMinutes(n.startOfDay(t.day.date),t.intervalDuration*(t.index+t.intervalStart)),r=n.addMinutes(n.startOfDay(t.day.date),t.intervalDuration*(t.index+t.intervalStart+1)-1);return{...t.day,label:n.format(s,"fullTime24h"),start:s,end:r,events:t.events?t.events.filter(a=>!a.allDay&&(n.isEqual(s,a.start)||n.isWithinRange(a.start,[s,r])||n.isWithinRange(s,[a.start,a.end])||n.isEqual(r,a.end))).map(a=>({...a,first:n.isEqual(s,a.start)||n.isWithinRange(a.start,[s,r]),last:n.isEqual(r,a.end)||n.isWithinRange(a.end,[s,r])})):[]}});return we(()=>{var s,r;return t.dayIndex===0?g("div",{class:"v-calendar-day__row-with-label",style:`height: ${Le(t.intervalHeight)}`},[g("div",{class:"v-calendar-day__row-label"},[g("slot",{name:"intervalFormat",interval:i.value},[t.index?t.intervalFormat?typeof t.intervalFormat=="string"?n.format(i.value.start,"hours12h"):t.intervalFormat(i.value):i.value.label:""])]),g("div",{class:"v-calendar-day__row-hairline"},null),g("div",{class:["v-calendar-day__row-content",i.value.events.some(a=>!a.last)?"v-calendar-day__row-content-through":""]},[g("slot",{name:"intervalBody",interval:i.value},[(s=i.value.events)==null?void 0:s.map(a=>g(N1,{event:a,interval:i.value,intervalDivisions:t.intervalDivisions,intervalDuration:t.intervalDuration,intervalHeight:t.intervalHeight},null))])])]):g("div",{class:"v-calendar-day__row-without-label",style:`height: ${Le(t.intervalHeight)}`},[g("div",{class:["v-calendar-day__row-content",i.value.events.some(a=>!a.last)?"v-calendar-day__row-content-through":""]},[g("slot",{name:"intervalBody",interval:i.value},[(r=i.value.events)==null?void 0:r.filter(a=>!a.allDay).map(a=>g(N1,{event:a,interval:i.value,intervalDivisions:t.intervalDivisions,intervalDuration:t.intervalDuration,intervalHeight:t.intervalHeight},null))])])])}),{interval:i}}}),cU=ie({hideDayHeader:Boolean,intervals:{type:Number,default:24},...uU()},"VCalendarDay"),jv=ve()({name:"VCalendarDay",props:cU(),setup(t){const e=Fr(),n=O(()=>[...Array.from({length:t.intervals},(i,s)=>s).filter((i,s)=>t.intervalDuration*(s+t.intervalStart)<1440)]);return we(()=>{const i=F1.filterProps(t);return g("div",{class:"v-calendar-day__container"},[!t.hideDayHeader&&g("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[e.format(t.day.date,"weekdayShort"),g("div",null,[g(pt,{icon:!0,text:e.format(t.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,r)=>g(F1,Z({index:r},i),null))])}),{intervals:n}}}),dU=ie({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),B1=ve()({name:"VCalendarHeader",props:dU(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(t,e){let{emit:n}=e;const{t:i}=gn();function s(){n("click:prev")}function r(){n("click:next")}function a(){n("click:toToday")}return we(()=>g("div",{class:"v-calendar-header"},[t.text&&g(pt,{key:"today",class:"v-calendar-header__today",text:i(t.text),variant:"outlined",onClick:a},null),g(pt,{density:"comfortable",icon:t.prevIcon,variant:"text",onClick:s},null),g(pt,{density:"comfortable",icon:t.nextIcon,variant:"text",onClick:r},null),g("div",{class:"v-calendar-header__title"},[t.title])])),{}}}),qpe=ie({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),qO=ve()({name:"VCalendarEvent",props:qpe(),setup(t){return we(()=>g($c,{color:t.allDay?"primary":void 0,density:"comfortable",label:t.allDay,width:"100%"},{default:()=>{var e,n;return[g(M5,{inline:!0,dot:!0,color:(e=t.event)==null?void 0:e.color},null),(n=t.event)==null?void 0:n.title]}})),{}}}),Xpe=ie({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),hU=ve()({name:"VCalendarMonthDay",props:Xpe(),setup(t,e){let{emit:n,slots:i}=e;return we(()=>{var r,a,o,l,u,d,c,h,f,p,m;const s=!!(t.title||(r=i.title)!=null&&r.call(i,{title:t.title}));return g("div",{class:["v-calendar-month__day"]},[!((a=t.day)!=null&&a.isHidden)&&s&&g("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=i.title)==null?void 0:o.call(i,{title:t.title}))??g(pt,{class:(l=t.day)!=null&&l.isToday?"v-calendar-weekly__day-label__today":void 0,color:t.color,disabled:t.disabled,icon:!0,size:"x-small",variant:(u=t.day)!=null&&u.isToday?void 0:"flat"},{default:()=>[t.title]})]),!((d=t.day)!=null&&d.isHidden)&&g("div",{key:"content",class:"v-calendar-weekly__day-content"},[((c=i.content)==null?void 0:c.call(i))??g("div",null,[g("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(h=t.events)==null?void 0:h.filter(v=>v.allDay).map(v=>i.event?i.event({day:t.day,allDay:!0,event:v}):g(qO,{day:t.day,event:v,allDay:!0},null))]),g("div",{class:"v-calendar-weekly__day-events-container"},[(f=t.events)==null?void 0:f.filter(v=>!v.allDay).map(v=>i.event?i.event({day:t.day,event:v,allDay:!1}):g(qO,{day:t.day,event:v},null))])])]),!((p=t.day)!=null&&p.isHidden)&&((m=i.default)==null?void 0:m.call(i))])}),{}}}),Kpe=ie({hideHeader:Boolean,hideWeekNumber:Boolean,...M3(),...cU(),...dU()},"VCalender"),Qpe=ve()({name:"VCalendar",props:Kpe(),emits:{next:null,prev:null,"update:modelValue":null},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),{daysInMonth:r,daysInWeek:a,genDays:o,model:l,displayValue:u,weekNumbers:d,weekDays:c}=V3(t),h=s.getWeekdays();function f(){t.viewMode==="month"&&(l.value=[s.addMonths(u.value,1)]),t.viewMode==="week"&&(l.value=[s.addDays(u.value,7)]),t.viewMode==="day"&&(l.value=[s.addDays(u.value,1)])}function p(){t.viewMode==="month"&&(l.value=[s.addMonths(u.value,-1)]),t.viewMode==="week"&&(l.value=[s.addDays(u.value,-7)]),t.viewMode==="day"&&(l.value=[s.addDays(u.value,-1)])}function m(){l.value=[s.date()]}const v=O(()=>s.format(u.value,"monthAndYear"));return we(()=>{var x;const _=jv.filterProps(t),b=B1.filterProps(t);return g("div",{class:["v-calendar",{"v-calendar-monthly":t.viewMode==="month","v-calendar-weekly":t.viewMode==="week","v-calendar-day":t.viewMode==="day"}]},[g("div",null,[!t.hideHeader&&(i.header?i.header({title:v.value}):g(B1,Z({key:"calendar-header"},b,{title:v.value,"onClick:next":f,"onClick:prev":p,"onClick:toToday":m}),null))]),g("div",{class:["v-calendar__container",`days__${c.value.length}`]},[t.viewMode==="month"&&!t.hideDayHeader&&g("div",{class:["v-calendar-weekly__head",`days__${c.value.length}`,...t.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[t.hideWeekNumber?"":g("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),c.value.map(k=>g("div",{class:`v-calendar-weekly__head-weekday${t.hideWeekNumber?"":"-with-weeknumber"}`},[h[k]]))]),t.viewMode==="month"&&g("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${t.hideWeekNumber?"":"-with-weeknumbers"}__${c.value.length}`,...t.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[dne(r.value,c.value.length).map((k,I)=>[t.hideWeekNumber?"":g("div",{class:"v-calendar-month__weeknumber"},[d.value[I]]),k.map(E=>{var T;return g(hU,{color:s.isSameDay(s.date(),E.date)?"primary":void 0,day:E,title:E?s.format(E.date,"dayOfMonth"):"NaN",events:(T=t.events)==null?void 0:T.filter(S=>s.isSameDay(E.date,S.start)||s.isSameDay(E.date,S.end))},{event:i.event})})])]),t.viewMode==="week"&&a.value.map((k,I)=>{var E;return g(jv,Z(_,{day:k,dayIndex:I,events:(E=t.events)==null?void 0:E.filter(T=>s.isSameDay(T.start,k.date)||s.isSameDay(T.end,k.date))}),null)}),t.viewMode==="day"&&g(jv,Z(_,{day:o([u.value],s.date())[0],dayIndex:0,events:(x=t.events)==null?void 0:x.filter(k=>s.isSameDay(k.start,o([u.value],s.date())[0].date)||s.isSameDay(k.end,o([u.value],s.date())[0].date))}),null)])])}),{daysInMonth:r,daysInWeek:a,genDays:o}}}),Jpe=ie({hideActions:Boolean,...Uh(),...J5(),...zh({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...en(j3({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),Zpe=ve()({name:"VDateInput",props:Jpe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=Fr(),{isFocused:r,focus:a,blur:o}=eo(t),l=Ue(t,"modelValue",t.multiple?[]:null),u=Re(!1),d=O(()=>{const m=bn(l.value);if(!m.length)return null;if(t.multiple===!0)return i("$vuetify.datePicker.itemsSelected",m.length);if(t.multiple==="range"){const v=m[0],_=m[m.length-1];return s.isValid(v)&&s.isValid(_)?`${s.format(v,"keyboardDate")} - ${s.format(_,"keyboardDate")}`:""}return s.isValid(l.value)?s.format(l.value,"keyboardDate"):""}),c=O(()=>!t.disabled&&!t.readonly);function h(m){if(m.key!=="Enter")return;if(!u.value||!r.value){u.value=!0;return}const v=m.target;l.value=s.date(v.value)}function f(m){m.preventDefault(),m.stopPropagation(),u.value=!0}function p(){u.value=!1}we(()=>{const m=S1.filterProps(t),v=A1.filterProps(en(t,["active"])),_=ha.filterProps(t);return g(ha,Z(_,{class:t.class,style:t.style,modelValue:d.value,onKeydown:c.value?h:void 0,focused:u.value||r.value,onFocus:a,onBlur:o,"onClick:control":c.value?f:void 0,"onClick:prepend":c.value?f:void 0}),{default:()=>{var b;return[g(lc,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[g(S1,Z(m,{modelValue:l.value,"onUpdate:modelValue":x=>l.value=x,onSave:p}),{default:x=>{let{actions:k,model:I}=x;return g(A1,Z(v,{modelValue:t.hideActions?l.value:I.value,"onUpdate:modelValue":E=>{t.hideActions?(l.value=E,t.multiple||(u.value=!1)):I.value=E},onMousedown:E=>E.preventDefault()}),{actions:t.hideActions?void 0:k})}})]}),(b=n.default)==null?void 0:b.call(n)]}})})}}),eve=ie({clearable:Boolean,file:{type:Object,default:null},fileIcon:{type:String,default:"mdi-file-document"},showSize:Boolean,...iC({border:!0,rounded:!0,lines:"two"})},"VFileUploadItem"),fU=ve()({name:"VFileUploadItem",props:eve(),emits:{"click:remove":()=>!0,click:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=G(),r=O(()=>typeof t.showSize!="boolean"?t.showSize:void 0);function a(){n("click:remove")}yn(()=>{var o;s.value=(o=t.file)!=null&&o.type.startsWith("image")?URL.createObjectURL(t.file):void 0}),we(()=>{var l,u,d;const o=_r.filterProps(t);return g(_r,Z(o,{title:t.title??((l=t.file)==null?void 0:l.name),subtitle:t.showSize?FS((u=t.file)==null?void 0:u.size,r.value):(d=t.file)==null?void 0:d.type,class:"v-file-upload-item"}),{...i,prepend:c=>g(Pe,null,[i.prepend?g(ut,{defaults:{VAvatar:{image:s.value,icon:s.value?void 0:t.fileIcon,rounded:!0}}},{default:()=>{var h;return[((h=i.prepend)==null?void 0:h.call(i,c))??g($s,null,null)]}}):g($s,{icon:t.fileIcon,image:s.value,rounded:!0},null)]),append:c=>{var h;return g(Pe,null,[t.clearable&&g(Pe,null,[i.clear?g(ut,{defaults:{VBtn:{icon:"$clear",density:"comfortable",variant:"text"}}},{default:()=>{var f;return[((f=i.clear)==null?void 0:f.call(i,{...c,props:{onClick:a}}))??g(pt,null,null)]}}):g(pt,{icon:"$clear",density:"comfortable",variant:"text",onClick:a},null)]),(h=i.append)==null?void 0:h.call(i,c)])}})})}}),tve=ie({browseText:{type:String,default:"$vuetify.fileUpload.browse"},dividerText:{type:String,default:"$vuetify.fileUpload.divider"},title:{type:String,default:"$vuetify.fileUpload.title"},subtitle:String,icon:{type:Ye,default:"$upload"},modelValue:{type:[Array,Object],default:null,validator:t=>bn(t).every(e=>e!=null&&typeof e=="object")},clearable:Boolean,disabled:Boolean,hideBrowse:Boolean,multiple:Boolean,scrim:{type:[Boolean,String],default:!0},showSize:Boolean,name:String,...gw(),...Ti(),...Yg(g5({length:150}),["length","thickness","opacity"]),...ip()},"VFileUpload"),nve=ve()({name:"VFileUpload",inheritAttrs:!1,props:tve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{t:s}=gn(),{densityClasses:r}=ls(t),a=Ue(t,"modelValue",t.modelValue,m=>bn(m),m=>t.multiple||Array.isArray(t.modelValue)?m:m[0]),o=Re(!1),l=G(null),u=G(null);kt(()=>{var m,v;(m=l.value)==null||m.$el.addEventListener("dragover",d),(v=l.value)==null||v.$el.addEventListener("drop",h)}),Us(()=>{var m,v;(m=l.value)==null||m.$el.removeEventListener("dragover",d),(v=l.value)==null||v.$el.removeEventListener("drop",h)});function d(m){m.preventDefault(),m.stopImmediatePropagation(),o.value=!0}function c(m){m.preventDefault(),o.value=!1}function h(m){var b;m.preventDefault(),m.stopImmediatePropagation(),o.value=!1;const v=Array.from(((b=m.dataTransfer)==null?void 0:b.files)??[]);if(!v.length)return;if(!t.multiple){a.value=[v[0]];return}const _=a.value.slice();for(const x of v)_.some(k=>k.name===x.name)||_.push(x);a.value=_}function f(){var m;(m=u.value)==null||m.click()}function p(m){a.value=a.value.filter((v,_)=>_!==m),!(a.value.length>0||!u.value)&&(u.value.value="")}we(()=>{const m=!!(i.title||t.title),v=!!(i.icon||t.icon),_=!!(!t.hideBrowse&&(i.browse||t.density==="default")),b=Ya.filterProps(t),x=Qr.filterProps(t),[k,I]=Ho(n),E=g("input",Z({ref:u,type:"file",disabled:t.disabled,multiple:t.multiple,name:t.name,onChange:T=>{if(!T.target)return;const S=T.target;a.value=[...S.files??[]]}},I),null);return g(Pe,null,[g(Ya,Z({ref:l},b,{class:["v-file-upload",{"v-file-upload--clickable":!_,"v-file-upload--disabled":t.disabled,"v-file-upload--dragging":o.value},r.value],onDragleave:c,onDragover:d,onDrop:h,onClick:_?void 0:f},k),{default:()=>{var T,S,w;return[v&&g("div",{key:"icon",class:"v-file-upload-icon"},[i.icon?g(ut,{key:"icon-defaults",defaults:{VIcon:{icon:t.icon}}},{default:()=>[i.icon()]}):g(Bt,{key:"icon-icon",icon:t.icon},null)]),m&&g("div",{key:"title",class:"v-file-upload-title"},[((T=i.title)==null?void 0:T.call(i))??s(t.title)]),t.density==="default"&&g(Pe,null,[g("div",{key:"upload-divider",class:"v-file-upload-divider"},[((S=i.divider)==null?void 0:S.call(i))??g(Qr,x,{default:()=>[s(t.dividerText)]})]),_&&g(Pe,null,[i.browse?g(ut,{defaults:{VBtn:{readonly:t.disabled,size:"large",text:s(t.browseText),variant:"tonal"}}},{default:()=>[i.browse({props:{onClick:f}})]}):g(pt,{readonly:t.disabled,size:"large",text:s(t.browseText),variant:"tonal",onClick:f},null)]),t.subtitle&&g("div",{class:"v-file-upload-subtitle"},[t.subtitle])]),g(da,{"model-value":o.value,contained:!0,scrim:t.scrim},null),((w=i.input)==null?void 0:w.call(i,{inputNode:E}))??E]}}),a.value.length>0&&g("div",{class:"v-file-upload-items"},[a.value.map((T,S)=>{const w={file:T,props:{"onClick:remove":()=>p(S)}};return g(ut,{key:S,defaults:{VFileUploadItem:{file:T,clearable:t.clearable,disabled:t.disabled,showSize:t.showSize}}},{default:()=>{var C;return[((C=i.item)==null?void 0:C.call(i,w))??g(fU,{key:S,"onClick:remove":()=>p(S)},i)]}})})])])})}}),ive=ie({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...en(zh({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),sve=ve()({name:"VNumberInput",props:{...ive()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ue(t,"modelValue"),s=O({get:()=>i.value,set(C){if(C===null||C===""){i.value=null;return}const P=Number(C);!isNaN(P)&&P<=t.max&&P>=t.min&&(i.value=P)}}),r=G(),a=O(()=>L_(t.step)),o=O(()=>typeof s.value=="number"?L_(s.value):0),l=ep(t),u=O(()=>l.isDisabled.value||l.isReadonly.value),d=O(()=>u.value?!1:(s.value??0)+t.step<=t.max),c=O(()=>u.value?!1:(s.value??0)-t.step>=t.min),h=O(()=>t.hideInput?"stacked":t.controlVariant),f=O(()=>h.value==="split"?"$plus":"$collapse"),p=O(()=>h.value==="split"?"$minus":"$expand"),m=O(()=>h.value==="split"?"default":"small"),v=O(()=>h.value==="stacked"?"auto":"100%"),_=O(()=>({click:k})),b=O(()=>({click:I}));kt(()=>{u.value||w()});function x(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u.value)return;if(s.value==null){s.value=$n(0,t.min,t.max);return}const P=Math.max(o.value,a.value);C?d.value&&(s.value=+(s.value+t.step).toFixed(P)):c.value&&(s.value=+(s.value-t.step).toFixed(P))}function k(C){C.stopPropagation(),x()}function I(C){C.stopPropagation(),x(!1)}function E(C){var L,H,X;if(!C.data)return;const P=(L=C.target)==null?void 0:L.value,D=(H=C.target)==null?void 0:H.selectionStart,A=(X=C.target)==null?void 0:X.selectionEnd,F=P?P.slice(0,D)+C.data+P.slice(A):C.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(F)||C.preventDefault()}async function T(C){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(C.key)||C.ctrlKey||["ArrowDown","ArrowUp"].includes(C.key)&&(C.preventDefault(),w(),await vt(),C.key==="ArrowDown"?x(!1):x())}function S(C){C.stopPropagation()}function w(){if(!r.value)return;const C=r.value.value;C&&!isNaN(+C)?s.value=$n(+C,t.min,t.max):s.value=null}return we(()=>{const{modelValue:C,...P}=ha.filterProps(t);function D(){return n.increment?g(ut,{key:"increment-defaults",defaults:{VBtn:{disabled:!d.value,flat:!0,height:v.value,size:m.value,icon:f.value}}},{default:()=>[n.increment(_.value)]}):g(pt,{disabled:!d.value,flat:!0,key:"increment-btn",height:v.value,"data-testid":"increment","aria-hidden":"true",icon:f.value,onClick:k,onMousedown:S,size:m.value,tabindex:"-1"},null)}function A(){return n.decrement?g(ut,{key:"decrement-defaults",defaults:{VBtn:{disabled:!c.value,flat:!0,height:v.value,size:m.value,icon:p.value}}},{default:()=>[n.decrement(b.value)]}):g(pt,{disabled:!c.value,flat:!0,key:"decrement-btn",height:v.value,"data-testid":"decrement","aria-hidden":"true",icon:p.value,size:m.value,tabindex:"-1",onClick:I,onMousedown:S},null)}function F(){return g("div",{class:"v-number-input__control"},[A(),g(Qr,{vertical:h.value!=="stacked"},null),D()])}function L(){return!t.hideInput&&!t.inset?g(Qr,{vertical:!0},null):void 0}const H=h.value==="split"?g("div",{class:"v-number-input__control"},[g(Qr,{vertical:!0},null),D()]):t.reverse?void 0:g(Pe,null,[L(),F()]),X=n["append-inner"]||H,z=h.value==="split"?g("div",{class:"v-number-input__control"},[A(),g(Qr,{vertical:!0},null)]):t.reverse?g(Pe,null,[F(),L()]):void 0,K=n["prepend-inner"]||z;return g(ha,Z({ref:r,modelValue:s.value,"onUpdate:modelValue":Y=>s.value=Y,onBeforeinput:E,onChange:w,onKeydown:T,class:["v-number-input",{"v-number-input--default":h.value==="default","v-number-input--hide-input":t.hideInput,"v-number-input--inset":t.inset,"v-number-input--reverse":t.reverse,"v-number-input--split":h.value==="split","v-number-input--stacked":h.value==="stacked"},t.class]},P,{style:t.style,inputmode:"decimal"}),{...n,"append-inner":X?function(){var ee;for(var Y=arguments.length,te=new Array(Y),Q=0;Q<Y;Q++)te[Q]=arguments[Q];return g(Pe,null,[(ee=n["append-inner"])==null?void 0:ee.call(n,...te),H])}:void 0,"prepend-inner":K?function(){var ee;for(var Y=arguments.length,te=new Array(Y),Q=0;Q<Y;Q++)te[Q]=arguments[Q];return g(Pe,null,[z,(ee=n["prepend-inner"])==null?void 0:ee.call(n,...te)])}:void 0})}),kr({},r)}}),rve=ie({...AC()},"VStepperActions"),mU=ve()({name:"VStepperVerticalActions",props:rve(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;function s(){n("click:prev")}function r(){n("click:next")}return we(()=>{const a=iy.filterProps(t);return g(iy,Z({class:"v-stepper-vertical-actions"},a,{"onClick:prev":s,"onClick:next":r}),i)}),{}}}),ave=ie({hideActions:Boolean,...K3(),...en(IC({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),gU=ve()({name:"VStepperVerticalItem",props:ave(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=G(),r=O(()=>isNaN(parseInt(t.value))?t.value:Number(t.value)),a=O(()=>{var b;return(b=s.value)==null?void 0:b.groupItem}),o=O(()=>{var b;return((b=a.value)==null?void 0:b.isSelected.value)??!1}),l=O(()=>o.value?t.rules.every(b=>b()===!0):null),u=O(()=>!t.disabled&&t.editable),d=O(()=>t.error||o.value&&!l.value),c=O(()=>t.complete||t.rules.length>0&&l.value===!0),h=O(()=>{var b;return t.disabled?t.disabled:(b=a.value)!=null&&b.isFirst.value?"prev":!1}),f=O(()=>{var b;return d.value?t.errorIcon:c.value?t.completeIcon:(b=a.value)!=null&&b.isSelected.value&&t.editable?t.editIcon:t.icon}),p=O(()=>({canEdit:u.value,hasError:d.value,hasCompleted:c.value,title:t.title,subtitle:t.subtitle,step:r.value,value:t.value})),m=O(()=>({...p.value,prev:_,next:v}));function v(){var b;n("click:next"),!((b=a.value)!=null&&b.isLast.value)&&a.value.group.next()}function _(){n("click:prev"),a.value.group.prev()}return we(()=>{var I;const b=(c.value||((I=a.value)==null?void 0:I.isSelected.value))&&!d.value&&!t.disabled,x=!t.hideActions||!!i.actions,k=M1.filterProps(t);return g(M1,Z({_as:"VStepperVerticalItem",ref:s},k,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":c.value,"v-stepper-vertical-item--disabled":t.disabled,"v-stepper-vertical-item--editable":u.value,"v-stepper-vertical-item--error":d.value},t.class],readonly:!t.editable,style:t.style,color:"","hide-actions":!1,value:r.value}),{title:()=>{var E,T;return g(Pe,null,[g($s,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:b?t.color:void 0,size:24,start:!0},{default:()=>{var S;return[((S=i.icon)==null?void 0:S.call(i,p.value))??(f.value?g(Bt,{icon:f.value},null):r.value)]}}),g("div",null,[g("div",{class:"v-stepper-vertical-item__title"},[((E=i.title)==null?void 0:E.call(i,p.value))??t.title]),g("div",{class:"v-stepper-vertical-item__subtitle"},[((T=i.subtitle)==null?void 0:T.call(i,p.value))??t.subtitle])])])},text:()=>{var E,T;return g(Pe,null,[((E=i.default)==null?void 0:E.call(i,p.value))??t.text,x&&g(ut,{defaults:{VStepperVerticalActions:{disabled:h.value,finish:(T=a.value)==null?void 0:T.isLast.value}}},{default:()=>{var S;return[((S=i.actions)==null?void 0:S.call(i,m.value))??g(mU,{"onClick:next":v,"onClick:prev":_},{prev:i.prev?()=>{var w;return(w=i.prev)==null?void 0:w.call(i,m.value)}:void 0,next:i.next?()=>{var w;return(w=i.next)==null?void 0:w.call(i,m.value)}:void 0})]}})])}})}),{}}}),ove=ie({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...eU(),...en(H3({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),lve=ve()({name:"VStepperVertical",props:ove(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=G(),{color:s,eager:r,editable:a,prevText:o,nextText:l,hideActions:u}=ql(t),d=Ue(t,"modelValue"),c=O(()=>t.items.map((h,f)=>{const p=ii(h,t.itemTitle,h),m=ii(h,t.itemValue,f+1);return{title:p,value:m,raw:h}}));return Dn({VStepperVerticalItem:{color:s,eager:r,editable:a,prevText:o,nextText:l,hideActions:u,static:!0},VStepperActions:{color:s}}),we(()=>{const h=V1.filterProps(t);return g(V1,Z(h,{modelValue:d.value,"onUpdate:modelValue":f=>d.value=f,ref:i,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":t.mobile},t.class],style:t.style}),{...n,default:f=>{var v;let{prev:p,next:m}=f;return g(Pe,null,[c.value.map(_=>{let{raw:b,...x}=_;return g(gU,x,{...n,default:n[`item.${x.value}`]})}),(v=n.default)==null?void 0:v.call(n,{prev:p,next:m,step:d.value})])}})}),{}}}),uve=ve()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e,s=0,r=[];const a=Re(0),o=G(),l=Re(!1),u=Re(!1),d=Re(!1),c=O(()=>a.value>=t.pullDownThreshold&&!l.value),h=O(()=>$n(a.value,0,t.pullDownThreshold));function f(v){l.value||t.disabled||(d.value=!0,s="clientY"in v?v.clientY:v.touches[0].clientY)}function p(v){if(l.value||!d.value||t.disabled)return;const _="clientY"in v?v.clientY:v.touches[0].clientY;r.length&&!r[0].scrollTop&&(a.value=_-s)}function m(v){l.value||t.disabled||(d.value=!1,c.value?(i("load",{done:function(){l.value&&(a.value=0,l.value=!1)}}),l.value=!0):a.value=0)}kt(()=>{r=Nm(o.value)}),be([h,l],()=>{if(r.length){const v=h.value&&!l.value;r.forEach(_=>_.style.overflow=v?"hidden":"auto")}}),be(h,(v,_)=>{u.value=v<_}),we(()=>{var v;return g("div",{class:["v-pull-to-refresh"],onTouchstart:f,onTouchmove:p,onTouchend:m,onMousedown:f,onMouseup:m,onMouseleave:m,onMousemove:p,ref:o},[g("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":d.value}],style:{top:Le(-1*t.pullDownThreshold+h.value),height:Le(t.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:c.value,goingUp:u.value,refreshing:l.value}):g("div",{class:["v-pull-to-refresh__pull-down-default"]},[l.value?g(Bl,{indeterminate:!0,active:!1},null):g(Bt,{icon:c.value||u.value?"$sortAsc":"$sortDesc"},null)])]),g("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":d.value}],style:{top:Le(h.value)}},[(v=n.default)==null?void 0:v.call(n)])])})}}),cve=ie({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...en(W3(),["modelValue"])},"VSnackbarQueue"),dve=ve()({name:"VSnackbarQueue",props:cve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn(),r=Re(!1),a=Re(!1),o=Re();be(()=>t.modelValue.length,(h,f)=>{!a.value&&h>f&&u()}),be(r,h=>{h&&(a.value=!0)});function l(){t.modelValue.length?u():(o.value=void 0,a.value=!1)}function u(){const[h,...f]=t.modelValue;n("update:modelValue",f),o.value=typeof h=="string"?{text:h}:h,vt(()=>{r.value=!0})}function d(){r.value=!1}const c=O(()=>({color:typeof t.closable=="string"?t.closable:void 0,text:s(t.closeText)}));we(()=>{const h=!!(t.closable||i.actions),{modelValue:f,...p}=L1.filterProps(t);return g(Pe,null,[a.value&&!!o.value&&(i.default?g(ut,{defaults:{VSnackbar:o.value}},{default:()=>[i.default({item:o.value})]}):g(L1,Z(p,o.value,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,onAfterLeave:l}),{text:i.text?()=>{var m;return(m=i.text)==null?void 0:m.call(i,{item:o.value})}:void 0,actions:h?()=>g(Pe,null,[i.actions?g(ut,{defaults:{VBtn:c.value}},{default:()=>[i.actions({item:o.value,props:{onClick:d}})]}):g(pt,Z(c.value,{onClick:d}),null)]):void 0}))])})}});function Lu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(t).padStart(e,"0")}const hve=ie({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:t=>t},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),j1=ve()({name:"VTimePickerClock",props:hve(),emits:{change:t=>!0,input:t=>!0},setup(t,e){let{emit:n}=e;const i=G(null),s=G(null),r=G(void 0),a=G(!1),o=G(null),l=G(null),{textColorClasses:u,textColorStyles:d}=Ui(me(t,"color")),{backgroundColorClasses:c,backgroundColorStyles:h}=rn(me(t,"color")),f=O(()=>t.max-t.min+1),p=O(()=>t.double?f.value/2:f.value),m=O(()=>360/p.value),v=O(()=>m.value*Math.PI/180),_=O(()=>t.modelValue==null?t.min:t.modelValue),b=O(()=>.62),x=O(()=>{const z=[];for(let K=t.min;K<=t.max;K=K+t.step)z.push(K);return z});be(()=>t.modelValue,z=>{r.value=z});function k(z){r.value!==z&&(r.value=z),n("input",z)}function I(z){return!t.allowedValues||t.allowedValues(z)}function E(z){if(!t.scrollable||t.disabled)return;z.preventDefault();const K=Math.sign(-z.deltaY||1);let Y=_.value;do Y=Y+K,Y=(Y-t.min+f.value)%f.value+t.min;while(!I(Y)&&Y!==_.value);Y!==t.displayedValue&&k(Y)}function T(z){return t.double&&z-t.min>=p.value}function S(z){return T(z)?b.value:1}function w(z){const K=t.rotate*Math.PI/180;return{x:Math.sin((z-t.min)*v.value+K)*S(z),y:-Math.cos((z-t.min)*v.value+K)*S(z)}}function C(z,K){const Y=(Math.round(z/m.value)+(K?p.value:0))%f.value+t.min;return z<360-m.value/2?Y:K?t.max-p.value+1:t.min}function P(z){const{x:K,y:Y}=w(z);return{left:`${50+K*50}%`,top:`${50+Y*50}%`}}function D(z,K){const Y=K.x-z.x,te=K.y-z.y;return Math.sqrt(Y*Y+te*te)}function A(z,K){const Y=2*Math.atan2(K.y-z.y-D(z,K),K.x-z.x);return Math.abs(Y*180/Math.PI)}function F(z){o.value===null&&(o.value=z),l.value=z,k(z)}function L(z){var ge,B;if(z.preventDefault(),!a.value&&z.type!=="click"||!i.value)return;const{width:K,top:Y,left:te}=(ge=i.value)==null?void 0:ge.getBoundingClientRect(),{width:Q}=((B=s.value)==null?void 0:B.getBoundingClientRect())??{width:0},{clientX:ee,clientY:ue}="touches"in z?z.touches[0]:z,re={x:K/2,y:-K/2},se={x:ee-te,y:Y-ue},$=Math.round(A(re,se)-t.rotate+360)%360,q=t.double&&D(re,se)<(Q+Q*b.value)/4,ae=Math.ceil(15/m.value);let _e;for(let N=0;N<ae;N++)if(_e=C($+N*m.value,q),I(_e)||(_e=C($-N*m.value,q),I(_e)))return F(_e)}function H(z){t.disabled||(z.preventDefault(),window.addEventListener("mousemove",L),window.addEventListener("touchmove",L),window.addEventListener("mouseup",X),window.addEventListener("touchend",X),o.value=null,l.value=null,a.value=!0,L(z))}function X(z){z.stopPropagation(),window.removeEventListener("mousemove",L),window.removeEventListener("touchmove",L),window.removeEventListener("mouseup",X),window.removeEventListener("touchend",X),a.value=!1,l.value!==null&&I(l.value)&&n("change",l.value)}we(()=>g("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":t.modelValue==null,"v-time-picker-clock--readonly":t.readonly}],onMousedown:H,onTouchstart:H,onWheel:E,ref:i},[g("div",{class:"v-time-picker-clock__inner",ref:s},[g("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":T(t.modelValue)},u.value],style:[{transform:`rotate(${t.rotate+m.value*(_.value-t.min)}deg) scaleY(${S(_.value)})`},d.value]},null),x.value.map(z=>{const K=z===_.value;return g("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":K,"v-time-picker-clock__item--disabled":t.disabled||!I(z)},K&&c.value],style:[P(z),K&&h.value]},[g("span",null,[t.format(z)])])})])]))}});var ti=function(t){return t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second",t}(ti||{});const fve=ie({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),$1=ve()({name:"VTimePickerControls",props:fve(),emits:{"update:period":t=>!0,"update:selecting":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn();return we(()=>{let r=t.hour;return t.ampm&&(r=r?(r-1)%12+1:12),g("div",{class:"v-time-picker-controls"},[g("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":t.useSeconds}},[g(pt,{active:t.selecting===1,color:t.selecting===1?t.color:void 0,disabled:t.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":t.ampm,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},text:t.hour==null?"--":Lu(`${r}`),onClick:()=>n("update:selecting",ti.Hour)},null),g("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":t.useSeconds}]},[Ce(":")]),g(pt,{active:t.selecting===2,color:t.selecting===2?t.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":t.selecting===2,"v-time-picker-controls__time--with-ampm__btn":t.ampm,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},disabled:t.disabled,variant:"tonal",text:t.minute==null?"--":Lu(t.minute),onClick:()=>n("update:selecting",ti.Minute)},null),t.useSeconds&&g("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":t.useSeconds}],key:"secondsDivider"},[Ce(":")]),t.useSeconds&&g(pt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",ti.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":t.selecting===3,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},disabled:t.disabled,text:t.second==null?"--":Lu(t.second)},null),t.ampm&&t.ampmInTitle&&g("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":t.ampmReadonly}]},[g(pt,{active:t.period==="am",color:t.period==="am"?t.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":t.period==="am"},disabled:t.disabled,text:s("$vuetify.timePicker.am"),variant:t.disabled&&t.period==="am"?"elevated":"tonal",onClick:()=>t.period!=="am"?n("update:period","am"):null},null),g(pt,{active:t.period==="pm",color:t.period==="pm"?t.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":t.period==="pm"},disabled:t.disabled,text:s("$vuetify.timePicker.pm"),variant:t.disabled&&t.period==="pm"?"elevated":"tonal",onClick:()=>t.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),mve=fr(24),pU=fr(12),gve=pU.map(t=>t+12);fr(60);const pve={1:"hour",2:"minute",3:"second"},vve=ie({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...en(EC({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),_ve=ve()({name:"VTimePicker",props:vve(),emits:{"update:hour":t=>!0,"update:minute":t=>!0,"update:period":t=>!0,"update:second":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn(),r=G(null),a=G(null),o=G(null),l=G(null),u=G(null),d=G(null),c=G("am"),h=G(ti.Hour),f=G(null),p=G(null),m=O(()=>{let D;if(t.allowedHours instanceof Array?D=L=>t.allowedHours.includes(L):D=t.allowedHours,!t.min&&!t.max)return D;const A=t.min?Number(t.min.split(":")[0]):0,F=t.max?Number(t.max.split(":")[0]):23;return L=>L>=A*1&&L<=F*1&&(!D||D(L))}),v=O(()=>{let D;const A=!m.value||r.value===null||m.value(r.value);if(t.allowedMinutes instanceof Array?D=Y=>t.allowedMinutes.includes(Y):D=t.allowedMinutes,!t.min&&!t.max)return A?D:()=>!1;const[F,L]=t.min?t.min.split(":").map(Number):[0,0],[H,X]=t.max?t.max.split(":").map(Number):[23,59],z=F*60+L*1,K=H*60+X*1;return Y=>{const te=60*r.value+Y;return te>=z&&te<=K&&A&&(!D||D(Y))}}),_=O(()=>{let D;const F=(!m.value||r.value===null||m.value(r.value))&&(!v.value||a.value===null||v.value(a.value));if(t.allowedSeconds instanceof Array?D=ee=>t.allowedSeconds.includes(ee):D=t.allowedSeconds,!t.min&&!t.max)return F?D:()=>!1;const[L,H,X]=t.min?t.min.split(":").map(Number):[0,0,0],[z,K,Y]=t.max?t.max.split(":").map(Number):[23,59,59],te=L*3600+H*60+(X||0)*1,Q=z*3600+K*60+(Y||0)*1;return ee=>{const ue=3600*r.value+60*a.value+ee;return ue>=te&&ue<=Q&&F&&(!D||D(ee))}}),b=O(()=>t.format==="ampm");be(()=>t.modelValue,D=>T(D)),kt(()=>{T(t.modelValue)});function x(){return r.value!=null&&a.value!=null&&(!t.useSeconds||o.value!=null)?`${Lu(r.value)}:${Lu(a.value)}`+(t.useSeconds?`:${Lu(o.value)}`:""):null}function k(){const D=x();D!==null&&n("update:modelValue",D)}function I(D){return D?(D-1)%12+1:12}function E(D,A){return D%12+(A==="pm"?12:0)}function T(D){if(D==null||D==="")r.value=null,a.value=null,o.value=null;else if(D instanceof Date)r.value=D.getHours(),a.value=D.getMinutes(),o.value=D.getSeconds();else{const[A,,F,,L,H]=D.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);r.value=H?E(parseInt(A,10),H):parseInt(A,10),a.value=parseInt(F,10),o.value=parseInt(L||0,10)}c.value=r.value==null||r.value<12?"am":"pm"}function S(D,A){const F=m.value;if(!F)return A;const L=b.value?A<12?pU:gve:mve;return((L.find(X=>F((X+A)%L.length+L[0]))||0)+A)%L.length+L[0]}function w(D){if(c.value=D,r.value!=null){const A=r.value+(c.value==="am"?-12:12);r.value=S("hour",A)}return n("update:period",D),k(),!0}function C(D){h.value===ti.Hour?r.value=b.value?E(D,c.value):D:h.value===ti.Minute?a.value=D:o.value=D}function P(D){switch(pve[h.value]){case"hour":n("update:hour",D);break;case"minute":n("update:minute",D);break;case"second":n("update:second",D);break}const A=h.value===(t.useSeconds?ti.Second:ti.Minute);h.value===ti.Hour?h.value=ti.Minute:t.useSeconds&&h.value===ti.Minute&&(h.value=ti.Second),!(r.value===l.value&&a.value===u.value&&(!t.useSeconds||o.value===d.value)||x()===null)&&(l.value=r.value,u.value=a.value,t.useSeconds&&(d.value=o.value),A&&k())}we(()=>{const D=tg.filterProps(t),A=$1.filterProps(t),F=j1.filterProps(en(t,["format","modelValue","min","max"]));return g(tg,Z(D,{color:void 0,class:["v-time-picker",t.class],style:t.style}),{title:()=>{var L;return((L=i.title)==null?void 0:L.call(i))??g("div",{class:"v-time-picker__title"},[s(t.title)])},header:()=>g($1,Z(A,{ampm:b.value||t.ampmInTitle,ampmReadonly:b.value&&!t.ampmInTitle,hour:r.value,minute:a.value,period:c.value,second:o.value,selecting:h.value,"onUpdate:period":L=>w(L),"onUpdate:selecting":L=>h.value=L,ref:f}),null),default:()=>g(j1,Z(F,{allowedValues:h.value===ti.Hour?m.value:h.value===ti.Minute?v.value:_.value,double:h.value===ti.Hour&&!b.value,format:h.value===ti.Hour?b.value?I:L=>L:L=>Lu(L,2),max:h.value===ti.Hour?b.value&&c.value==="am"?11:23:59,min:h.value===ti.Hour&&b.value&&c.value==="pm"?12:0,size:20,step:h.value===ti.Hour?1:5,modelValue:h.value===ti.Hour?r.value:h.value===ti.Minute?a.value:o.value,onChange:P,onInput:C,ref:p}),null),actions:i.actions})})}}),yve=ie({...en(d5({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),U1=ve()({name:"VTreeviewGroup",props:yve(),setup(t,e){let{slots:n}=e;const i=G(),s=O(()=>{var a;return(a=i.value)!=null&&a.isOpen?t.collapseIcon:t.expandIcon}),r=O(()=>{var a;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(a=i.value)==null?void 0:a.isOpen,toggleIcon:s.value}}});return we(()=>{const a=Zm.filterProps(t);return g(Zm,Z(a,{ref:i,class:["v-treeview-group",t.class],subgroup:!0}),{...n,activator:n.activator?o=>g(Pe,null,[g(ut,{defaults:r.value},{default:()=>{var l;return[(l=n.activator)==null?void 0:l.call(n,o)]}})]):void 0})}),{}}}),vU=Symbol.for("vuetify:v-treeview"),bve=ie({loading:Boolean,onToggleExpand:Ri(),toggleIcon:Ye,...iC({slim:!0})},"VTreeviewItem"),H1=ve()({name:"VTreeviewItem",props:bve(),setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=jh(t,n),a=G(),o=O(()=>{var c,h;return((c=a.value)==null?void 0:c.root.activatable.value)&&((h=a.value)==null?void 0:h.isGroupActivator)}),l=O(()=>{var c;return!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||t.value!=null&&!!((c=a.value)!=null&&c.list)||o.value)});function u(c){var h,f;l.value&&o.value&&((f=a.value)==null||f.activate(!((h=a.value)!=null&&h.isActivated),c))}const d=mt(vU,{visibleIds:G()}).visibleIds;return we(()=>{var f,p;const c=en(_r.filterProps(t),["onClick"]),h=i.prepend||t.toggleIcon;return g(_r,Z({ref:a},c,{active:(f=a.value)==null?void 0:f.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":o.value,"v-treeview-item--filtered":d.value&&!d.value.has((p=a.value)==null?void 0:p.id)},t.class],ripple:!1,onClick:t.onClick??u}),{...i,prepend:h?m=>{var v;return g(Pe,null,[t.toggleIcon&&g(x5,{start:!1},{default:()=>[g(pt,{density:"compact",icon:t.toggleIcon,loading:t.loading,variant:"text",onClick:t.onToggleExpand},{loader(){return g(Bl,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(v=i.prepend)==null?void 0:v.call(i,m)])}:void 0})}),{}}}),_U=ie({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:Ye,default:"$checkboxIndeterminate"},falseIcon:Ye,trueIcon:Ye,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),sy=ve()({name:"VTreeviewChildren",props:_U(),setup(t,e){let{slots:n}=e;const i=mn(new Set),s=O(()=>t.openOnClick!=null?t.openOnClick:t.selectable);async function r(o){var l,u;try{if(!((l=t.items)!=null&&l.length)||!t.loadChildren)return;((u=o==null?void 0:o.children)==null?void 0:u.length)===0&&(i.add(o.value),await t.loadChildren(o.raw))}finally{i.delete(o.value)}}function a(o,l){t.selectable&&o(!l)}return()=>{var o,l;return((o=n.default)==null?void 0:o.call(n))??((l=t.items)==null?void 0:l.map(u=>{var v;const{children:d,props:c}=u,h=i.has(u.value),f={prepend:_=>{var b;return g(Pe,null,[t.selectable&&(!d||d&&!["leaf","single-leaf"].includes(t.selectStrategy))&&g("div",null,[g(Wa,{key:u.value,modelValue:_.isSelected,loading:h,color:t.selectedColor,indeterminate:_.isIndeterminate,indeterminateIcon:t.indeterminateIcon,falseIcon:t.falseIcon,trueIcon:t.trueIcon,onClick:Ku(()=>a(_.select,_.isSelected),["stop"]),onKeydown:x=>{["Enter","Space"].includes(x.key)&&(x.stopPropagation(),a(_.select,_.isSelected))}},null)]),(b=n.prepend)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})])},append:n.append?_=>{var b;return(b=n.append)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})}:void 0,title:n.title?_=>{var b;return(b=n.title)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})}:void 0},p=U1.filterProps(c),m=sy.filterProps(t);return d?g(U1,Z(p,{value:t.returnObject?u.raw:p==null?void 0:p.value}),{activator:_=>{let{props:b}=_;const x={...c,...b,value:c==null?void 0:c.value,onToggleExpand:[()=>r(u),b.onClick],onClick:s.value?[()=>r(u),b.onClick]:void 0};return g(H1,Z(x,{value:t.returnObject?Xe(u.raw):c.value,loading:h}),f)},default:()=>g(sy,Z(m,{items:d,returnObject:t.returnObject}),n)}):((v=n.item)==null?void 0:v.call(n,{props:c,item:u.raw,internalItem:u}))??g(H1,Z(c,{value:t.returnObject?Xe(u.raw):c.value}),f)}))}}});function yU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of t)e.push(n),n.children&&yU(n.children,e);return e}const wve=ie({openAll:Boolean,search:String,...Wh({filterKeys:["title"]}),..._U(),...en(w5({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),xve=ve()({name:"VTreeview",props:wve(),emits:{"update:opened":t=>!0,"update:activated":t=>!0,"update:selected":t=>!0,"update:modelValue":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=b5(t),s=me(t,"activeColor"),r=me(t,"baseColor"),a=me(t,"color"),o=Ue(t,"activated"),l=Ue(t,"modelValue"),u=Ue(t,"selected",t.modelValue),d=O({get:()=>u.value,set(x){u.value=x,l.value=x}}),c=G(),h=O(()=>t.openAll?b(i.value):t.opened),f=O(()=>yU(i.value)),p=me(t,"search"),{filteredItems:m}=Yh(t,f,p),v=O(()=>{var k;if(!p.value)return null;const x=(k=c.value)==null?void 0:k.getPath;return x?new Set(m.value.flatMap(I=>{const E=t.returnObject?I.raw:I.props.value;return[...x(E),..._(E)].map(Xe)})):null});function _(x){var E,T;const k=[],I=(((E=c.value)==null?void 0:E.children.get(x))??[]).slice();for(;I.length;){const S=I.shift();S&&(k.push(S),I.push(...(((T=c.value)==null?void 0:T.children.get(S))??[]).slice()))}return k}function b(x){let k=[];for(const I of x)I.children&&(k.push(t.returnObject?Xe(I.raw):I.value),I.children&&(k=k.concat(b(I.children))));return k}return Kt(vU,{visibleIds:v}),Dn({VTreeviewGroup:{activeColor:s,baseColor:r,color:a,collapseIcon:me(t,"collapseIcon"),expandIcon:me(t,"expandIcon")},VTreeviewItem:{activeClass:me(t,"activeClass"),activeColor:s,baseColor:r,color:a,density:me(t,"density"),disabled:me(t,"disabled"),lines:me(t,"lines"),variant:me(t,"variant")}}),we(()=>{const x=lh.filterProps(t),k=sy.filterProps(t);return g(lh,Z({ref:c},x,{class:["v-treeview",t.class],"open-strategy":"multiple",style:t.style,opened:h.value,activated:o.value,"onUpdate:activated":I=>o.value=I,selected:d.value,"onUpdate:selected":I=>d.value=I}),{default:()=>[g(sy,Z(k,{returnObject:t.returnObject,items:i.value}),n)]})}),{}}}),Sve=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:Qpe,VCalendarDay:jv,VCalendarHeader:B1,VCalendarInterval:F1,VCalendarIntervalEvent:N1,VCalendarMonthDay:hU,VDateInput:Zpe,VFileUpload:nve,VFileUploadItem:fU,VNumberInput:sve,VPicker:tg,VPickerTitle:B3,VPullToRefresh:uve,VSnackbarQueue:dve,VStepperVertical:lve,VStepperVerticalActions:mU,VStepperVerticalItem:gU,VTimePicker:_ve,VTimePickerClock:j1,VTimePickerControls:$1,VTreeview:xve,VTreeviewGroup:U1,VTreeviewItem:H1},Symbol.toStringTag,{value:"Module"})),kve={badge:"Distintivo",open:"Apri",close:"Chiudi",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Annulla"},dataIterator:{noResultsText:"Nessun risultato trovato",loadingText:"Caricamento in corso..."},dataTable:{itemsPerPageText:"Righe per pagina:",ariaLabel:{sortDescending:"Ordinati in ordine decrescente.",sortAscending:"Ordinati in ordine crescente.",sortNone:"Non ordinato.",activateNone:"Attiva per rimuovere l'ordinamento.",activateDescending:"Attiva per ordinare in ordine decrescente.",activateAscending:"Attiva per ordinare in ordine crescente."},sortBy:"Ordina per"},dataFooter:{itemsPerPageText:"Elementi per pagina:",itemsPerPageAll:"Tutti",nextPage:"Pagina seguente",prevPage:"Pagina precedente",firstPage:"Prima pagina",lastPage:"Ultima pagina",pageText:"{0}-{1} di {2}"},dateRangeInput:{divider:"a"},datePicker:{itemsSelected:"{0} selected",range:{title:"Seleziona date",header:"Inserisci date"},title:"Seleziona data",header:"Inserisci data",input:{placeholder:"Inserisci data"}},noDataText:"Nessun elemento disponibile",carousel:{prev:"Vista precedente",next:"Prossima vista",ariaLabel:{delimiter:"Slide carosello {0} di {1}"}},calendar:{moreEvents:"{0} di più",today:"Today"},input:{clear:"Cancella {0}",prependAction:"Azione precedente {0}",appendAction:"Azione successiva {0}",otp:"Inserisci il codice OTP {0}"},fileInput:{counter:"{0} file",counterSize:"{0} file ({1} in totale)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Navigazione impaginazione",next:"Pagina seguente",previous:"Pagina precedente",page:"Vai alla pagina {0}",currentPage:"Pagina corrente, pagina {0}",first:"Prima pagina",last:"Ultima pagina"}},stepper:{next:"Successivo",prev:"Precedente"},rating:{ariaLabel:{item:"Valutazione {0} di {1}"}},loading:"Caricamento...",infiniteScroll:{loadMore:"Carica altro",empty:"Nessun elemento"}},Tve={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00","blue-grey-lighten":"#37474F"}},Pve={dark:!0,colors:{success:"#78dc77",secondary:"#000000",primary:"#cfbdff",info:"#9ecaff","blue-grey-lighten":"#ECEFF1"}},Cve=e$({components:{...Mpe,...Sve},directives:Ype,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:Tve,myCustomDarkTheme:Pve}},locale:{locale:"it",fallback:"en",messages:{en:Bj,it:kve}},date:{locale:{it:"it-IT"}}}),sp=St({__name:"BackButton",setup(t){const e=Ac();function n(){e.go(-1)}return(i,s)=>{const r=j("v-btn");return xe(),Oe(r,{icon:"mdi-arrow-left",onClick:n,variant:"text"})}}});var Gh=(t=>(t.SCHOOLS="schools",t.STUDENTS="students",t.WEEKLY_LESSONS="weeklyLessons",t.DAILY_LESSONS="dailyLessons",t.RECOVERY_LESSONS="recoveryLessons",t))(Gh||{});const Eve=()=>({toFirestore:t=>t,fromFirestore:t=>{const e=t.data();return e.id=t.id,e}}),Ive=t=>XZ(RS(),t).withConverter(Eve());function rp(t,e){const n=`${t}/${e}/user${t.charAt(0).toUpperCase()+t.slice(1)}`;return Ive(n)}class bU{constructor(){an(this,"handlers",[]);an(this,"unsubscription");an(this,"cache")}subscribe(e,n=!1){return this.handlers.push(e),n&&this.cache!=null&&e.next(this.cache),new Dve(this,e)}unsubscribe(e){var i;const n=this.handlers.indexOf(e);n!==-1&&this.handlers.splice(n,1),this.handlers.length==0&&((i=this.unsubscription)==null||i.call(this))}unsubscribeAll(){this.clear()}setUnsubscription(e){this.unsubscription=e}next(e){this.cache=e,[...this.handlers].forEach(n=>n.next(e))}error(e){[...this.handlers].forEach(n=>{var i;return(i=n.error)==null?void 0:i.call(n,e)}),console.log(e)}clear(){this.handlers=[]}expose(){return this}}class Dve{constructor(e,n){this.liteEvent=e,this.handler=n}unsubscribe(){this.liteEvent.unsubscribe(this.handler)}}class ap{constructor(e){an(this,"user",pN());an(this,"cache",{});this._collectionReference=e}get collectionReference(){var e,n,i;return(this.cache.userId!=((e=this.user.value)==null?void 0:e.uid)||!this.cache.collectionReference)&&(this.cache={userId:(n=this.user.value)==null?void 0:n.uid,collectionReference:this._collectionReference(((i=this.user.value)==null?void 0:i.uid)??"")}),this.cache.collectionReference}observe(e){return O(()=>Df(this.collectionReference,e.value))}async get(e){return(await this.getDoc(e)).data()}async getDoc(e){return await dP(Df(this.collectionReference,e))}async getAll(...e){const n=O0(this.collectionReference,...e);return(await CS(n)).docs.map(s=>s.data())}async getAllDocs(...e){const n=O0(this.collectionReference,...e);return await CS(n)}async save(e,n){return console.log(e),n!=null?(lee(Df(this.collectionReference,n),e),n):(await cee(this.collectionReference,e)).id}observeAll(...e){const n=new bU,i=O0(this.collectionReference,...e),s=Fb(i,r=>{const a=r.docs.map(o=>o.data());n.next(a)},r=>{n.error(r)});return n.setUnsubscription(s),n}async delete(e){await uee(Df(this.collectionReference,e))}deleteAll(){throw new Error("Method not implemented.")}}const Ay=class Ay extends ap{constructor(){super(e=>rp(Gh.SCHOOLS,e))}static get instance(){return this._instance||(this._instance=new Ay),this._instance}};an(Ay,"_instance",null);let Lr=Ay;const qi=[];for(let t=0;t<256;++t)qi.push((t+256).toString(16).slice(1));function Ave(t,e=0){return(qi[t[e+0]]+qi[t[e+1]]+qi[t[e+2]]+qi[t[e+3]]+"-"+qi[t[e+4]]+qi[t[e+5]]+"-"+qi[t[e+6]]+qi[t[e+7]]+"-"+qi[t[e+8]]+qi[t[e+9]]+"-"+qi[t[e+10]]+qi[t[e+11]]+qi[t[e+12]]+qi[t[e+13]]+qi[t[e+14]]+qi[t[e+15]]).toLowerCase()}let sx;const Rve=new Uint8Array(16);function Ove(){if(!sx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sx=crypto.getRandomValues.bind(crypto)}return sx(Rve)}const Mve=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),XO={randomUUID:Mve};function Ld(t,e,n){var s;if(XO.randomUUID&&!t)return XO.randomUUID();t=t||{};const i=t.random??((s=t.rng)==null?void 0:s.call(t))??Ove();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ave(i)}const Ry=class Ry extends ap{constructor(){super(e=>rp(Gh.WEEKLY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Ry),this._instance}};an(Ry,"_instance",null);let La=Ry;const Oy=class Oy extends ap{constructor(){super(e=>rp(Gh.DAILY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Oy),this._instance}};an(Oy,"_instance",null);let Nt=Oy;const My=class My{static get instance(){return this._instance||(this._instance=new My),this._instance}async computeSalary(e,n,i){const s=await Bi.instance.getDailyLessonOfSchoolBetweenDate(e.id,n,i);return this.computeSalaryOfDailyLessons(s)}async computeSalaryOfDailyLessons(e){const n=[];return e.forEach(i=>{const s=i.lessons.filter(a=>a.status==Ot.PRESENT).length,r=i.lessons.filter(a=>a.status==Ot.ABSENT).length;n.push({dailyLessonId:i.id,date:i.date,lastUpdate:i.lastSalaryUpdate,salary:i.salary,presents:s,absents:r})}),n}computeSalaryByStudentLesson(e,n){var s;if(!e)return 0;if(e.salaryStrategy==Wm.ABSENT_AND_PRESENT&&(n.status==Ot.PRESENT||n.status==Ot.ABSENT||n.status==Ot.UNJUSTIFIED_ABSENCE)||e.salaryStrategy==Wm.ONLY_PRESENT&&n.status==Ot.PRESENT||e.trialLessonPaymentStrategy!=Vd.NOTHING&&n.status==Ot.TRIAL){const r=(s=e.levelRanges.find(a=>a.levels.includes(n.level)))==null?void 0:s.price;if(r!=null){const a=r*((n.endTime-n.startTime)/60);return n.status==Ot.TRIAL&&e.trialLessonPaymentStrategy==Vd.HALF?a/2:a}}return 0}};an(My,"_instance",null);let ig=My;const Vy=class Vy extends ap{constructor(){super(e=>rp(Gh.RECOVERY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Vy),this._instance}};an(Vy,"_instance",null);let go=Vy;const Ly=class Ly extends ap{constructor(){super(e=>rp(Gh.STUDENTS,e))}static get instance(){return this._instance||(this._instance=new Ly),this._instance}};an(Ly,"_instance",null);let Cr=Ly;const Ny=class Ny{static get instance(){return this._instance||(this._instance=new Ny),this._instance}async getStudentsOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return Cr.instance.getAll(n)}observeStudentsOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return Cr.instance.observeAll(n)}async getStudentsOfSchoolWithIds(e,n){if(n.length==0)return[];const i=Wn(Ln("schoolId"),"==",e),s=Wn(QZ(),"in",n);return Cr.instance.getAll(i,s)}async setTrialDone(e,n,i){var s;(s=e.trial)!=null&&s.done||(e.trial={done:!0},n&&(e.trial.dailyLessonDate=n),i&&(e.trial.dailyLessonId=i),await Cr.instance.save(e,e.id))}async unsetTrial(e){delete e.trial,await Cr.instance.save(e,e.id)}};an(Ny,"_instance",null);let Or=Ny;var $v=(t=>(t[t.SET_PRESENT=0]="SET_PRESENT",t[t.SET_ABSENT=1]="SET_ABSENT",t[t.RESET=2]="RESET",t))($v||{});const Eu=class Eu{static get instance(){return this._instance||(this._instance=new Eu),this._instance}async computeDailyLessons(e){const n=Array.from(new Set(e.recoveries.flatMap(d=>{var c;return[d.originalLesson.dailyLessonId,(c=d.recoveryLesson)==null?void 0:c.dailyLessonId]}).filter(Boolean))),s=(await Promise.all(n.map(d=>Nt.instance.get(d)))).filter(Boolean),r=await Or.instance.getStudentsOfSchool(e.schoolId),a=[],o=[],l=[],u=(d,c,h,f,p)=>{h.push({...d,...c,...f,recoveryStatus:p})};return e.recoveries.forEach(d=>{const{originalLesson:c,recoveryLesson:h,status:f}=d,p=s.find(_=>_.id===c.dailyLessonId),m=h?s.find(_=>_.id===h.dailyLessonId):void 0;if(!p){console.warn("Unable to load original daily lesson of a recovery...");return}const v={originalDailyLesson:p,recoveryDailyLesson:m};p.lessons.forEach(_=>{if(_.lessonId!==c.lessonId)return;const b=r.find(x=>x.id===_.studentId);b&&(m?f!=null?u(_,b,l,v,f):u(_,b,o,v):u(_,b,a,v))})}),{recoveryMap:[{type:"unset",recoveries:a},{type:"pending",recoveries:o},{type:"done",recoveries:l}],schoolId:e.schoolId}}async getOrCreate(e){const n=await go.instance.getDoc(e);if(n.exists())return n.data();const i={recoveries:[],schoolId:e};return await go.instance.save(i,e),i}getRecoveryType(e){return!e.status&&!e.recoveryLesson?0:!e.status&&e.recoveryLesson?1:2}addRecoveryByType(e,n,i,s){let r=e.recoveries.findIndex(o=>o.originalLesson.dailyLessonId==n.dailyLessonId&&o.originalLesson.lessonId==n.lessonId);r==-1&&(e.recoveries.push({originalLesson:n}),r=e.recoveries.length-1);const a=e.recoveries[r];i==0?a.originalLesson=s:i==1?a.recoveryLesson=s:a.status=s}removeRecoveryByType(e,n,i){const s=e.recoveries.findIndex(r=>r.originalLesson.dailyLessonId==n.dailyLessonId&&r.originalLesson.lessonId==n.lessonId);if(s!=-1){if(i==0)return e.recoveries.splice(s,1),!0;if(i==1){if(e.recoveries[s].recoveryLesson)return delete e.recoveries[s].recoveryLesson,!0}else if(e.recoveries[s].status)return delete e.recoveries[s].status,!0}return!1}async updateRecovery(e,n,...i){var r;const s=await Eu.instance.getOrCreate(n);for await(const a of i){const o=((r=a.recovery)==null?void 0:r.ref)=="original",l=o?{dailyLessonId:a.recovery.lessonRef.dailyLessonId,lessonId:a.recovery.lessonRef.lessonId}:{dailyLessonId:a.dailyLessonId,lessonId:a.lessonId};if(e==0)if(!o)this.removeRecoveryByType(s,l,0);else{const u=Ot.PRESENT;this.addRecoveryByType(s,l,2,u)}else if(e==1)if(o){const u={...l};this.removeRecoveryByType(s,l,1),this.addRecoveryByType(s,l,0,u);const d=l.lessonId,c=await Nt.instance.get(l.dailyLessonId);await Bi.instance.moveRecoveryRefToUndoneList(c,d)}else{const u={...l};this.addRecoveryByType(s,l,0,u)}else if(e==2){if(!o)this.removeRecoveryByType(s,l,0);else if(!this.removeRecoveryByType(s,l,2)){const d={dailyLessonId:a.dailyLessonId,lessonId:a.lessonId};this.addRecoveryByType(s,l,1,d);const c=l.lessonId,h=a.lessonId,f={lessonRef:{...l},ref:"original"},p={lessonRef:{...d},ref:"recovery"},m=await Nt.instance.get(l.dailyLessonId),v=await Nt.instance.get(a.dailyLessonId);await Bi.instance.addRecoveryRef(m,c,p),await Bi.instance.addRecoveryRef(v,h,f)}}}go.instance.save(s,n)}async scheduleRecovery(e,n){const i=await Eu.instance.getOrCreate(e.schoolId),s=await Bi.instance.createRecoveryLesson(n),r=await Nt.instance.getDoc(e.originalDailyLesson.id);if(r.exists()){const l=r.data(),u=l.lessons.find(d=>d.lessonId==e.lessonId);u&&(u.recovery={ref:"recovery",lessonRef:{dailyLessonId:s.dailyLessonId,lessonId:s.lessonId}},await Nt.instance.save(l,l.id))}else console.warn("");const a={dailyLessonId:e.originalDailyLesson.id,lessonId:e.lessonId},o={dailyLessonId:s.dailyLessonId,lessonId:s.lessonId};this.addRecoveryByType(i,a,1,o),go.instance.save(i,e.schoolId)}async cancelRecovery(e,n){var c,h,f,p,m,v;if(!e.recoveryDailyLesson)return;const i=await Eu.instance.getOrCreate(e.schoolId);let s,r;const a=[];((c=e.recovery)==null?void 0:c.ref)=="recovery"?(s=e.recovery.lessonRef,r=(f=(h=e.recoveryDailyLesson.lessons.find(_=>_.lessonId==(s==null?void 0:s.lessonId)))==null?void 0:h.recovery)==null?void 0:f.lessonRef):((p=e.recovery)==null?void 0:p.ref)=="original"&&(r=e.recovery.lessonRef,s=(v=(m=e.originalDailyLesson.lessons.find(_=>_.lessonId==(r==null?void 0:r.lessonId)))==null?void 0:m.recovery)==null?void 0:v.lessonRef);const o=await Nt.instance.get(e.recoveryDailyLesson.id),l=o==null?void 0:o.lessons.findIndex(_=>_.lessonId==(s==null?void 0:s.lessonId));await Bi.instance.deleteLesson(o,l);const u=await Nt.instance.get(e.originalDailyLesson.id),d=u==null?void 0:u.lessons.findIndex(_=>_.lessonId==(r==null?void 0:r.lessonId));u&&d!=null&&d!=-1&&(delete u.lessons[d].recovery,await Nt.instance.save(u,u.id)),r&&(a.push(2,1),n&&a.push(0),a.forEach(_=>this.removeRecoveryByType(i,r,_)),await go.instance.save(i,e.schoolId))}};an(Eu,"_instance",null);let ko=Eu;const Fy=class Fy{static get instance(){return this._instance||(this._instance=new Fy),this._instance}async getStudentLesson(e,n){n??(n=e.lessons.map(s=>s.studentId));const i=await Or.instance.getStudentsOfSchoolWithIds(e.schoolId,n);return e.lessons.map(s=>{const r=i.find(a=>a.id==s.studentId);return{...s,...r}})}};an(Fy,"_instance",null);let sg=Fy;const By=class By{static get instance(){return this._instance||(this._instance=new By),this._instance}async getWeeklyLessonOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return La.instance.getAll(n)}async getWeeklyLessonOfSchoolByDayBetweenDate(e,n,i){const s=Wn(Ln("schoolId"),"==",e),r=Wn(Ln("dayOfWeek"),"==",n),a=Wn(Ln("from"),"<=",i),o=Wn(Ln("to"),">=",i);return La.instance.getAll(s,r,a,o)}observeWeekLessonOfSchool(e){const n=Wn(Ln("schoolId"),"==",e),i=GB(Ln("dayOfWeek"));return La.instance.observeAll(n,i)}};an(By,"_instance",null);let rg=By;const cm=class cm{static get instance(){return this._instance||(this._instance=new cm),this._instance}async getDailyLessonOfSchoolByDate(e,n){const i=Wn(Ln("schoolId"),"==",e),s=Wn(Ln("date"),"==",n);return Nt.instance.getAll(i,s)}async getDailyLessonOfSchoolFromDate(e,n,i){const s=[],r=Wn(Ln("schoolId"),"==",e),a=Wn(Ln("date"),">=",n);return s.push(r,a),i&&s.push(GB(Ln("date"),i)),Nt.instance.getAll(...s)}async getDailyLessonOfSchoolBetweenDate(e,n,i){const s=Wn(Ln("schoolId"),"==",e),r=Wn(Ln("date"),">=",n),a=Wn(Ln("date"),"<=",i);return await Nt.instance.getAll(s,r,a)}async getOrCreateDailyLessonId(e,n){return n instanceof Date?this.createDailyLessonByDate(e,n):this.handleLessonProjection(e,n)}async handleLessonProjection(e,n){if(!n.dailyLessonId){const i=this.buildDailyLessonFromProjection(e,n);return Nt.instance.save(i)}return n.dailyLessonId}buildDailyLessonFromProjection(e,n){return{date:n.date.toIyyyyMMdd(),schoolId:e,lessons:n.lessons.map(i=>({lessonId:Ld(),status:Ot.NONE,studentId:i.studentId,startTime:i.startTime,endTime:i.endTime,createdAt:Dt.now(),updatedAt:Dt.now()}))}}async createDailyLessonByDate(e,n){var a;const i=gt.fromDate(n).toIyyyyMMdd(),s=await cm.instance.getDailyLessonOfSchoolByDate(e,i);if((a=s==null?void 0:s[0])!=null&&a.id)return s[0].id;const r=await this.buildDailyLessonFromWeeklyOrEmpty(e,n,i);return Nt.instance.save(r)}async buildDailyLessonFromWeeklyOrEmpty(e,n,i){const s=await rg.instance.getWeeklyLessonOfSchoolByDayBetweenDate(e,n.getDay(),i),r=s==null?void 0:s[0];return r?{date:i,schoolId:e,lessons:r.schedule.map(a=>({lessonId:Ld(),status:Ot.NONE,studentId:a.studentId,startTime:a.startTime,endTime:a.endTime,createdAt:Dt.now(),updatedAt:Dt.now()}))}:{date:i,schoolId:e,lessons:[]}}async removeRecoveryLesson(e){const n=await Nt.instance.getDoc(e.dailyLessonId);if(n.exists()){const i=n.data(),s=i.lessons.findIndex(r=>r.lessonId==e.lessonId);if(s!=-1){const r=i.lessons.splice(s,1)[0];r.recovery||console.warn("Deleting a lesson not marked as recovery lesson!",r),Nt.instance.save(i,i.id)}}}async createRecoveryLesson(e){const n={lessonId:Ld(),status:Ot.NONE,studentId:e.studentId,startTime:e.startTime,endTime:e.endTime,recovery:{ref:"original",lessonRef:{dailyLessonId:e.originalDailyLessonId,lessonId:e.originalLessonId}},createdAt:Dt.now(),updatedAt:Dt.now()},i=await this.getOrCreateDailyLessonId(e.schoolId,e.date),s=await Nt.instance.get(i);return s.lessons.push(n),await Nt.instance.save(s,s.id),{...n,dailyLessonId:s.id}}async removeRecoveryRef(e,n){const i=e.lessons.find(s=>s.lessonId==n);i&&i.recovery&&(delete i.recovery,await Nt.instance.save(e,e.id))}async moveRecoveryRefToUndoneList(e,n){const i=e.lessons.find(s=>s.lessonId==n);if(i&&i.recovery){const s={...i.recovery.lessonRef};i.undoneRecoveryRef||(i.undoneRecoveryRef=[]),i.undoneRecoveryRef.push(s),delete i.recovery,await Nt.instance.save(e,e.id)}}async addRecoveryRef(e,n,i){const s=e.lessons.find(r=>r.lessonId==n);s&&(s.recovery=i,await Nt.instance.save(e,e.id))}async deleteLessonAndRecoveryReferences(e,n,i,s){var a,o;const r=n.lessons.findIndex(l=>l.studentId==e.id)??-1;if(r==-1)return!1;try{const l=n.lessons[r];if(((a=l.recovery)==null?void 0:a.ref)=="original"){const u=await Nt.instance.get(l.recovery.lessonRef.dailyLessonId),d=n;if(!u)return console.warn("Unable to cancel recovery because original daily lesson does not exist"),!1;const c={...e,originalDailyLesson:u,recoveryDailyLesson:d};await ko.instance.cancelRecovery(c,s)}else if(((o=l.recovery)==null?void 0:o.ref)=="recovery"){const u=await Nt.instance.get(l.recovery.lessonRef.dailyLessonId);if(!u)return console.warn("Unable to cancel recovery because recovery daily lesson does not exist"),!1;const c=(await sg.instance.getStudentLesson(u)).find(h=>h.lessonId==l.recovery.lessonRef.lessonId);if(!c)return console.warn("Unable to cancel recovery because recovery student lesson does not exist"),!1;await this.deleteLessonAndRecoveryReferences(c,u,i,!0),n.lessons.splice(r,1),await Nt.instance.save(n,n.id)}else await this.deleteLesson(n,r,i);return!0}catch{return!1}}async deleteLesson(e,n,i){e&&n!=null&&n!=-1&&(e.lessons.splice(n,1),e.lessons.length==0&&i?await Nt.instance.delete(e.id):await Nt.instance.save(e,e.id))}async computeSalaryOfDailyLesson(e,n){const i=await Nt.instance.get(n);if(!i)return;const s=i.lessons.map(o=>o.studentId),r=await sg.instance.getStudentLesson(i,s);let a=0;if(i.lessons.forEach(o=>{const l=r.find(u=>u.id==o.studentId);l!==void 0&&(a+=ig.instance.computeSalaryByStudentLesson(e,l))}),a!=i.salary)return i.salary=a,i.lastSalaryUpdate=Dt.now(),await Nt.instance.save(i,i.id),i}};an(cm,"_instance",null);let Bi=cm;const jy=class jy{constructor(){an(this,"today")}static get instance(){return this._instance||(this._instance=new jy),this._instance}calculateToday(){const e=new Date(new Date().toDateString()),n=gt.fromDate(e);this.today={asDate:e,asString:n.toIyyyyMMdd(),asyyyyMMdd:n,asIyyyyMMdd:n.toIyyyyMMdd()}}async getCalendarLessons(e,n,i){const s=[],r=await Bi.instance.getDailyLessonOfSchoolBetweenDate(e,n.date.toIyyyyMMdd(),i.date.toIyyyyMMdd());s.push(...r.flatMap(h=>{const f=gt.fromIyyyyMMdd(h.date).toIyyyyMMdd("-",1);return h.lessons.map(p=>({id:h.id+"_"+p.lessonId,title:p.studentId,start:f+" "+$t.fromITime(p.startTime).format(),end:f+" "+$t.fromITime(p.endTime).format(),calendarId:e.toLowerCase(),data:{date:f,dailyLessonId:h.id}}))}));const a=Wn(Ln("schoolId"),"==",e),o=Wn(Ln("from"),"<=",i.date.toIyyyyMMdd()),l=Wn(Ln("to"),">=",n.date.toIyyyyMMdd()),u=await La.instance.getAll(a,o,l),d=i.date.toDate(),c=n.date.toDate();for(;c<=d&&u.length>0;)u.forEach(h=>{const f=gO(c,h.dayOfWeek);if(f>d||f>gt.fromIyyyyMMdd(h.to).toDate()||f<gt.fromIyyyyMMdd(h.from).toDate())return;const p=gt.fromDate(f).toIyyyyMMdd("-",1);s.find(m=>{var v;return((v=m.data)==null?void 0:v.date)==p})||s.push(...h.schedule.map(m=>({id:Ld(),title:m.studentId,start:p+" "+$t.fromITime(m.startTime).format(),end:p+" "+$t.fromITime(m.endTime).format(),calendarId:e.toLowerCase()})))}),c.setDate(c.getDate()+7);return s}async getGroupedLessons(e,n){const i=[];this.calculateToday();const s=this.applyFilters(e,n);return await this.addLastLessons(s,i,2),this.addUpcomingLessons(s,i,4),this.groupLessonsByMonth(i)}applyFilters(e,n){if(!n||n.length==0)return e;const i=new Set,s={schoolId:e.schoolId,dailyLessons:[],weeklyLessons:[]};for(const r of n)r.type=="weekly"?(s.weeklyLessons=e.weeklyLessons,e.weeklyLessons.forEach(a=>{e.dailyLessons.filter(o=>a.dayOfWeek==qle(o.date)&&a.from<o.date&&o.date<a.to&&!a.exclude.includes(o.date)).forEach(o=>i.add(o))})):r.type=="recovery"?e.dailyLessons.filter(a=>a.lessons.some(o=>{var l;return((l=o.recovery)==null?void 0:l.ref)=="original"})).forEach(a=>i.add(a)):r.type=="moved"||r.type=="daily"&&e.dailyLessons.forEach(a=>i.add(a));return s.dailyLessons=Array.from(i.values()),s}async addLastLessons(e,n,i){const s=e.dailyLessons,r=e.weeklyLessons,a=s.filter(d=>d.date<=this.today.asString);a.sort((d,c)=>c.date.localeCompare(d.date)),a.slice(0,i).reverse().forEach(d=>{n.push(this.createLessonProjection(d,!1))});const l=new Date,u=[...r];for(;n.length<i&&u.length>0;)u.forEach(async(d,c)=>{if(n.length>=i)return;const h=Gle(l,d.dayOfWeek),f=gt.fromDate(h),p=f.toIyyyyMMdd();if(d.from>p||p>d.to){u.splice(c,1);return}d.exclude.includes(p)||n.some(m=>m.date.equals(f))||n.push({date:f,pending:!0,next:!1,lessons:d.schedule})}),l.setDate(l.getDate()-7)}addUpcomingLessons(e,n,i){const s=e.dailyLessons,r=e.weeklyLessons,a=new Date,o=n.length+i,l=s.filter(c=>c.date>this.today.asString).sort((c,h)=>c.date.localeCompare(h.date));let u=0;const d=[...r];for(;(d.length>0||l.length>u)&&n.length<o;){if(d.length==0){const c=l[u];n.push(this.createLessonProjection(c,!1)),u++}d.forEach((c,h)=>{if(n.length>=o)return;const f=gO(a,c.dayOfWeek),p=gt.fromDate(f),m=p.toIyyyyMMdd();if(c.from>m||m>c.to){d.splice(h,1);return}for(;l.length>u&&l[u].date<=m&&n.length<o;){const v=l[u];n.push(this.createLessonProjection(v,!1)),u++}c.exclude.includes(m)||n.length<o&&!n.some(v=>v.date.equals(p))&&n.push({date:p,next:!1,lessons:c.schedule})}),a.setDate(a.getDate()+7)}}groupLessonsByMonth(e){const n=[];let i=!1;return e.sort((s,r)=>s.date.toIyyyyMMdd()>r.date.toIyyyyMMdd()?1:-1).forEach(s=>{const r=s.date.getMonth();let a=n.findIndex(o=>o.month==lO[r]);a==-1&&(n.push({month:lO[r],lessons:[]}),a=n.length-1),!i&&s.date.toDate()>=this.today.asDate&&(i=!0,s.next=!0),n[a].lessons.push(s)}),n}createLessonProjection(e,n){const i=e.date<=this.today.asString&&e.lessons.some(r=>r.status==Ot.NONE),s=e.lessons.some(r=>{var a;return((a=r.recovery)==null?void 0:a.ref)=="original"});return{dailyLessonId:e.id,date:gt.fromIyyyyMMdd(e.date),recovery:s,pending:i,next:n,lessons:e.lessons}}};an(jy,"_instance",null);let ry=jy;var z1;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(z1||(z1={}));const Vve=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Lve=/^(\d{4})-(\d{2})-(\d{2})$/;let Nve=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}},Fve=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const KO=t=>{if(t<0||t>99)throw new Fve(0,99);return String(t).padStart(2,"0")},wU=1.6666666666666667,QO=t=>{if(!Vve.test(t)&&t!=="24:00")throw new Nve(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*wU).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},JO=t=>{const e=Math.floor(t/100),n=Math.round(t%100/wU);return`${KO(e)}:${KO(n)}`},Bve=(t,e)=>(e.name=t,e);class jve{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:z1.CalendarControls}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.datePickerState.selectedDate.value}),Object.defineProperty(this,"getView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.view.value}),Object.defineProperty(this,"getFirstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.firstDayOfWeek.value}),Object.defineProperty(this,"getLocale",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.locale.value}),Object.defineProperty(this,"getViews",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.views.value}),Object.defineProperty(this,"getDayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:()=>({start:JO(this.$app.config.dayBoundaries.value.start),end:JO(this.$app.config.dayBoundaries.value.end)})}),Object.defineProperty(this,"getWeekOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.weekOptions.value}),Object.defineProperty(this,"getCalendars",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.calendars.value}),Object.defineProperty(this,"getMinDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.minDate.value}),Object.defineProperty(this,"getMaxDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.maxDate.value}),Object.defineProperty(this,"getMonthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.monthGridOptions.value}),Object.defineProperty(this,"getRange",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.range.value})}beforeRender(e){this.$app=e}onRender(e){this.$app=e}setDate(e){if(!Lve.test(e))throw new Error("Invalid date. Expected format YYYY-MM-DD");this.$app.datePickerState.selectedDate.value=e}setView(e){if(!this.$app.config.views.value.find(i=>i.name===e))throw new Error(`Invalid view name. Expected one of ${this.$app.config.views.value.map(i=>i.name).join(", ")}`);this.$app.calendarState.setView(e,this.$app.datePickerState.selectedDate.value)}setFirstDayOfWeek(e){this.$app.config.firstDayOfWeek.value=e}setLocale(e){this.$app.config.locale.value=e}setViews(e){const n=this.$app.calendarState.view.value;if(!e.some(s=>s.name===n))throw new Error(`Currently active view is not in given views. Expected to find ${n} in ${e.map(s=>s.name).join(",")}`);this.$app.config.views.value=e}setDayBoundaries(e){this.$app.config.dayBoundaries.value={start:QO(e.start),end:QO(e.end)}}setWeekOptions(e){this.$app.config.weekOptions.value={...this.$app.config.weekOptions.value,...e}}setCalendars(e){this.$app.config.calendars.value=e}setMinDate(e){this.$app.config.minDate.value=e}setMaxDate(e){this.$app.config.maxDate.value=e}setMonthGridOptions(e){this.$app.config.monthGridOptions.value=e}}const xU=()=>Bve("calendarControls",new jve);var W1;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(W1||(W1={}));const $ve=()=>"s"+Math.random().toString(36).substring(2,11),Uve=(t,e)=>function(n){n.target instanceof HTMLElement&&(n.target.closest(`#${e}`)||t.config.plugins.eventModal.close())},Hve=(t,e,n=250)=>{const a=e.bottom-t.top>n,o=e.bottom<t.bottom,l=e.top<t.top;let u=0,d=0,c="0%";t.bottom-e.top>n&&!l?u=e.top:a&&o?u=e.bottom-n:a&&!o?u=t.bottom-n:u=t.top,t.right-e.right>410?(d=e.right+10,c="-10%"):e.left-t.left>410?(d=e.left-410,c="10%"):d=t.left,document.documentElement.style.setProperty("--sx-event-modal-animation-start",c),document.documentElement.style.setProperty("--sx-event-modal-top",`${u}px`),document.documentElement.style.setProperty("--sx-event-modal-left",`${d}px`)};function zve({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("path",{d:"M12 8V12L15 15",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),J("circle",{cx:"12",cy:"12",r:"9",stroke:t,"stroke-width":"2"})]})]})})}function Wve({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:t,"stroke-width":"2"}),J("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:t,"stroke-width":"2"})]})]})})}const Yve=t=>t.reduce((e,n,i)=>i===0?n:i===t.length-1?`${e} & ${n}`:`${e}, ${n}`,"");function Gve({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("g",{"clip-path":"url(#clip0_429_11046)",children:[J("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:t,"stroke-width":"2","stroke-linejoin":"round"}),J("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:t,"stroke-width":"2","stroke-linejoin":"round"})]}),J("defs",{children:J("clipPath",{id:"clip0_429_11046",children:J("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}function qve({strokeColor:t}){return J(Vt,{children:J("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[J("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),J("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),J("g",{id:"SVGRepo_iconCarrier",children:[J("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3",stroke:t,"stroke-width":"2"}),J("path",{d:"M16 10L8 10",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),J("path",{d:"M16 14L8 14",stroke:t,"stroke-width":"2","stroke-linecap":"round"})]})]})})}const SU=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}},gu=(t,e)=>{const{year:n,month:i,date:s}=SU(t);return new Date(n,i,s).toLocaleDateString(e,{day:"numeric",month:"long",year:"numeric"})},bf=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=SU(t);return new Date(n,i,s,r,a).toLocaleTimeString(e,{hour:"numeric",minute:"numeric"})},Xve=(t,e,n="–")=>{const i={start:t.start,end:t.end};return t._isSingleDayFullDay?gu(i.start,e):t._isMultiDayFullDay?`${gu(i.start,e)} ${n} ${gu(i.end,e)}`:t._isSingleDayTimed&&i.start!==i.end?`${gu(i.start,e)} <span aria-hidden="true">⋅</span> ${bf(i.start,e)} ${n} ${bf(i.end,e)}`:t._isSingleDayTimed&&t.start===t.end?`${gu(i.start,e)}, ${bf(i.start,e)}`:`${gu(i.start,e)}, ${bf(i.start,e)} ${n} ${gu(i.end,e)}, ${bf(i.end,e)}`},Kve=t=>{const e="var(--sx-internal-color-text)",n="var(--sx-color-neutral-variant)",i=jt(t.calendarState.isDark.value?n:e);return Oo(()=>{t.calendarState.isDark.value?i.value=n:i.value=e}),i},Qve=t=>{if(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!i}return!0},kU=(t,e=[])=>!t||t===document.body||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(e.push(window),e):(Qve(t)&&e.push(t),kU(t.assignedSlot?t.assignedSlot.parentNode:t.parentNode,e)),Jve=t=>{setTimeout(()=>{t()})};function Zve({$app:t}){const[e]=At($ve()),{value:n}=t.config.plugins.eventModal.calendarEvent,[i,s]=At(!1),r=t.config._customComponentFns.eventModal,[a,o]=At("sx__event-modal"),l=()=>{var c,h,f;Hve((c=t.elements.calendarWrapper)===null||c===void 0?void 0:c.getBoundingClientRect(),(h=t.config.plugins.eventModal)===null||h===void 0?void 0:h.calendarEventDOMRect.value,((f=t.elements.calendarWrapper)===null||f===void 0?void 0:f.querySelector(".sx__event-modal")).clientHeight)},u=()=>{var c,h;t.config.plugins.eventModal.calendarEventDOMRect.value=(h=(c=t.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)===null||h===void 0?void 0:h.getBoundingClientRect(),l()};kn(()=>{var c;r?r(document.querySelector(`[data-ccid=${e}]`),{calendarEvent:n==null?void 0:n._getExternalEvent()}):o(a.concat(" sx__event-modal-default")),Jve(()=>{l()}),s(!0);const h=Uve(t,e),f=kU(((c=t.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)||null);return f.forEach(p=>p.addEventListener("scroll",u)),document.addEventListener("click",h),()=>{document.removeEventListener("click",h),f.forEach(p=>p.removeEventListener("scroll",u))}},[]);const d=Kve(t);return J(Vt,{children:n&&J("div",{id:e,tabIndex:0,"data-ccid":e,className:`${a}${i?" is-open":""}`,children:!r&&J(Vt,{children:[J("div",{className:"sx__has-icon sx__event-modal__title",children:[J("div",{style:{backgroundColor:`var(--sx-color-${n._color}-container)`},className:"sx__event-modal__color-icon sx__event-icon"}),n.title]}),J("div",{className:"sx__has-icon sx__event-modal__time",children:[J(zve,{strokeColor:d.value}),J("div",{dangerouslySetInnerHTML:{__html:Xve(n,t.config.locale.value)}})]}),n.people&&n.people.length&&J("div",{className:"sx__has-icon sx__event-modal__people",children:[J(Wve,{strokeColor:d.value}),Yve(n.people)]}),n.location&&J("div",{className:"sx__has-icon sx__event-modal__location",children:[J(Gve,{strokeColor:d.value}),n.location]}),n.description&&J("div",{className:"sx__has-icon sx__event-modal__description",children:[J(qve,{strokeColor:d.value}),n.description]})]})})})}const e_e=(t,e)=>(e.name=t,e);class t_e{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:W1.EventModal}),Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:jt(null)}),Object.defineProperty(this,"calendarEventDOMRect",{enumerable:!0,configurable:!0,writable:!0,value:jt(null)}),Object.defineProperty(this,"calendarEventElement",{enumerable:!0,configurable:!0,writable:!0,value:jt(null)}),Object.defineProperty(this,"ComponentFn",{enumerable:!0,configurable:!0,writable:!0,value:Zve})}setCalendarEvent(e,n){JS(()=>{this.calendarEvent.value=e,this.calendarEventDOMRect.value=n})}close(){JS(()=>{this.calendarEvent.value=null,this.calendarEventDOMRect.value=null})}}const TU=()=>e_e("eventModal",new t_e),n_e=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,nd=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Qp=/^(\d{4})-(\d{2})-(\d{2})$/,ZO={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let i_e=class extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}};const s_e=t=>{if(!ZO.DATE_TIME_STRING.test(t)&&!ZO.DATE_STRING.test(t))throw new i_e(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))};let r_e=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const eM=t=>{if(t<0||t>99)throw new r_e(0,99);return String(t).padStart(2,"0")},a_e=t=>`${t.getFullYear()}-${eM(t.getMonth()+1)}-${eM(t.getDate())}`;let o_e=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}};const l_e=1.6666666666666667,tM=t=>{if(!n_e.test(t)&&t!=="24:00")throw new o_e(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*l_e).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},id=t=>t.slice(0,10),nM=t=>t.slice(11);var Y1;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(Y1||(Y1={}));Y1.MONDAY;const u_e="primary";let c_e=class{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},h={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return nd.test(this.start)&&nd.test(this.end)&&id(this.start)===id(this.end)}get _isSingleDayFullDay(){return Qp.test(this.start)&&Qp.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return nd.test(this.start)&&nd.test(this.end)&&id(this.start)!==id(this.end)}get _isMultiDayFullDay(){return Qp.test(this.start)&&Qp.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!nd.test(this.start)||!nd.test(this.end))return!1;const e=id(this.start),n=id(this.end),i=a_e(new Date(s_e(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=tM(nM(this.start)),a=tM(nM(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:u_e}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},d_e=class{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new c_e(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}};const rx=(t,e)=>{const{id:n,start:i,end:s,title:r,description:a,location:o,people:l,_options:u,...d}=t;return new d_e(e,n,i,s).withTitle(r).withDescription(a).withLocation(o).withPeople(l).withCalendarId(t.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(t._customContent).build()};class h_e{constructor(e){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e})}set(e){this.$app.calendarEvents.list.value=e.map(n=>rx(n,this.$app.config))}add(e){const n=rx(e,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(e){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===e))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(e=>e._getExternalEvent())}remove(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,rx(e,this.$app.config)),this.$app.calendarEvents.list.value=i}}const f_e=(t,e)=>(e.name=t,e);class m_e{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EventsServicePlugin"}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventsFacade",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}beforeRender(e){this.$app=e,this.eventsFacade=new h_e(e)}update(e){this.eventsFacade.update(e)}add(e){this.eventsFacade.add(e)}remove(e){this.eventsFacade.remove(e)}get(e){return this.eventsFacade.get(e)}getAll(){return this.eventsFacade.getAll()}set(e){this.eventsFacade.set(e)}setBackgroundEvents(e){this.$app.calendarEvents.backgroundEvents.value=e}}const PU=()=>f_e("eventsService",new m_e),g_e=(t,e)=>(n,i)=>{const s={Component:Di(e,i),wrapperElement:n};t(s)};class p_e extends Error{constructor(e){super(e),this.name="[Schedule-X reactivity error]"}}const CU=St({name:"ScheduleXCalendar",props:{calendarApp:{type:Object,required:!0},customComponents:{type:Object,default:()=>({})}},data(){return{elId:"sx"+Math.random().toString(36).substr(2,9),customComponentsMeta:[]}},mounted(){if(Bu(this.calendarApp))throw new p_e("calendarApp cannot be saved in a ref. Since this causes deep reactivity, it destroys the calendars internal reactivity. Save in a normal const or shallowRef");const t={...this.customComponents,...this.$slots};for(const[e,n]of Object.entries(t))this.calendarApp._setCustomComponentFn(e,g_e(this.setCustomComponentMeta,n));this.calendarApp.render(document.getElementById(this.elId))},methods:{setCustomComponentMeta(t){if(!(t.wrapperElement instanceof HTMLElement))return;const e=({wrapperElement:r})=>r instanceof HTMLElement,n=[...this.customComponentsMeta.filter(e)],i=t.wrapperElement.dataset.ccid,s=n.find(({wrapperElement:r})=>r.dataset.ccid===i);s&&n.splice(n.indexOf(s),1),this.customComponentsMeta=[...n,t]}},render(){const t=this.customComponentsMeta.map(({Component:e,wrapperElement:n})=>Di(rL,{to:n},e));return Di("div",{id:this.elId,class:"sx-vue-calendar-wrapper"},Di(Pe,{},t))}});var OC,lt,EU,IU,Tu,iM,DU,G1,AU,q1={},RU=[],v_e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Dw=Array.isArray;function yl(t,e){for(var n in e)t[n]=e[n];return t}function OU(t){var e=t.parentNode;e&&e.removeChild(t)}function sM(t,e,n){var i,s,r,a={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?OC.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return Uv(t,a,i,s,null)}function Uv(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++EU,__i:-1,__u:0};return s==null&&lt.vnode!=null&&lt.vnode(r),r}function ag(t){return t.children}function Na(t,e){this.props=t,this.context=e}function uh(t,e){if(e==null)return t.__?uh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?uh(t):null}function MU(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return MU(t)}}function X1(t){(!t.__d&&(t.__d=!0)&&Tu.push(t)&&!ay.__r++||iM!==lt.debounceRendering)&&((iM=lt.debounceRendering)||DU)(ay)}function ay(){var t,e,n,i,s,r,a,o,l;for(Tu.sort(G1);t=Tu.shift();)t.__d&&(e=Tu.length,i=void 0,r=(s=(n=t).__v).__e,o=[],l=[],(a=n.__P)&&((i=yl({},s)).__v=s.__v+1,lt.vnode&&lt.vnode(i),NU(a,i,s,n.__n,a.ownerSVGElement!==void 0,32&s.__u?[r]:null,o,r??uh(s),!!(32&s.__u),l),i.__.__k[i.__i]=i,b_e(o,i,l),i.__e!=r&&MU(i)),Tu.length>e&&Tu.sort(G1));ay.__r=0}function VU(t,e,n,i,s,r,a,o,l,u,d){var c,h,f,p,m,v=i&&i.__k||RU,_=e.length;for(n.__d=l,__e(n,e,v),l=n.__d,c=0;c<_;c++)(f=n.__k[c])!=null&&typeof f!="boolean"&&typeof f!="function"&&(h=f.__i===-1?q1:v[f.__i]||q1,f.__i=c,NU(t,f,h,s,r,a,o,l,u,d),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&MC(h.ref,null,f),d.push(f.ref,f.__c||p,f)),m==null&&p!=null&&(m=p),65536&f.__u||h.__k===f.__k?l=LU(f,l,t):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:p&&(l=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=m}function __e(t,e,n){var i,s,r,a,o,l=e.length,u=n.length,d=u,c=0;for(t.__k=[],i=0;i<l;i++)(s=t.__k[i]=(s=e[i])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Uv(null,s,null,null,s):Dw(s)?Uv(ag,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Uv(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=t,s.__b=t.__b+1,o=y_e(s,n,a=i+c,d),s.__i=o,r=null,o!==-1&&(d--,(r=n[o])&&(r.__u|=131072)),r==null||r.__v===null?(o==-1&&c--,typeof s.type!="function"&&(s.__u|=65536)):o!==a&&(o===a+1?c++:o>a?d>l-a?c+=o-a:c--:c=o<a&&o==a-1?o-a:0,o!==i+c&&(s.__u|=65536))):(r=n[i])&&r.key==null&&r.__e&&(r.__e==t.__d&&(t.__d=uh(r)),K1(r,r,!1),n[i]=null,d--);if(d)for(i=0;i<u;i++)(r=n[i])!=null&&!(131072&r.__u)&&(r.__e==t.__d&&(t.__d=uh(r)),K1(r,r))}function LU(t,e,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=LU(i[s],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function oy(t,e){return e=e||[],t==null||typeof t=="boolean"||(Dw(t)?t.some(function(n){oy(n,e)}):e.push(t)),e}function y_e(t,e,n,i){var s=t.key,r=t.type,a=n-1,o=n+1,l=e[n];if(l===null||l&&s==l.key&&r===l.type)return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||o<e.length;){if(a>=0){if((l=e[a])&&!(131072&l.__u)&&s==l.key&&r===l.type)return a;a--}if(o<e.length){if((l=e[o])&&!(131072&l.__u)&&s==l.key&&r===l.type)return o;o++}}return-1}function rM(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||v_e.test(e)?n:n+"px"}function Jp(t,e,n,i,s){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||rM(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||rM(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=Date.now(),t.addEventListener(e,r?oM:aM,r)):t.removeEventListener(e,r?oM:aM,r);else{if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function aM(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(lt.event?lt.event(t):t)}function oM(t){return this.l[t.type+!0](lt.event?lt.event(t):t)}function NU(t,e,n,i,s,r,a,o,l,u){var d,c,h,f,p,m,v,_,b,x,k,I,E,T,S,w=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),r=[o=e.__e=n.__e]),(d=lt.__b)&&d(e);e:if(typeof w=="function")try{if(_=e.props,b=(d=w.contextType)&&i[d.__c],x=d?b?b.props.value:d.__:i,n.__c?v=(c=e.__c=n.__c).__=c.__E:("prototype"in w&&w.prototype.render?e.__c=c=new w(_,x):(e.__c=c=new Na(_,x),c.constructor=w,c.render=x_e),b&&b.sub(c),c.props=_,c.state||(c.state={}),c.context=x,c.__n=i,h=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),w.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=yl({},c.__s)),yl(c.__s,w.getDerivedStateFromProps(_,c.__s))),f=c.props,p=c.state,c.__v=e,h)w.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w.getDerivedStateFromProps==null&&_!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,x),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(C){C&&(C.__=e)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,x),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,p,m)})}if(c.context=x,c.props=_,c.__P=t,c.__e=!1,I=lt.__r,E=0,"prototype"in w&&w.prototype.render){for(c.state=c.__s,c.__d=!1,I&&I(e),d=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,I&&I(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(i=yl(yl({},i),c.getChildContext())),h||c.getSnapshotBeforeUpdate==null||(m=c.getSnapshotBeforeUpdate(f,p)),VU(t,Dw(S=d!=null&&d.type===ag&&d.key==null?d.props.children:d)?S:[S],e,n,i,s,r,a,o,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),v&&(c.__E=c.__=null)}catch(C){e.__v=null,l||r!=null?(e.__e=o,e.__u|=l?160:32,r[r.indexOf(o)]=null):(e.__e=n.__e,e.__k=n.__k),lt.__e(C,e,n)}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=w_e(n.__e,e,n,i,s,r,a,l,u);(d=lt.diffed)&&d(e)}function b_e(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)MC(n[i],n[++i],n[++i]);lt.__c&&lt.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){lt.__e(r,s.__v)}})}function w_e(t,e,n,i,s,r,a,o,l){var u,d,c,h,f,p,m,v=n.props,_=e.props,b=e.type;if(b==="svg"&&(s=!0),r!=null){for(u=0;u<r.length;u++)if((f=r[u])&&"setAttribute"in f==!!b&&(b?f.localName===b:f.nodeType===3)){t=f,r[u]=null;break}}if(t==null){if(b===null)return document.createTextNode(_);t=s?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),r=null,o=!1}if(b===null)v===_||o&&t.data===_||(t.data=_);else{if(r=r&&OC.call(t.childNodes),v=n.props||q1,!o&&r!=null)for(v={},u=0;u<t.attributes.length;u++)v[(f=t.attributes[u]).name]=f.value;for(u in v)f=v[u],u=="children"||(u=="dangerouslySetInnerHTML"?c=f:u==="key"||u in _||Jp(t,u,null,f,s));for(u in _)f=_[u],u=="children"?h=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?p=f:u=="checked"?m=f:u==="key"||o&&typeof f!="function"||v[u]===f||Jp(t,u,f,v[u],s);if(d)o||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),VU(t,Dw(h)?h:[h],e,n,i,s&&b!=="foreignObject",r,a,r?r[0]:n.__k&&uh(n,0),o,l),r!=null)for(u=r.length;u--;)r[u]!=null&&OU(r[u]);o||(u="value",p!==void 0&&(p!==t[u]||b==="progress"&&!p||b==="option"&&p!==v[u])&&Jp(t,u,p,v[u],!1),u="checked",m!==void 0&&m!==t[u]&&Jp(t,u,m,v[u],!1))}return t}function MC(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){lt.__e(i,n)}}function K1(t,e,n){var i,s;if(lt.unmount&&lt.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||MC(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){lt.__e(r,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&K1(i[s],e,n||typeof t.type!="function");n||t.__e==null||OU(t.__e),t.__=t.__e=t.__d=void 0}function x_e(t,e,n){return this.constructor(t,n)}function S_e(t,e){var n={__c:e="__cC"+AU++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(function(o){o.__e=!0,X1(o)})},this.sub=function(a){s.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),o&&o.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}OC=RU.slice,lt={__e:function(t,e,n,i){for(var s,r,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),a=s.__d),a)return s.__E=s}catch(o){t=o}throw t}},EU=0,IU=function(t){return t!=null&&t.constructor==null},Na.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=yl({},this.state),typeof t=="function"&&(t=t(yl({},n),this.props)),t&&yl(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),X1(this))},Na.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),X1(this))},Na.prototype.render=ag,Tu=[],DU=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,G1=function(t,e){return t.__v.__b-e.__v.__b},ay.__r=0,AU=0;var Q1,ur,ax,lM,uM=0,FU=[],Hv=[],cM=lt.__b,dM=lt.__r,hM=lt.diffed,fM=lt.__c,mM=lt.unmount;function k_e(t,e){lt.__h&&lt.__h(ur,t,uM||e),uM=0;var n=ur.__H||(ur.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Hv}),n.__[t]}function BU(t,e){var n=k_e(Q1++,7);return C_e(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function T_e(){for(var t;t=FU.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(zv),t.__H.__h.forEach(J1),t.__H.__h=[]}catch(e){t.__H.__h=[],lt.__e(e,t.__v)}}lt.__b=function(t){ur=null,cM&&cM(t)},lt.__r=function(t){dM&&dM(t),Q1=0;var e=(ur=t.__c).__H;e&&(ax===ur?(e.__h=[],ur.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Hv,n.__N=n.i=void 0})):(e.__h.forEach(zv),e.__h.forEach(J1),e.__h=[],Q1=0)),ax=ur},lt.diffed=function(t){hM&&hM(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(FU.push(e)!==1&&lM===lt.requestAnimationFrame||((lM=lt.requestAnimationFrame)||P_e)(T_e)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Hv&&(n.__=n.__V),n.i=void 0,n.__V=Hv})),ax=ur=null},lt.__c=function(t,e){e.some(function(n){try{n.__h.forEach(zv),n.__h=n.__h.filter(function(i){return!i.__||J1(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],lt.__e(i,n.__v)}}),fM&&fM(t,e)},lt.unmount=function(t){mM&&mM(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{zv(i)}catch(s){e=s}}),n.__H=void 0,e&&lt.__e(e,n.__v))};var gM=typeof requestAnimationFrame=="function";function P_e(t){var e,n=function(){clearTimeout(i),gM&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);gM&&(e=requestAnimationFrame(n))}function zv(t){var e=ur,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ur=e}function J1(t){var e=ur;t.__c=t.__(),ur=e}function C_e(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function E_e(t,e){for(var n in e)t[n]=e[n];return t}function pM(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function vM(t){this.props=t}(vM.prototype=new Na).isPureReactComponent=!0,vM.prototype.shouldComponentUpdate=function(t,e){return pM(this.props,t)||pM(this.state,e)};var _M=lt.__b;lt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),_M&&_M(t)};var I_e=lt.__e;lt.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}I_e(t,e,n,i)};var yM=lt.unmount;function jU(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=E_e({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return jU(i,e,n)})),t}function $U(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return $U(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function ox(){this.__u=0,this.t=null,this.__b=null}function UU(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Zp(){this.u=null,this.o=null}lt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),yM&&yM(t)},(ox.prototype=new Na).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var s=UU(i.__v),r=!1,a=function(){r||(r=!0,n.__R=null,s?s(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=$U(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},ox.prototype.componentWillUnmount=function(){this.t=[]},ox.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=jU(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&sM(ag,null,t.fallback);return s&&(s.__u&=-33),[sM(ag,null,e.__a?null:t.children),s]};var bM=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(Zp.prototype=new Na).__a=function(t){var e=this,n=UU(e.__v),i=e.o.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),bM(e,t,i)):s()};n?n(r):r()}},Zp.prototype.render=function(t){this.u=null,this.o=new Map;var e=oy(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Zp.prototype.componentDidUpdate=Zp.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){bM(t,n,e)})};var D_e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,A_e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,R_e=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,O_e=/[A-Z0-9]/g,M_e=typeof document<"u",V_e=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};Na.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Na.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var wM=lt.event;function L_e(){}function N_e(){return this.cancelBubble}function F_e(){return this.defaultPrevented}lt.event=function(t){return wM&&(t=wM(t)),t.persist=L_e,t.isPropagationStopped=N_e,t.isDefaultPrevented=F_e,t.nativeEvent=t};var B_e={enumerable:!1,configurable:!0,get:function(){return this.class}},xM=lt.vnode;lt.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,s={};for(var r in n){var a=n[r];if(!(r==="value"&&"defaultValue"in n&&a==null||M_e&&r==="children"&&i==="noscript"||r==="class"||r==="className")){var o=r.toLowerCase();r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&a===!0?a="":o==="ondoubleclick"?r="ondblclick":o!=="onchange"||i!=="input"&&i!=="textarea"||V_e(n.type)?o==="onfocus"?r="onfocusin":o==="onblur"?r="onfocusout":R_e.test(r)?r=o:i.indexOf("-")===-1&&A_e.test(r)?r=r.replace(O_e,"-$&").toLowerCase():a===null&&(a=void 0):o=r="oninput",o==="oninput"&&s[r=o]&&(r="oninputCapture"),s[r]=a}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=oy(n.children).forEach(function(l){l.props.selected=s.value.indexOf(l.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=oy(n.children).forEach(function(l){l.props.selected=s.multiple?s.defaultValue.indexOf(l.props.value)!=-1:s.defaultValue==l.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",B_e)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=D_e,xM&&xM(t)};var SM=lt.__r;lt.__r=function(t){SM&&SM(t),t.__c};var kM=lt.diffed;lt.diffed=function(t){kM&&kM(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};function Aw(){throw new Error("Cycle detected")}var j_e=Symbol.for("preact-signals");function VC(){if(Nd>1)Nd--;else{for(var t,e=!1;sm!==void 0;){var n=sm;for(sm=void 0,Z1++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&WU(n))try{n.c()}catch(s){e||(t=s,e=!0)}n=i}}if(Z1=0,Nd--,e)throw t}}var ni=void 0,sm=void 0,Nd=0,Z1=0,ly=0;function HU(t){if(ni!==void 0){var e=t.n;if(e===void 0||e.t!==ni)return e={i:0,S:t,p:ni.s,n:void 0,t:ni,e:void 0,x:void 0,r:e},ni.s!==void 0&&(ni.s.n=e),ni.s=e,t.n=e,32&ni.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=ni.s,e.n=void 0,ni.s.n=e,ni.s=e),e}}function us(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}us.prototype.brand=j_e;us.prototype.h=function(){return!0};us.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};us.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};us.prototype.subscribe=function(t){var e=this;return NC(function(){var n=e.value,i=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=i}})};us.prototype.valueOf=function(){return this.value};us.prototype.toString=function(){return this.value+""};us.prototype.toJSON=function(){return this.value};us.prototype.peek=function(){return this.v};Object.defineProperty(us.prototype,"value",{get:function(){var t=HU(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(ni instanceof ru&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){Z1>100&&Aw(),this.v=t,this.i++,ly++,Nd++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{VC()}}}});function zU(t){return new us(t)}function WU(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function YU(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function GU(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function ru(t){us.call(this,void 0),this.x=t,this.s=void 0,this.g=ly-1,this.f=4}(ru.prototype=new us).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ly))return!0;if(this.g=ly,this.f|=1,this.i>0&&!WU(this))return this.f&=-2,!0;var t=ni;try{YU(this),ni=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return ni=t,GU(this),this.f&=-2,!0};ru.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}us.prototype.S.call(this,t)};ru.prototype.U=function(t){if(this.t!==void 0&&(us.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};ru.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};ru.prototype.peek=function(){if(this.h()||Aw(),16&this.f)throw this.v;return this.v};Object.defineProperty(ru.prototype,"value",{get:function(){1&this.f&&Aw();var t=HU(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function $_e(t){return new ru(t)}function qU(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Nd++;var n=ni;ni=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,LC(t),i}finally{ni=n,VC()}}}function LC(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,qU(t)}function U_e(t){if(ni!==this)throw new Error("Out-of-order effect");GU(this),ni=t,this.f&=-2,8&this.f&&LC(this),VC()}function op(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}op.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};op.prototype.S=function(){1&this.f&&Aw(),this.f|=1,this.f&=-9,qU(this),YU(this),Nd++;var t=ni;return ni=this,U_e.bind(this,t)};op.prototype.N=function(){2&this.f||(this.f|=2,this.o=sm,sm=this)};op.prototype.d=function(){this.f|=8,1&this.f||LC(this)};function NC(t){var e=new op(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var lx;function qh(t,e){lt[t]=e.bind(null,lt[t]||function(){})}function uy(t){lx&&lx(),lx=t&&t.S()}function XU(t){var e=this,n=t.data,i=z_e(n);i.value=n;var s=BU(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){var a;!IU(s.peek())&&((a=e.base)==null?void 0:a.nodeType)===3?e.base.data=s.peek():(e.__$f|=1,e.setState({}))},$_e(function(){var a=i.value.value;return a===0?0:a===!0?"":a||""})},[]);return s.value}XU.displayName="_st";Object.defineProperties(us.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:XU},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});qh("__b",function(t,e){if(typeof e.type=="string"){var n,i=e.props;for(var s in i)if(s!=="children"){var r=i[s];r instanceof us&&(n||(e.__np=n={}),n[s]=r,i[s]=r.peek())}}t(e)});qh("__r",function(t,e){uy();var n,i=e.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(s){var r;return NC(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),uy(n),t(e)});qh("__e",function(t,e,n,i){uy(),t(e,n,i)});qh("diffed",function(t,e){uy();var n;if(typeof e.type=="string"&&(n=e.__e)){var i=e.__np,s=e.props;if(i){var r=n.U;if(r)for(var a in r){var o=r[a];o!==void 0&&!(a in i)&&(o.d(),r[a]=void 0)}else n.U=r={};for(var l in i){var u=r[l],d=i[l];u===void 0?(u=H_e(n,l,d,s),r[l]=u):u.o(d,s)}}}t(e)});function H_e(t,e,n,i){var s=e in t&&t.ownerSVGElement===void 0,r=zU(n);return{o:function(a,o){r.value=a,i=o},d:NC(function(){var a=r.value.value;i[e]!==a&&(i[e]=a,s?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}qh("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var s in i){var r=i[s];r&&r.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});qh("__h",function(t,e,n,i){(i<3||i===9)&&(e.__$f|=2),t(e,n,i)});Na.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in e)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var r in this.props)if(!(r in t))return!0;return!1};function z_e(t){return BU(function(){return zU(t)},[])}S_e({});var TM;(function(t){t.MONTH_DAYS="month-days",t.YEARS="years"})(TM||(TM={}));var ek;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(ek||(ek={}));ek.MONDAY;var PM;(function(t){t[t.JANUARY=0]="JANUARY",t[t.FEBRUARY=1]="FEBRUARY",t[t.MARCH=2]="MARCH",t[t.APRIL=3]="APRIL",t[t.MAY=4]="MAY",t[t.JUNE=5]="JUNE",t[t.JULY=6]="JULY",t[t.AUGUST=7]="AUGUST",t[t.SEPTEMBER=8]="SEPTEMBER",t[t.OCTOBER=9]="OCTOBER",t[t.NOVEMBER=10]="NOVEMBER",t[t.DECEMBER=11]="DECEMBER"})(PM||(PM={}));var Pu;(function(t){t.SLASH="/",t.DASH="-",t.PERIOD="."})(Pu||(Pu={}));var Cu;(function(t){t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"})(Cu||(Cu={}));Pu.SLASH,Cu.MDY,Pu.SLASH,Cu.DMY,Pu.SLASH,Cu.YMD,Pu.PERIOD,Cu.DMY,Pu.DASH,Cu.YMD;var CM;(function(t){t.TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end"})(CM||(CM={}));const W_e=St({__name:"CalendarView",setup(t){const e=Wg(),n=Ac(),i=O(()=>e.query.filters),s=Gg(),r=G([]),a=[],o=G(!1),l=G(!1),u=G([]),d=G("00:00"),c=G("24:00"),h=PU(),f=TU(),p=xU(),m=N$({locale:"it-IT",views:[J$(),ele(),ule(),wle()],defaultView:Zoe.name,events:[],plugins:[h,f,p],callbacks:{beforeRender(w){const C=w.calendarState.range.value;T(C)},onRangeUpdate(w){T(w)}}});be(u,()=>x()),be(i,()=>E(),{immediate:!0}),be(r,()=>E()),be(s.global.name,_);const v=O(()=>d.value=="08:00");function _(){m&&(s.global.name.value=="myCustomDarkTheme"?m.setTheme("dark"):m.setTheme("light"))}function b(){v.value?(d.value="00:00",c.value="24:00"):(d.value="08:00",c.value="22:00"),p.setDayBoundaries({start:d.value,end:c.value});const w=p.getWeekOptions(),C=parseInt(c.value.split(":")[0])-parseInt(d.value.split(":")[0]);p.setWeekOptions({...w,gridHeight:Math.max(1e3*C/24,400)})}function x(){u.value.length==0?n.push("/calendar"):n.push("/calendar?filters="+u.value.join(","))}async function k(w){f.close(),n.push(`/lesson/${w}`)}function I(){m&&(console.log(a),a.forEach(w=>{w._options||(w._options={}),h.get(w.id)?h.update(w):h.add(w)}),h.getAll().forEach(w=>{a.findIndex(P=>P.id==w.id)==-1&&h.remove(w.id)}))}function E(){var w;u.value=((w=i.value)==null?void 0:w.split(","))??r.value.map(C=>C.id),T()}async function T(w){if(w??(w=p.getRange()),!w)return;a.length=0,o.value=!0;const C={date:gt.fromDate(new Date(w.start)),time:$t.fromHHMM(w.start.split(" ")[1])},P={date:gt.fromDate(new Date(w.end)),time:$t.fromHHMM(w.end.split(" ")[1])};for await(const D of u.value){const A=await ry.instance.getCalendarLessons(D,C,P),F=Array.from(new Set(A.map(H=>H.title).filter(Boolean))),L=await Or.instance.getStudentsOfSchoolWithIds(D,F);A.forEach(H=>{const X=L.find(z=>z.id==H.title);X&&(H.title=X.name+" "+X.surname)}),a.push(...A)}I(),o.value=!1}async function S(){l.value=!0,r.value=await Lr.instance.getAll();const w=s4(...r.value);p.setCalendars(w),l.value=!1}return kt(async()=>{b(),await S()}),(w,C)=>{const P=j("v-select"),D=j("v-col"),A=j("v-icon"),F=j("v-fab-transition"),L=j("v-btn"),H=j("v-row"),X=j("v-progress-linear"),z=j("v-spacer"),K=j("v-card-actions"),Y=j("v-card"),te=j("v-card-text");return xe(),Oe(Y,{class:"pa-3",title:"Calendario delle lezioni",elevation:"0"},{prepend:M(()=>[g(sp)]),default:M(()=>[g(te,null,{default:M(()=>[g(H,{class:"mt-1 mb-3 justify-center align-center"},{default:M(()=>[g(D,{cols:"12",md:"8"},{default:M(()=>[g(P,{variant:"outlined",chips:"",label:"Scuole",modelValue:u.value,"onUpdate:modelValue":C[0]||(C[0]=Q=>u.value=Q),items:r.value,multiple:"","item-title":"name","item-value":"id",loading:l.value,"hide-details":""},null,8,["modelValue","items","loading"])]),_:1}),g(D,{cols:"auto"},{default:M(()=>[g(L,{onClick:b,"hide-details":""},{default:M(()=>[g(F,null,{default:M(()=>[v.value?(xe(),Oe(A,{key:1},{default:M(()=>C[2]||(C[2]=[Ce("mdi-arrow-expand-vertical")])),_:1})):(xe(),Oe(A,{key:0},{default:M(()=>C[1]||(C[1]=[Ce("mdi-content-cut")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),g(X,{active:o.value,color:"primary",indeterminate:""},null,8,["active"]),g(oe(CU),{"calendar-app":oe(m)},{eventModal:M(({calendarEvent:Q})=>[g(Y,{elevation:"3",title:Q.title,text:Q.description},{subtitle:M(()=>[g(A,null,{default:M(()=>C[3]||(C[3]=[Ce("mdi-clock-outline")])),_:1}),Ce(" "+ct(oe(Ym)(Q.start.split(" ")[0])+" ⋅ "+Q.start.split(" ")[1]+" - "+Q.end.split(" ")[1]),1)]),default:M(()=>[g(K,null,{default:M(()=>[g(z),g(L,{text:"vai",onClick:ee=>k(Q.data.dailyLessonId)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title","text"])]),_:1},8,["calendar-app"])]),_:1})]),_:1})}}});var tk;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(tk||(tk={}));class Y_e extends Error{constructor(e){super(`Invalid time string: ${e}`)}}const G_e=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,sd=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,ev=/^(\d{4})-(\d{2})-(\d{2})$/,EM={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};class q_e extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}}const KU=t=>{if(!EM.DATE_TIME_STRING.test(t)&&!EM.DATE_STRING.test(t))throw new q_e(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))},nk=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}};class X_e extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}}const cy=t=>{if(t<0||t>99)throw new X_e(0,99);return String(t).padStart(2,"0")},FC=t=>`${t.getFullYear()}-${cy(t.getMonth()+1)}-${cy(t.getDate())}`,K_e=t=>`${cy(t.getHours())}:${cy(t.getMinutes())}`,QU=t=>`${FC(t)} ${K_e(t)}`,JU=1.6666666666666667,IM=t=>{if(!G_e.test(t)&&t!=="24:00")throw new Y_e(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*JU).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},DM=(t,e)=>{const n=e/JU,i=KU(t);return i.setMinutes(i.getMinutes()+n),QU(i)},Da=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=nk(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);return l.setDate(l.getDate()+e),o?QU(l):FC(l)},Gs=t=>t.slice(0,10),ik=t=>t.slice(11),AM=(t,e)=>{const n=ik(t);return`${e} ${n}`},ZU=t=>"time-grid-event-copy-"+t,Q_e=(t,e,n)=>{var i;(i=t.config.plugins.eventRecurrence)===null||i===void 0||i.updateRecurrenceDND(e.id,n,e.start)},J_e=(t,e)=>{const n=t.calendarEvents.list.value.find(i=>i.id===e.id);n&&(n.start=e.start,n.end=e.end,t.calendarEvents.list.value=[...t.calendarEvents.list.value])},BC=(t,e,n)=>{"rrule"in e._getForeignProperties()&&t.config.plugins.eventRecurrence?Q_e(t,e,n):J_e(t,e),t.config.callbacks.onEventUpdate&&t.config.callbacks.onEventUpdate(e._getExternalEvent())},Z_e=t=>"touches"in t&&typeof t.touches=="object",e6=t=>{const e=Z_e(t)?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},eye=t=>t.config.timePointsPerDay/t.config.weekOptions.value.gridHeight,jC=(t,e,n,i,s)=>{const r=t.config.callbacks.onBeforeEventUpdate;if(r){const a=e._getExternalEvent();a.start=n,a.end=i;const o=e._getExternalEvent();if(!r(a,o,t))return s==null||s(void 0),!0}return!1};class tye{constructor(e,n,i,s,r,a){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"eventCoordinates",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"dayBoundariesDateTime",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"CHANGE_THRESHOLD_IN_TIME_POINTS",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastIntervalDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const{clientX:l,clientY:u}=e6(o),c=(u-this.startY)*this.timePointsPerPixel(),h=Math.round(c/this.CHANGE_THRESHOLD_IN_TIME_POINTS),f=l-this.startX,p=Math.round(f/this.dayWidth);this.handleVerticalMouseOrTouchMove(h),this.handleHorizontalMouseOrTouchMove(p)}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateCopy(void 0),!jC(this.$app,this.eventCopy,this.originalStart,this.originalEnd,this.updateCopy)&&this.updateOriginalEvent()}}),this.dayWidth=e.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,this.startY=this.eventCoordinates.clientY,this.startX=this.eventCoordinates.clientX,this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}timePointsPerPixel(){return eye(this.$app)}handleVerticalMouseOrTouchMove(e){if(e===this.lastIntervalDiff)return;const n=e>this.lastIntervalDiff?this.CHANGE_THRESHOLD_IN_TIME_POINTS:-this.CHANGE_THRESHOLD_IN_TIME_POINTS;this.setTimeForEventCopy(n),this.lastIntervalDiff=e}setTimeForEventCopy(e){const n=DM(this.eventCopy.start,e),i=DM(this.eventCopy.end,e);n<Da(this.dayBoundariesDateTime.start,this.lastDaysDiff)||i>Da(this.dayBoundariesDateTime.end,this.lastDaysDiff)||(this.eventCopy.start=n,this.eventCopy.end=i,this.updateCopy(this.eventCopy))}handleHorizontalMouseOrTouchMove(e){if(e===this.lastDaysDiff)return;const n=e-this.lastDaysDiff,i=Da(Gs(this.eventCopy.start),n),s=Da(Gs(this.eventCopy.end),n),r=AM(this.eventCopy.start,i),a=AM(this.eventCopy.end,s);r<this.$app.calendarState.range.value.start||a>this.$app.calendarState.range.value.end||(this.setDateForEventCopy(r,a),this.transformEventCopyPosition(e),this.lastDaysDiff=e)}setDateForEventCopy(e,n){this.eventCopy.start=e,this.eventCopy.end=n,this.updateCopy(this.eventCopy)}transformEventCopyPosition(e){const n=this.$app.elements.calendarWrapper.querySelector("#"+ZU(this.eventCopy.id));n.style.transform=`translateX(calc(${e*100}% + ${e}px))`}updateOriginalEvent(){if(this.lastIntervalDiff===0&&this.lastDaysDiff===0)return;const e=this.lastDaysDiff===0,n=document.querySelector(`[data-event-id="${this.eventCopy.id}"]`);!e&&n instanceof HTMLElement&&(n.style.display="none"),BC(this.$app,this.eventCopy,this.originalStart)}}const nye=t=>t.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,iye=(t,e)=>t.elements.calendarWrapper.querySelector("#"+ZU(e.id)),RM=1e3*60*60*24;class sye{constructor(e,n,i,s){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeStartDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeEndDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{clientX:a}=e6(r),o=a-this.startX,l=Math.round(o/this.dayWidth);if(l===this.lastDaysDiff)return;const u=Da(this.originalStart,l),d=Da(this.originalEnd,l),c=Gs(u),h=Gs(d);if(c>this.rangeEndDate||h<this.rangeStartDate)return;this.eventCopy.start=u,this.eventCopy.end=d;const p=c>=this.rangeStartDate&&c<=this.rangeEndDate?c:this.rangeStartDate,v=h>=this.rangeStartDate&&h<=this.rangeEndDate?h:this.rangeEndDate;this.eventCopy._nDaysInGrid=Math.round((new Date(v).getTime()-new Date(p).getTime())/RM)+1,c>=this.rangeStartDate&&this.transformEventCopyPosition(c),this.updateCopy(this.eventCopy),this.lastDaysDiff=l}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),!jC(this.$app,this.eventCopy,this.originalStart,this.originalEnd,this.updateCopy)&&(this.updateOriginalEvent(),setTimeout(()=>{this.updateCopy(void 0)},10))}}),this.startX=n.clientX,this.dayWidth=nye(this.$app),this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.rangeStartDate=Gs(this.$app.calendarState.range.value.start),this.rangeEndDate=Da(this.rangeStartDate,e.config.weekOptions.value.nDays-1),this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}transformEventCopyPosition(e){const n=Gs(this.originalStart),i=Math.round((new Date(e).getTime()-new Date(n>=this.rangeStartDate?n:this.rangeStartDate).getTime())/RM);iye(this.$app,this.eventCopy).style.transform=`translateX(calc(${i*this.dayWidth}px + ${i}px))`}updateOriginalEvent(){this.lastDaysDiff!==0&&BC(this.$app,this.eventCopy,this.originalStart)}}const OM=(t,e)=>{const{year:n,month:i,date:s}=nk(t),{year:r,month:a,date:o}=nk(e),l=new Date(n,i,s),d=new Date(r,a,o).getTime()-l.getTime();return Math.round(d/(1e3*3600*24))};var sk;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(sk||(sk={}));sk.MONDAY;const rye="primary";class aye{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},h={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return sd.test(this.start)&&sd.test(this.end)&&Gs(this.start)===Gs(this.end)}get _isSingleDayFullDay(){return ev.test(this.start)&&ev.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return sd.test(this.start)&&sd.test(this.end)&&Gs(this.start)!==Gs(this.end)}get _isMultiDayFullDay(){return ev.test(this.start)&&ev.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!sd.test(this.start)||!sd.test(this.end))return!1;const e=Gs(this.start),n=Gs(this.end),i=FC(new Date(KU(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=IM(ik(this.start)),a=IM(ik(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:rye}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}}class oye{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new aye(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}}const lye=(t,e)=>{const n=new oye(e.config,t.id,t.start,t.end).withTitle(t.title).withPeople(t.people).withCalendarId(t.calendarId).withForeignProperties(JSON.parse(JSON.stringify(t._getForeignProperties()))).withLocation(t.location).withDescription(t.description).withOptions(t._options).withCustomContent(t._customContent).build();return n._nDaysInGrid=t._nDaysInGrid,n};class uye{constructor(e,n){Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"allDayElements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentDragoverDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventNDays",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"MONTH_DAY_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day"}),Object.defineProperty(this,"MONTH_DAY_SELECTOR",{enumerable:!0,configurable:!0,writable:!0,value:`.${this.MONTH_DAY_CLASS_NAME}`}),Object.defineProperty(this,"DAY_DRAGOVER_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day--dragover"}),Object.defineProperty(this,"handleDragOver",{enumerable:!0,configurable:!0,writable:!0,value:i=>{i.preventDefault();let s=i.target;if((!(s instanceof HTMLDivElement)||!s.classList.contains(this.MONTH_DAY_CLASS_NAME))&&(s=i.target.closest(this.MONTH_DAY_SELECTOR)),this.currentDragoverDate===s.dataset.date)return;this.currentDragoverDate=s.dataset.date;const r=Da(this.currentDragoverDate,this.eventNDays-1);this.allDayElements.forEach(a=>{const o=a.dataset.date;o>=this.currentDragoverDate&&o<=r?a.classList.add(this.DAY_DRAGOVER_CLASS_NAME):a.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)})}}),Object.defineProperty(this,"handleDragEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.allDayElements.forEach(s=>{s.removeEventListener("dragover",this.handleDragOver),s.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)}),this.setCalendarEventPointerEventsTo("auto"),!jC(this.$app,this.calendarEvent,this.originalStart,this.originalEnd)&&this.updateCalendarEvent()}}),Object.defineProperty(this,"setCalendarEventPointerEventsTo",{enumerable:!0,configurable:!0,writable:!0,value:i=>{var s;((s=this.$app.elements.calendarWrapper)===null||s===void 0?void 0:s.querySelectorAll(".sx__event")).forEach(r=>{String(r.dataset.eventId)!==String(this.calendarEvent.id)&&(r.style.pointerEvents=i)})}}),Object.defineProperty(this,"updateCalendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const i=lye(this.calendarEvent,this.$app),s=OM(Gs(this.calendarEvent.start),Gs(this.currentDragoverDate));i.start=Da(i.start,s),i.end=Da(i.end,s),BC(this.$app,i,this.originalStart)}}),this.originalStart=this.calendarEvent.start,this.originalEnd=this.calendarEvent.end,this.allDayElements=n.elements.calendarWrapper.querySelectorAll(this.MONTH_DAY_SELECTOR),this.eventNDays=OM(this.calendarEvent.start,this.calendarEvent.end)+1,this.init()}init(){document.addEventListener("dragend",this.handleDragEnd,{once:!0}),this.allDayElements.forEach(e=>{e.addEventListener("dragover",this.handleDragOver)}),this.setCalendarEventPointerEventsTo("none")}}const cye=(t,e)=>(e.name=t,e);class dye{onRender(e){e.elements.calendarWrapper&&(e.elements.calendarWrapper.dataset.hasDnd="true")}constructor(e){Object.defineProperty(this,"minutesPerInterval",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:tk.DragAndDrop})}createTimeGridDragHandler(e,n){return new tye(e.$app,e.eventCoordinates,e.eventCopy,e.updateCopy,n,this.getTimePointsForIntervalConfig())}getTimePointsForIntervalConfig(){return this.minutesPerInterval===60?100:this.minutesPerInterval===30?50:25}createDateGridDragHandler(e){return new sye(e.$app,e.eventCoordinates,e.eventCopy,e.updateCopy)}createMonthGridDragHandler(e,n){return new uye(e,n)}}const hye=(t=15)=>cye("dragAndDrop",new dye(t));/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Wr(t){return typeof t=="function"}function t6(t){return t==null}const ch=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function $C(t){return Number(t)>=0}function fye(t){return typeof t=="object"&&t!==null}function mye(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function MM(t){if(!fye(t)||mye(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function og(t,e){return Object.keys(e).forEach(n=>{if(MM(e[n])&&MM(t[n])){t[n]||(t[n]={}),og(t[n],e[n]);return}t[n]=e[n]}),t}function tv(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if($C(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const gye={};function pye(t){return gye[t]}function VM(t,e,n){typeof n.value=="object"&&(n.value=Cn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Cn(t){if(typeof t!="object")return t;var e=0,n,i,s,r=Object.prototype.toString.call(t);if(r==="[object Object]"?s=Object.create(t.__proto__||null):r==="[object Array]"?s=Array(t.length):r==="[object Set]"?(s=new Set,t.forEach(function(a){s.add(Cn(a))})):r==="[object Map]"?(s=new Map,t.forEach(function(a,o){s.set(Cn(o),Cn(a))})):r==="[object Date]"?s=new Date(+t):r==="[object RegExp]"?s=new RegExp(t.source,t.flags):r==="[object DataView]"?s=new t.constructor(Cn(t.buffer)):r==="[object ArrayBuffer]"?s=t.slice(0):r.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)VM(s,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(s,n=i[e])&&s[n]===t[n]||VM(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}const vye=Symbol("vee-validate-form"),_ye=Symbol("vee-validate-form-context"),yye=typeof window<"u";function bye(t){return Wr(t)&&!!t.__locatorRef}function bl(t){return!!t&&Wr(t.parse)&&t.__type==="VVTypedSchema"}function n6(t){return!!t&&Wr(t.validate)}function wye(t){return t==="checkbox"||t==="radio"}function xye(t){return ch(t)||Array.isArray(t)}function Sye(t){return Array.isArray(t)?t.length===0:ch(t)&&Object.keys(t).length===0}function Rw(t){return/^\[.+\]$/i.test(t)}function kye(t){return i6(t)&&t.multiple}function i6(t){return t.tagName==="SELECT"}function Tye(t){return s6(t)&&t.target&&"submit"in t.target}function s6(t){return t?!!(typeof Event<"u"&&Wr(Event)&&t instanceof Event||t&&t.srcElement):!1}function rm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!rm(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!rm(i[1],e.get(i[0])))return!1;return!0}if(NM(t)&&NM(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length-LM(t,s),n!==Object.keys(e).length-LM(e,Object.keys(e)))return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[i]))return!1;for(i=n;i--!==0;){var r=s[i];if(!rm(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function LM(t,e){let n=0;for(let s=e.length;s--!==0;){var i=e[s];t[i]===void 0&&n++}return n}function NM(t){return yye?t instanceof File:!1}function UC(t){return Rw(t)?t.replace(/\[|\]/gi,""):t}function po(t,e,n){return t?Rw(e)?t[UC(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,r)=>xye(s)&&r in s?s[r]:n,t):n}function lo(t,e,n){if(Rw(e)){t[UC(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let r=0;r<i.length;r++){if(r===i.length-1){s[i[r]]=n;return}(!(i[r]in s)||t6(s[i[r]]))&&(s[i[r]]=$C(i[r+1])?[]:{}),s=s[i[r]]}}function ux(t,e){if(Array.isArray(t)&&$C(e)){t.splice(Number(e),1);return}ch(t)&&delete t[e]}function FM(t,e){if(Rw(e)){delete t[UC(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let r=0;r<n.length;r++){if(r===n.length-1){ux(i,n[r]);break}if(!(n[r]in i)||t6(i[n[r]]))break;i=i[n[r]]}const s=n.map((r,a)=>po(t,n.slice(0,a).join(".")));for(let r=s.length-1;r>=0;r--)if(Sye(s[r])){if(r===0){ux(t,n[0]);continue}ux(s[r-1],n[r-1])}}function Pr(t){return Object.keys(t)}function BM(t,e=0){let n=null,i=[];return function(...s){return n&&clearTimeout(n),n=setTimeout(()=>{const r=t(...s);i.forEach(a=>a(r)),i=[]},e),new Promise(r=>i.push(r))}}function Pye(t,e){let n;return async function(...s){const r=t(...s);n=r;const a=await r;return r!==n?a:(n=void 0,e(a,s))}}function jM(t){return Array.isArray(t)?t:t?[t]:[]}function nv(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function Cye(t){let e=null,n=[];return function(...i){const s=vt(()=>{if(e!==s)return;const r=t(...i);n.forEach(a=>a(r)),n=[],e=null});return e=s,new Promise(r=>n.push(r))}}function cx(t){if(r6(t))return t._value}function r6(t){return"_value"in t}function Eye(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function $M(t){if(!s6(t))return t;const e=t.target;if(wye(e.type)&&r6(e))return cx(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(kye(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(cx);if(i6(e)){const n=Array.from(e.options).find(i=>i.selected);return n?cx(n):e.value}return Eye(e)}function Iye(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?ch(t)&&t._$$isNormalized?t:ch(t)?Object.keys(t).reduce((n,i)=>{const s=Dye(t[i]);return t[i]!==!1&&(n[i]=UM(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const s=Aye(i);return s.name&&(n[s.name]=UM(s.params)),n},e):e}function Dye(t){return t===!0?[]:Array.isArray(t)||ch(t)?t:[t]}function UM(t){const e=n=>typeof n=="string"&&n[0]==="@"?Rye(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const Aye=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function Rye(t){const e=n=>{var i;return(i=po(n,t))!==null&&i!==void 0?i:n[t]};return e.__locatorRef=t,e}const Oye={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Mye=Object.assign({},Oye);const Vf=()=>Mye;async function Vye(t,e,n={}){const i=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},r=await Lye(s,t);return Object.assign(Object.assign({},r),{valid:!r.errors.length})}async function Lye(t,e){const n=t.rules;if(bl(n)||n6(n))return Fye(e,Object.assign(Object.assign({},t),{rules:n}));if(Wr(n)||Array.isArray(n)){const o={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(n)?n:[n],u=l.length,d=[];for(let c=0;c<u;c++){const h=l[c],f=await h(e,o);if(!(typeof f!="string"&&!Array.isArray(f)&&f)){if(Array.isArray(f))d.push(...f);else{const m=typeof f=="string"?f:o6(o);d.push(m)}if(t.bails)return{errors:d}}}return{errors:d}}const i=Object.assign(Object.assign({},t),{rules:Iye(n)}),s=[],r=Object.keys(i.rules),a=r.length;for(let o=0;o<a;o++){const l=r[o],u=await Bye(i,e,{name:l,params:i.rules[l]});if(u.error&&(s.push(u.error),t.bails))return{errors:s}}return{errors:s}}function Nye(t){return!!t&&t.name==="ValidationError"}function a6(t){return{__type:"VVTypedSchema",async parse(n,i){var s;try{return{output:await t.validate(n,{abortEarly:!1,context:(i==null?void 0:i.formData)||{}}),errors:[]}}catch(r){if(!Nye(r))throw r;if(!(!((s=r.inner)===null||s===void 0)&&s.length)&&r.errors.length)return{errors:[{path:r.path,errors:r.errors}]};const a=r.inner.reduce((o,l)=>{const u=l.path||"";return o[u]||(o[u]={errors:[],path:u}),o[u].errors.push(...l.errors),o},{});return{errors:Object.values(a)}}}}}async function Fye(t,e){const i=await(bl(e.rules)?e.rules:a6(e.rules)).parse(t,{formData:e.formData}),s=[];for(const r of i.errors)r.errors.length&&s.push(...r.errors);return{value:i.value,errors:s}}async function Bye(t,e,n){const i=pye(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const s=jye(n.params,t.formData),r={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},a=await i(e,s,r);return typeof a=="string"?{error:a}:{error:a?void 0:o6(r)}}function o6(t){const e=Vf().generateMessage;return e?e(t):"Field is invalid"}function jye(t,e){const n=i=>bye(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,s)=>(i[s]=n(t[s]),i),{})}async function $ye(t,e){const i=await(bl(t)?t:a6(t)).parse(Cn(e),{formData:Cn(e)}),s={},r={};for(const a of i.errors){const o=a.errors,l=(a.path||"").replace(/\["(\d+)"\]/g,(u,d)=>`[${d}]`);s[l]={valid:!o.length,errors:o},o.length&&(r[l]=o[0])}return{valid:!i.errors.length,results:s,errors:r,values:i.value,source:"schema"}}async function Uye(t,e,n){const s=Pr(t).map(async u=>{var d,c,h;const f=(d=n==null?void 0:n.names)===null||d===void 0?void 0:d[u],p=await Vye(po(e,u),t[u],{name:(f==null?void 0:f.name)||u,label:f==null?void 0:f.label,values:e,bails:(h=(c=n==null?void 0:n.bailsMap)===null||c===void 0?void 0:c[u])!==null&&h!==void 0?h:!0});return Object.assign(Object.assign({},p),{path:u})});let r=!0;const a=await Promise.all(s),o={},l={};for(const u of a)o[u.path]={valid:u.valid,errors:u.errors},u.valid||(r=!1,l[u.path]=u.errors[0]);return{valid:r,results:o,errors:l,source:"schema"}}let Hye=0;const iv=["bails","fieldsCount","id","multiple","type","validate"];function l6(t){const e=(t==null?void 0:t.initialValues)||{},n=Object.assign({},Ct(e)),i=oe(t==null?void 0:t.validationSchema);return i&&bl(i)&&Wr(i.cast)?Cn(i.cast(n)||{}):Cn(n)}function $l(t){var e;const n=Hye++,i=(t==null?void 0:t.name)||"Form";let s=0;const r=G(!1),a=G(!1),o=G(0),l=[],u=mn(l6(t)),d=G([]),c=G({}),h=G({}),f=Cye(()=>{h.value=d.value.reduce((pe,he)=>(pe[tv(Ct(he.path))]=he,pe),{})});function p(pe,he){const Ae=X(pe);if(!Ae){typeof pe=="string"&&(c.value[tv(pe)]=jM(he));return}if(typeof pe=="string"){const He=tv(pe);c.value[He]&&delete c.value[He]}Ae.errors=jM(he),Ae.valid=!Ae.errors.length}function m(pe){Pr(pe).forEach(he=>{p(he,pe[he])})}t!=null&&t.initialErrors&&m(t.initialErrors);const v=O(()=>{const pe=d.value.reduce((he,Ae)=>(Ae.errors.length&&(he[Ct(Ae.path)]=Ae.errors),he),{});return Object.assign(Object.assign({},c.value),pe)}),_=O(()=>Pr(v.value).reduce((pe,he)=>{const Ae=v.value[he];return Ae!=null&&Ae.length&&(pe[he]=Ae[0]),pe},{})),b=O(()=>d.value.reduce((pe,he)=>(pe[Ct(he.path)]={name:Ct(he.path)||"",label:he.label||""},pe),{})),x=O(()=>d.value.reduce((pe,he)=>{var Ae;return pe[Ct(he.path)]=(Ae=he.bails)!==null&&Ae!==void 0?Ae:!0,pe},{})),k=Object.assign({},(t==null?void 0:t.initialErrors)||{}),I=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:E,originalInitialValues:T,setInitialValues:S}=Wye(d,u,t),w=zye(d,u,T,_),C=O(()=>d.value.reduce((pe,he)=>{const Ae=po(u,Ct(he.path));return lo(pe,Ct(he.path),Ae),pe},{})),P=t==null?void 0:t.validationSchema;function D(pe,he){var Ae,He;const Qe=O(()=>po(E.value,Ct(pe))),ht=h.value[Ct(pe)],ot=(he==null?void 0:he.type)==="checkbox"||(he==null?void 0:he.type)==="radio";if(ht&&ot){ht.multiple=!0;const pi=s++;return Array.isArray(ht.id)?ht.id.push(pi):ht.id=[ht.id,pi],ht.fieldsCount++,ht.__flags.pendingUnmount[pi]=!1,ht}const pn=O(()=>po(u,Ct(pe))),Xn=Ct(pe),Ci=K.findIndex(pi=>pi===Xn);Ci!==-1&&K.splice(Ci,1);const nn=O(()=>{var pi,qo,Xo,Wc;const to=Ct(P);if(bl(to))return(qo=(pi=to.describe)===null||pi===void 0?void 0:pi.call(to,Ct(pe)).required)!==null&&qo!==void 0?qo:!1;const Yc=Ct(he==null?void 0:he.schema);return bl(Yc)&&(Wc=(Xo=Yc.describe)===null||Xo===void 0?void 0:Xo.call(Yc).required)!==null&&Wc!==void 0?Wc:!1}),gi=s++,Vi=mn({id:gi,path:pe,touched:!1,pending:!1,valid:!0,validated:!!(!((Ae=k[Xn])===null||Ae===void 0)&&Ae.length),required:nn,initialValue:Qe,errors:Re([]),bails:(He=he==null?void 0:he.bails)!==null&&He!==void 0?He:!1,label:he==null?void 0:he.label,type:(he==null?void 0:he.type)||"default",value:pn,multiple:!1,__flags:{pendingUnmount:{[gi]:!1},pendingReset:!1},fieldsCount:1,validate:he==null?void 0:he.validate,dirty:O(()=>!rm(oe(pn),oe(Qe)))});return d.value.push(Vi),h.value[Xn]=Vi,f(),_.value[Xn]&&!k[Xn]&&vt(()=>{Se(Xn,{mode:"silent"})}),Je(pe)&&be(pe,pi=>{f();const qo=Cn(pn.value);h.value[pi]=Vi,vt(()=>{lo(u,pi,qo)})}),Vi}const A=BM(qe,5),F=BM(qe,5),L=Pye(async pe=>await(pe==="silent"?A():F()),(pe,[he])=>{const Ae=Pr($.errorBag.value),Qe=[...new Set([...Pr(pe.results),...d.value.map(ht=>ht.path),...Ae])].sort().reduce((ht,ot)=>{var pn;const Xn=ot,Ci=X(Xn)||z(Xn),nn=((pn=pe.results[Xn])===null||pn===void 0?void 0:pn.errors)||[],gi=Ct(Ci==null?void 0:Ci.path)||Xn,Vi=Yye({errors:nn,valid:!nn.length},ht.results[gi]);return ht.results[gi]=Vi,Vi.valid||(ht.errors[gi]=Vi.errors[0]),Ci&&c.value[gi]&&delete c.value[gi],Ci?(Ci.valid=Vi.valid,he==="silent"||he==="validated-only"&&!Ci.validated||p(Ci,Vi.errors),ht):(p(gi,nn),ht)},{valid:pe.valid,results:{},errors:{},source:pe.source});return pe.values&&(Qe.values=pe.values,Qe.source=pe.source),Pr(Qe.results).forEach(ht=>{var ot;const pn=X(ht);pn&&he!=="silent"&&(he==="validated-only"&&!pn.validated||p(pn,(ot=Qe.results[ht])===null||ot===void 0?void 0:ot.errors))}),Qe});function H(pe){d.value.forEach(pe)}function X(pe){const he=typeof pe=="string"?tv(pe):pe;return typeof he=="string"?h.value[he]:he}function z(pe){return d.value.filter(Ae=>pe.startsWith(Ct(Ae.path))).reduce((Ae,He)=>Ae?He.path.length>Ae.path.length?He:Ae:He,void 0)}let K=[],Y;function te(pe){return K.push(pe),Y||(Y=vt(()=>{[...K].sort().reverse().forEach(Ae=>{FM(u,Ae)}),K=[],Y=null})),Y}function Q(pe){return function(Ae,He){return function(ht){return ht instanceof Event&&(ht.preventDefault(),ht.stopPropagation()),H(ot=>ot.touched=!0),r.value=!0,o.value++,Me().then(ot=>{const pn=Cn(u);if(ot.valid&&typeof Ae=="function"){const Xn=Cn(C.value);let Ci=pe?Xn:pn;return ot.values&&(Ci=ot.source==="schema"?ot.values:Object.assign({},Ci,ot.values)),Ae(Ci,{evt:ht,controlledValues:Xn,setErrors:m,setFieldError:p,setTouched:de,setFieldTouched:B,setValues:_e,setFieldValue:q,resetForm:Te,resetField:ne})}!ot.valid&&typeof He=="function"&&He({values:pn,evt:ht,errors:ot.errors,results:ot.results})}).then(ot=>(r.value=!1,ot),ot=>{throw r.value=!1,ot})}}}const ue=Q(!1);ue.withControlled=Q(!0);function re(pe,he){const Ae=d.value.findIndex(Qe=>Qe.path===pe&&(Array.isArray(Qe.id)?Qe.id.includes(he):Qe.id===he)),He=d.value[Ae];if(!(Ae===-1||!He)){if(vt(()=>{Se(pe,{mode:"silent",warn:!1})}),He.multiple&&He.fieldsCount&&He.fieldsCount--,Array.isArray(He.id)){const Qe=He.id.indexOf(he);Qe>=0&&He.id.splice(Qe,1),delete He.__flags.pendingUnmount[he]}(!He.multiple||He.fieldsCount<=0)&&(d.value.splice(Ae,1),Ee(pe),f(),delete h.value[pe])}}function se(pe){Pr(h.value).forEach(he=>{he.startsWith(pe)&&delete h.value[he]}),d.value=d.value.filter(he=>!he.path.startsWith(pe)),vt(()=>{f()})}const $={name:i,formId:n,values:u,controlledValues:C,errorBag:v,errors:_,schema:P,submitCount:o,meta:w,isSubmitting:r,isValidating:a,fieldArrays:l,keepValuesOnUnmount:I,validateSchema:oe(P)?L:void 0,validate:Me,setFieldError:p,validateField:Se,setFieldValue:q,setValues:_e,setErrors:m,setFieldTouched:B,setTouched:de,resetForm:Te,resetField:ne,handleSubmit:ue,useFieldModel:We,defineInputBinds:Rt,defineComponentBinds:tn,defineField:et,stageInitialValue:ze,unsetInitialValue:Ee,setFieldInitialValue:Fe,createPathState:D,getPathState:X,unsetPathValue:te,removePathState:re,initialValues:E,getAllPathStates:()=>d.value,destroyPath:se,isFieldTouched:N,isFieldDirty:W,isFieldValid:ce};function q(pe,he,Ae=!0){const He=Cn(he),Qe=typeof pe=="string"?pe:pe.path;X(Qe)||D(Qe),lo(u,Qe,He),Ae&&Se(Qe)}function ae(pe,he=!0){Pr(u).forEach(Ae=>{delete u[Ae]}),Pr(pe).forEach(Ae=>{q(Ae,pe[Ae],!1)}),he&&Me()}function _e(pe,he=!0){og(u,pe),l.forEach(Ae=>Ae&&Ae.reset()),he&&Me()}function ge(pe,he){const Ae=X(Ct(pe))||D(pe);return O({get(){return Ae.value},set(He){var Qe;const ht=Ct(pe);q(ht,He,(Qe=Ct(he))!==null&&Qe!==void 0?Qe:!1)}})}function B(pe,he){const Ae=X(pe);Ae&&(Ae.touched=he)}function N(pe){const he=X(pe);return he?he.touched:d.value.filter(Ae=>Ae.path.startsWith(pe)).some(Ae=>Ae.touched)}function W(pe){const he=X(pe);return he?he.dirty:d.value.filter(Ae=>Ae.path.startsWith(pe)).some(Ae=>Ae.dirty)}function ce(pe){const he=X(pe);return he?he.valid:d.value.filter(Ae=>Ae.path.startsWith(pe)).every(Ae=>Ae.valid)}function de(pe){if(typeof pe=="boolean"){H(he=>{he.touched=pe});return}Pr(pe).forEach(he=>{B(he,!!pe[he])})}function ne(pe,he){var Ae;const He=he&&"value"in he?he.value:po(E.value,pe),Qe=X(pe);Qe&&(Qe.__flags.pendingReset=!0),Fe(pe,Cn(He),!0),q(pe,He,!1),B(pe,(Ae=he==null?void 0:he.touched)!==null&&Ae!==void 0?Ae:!1),p(pe,(he==null?void 0:he.errors)||[]),vt(()=>{Qe&&(Qe.__flags.pendingReset=!1)})}function Te(pe,he){let Ae=Cn(pe!=null&&pe.values?pe.values:T.value);Ae=he!=null&&he.force?Ae:og(T.value,Ae),Ae=bl(P)&&Wr(P.cast)?P.cast(Ae):Ae,S(Ae,{force:he==null?void 0:he.force}),H(He=>{var Qe;He.__flags.pendingReset=!0,He.validated=!1,He.touched=((Qe=pe==null?void 0:pe.touched)===null||Qe===void 0?void 0:Qe[Ct(He.path)])||!1,q(Ct(He.path),po(Ae,Ct(He.path)),!1),p(Ct(He.path),void 0)}),he!=null&&he.force?ae(Ae,!1):_e(Ae,!1),m((pe==null?void 0:pe.errors)||{}),o.value=(pe==null?void 0:pe.submitCount)||0,vt(()=>{Me({mode:"silent"}),H(He=>{He.__flags.pendingReset=!1})})}async function Me(pe){const he=(pe==null?void 0:pe.mode)||"force";if(he==="force"&&H(ot=>ot.validated=!0),$.validateSchema)return $.validateSchema(he);a.value=!0;const Ae=await Promise.all(d.value.map(ot=>ot.validate?ot.validate(pe).then(pn=>({key:Ct(ot.path),valid:pn.valid,errors:pn.errors,value:pn.value})):Promise.resolve({key:Ct(ot.path),valid:!0,errors:[],value:void 0})));a.value=!1;const He={},Qe={},ht={};for(const ot of Ae)He[ot.key]={valid:ot.valid,errors:ot.errors},ot.value&&lo(ht,ot.key,ot.value),ot.errors.length&&(Qe[ot.key]=ot.errors[0]);return{valid:Ae.every(ot=>ot.valid),results:He,errors:Qe,values:ht,source:"fields"}}async function Se(pe,he){var Ae;const He=X(pe);if(He&&(he==null?void 0:he.mode)!=="silent"&&(He.validated=!0),P){const{results:Qe}=await L((he==null?void 0:he.mode)||"validated-only");return Qe[pe]||{errors:[],valid:!0}}return He!=null&&He.validate?He.validate(he):(!He&&(Ae=he==null?void 0:he.warn),Promise.resolve({errors:[],valid:!0}))}function Ee(pe){FM(E.value,pe)}function ze(pe,he,Ae=!1){Fe(pe,he),lo(u,pe,he),Ae&&!(t!=null&&t.initialValues)&&lo(T.value,pe,Cn(he))}function Fe(pe,he,Ae=!1){lo(E.value,pe,Cn(he)),Ae&&lo(T.value,pe,Cn(he))}async function qe(){const pe=oe(P);if(!pe)return{valid:!0,results:{},errors:{},source:"none"};a.value=!0;const he=n6(pe)||bl(pe)?await $ye(pe,u):await Uye(pe,u,{names:b.value,bailsMap:x.value});return a.value=!1,he}const st=ue((pe,{evt:he})=>{Tye(he)&&he.target.submit()});kt(()=>{if(t!=null&&t.initialErrors&&m(t.initialErrors),t!=null&&t.initialTouched&&de(t.initialTouched),t!=null&&t.validateOnMount){Me();return}$.validateSchema&&$.validateSchema("silent")}),Je(P)&&be(P,()=>{var pe;(pe=$.validateSchema)===null||pe===void 0||pe.call($,"validated-only")}),Kt(vye,$);function et(pe,he){const Ae=Wr(he)||he==null?void 0:he.label,He=X(Ct(pe))||D(pe,{label:Ae}),Qe=()=>Wr(he)?he(nv(He,iv)):he||{};function ht(){var nn;He.touched=!0,((nn=Qe().validateOnBlur)!==null&&nn!==void 0?nn:Vf().validateOnBlur)&&Se(Ct(He.path))}function ot(){var nn;((nn=Qe().validateOnInput)!==null&&nn!==void 0?nn:Vf().validateOnInput)&&vt(()=>{Se(Ct(He.path))})}function pn(){var nn;((nn=Qe().validateOnChange)!==null&&nn!==void 0?nn:Vf().validateOnChange)&&vt(()=>{Se(Ct(He.path))})}const Xn=O(()=>{const nn={onChange:pn,onInput:ot,onBlur:ht};return Wr(he)?Object.assign(Object.assign({},nn),he(nv(He,iv)).props||{}):he!=null&&he.props?Object.assign(Object.assign({},nn),he.props(nv(He,iv))):nn});return[ge(pe,()=>{var nn,gi,Vi;return(Vi=(nn=Qe().validateOnModelUpdate)!==null&&nn!==void 0?nn:(gi=Vf())===null||gi===void 0?void 0:gi.validateOnModelUpdate)!==null&&Vi!==void 0?Vi:!0}),Xn]}function We(pe){return Array.isArray(pe)?pe.map(he=>ge(he,!0)):ge(pe)}function Rt(pe,he){const[Ae,He]=et(pe,he);function Qe(){He.value.onBlur()}function ht(pn){const Xn=$M(pn);q(Ct(pe),Xn,!1),He.value.onInput()}function ot(pn){const Xn=$M(pn);q(Ct(pe),Xn,!1),He.value.onChange()}return O(()=>Object.assign(Object.assign({},He.value),{onBlur:Qe,onInput:ht,onChange:ot,value:Ae.value}))}function tn(pe,he){const[Ae,He]=et(pe,he),Qe=X(Ct(pe));function ht(ot){Ae.value=ot}return O(()=>{const ot=Wr(he)?he(nv(Qe,iv)):he||{};return Object.assign({[ot.model||"modelValue"]:Ae.value,[`onUpdate:${ot.model||"modelValue"}`]:ht},He.value)})}const mi=Object.assign(Object.assign({},$),{values:bh(u),handleReset:()=>Te(),submitForm:st});return Kt(_ye,mi),mi}function zye(t,e,n,i){const s={touched:"some",pending:"some",valid:"every"},r=O(()=>!rm(e,oe(n)));function a(){const l=t.value;return Pr(s).reduce((u,d)=>{const c=s[d];return u[d]=l[c](h=>h[d]),u},{})}const o=mn(a());return yn(()=>{const l=a();o.touched=l.touched,o.valid=l.valid,o.pending=l.pending}),O(()=>Object.assign(Object.assign({initialValues:oe(n)},o),{valid:o.valid&&!Pr(i.value).length,dirty:r.value}))}function Wye(t,e,n){const i=l6(n),s=G(i),r=G(Cn(i));function a(o,l){l!=null&&l.force?(s.value=Cn(o),r.value=Cn(o)):(s.value=og(Cn(s.value)||{},Cn(o)),r.value=og(Cn(r.value)||{},Cn(o))),l!=null&&l.updateFields&&t.value.forEach(u=>{if(u.touched)return;const c=po(s.value,Ct(u.path));lo(e,Ct(u.path),Cn(c))})}return{initialValues:s,originalInitialValues:r,setInitialValues:a}}function Yye(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}function Gye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hc(t){this._maxSize=t,this.clear()}Hc.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Hc.prototype.get=function(t){return this._values[t]};Hc.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var qye=/[^.^\]^[]+|(?=\[\]|\.\.)/g,u6=/^\d+$/,Xye=/^\d/,Kye=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Qye=/^\s*(['"]?)(.*?)(\1)\s*$/,HC=512,HM=new Hc(HC),zM=new Hc(HC),WM=new Hc(HC),Wu={Cache:Hc,split:rk,normalizePath:dx,setter:function(t){var e=dx(t);return zM.get(t)||zM.set(t,function(i,s){for(var r=0,a=e.length,o=i;r<a-1;){var l=e[r];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;o=o[e[r++]]}o[e[r]]=s})},getter:function(t,e){var n=dx(t);return WM.get(t)||WM.set(t,function(s){for(var r=0,a=n.length;r<a;)if(s!=null||!e)s=s[n[r++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(zC(n)||u6.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){Jye(Array.isArray(t)?t:rk(t),e,n)}};function dx(t){return HM.get(t)||HM.set(t,rk(t).map(function(e){return e.replace(Qye,"$2")}))}function rk(t){return t.match(qye)||[""]}function Jye(t,e,n){var i=t.length,s,r,a,o;for(r=0;r<i;r++)s=t[r],s&&(tbe(s)&&(s='"'+s+'"'),o=zC(s),a=!o&&/^\d+$/.test(s),e.call(n,s,o,a,r,t))}function zC(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Zye(t){return t.match(Xye)&&!t.match(u6)}function ebe(t){return Kye.test(t)}function tbe(t){return!zC(t)&&(Zye(t)||ebe(t))}const nbe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ow=t=>t.match(nbe)||[],Mw=t=>t[0].toUpperCase()+t.slice(1),WC=(t,e)=>Ow(t).join(e).toLowerCase(),c6=t=>Ow(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),ibe=t=>Mw(c6(t)),sbe=t=>WC(t,"_"),rbe=t=>WC(t,"-"),abe=t=>Mw(WC(t," ")),obe=t=>Ow(t).map(Mw).join(" ");var hx={words:Ow,upperFirst:Mw,camelCase:c6,pascalCase:ibe,snakeCase:sbe,kebabCase:rbe,sentenceCase:abe,titleCase:obe},YC={exports:{}};YC.exports=function(t){return d6(lbe(t),t)};YC.exports.array=d6;function d6(t,e){var n=t.length,i=new Array(n),s={},r=n,a=ube(e),o=cbe(t);for(e.forEach(function(u){if(!o.has(u[0])||!o.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});r--;)s[r]||l(t[r],r,new Set);return i;function l(u,d,c){if(c.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!o.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var f=a.get(u)||new Set;if(f=Array.from(f),d=f.length){c.add(u);do{var p=f[--d];l(p,o.get(p),c)}while(d);c.delete(u)}i[--n]=u}}}function lbe(t){for(var e=new Set,n=0,i=t.length;n<i;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function ube(t){for(var e=new Map,n=0,i=t.length;n<i;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function cbe(t){for(var e=new Map,n=0,i=t.length;n<i;n++)e.set(t[n],n);return e}var dbe=YC.exports;const hbe=Gye(dbe),fbe=Object.prototype.toString,mbe=Error.prototype.toString,gbe=RegExp.prototype.toString,pbe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",vbe=/^Symbol\((.*)\)(.*)$/;function _be(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function YM(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return _be(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return pbe.call(t).replace(vbe,"Symbol($1)");const i=fbe.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+mbe.call(t)+"]":i==="RegExp"?gbe.call(t):null}function To(t,e){let n=YM(t,e);return n!==null?n:JSON.stringify(t,function(i,s){let r=YM(this[i],e);return r!==null?r:s},2)}function h6(t){return t==null?[]:[].concat(t)}let f6,m6,g6,ybe=/\$\{\s*(\w+)\s*\}/g;f6=Symbol.toStringTag;class GM{constructor(e,n,i,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[f6]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=s,this.errors=[],this.inner=[],h6(e).forEach(r=>{if(qs.isError(r)){this.errors.push(...r.errors);const a=r.inner.length?r.inner:[r];this.inner.push(...a)}else this.errors.push(r)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}m6=Symbol.hasInstance;g6=Symbol.toStringTag;class qs extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(ybe,(s,r)=>To(n[r])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,s,r){const a=new GM(e,n,i,s);if(r)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[g6]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,qs)}static[m6](e){return GM[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let xa={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const s=i!=null&&i!==n?` (cast from the value \`${To(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${To(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${To(n,!0)}\``+s}},Hs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},sl={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ak={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ok={isValue:"${path} field must be ${value}"},Wv={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Yv={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},bbe={notType:t=>{const{path:e,value:n,spec:i}=t,s=i.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${To(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${To(n,!0)}\``}return qs.formatError(xa.notType,t)}};Object.assign(Object.create(null),{mixed:xa,string:Hs,number:sl,date:ak,object:Wv,array:Yv,boolean:ok,tuple:bbe});const Vw=t=>t&&t.__isYupSchema__;class dy{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:r}=n,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new dy(e,(o,l)=>{var u;let d=a(...o)?s:r;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(r=>r.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(i,e,n);if(s===void 0||s===e)return e;if(!Vw(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const sv={context:"$",value:"."};function wbe(t,e){return new au(t,e)}class au{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===sv.context,this.isValue=this.key[0]===sv.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?sv.context:this.isValue?sv.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Wu.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let s=this.isContext?i:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}au.prototype.__isYupRef=!0;const Jr=t=>t==null;function rd(t){function e({value:n,path:i="",options:s,originalValue:r,schema:a},o,l){const{name:u,test:d,params:c,message:h,skipAbsent:f}=t;let{parent:p,context:m,abortEarly:v=a.spec.abortEarly,disableStackTrace:_=a.spec.disableStackTrace}=s;function b(P){return au.isRef(P)?P.getValue(n,p,m):P}function x(P={}){const D=Object.assign({value:n,originalValue:r,label:a.spec.label,path:P.path||i,spec:a.spec,disableStackTrace:P.disableStackTrace||_},c,P.params);for(const F of Object.keys(D))D[F]=b(D[F]);const A=new qs(qs.formatError(P.message||h,D),n,D.path,P.type||u,D.disableStackTrace);return A.params=D,A}const k=v?o:l;let I={path:i,parent:p,type:u,from:s.from,createError:x,resolve:b,options:s,originalValue:r,schema:a};const E=P=>{qs.isError(P)?k(P):P?l(null):k(x())},T=P=>{qs.isError(P)?k(P):o(P)};if(f&&Jr(n))return E(!0);let w;try{var C;if(w=d.call(I,n,I),typeof((C=w)==null?void 0:C.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(w).then(E,T)}}catch(P){T(P);return}E(w)}return e.OPTIONS=t,e}function xbe(t,e,n,i=n){let s,r,a;return e?(Wu.forEach(e,(o,l,u)=>{let d=l?o.slice(1,o.length-1):o;t=t.resolve({context:i,parent:s,value:n});let c=t.type==="tuple",h=u?parseInt(d,10):0;if(t.innerType||c){if(c&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[h],t=c?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}r=d,a=l?"["+o+"]":"."+o}),{schema:t,parent:s,parentPath:r}):{parent:s,parentPath:e,schema:t}}class hy extends Set{describe(){const e=[];for(const n of this.values())e.push(au.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new hy(this.values())}merge(e,n){const i=this.clone();return e.forEach(s=>i.add(s)),n.forEach(s=>i.delete(s)),i}}function yd(t,e=new Map){if(Vw(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=yd(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,s]of t.entries())n.set(i,yd(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(yd(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,s]of Object.entries(t))n[i]=yd(s,e)}else throw Error(`Unable to clone ${t}`);return n}class yr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new hy,this._blacklist=new hy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(xa.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=yd(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const s=Object.assign({},n.spec,i.spec);return i.spec=s,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(r=>{e.tests.forEach(a=>{r.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((s,r)=>r.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,s,r;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(r=e.disableStackTrace)!=null?r:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",r=i._cast(e,n);if(n.assert!==!1&&!i.isType(r)){if(s&&Jr(r))return r;let a=To(e),o=To(r);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return r}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((s,r)=>r.call(this,s,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,s){let{path:r,originalValue:a=e,strict:o=this.spec.strict}=n,l=e;o||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:r,value:l,originalValue:a,options:n,tests:u},i,d=>{if(d.length)return s(d,l);this.runTests({path:r,value:l,originalValue:a,options:n,tests:this.tests},i,s)})}runTests(e,n,i){let s=!1,{tests:r,value:a,originalValue:o,path:l,options:u}=e,d=m=>{s||(s=!0,n(m,a))},c=m=>{s||(s=!0,i(m,a))},h=r.length,f=[];if(!h)return c([]);let p={value:a,originalValue:o,path:l,options:u,schema:this};for(let m=0;m<r.length;m++){const v=r[m];v(p,d,function(b){b&&(Array.isArray(b)?f.push(...b):f.push(b)),--h<=0&&c(f)})}}asNestedTest({key:e,index:n,parent:i,parentPath:s,originalParent:r,options:a}){const o=e??n;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=i[o];const d=Object.assign({},a,{strict:!0,parent:i,value:u,originalValue:r[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${s||""}[${l?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(c,h,f)=>this.resolve(d)._validate(u,d,h,f)}validate(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,n,(l,u)=>{qs.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new qs(l,u,void 0,void 0,r)):a(u)}))}validateSync(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r,a=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(o,l)=>{throw qs.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new qs(o,e,void 0,void 0,a);r=l}),r}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(qs.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(qs.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):yd(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=rd({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=rd({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=xa.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=xa.notNull){return this.nullability(!1,e)}required(e=xa.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=xa.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=rd(n),r=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(r||a.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),s=h6(e).map(r=>new au(r));return s.forEach(r=>{r.isSibling&&i.deps.push(r.key)}),i.conditions.push(typeof n=="function"?new dy(s,n):dy.fromOptions(s,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=rd({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=xa.oneOf){let i=this.clone();return e.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i.internalTests.whiteList=rd({message:n,name:"oneOf",skipAbsent:!0,test(s){let r=this.schema._whitelist,a=r.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(r).join(", "),resolved:a}})}}),i}notOneOf(e,n=xa.notOneOf){let i=this.clone();return e.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i.internalTests.blacklist=rd({message:n,name:"notOneOf",test(s){let r=this.schema._blacklist,a=r.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(r).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:s,optional:r,nullable:a}=n.spec;return{meta:s,label:i,optional:r,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(c=>c.name===l.name)===u)}}}yr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])yr.prototype[`${t}At`]=function(e,n,i={}){const{parent:s,parentPath:r,schema:a}=xbe(this,e,n,i.context);return a[t](s&&s[r],Object.assign({},i,{parent:s,path:e}))};for(const t of["equals","is"])yr.prototype[t]=yr.prototype.oneOf;for(const t of["not","nope"])yr.prototype[t]=yr.prototype.notOneOf;function fy(){return new p6}class p6 extends yr{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=ok.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Jr(n)||n===!0}})}isFalse(e=ok.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Jr(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}fy.prototype=p6.prototype;const Sbe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function kbe(t){const e=lk(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function lk(t){var e,n;const i=Sbe.exec(t);return i?{year:oo(i[1]),month:oo(i[2],1)-1,day:oo(i[3],1),hour:oo(i[4]),minute:oo(i[5]),second:oo(i[6]),millisecond:i[7]?oo(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:oo(i[10]),minuteOffset:oo(i[11])}:null}function oo(t,e=0){return Number(t)||e}let Tbe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pbe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Cbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ebe="^\\d{4}-\\d{2}-\\d{2}",Ibe="\\d{2}:\\d{2}:\\d{2}",Dbe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Abe=new RegExp(`${Ebe}T${Ibe}(\\.\\d+)?${Dbe}$`),Rbe=t=>Jr(t)||t===t.trim(),Obe={}.toString();function Fn(){return new v6}class v6 extends yr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===Obe?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||xa.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Hs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Hs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Hs.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,s,r;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:s,name:r}=n:s=n),this.test({name:r||"matches",message:s||Hs.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Hs.email){return this.matches(Tbe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Hs.url){return this.matches(Pbe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Hs.uuid){return this.matches(Cbe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,s;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:s=void 0}=e:n=e),this.matches(Abe,{name:"datetime",message:n||Hs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Hs.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:r=>{if(!r||i)return!0;const a=lk(r);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Hs.datetime_precision,params:{precision:s},skipAbsent:!0,test:r=>{if(!r||s==null)return!0;const a=lk(r);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Hs.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Rbe})}lowercase(e=Hs.lowercase){return this.transform(n=>Jr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Jr(n)||n===n.toLowerCase()})}uppercase(e=Hs.uppercase){return this.transform(n=>Jr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Jr(n)||n===n.toUpperCase()})}}Fn.prototype=v6.prototype;let Mbe=t=>t!=+t;function am(){return new _6}class _6 extends yr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Mbe(e)}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return i.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=sl.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=sl.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=sl.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=sl.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=sl.positive){return this.moreThan(0,e)}negative(e=sl.negative){return this.lessThan(0,e)}integer(e=sl.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Jr(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(s=>Jr(s)?s:Math[e](s))}}am.prototype=_6.prototype;let y6=new Date(""),Vbe=t=>Object.prototype.toString.call(t)==="[object Date]";function Fd(){return new lp}class lp extends yr{constructor(){super({type:"date",check(e){return Vbe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=kbe(e),isNaN(e)?lp.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(au.isRef(e))i=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(e,n=ak.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(i)}})}max(e,n=ak.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(i)}})}}lp.INVALID_DATE=y6;Fd.prototype=lp.prototype;Fd.INVALID_DATE=y6;function Lbe(t,e=[]){let n=[],i=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function r(a,o){let l=Wu.split(a)[0];i.add(l),s.has(`${o}-${l}`)||n.push([o,l])}for(const a of Object.keys(t)){let o=t[a];i.add(a),au.isRef(o)&&o.isSibling?r(o.path,a):Vw(o)&&"deps"in o&&o.deps.forEach(l=>r(l,a))}return hbe.array(Array.from(i),n).reverse()}function qM(t,e){let n=1/0;return t.some((i,s)=>{var r;if((r=e.path)!=null&&r.includes(i))return n=s,!0}),n}function b6(t){return(e,n)=>qM(t,e)-qM(t,n)}const w6=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Gv(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Gv(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Gv(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Gv)}):"optional"in t?t.optional():t}const Nbe=(t,e)=>{const n=[...Wu.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),s=Wu.getter(Wu.join(n),!0)(t);return!!(s&&i in s)};let XM=t=>Object.prototype.toString.call(t)==="[object Object]";function KM(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const Fbe=b6([]);function ia(t){return new x6(t)}class x6 extends yr{constructor(e){super({type:"object",check(n){return XM(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Fbe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let r=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(c=>!this._nodes.includes(c))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const c of o){let h=r[c],f=c in s;if(h){let p,m=s[c];u.path=(n.path?`${n.path}.`:"")+c,h=h.resolve({value:m,context:n.context,parent:l});let v=h instanceof yr?h.spec:void 0,_=v==null?void 0:v.strict;if(v!=null&&v.strip){d=d||c in s;continue}p=!n.__validating||!_?h.cast(s[c],u):s[c],p!==void 0&&(l[c]=p)}else f&&!a&&(l[c]=s[c]);(f!==c in l||l[c]!==s[c])&&(d=!0)}return d?l:s}_validate(e,n={},i,s){let{from:r=[],originalValue:a=e,recursive:o=this.spec.recursive}=n;n.from=[{schema:this,value:a},...r],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(l,u)=>{if(!o||!XM(u)){s(l,u);return}a=a||u;let d=[];for(let c of this._nodes){let h=this.fields[c];!h||au.isRef(h)||d.push(h.asNestedTest({options:n,key:c,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},i,c=>{s(c.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[s,r]of Object.entries(this.fields)){const a=i[s];i[s]=a===void 0?r:a}return n.withMutation(s=>s.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var s;const r=this.fields[i];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=r&&"getDefault"in r?r.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=Lbe(e,n),i._sortErrors=b6(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let s=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),s)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Gv(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,s])=>e.includes(i)&&e.includes(s)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let s=Wu.getter(e,!0);return this.transform(r=>{if(!r)return r;let a=r;return Nbe(r,e)&&(a=Object.assign({},r),i||delete a[e],a[n]=s(r)),a})}json(){return this.transform(w6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Wv.exact,test(n){if(n==null)return!0;const i=KM(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Wv.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const r=KM(this.schema,s);return!e||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=Wv.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const s of Object.keys(n))i[e(s)]=n[s];return i})}camelCase(){return this.transformKeys(hx.camelCase)}snakeCase(){return this.transformKeys(hx.snakeCase)}constantCase(){return this.transformKeys(e=>hx.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[r,a]of Object.entries(n.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),i.fields[r]=a.describe(o)}return i}}ia.prototype=x6.prototype;function GC(t){return new S6(t)}class S6 extends yr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let s=!1;const r=i.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${o}]`}));return l!==a&&(s=!0),l});return s?r:i}_validate(e,n={},i,s){var r;let a=this.innerType,o=(r=n.recursive)!=null?r:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(l,u)=>{var d;if(!o||!a||!this._typeCheck(u)){s(l,u);return}let c=new Array(u.length);for(let f=0;f<u.length;f++){var h;c[f]=a.asNestedTest({options:n,index:f,parent:u,parentPath:n.path,originalParent:(h=n.originalValue)!=null?h:e})}this.runTests({value:u,tests:c,originalValue:(d=n.originalValue)!=null?d:e,options:n},i,f=>s(f.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(w6)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Vw(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+To(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Yv.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||Yv.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||Yv.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,s,r)=>!e(i,s,r):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var s;let r=e;(s=r)!=null&&s.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[0]})),i.innerType=n.innerType.describe(r)}return i}}GC.prototype=S6.prototype;const k6=St({__name:"EditLessonTime",props:{startTime:{},endTime:{},minutesOfLesson:{default:60}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(!1),r=G(!1),a=G(!0),o=ia({startTime:Fn().required("L'Orario di inizio Lezione è obbligatorio").label("Orario di inizio Lezione"),endTime:Fn().required("L'Orario di fine Lezione è obbligatorio").label("Orario di fine Lezione")}),{defineField:l,handleSubmit:u}=$l({validationSchema:o}),d=b=>({props:{"error-messages":b.errors}}),[c,h]=l("startTime",d),[f,p]=l("endTime",d),m=u(async b=>{var x,k;if((((x=$t.fromHHMM(c.value))==null?void 0:x.getTotalMinutes())??0)>(((k=$t.fromHHMM(f.value))==null?void 0:k.getTotalMinutes())??0)){Ze.warning("L'orario di inizio lezione deve essere antecedente all'orario di fine lezione");return}i("save",{...b})},b=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});be(n,()=>v(),{immediate:!0}),be(c,()=>_()),be(a,()=>_());function v(){n.startTime&&(c.value=n.startTime),n.endTime&&(f.value=n.endTime),_()}function _(){if(a.value&&n.minutesOfLesson!=null){const b=$t.fromHHMM(c.value);if(!b)return;f.value=$t.fromITime((b.getTotalMinutes()+n.minutesOfLesson)*60).format()}}return(b,x)=>{const k=j("v-checkbox"),I=j("v-col"),E=j("v-time-picker"),T=j("v-dialog"),S=j("v-text-field"),w=j("v-row"),C=j("v-card-text"),P=j("v-spacer"),D=j("v-btn"),A=j("v-card-actions"),F=j("v-card");return xe(),Oe(F,{title:"Modifica orario lezione",elevation:"2"},{default:M(()=>[g(C,null,{default:M(()=>[g(w,{justify:"space-around"},{default:M(()=>[g(I,{cols:"11",md:"6"},{default:M(()=>[g(k,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=L=>a.value=L),label:"Allinea la data di fine lezione in base alla durata della lezione definita dallo studente"},null,8,["modelValue"])]),_:1}),g(I,{cols:"11",sm:"5"},{default:M(()=>[g(S,Z({modelValue:oe(c),"onUpdate:modelValue":x[3]||(x[3]=L=>Je(c)?c.value=L:null),active:s.value,focus:s.value,label:"Data di inizio"},oe(h),{"prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[g(T,{modelValue:s.value,"onUpdate:modelValue":x[2]||(x[2]=L=>s.value=L),activator:"parent",width:"auto"},{default:M(()=>[s.value?(xe(),Oe(E,{key:0,format:"24hr",modelValue:oe(c),"onUpdate:modelValue":x[1]||(x[1]=L=>Je(c)?c.value=L:null)},null,8,["modelValue"])):Zt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focus"])]),_:1}),g(I,{cols:"11",sm:"5"},{default:M(()=>[g(S,Z({modelValue:oe(f),"onUpdate:modelValue":x[6]||(x[6]=L=>Je(f)?f.value=L:null),active:r.value,focused:r.value,label:"Data di fine"},oe(p),{"prepend-icon":"mdi-clock-time-four-outline",disabled:a.value,readonly:""}),{default:M(()=>[g(T,{modelValue:r.value,"onUpdate:modelValue":x[5]||(x[5]=L=>r.value=L),activator:"parent",width:"auto"},{default:M(()=>[r.value?(xe(),Oe(E,{key:0,format:"24hr",modelValue:oe(f),"onUpdate:modelValue":x[4]||(x[4]=L=>Je(f)?f.value=L:null)},null,8,["modelValue"])):Zt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused","disabled"])]),_:1})]),_:1})]),_:1}),g(A,null,{default:M(()=>[g(P),g(D,{text:"Annulla",variant:"plain",onClick:x[7]||(x[7]=Ku(L=>i("close"),["stop"]))}),g(D,{color:"primary",text:"Modifica",variant:"tonal",onClick:Ku(oe(m),["stop"])},null,8,["onClick"])]),_:1})]),_:1})}}}),T6=St({__name:"DailyLessonCalendar",props:El({date:{default:()=>gt.today()},editable:{type:Boolean,default:!1},showDay:{type:Boolean,default:!1},sort:{type:Boolean,default:!1},school:{},trimTime:{type:Boolean,default:!0}},{modelValue:{default:[]},modelModifiers:{}}),emits:El(["edit"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Gg(),s=e,r=Il(t,"modelValue"),a=G([]),o=G(!1);let l="24:00",u="00:00";be(r,()=>v(),{deep:!0}),be(i.global.name,m),be(()=>n.trimTime,_);const d=PU(),c=TU(),h=hye(15),f=xU(),p=N$({locale:"it-IT",selectedDate:n.date.toIyyyyMMdd("-",1),views:[J$()],events:[],plugins:n.editable?[h,d,c,f]:[h,d,f],callbacks:{onEventUpdate(T){const S=a.value.find(w=>w.id==T.id);S&&(S.start=T.start,S.end=T.end,k(T))}},calendars:s4(n.school)});function m(){p&&(i.global.name.value=="myCustomDarkTheme"?p.setTheme("dark"):p.setTheme("light"))}function v(){l="24:00",u="00:00",a.value=b(),a.value.forEach(T=>{T._options||(T._options={}),T._options.disableDND=!n.editable,d.get(T.id)?d.update(T):d.add(T);let S=T.start.split(" ")[1],w=T.end.split(" ")[1];S<l&&(l=S),w>u&&(u=w)}),d.getAll().forEach(T=>{a.value.findIndex(w=>w.id==T.id)==-1&&d.remove(T.id)}),_()}function _(){if(n.trimTime){l>="01:00"?l=$t.fromHHMM(l).add({hour:-1}).format():l="00:00",u<="23:00"?u=$t.fromHHMM(u).add({hour:1}).format():u="24:00",f.setDayBoundaries({start:l,end:u});const T=f.getWeekOptions(),S=parseInt(u.split(":")[0])-parseInt(l.split(":")[0]);f.setWeekOptions({...T,gridHeight:Math.max(1e3*S/24,400)})}else f.setDayBoundaries({start:"00:00",end:"24:00"})}function b(){const T=n.date.toIyyyyMMdd("-",1);return r.value.map(S=>"lessonId"in S?(console.log(S),{id:S.lessonId,start:T+" "+$t.fromITime(S.startTime).format(),end:T+" "+$t.fromITime(S.endTime).format(),title:`${S.name} ${S.surname} - ${Vs[S.lessonDay??0]}`,calendarId:S.schoolId.toLowerCase(),data:{...S}}):S)}function x(T,S){var A,F;if(!T)return;const w=a.value.find(L=>L.id==T.id);if(!w)return;const C={...T},P=(A=C.start)==null?void 0:A.split(" "),D=(F=C.end)==null?void 0:F.split(" ");w.start=P[0]+" "+S.startTime,w.end=D[0]+" "+S.endTime,k(w),o.value=!1}function k(T){var w,C;const S=r.value.find(P=>"lessonId"in P?P.lessonId==T.id:P.id==T.id);S&&("lessonId"in S?(S.startTime=((w=$t.fromHHMM(T.start.split(" ")[1]))==null?void 0:w.toITime())??S.startTime,S.endTime=((C=$t.fromHHMM(T.end.split(" ")[1]))==null?void 0:C.toITime())??S.endTime):(S.start=T.start,S.end=T.end),n.sort&&r.value.sort((P,D)=>P.startTime-D.startTime),s("edit"))}function I(){const T=document.getElementsByClassName("sx__calendar-header")[0];T.style.display=T.style.display=="none"?"":"none",E()}function E(T=0){const S=document.getElementsByClassName("sx__week-header")[0];S?S.style.display=n.showDay?"":"none":T>=10?console.error("Unable to hide day header"):setTimeout(()=>E(T+1),10)}return kt(()=>{I(),v()}),(T,S)=>{const w=j("v-spacer"),C=j("v-btn"),P=j("v-dialog"),D=j("v-card-actions"),A=j("v-card"),F=j("v-container");return xe(),Oe(F,null,{default:M(()=>[g(oe(CU),{"calendar-app":oe(p)},{eventModal:M(({calendarEvent:L})=>[g(A,{elevation:"3",title:L.title,subtitle:L.start.split(" ")[1]+" - "+L.end.split(" ")[1],text:L.description},{default:M(()=>[g(D,null,{default:M(()=>[g(w),g(P,{modelValue:o.value,"onUpdate:modelValue":S[2]||(S[2]=H=>o.value=H),transition:"dialog-bottom-transition"},{activator:M(({props:H})=>[g(C,{text:"Chiudi",onClick:S[0]||(S[0]=X=>oe(c).close())}),g(C,Z({text:"Modifica",color:"primary"},H,{onClick:S[1]||(S[1]=Ku(()=>{},["stop"]))}),null,16)]),default:M(({isActive:H})=>{var X,z;return[g(k6,{onClose:K=>H.value=!1,onSave:K=>x(L,K),startTime:(X=L.start)==null?void 0:X.split(" ")[1],endTime:(z=L.end)==null?void 0:z.split(" ")[1],minutesOfLesson:L.data.minutesLessonDuration},null,8,["onClose","onSave","startTime","endTime","minutesOfLesson"])]}),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","text"])]),_:1},8,["calendar-app"])]),_:1})}}}),up=St({__name:"DeleteDialog",props:{objName:{default:"Oggetto"},useToast:{type:Boolean,default:!0},name:{},onDelete:{}},emits:["delete"],setup(t,{emit:e}){const n=t,i=G(!1),s=G(!1);async function r(){var o;s.value=!0;const a=await((o=n.onDelete)==null?void 0:o.call(n))??!1;n.useToast&&(a?Ze.success(`${n.objName} eliminato/a`):Ze.warning("Errore durante l'eliminazione")),s.value=!1,i.value=a}return(a,o)=>{const l=j("v-card-text"),u=j("v-btn"),d=j("v-spacer"),c=j("v-card-actions"),h=j("v-card"),f=j("v-dialog");return xe(),Oe(f,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=p=>i.value=p)},{activator:M(({props:p})=>[CH(a.$slots,"activator",CV(Uk({props:p})))]),default:M(()=>[g(h,{"prepend-icon":"mdi-alert",class:"mx-auto","max-width":"500",title:"Elimina "+a.objName},{default:M(()=>[g(l,null,{default:M(()=>[Ve("p",null,[o[2]||(o[2]=Ce("Sei sicuro di voler eliminare ")),Ve("b",null,ct(a.name),1),o[3]||(o[3]=Ce("?"))]),o[4]||(o[4]=Ve("br",null,null,-1)),o[5]||(o[5]=Ve("p",null,[Ce("Dopo avere eliminato la risorsa "),Ve("b",null,"NON"),Ce(" è più possibile recuperare i dati!")],-1))]),_:1}),g(c,null,{default:M(()=>[g(u,{text:"Annulla",onClick:o[0]||(o[0]=p=>i.value=!1)}),g(d),g(u,{color:"surface-variant",text:"Elimina",variant:"flat",onClick:r,loading:s.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:3},8,["modelValue"])}}}),P6=St({__name:"SelectStudents",props:El({allStudents:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Il(t,"modelValue"),i=O(()=>n.value.length===e.allStudents.length),s=O(()=>n.value.length>0);function r(o){return{title:o.name+" "+o.surname,id:o.id}}function a(){i.value?n.value=[]:n.value=e.allStudents.slice()}return(o,l)=>{const u=j("v-checkbox-btn"),d=j("v-list-item"),c=j("v-divider"),h=j("v-select");return xe(),Oe(h,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=f=>n.value=f),items:o.allStudents,label:"Studenti","item-props":r,"return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},yL({_:2},[o.allStudents.length>1?{name:"prepend-item",fn:M(()=>[g(d,{title:"Seleziona tutti",onClick:a},{prepend:M(()=>[g(u,{color:s.value?"indigo-darken-4":void 0,indeterminate:s.value&&!i.value,"model-value":i.value},null,8,["color","indeterminate","model-value"])]),_:1}),g(c,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])}}}),Bbe=!1;class Ki{static string(e=8){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let s=0;s<e;s++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}static word(e=8){let n="";const i="bcdfghjklmnpqrstvwxyz",s="aeiou";for(let r=0;r<e;r=r+3)n+=i[Math.floor(Math.random()*i.length)],n+=s[Math.floor(Math.random()*s.length)],n+=i[Math.floor(Math.random()*i.length)];return n}static int(e=0,n=10){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}static bool(){return Math.random()>=.5}static item(e){if(e.length!=0)return e[this.int(0,e.length-1)]}static items(e,n){if(e.length==0)return[];n??(n=Ki.int(1,e.length-1));const i=[],s=[...e];for(let r=0;r<n;r++){const a=this.int(0,s.length);i.push(s[a]),s.splice(a,1)}return i}static date(e,n){n??(n=new Date),e||(e=new Date,e.setMonth(n.getMonth()-6));const i=e.getTime(),s=n.getTime();return new Date(i+Math.random()*(s-i))}static time(e=0,n=86400,i="minute"){const s=$t.fromITime(this.int(e,n));return i=="minute"&&s.setSeconds(0),s.format()}static text(e=4){let n="";for(let i=0;i<e;i++){for(let s=0;s<this.int(5,20);s++)n+=this.word(this.int(5,10))+" ";n=n.slice(0,-1)+".",this.bool()?n+=`
`:n+=" "}return n}}const my=St({__name:"StudentEditor",props:{school:{},initialStudent:{},edit:{type:Boolean},focus:{},disableFields:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(),r=G([]),a=G(!1);be(()=>n.initialStudent,()=>X()),be(()=>n.school,()=>z());const o=ia({name:Fn().required("Il Nome è obbligatorio").min(1).label("Nome"),surname:Fn().required("Il Cognome è obbligatorio").min(1).label("Cognome"),contact:Fn().label("Contatto").nullable().optional(),lessonDay:Fn().label("Giono di Lezione").nullable().optional(),level:Fn().required("Il Livello è obbligatorio").label("Livello"),minutesLessonDuration:am().required("La Durata della Lezione è obbligatoria").min(1).label("Durata della Lezione"),trial:fy().label("Lezione di Prova"),isSubstitution:fy().label("Supplenza"),note:Fn().label("Note")}),{defineField:l,handleSubmit:u}=$l({validationSchema:o}),d=Q=>({props:{"error-messages":Q.errors}}),[c,h]=l("name",d),[f,p]=l("surname",d),[m,v]=l("contact",d),[_,b]=l("lessonDay",d),[x,k]=l("level",d),[I,E]=l("minutesLessonDuration",d),[T,S]=l("trial",d),[w,C]=l("isSubstitution",d),[P,D]=l("note",d),A=O(()=>{var Q,ee,ue,re;return T.value?(ee=(Q=n.initialStudent)==null?void 0:Q.trial)!=null&&ee.dailyLessonDate?`Lezione di prova: fatta in data ${gt.fromIyyyyMMdd((re=(ue=n.initialStudent)==null?void 0:ue.trial)==null?void 0:re.dailyLessonDate).format()}`:"Lezione di prova: fatta":"Lezione di prova: da fare"}),F=u(async Q=>{Y(Q)},Q=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(Q)});function L(Q){var ee;return(ee=n.disableFields)==null?void 0:ee.includes(Q)}function H(Q){return n.focus==Q}function X(){var Q;if(n.initialStudent){const ee=JSON.parse(JSON.stringify(n.initialStudent));c.value=ee.name,f.value=ee.surname,x.value=ee.level,I.value=ee.minutesLessonDuration,m.value=ee.contact??"",P.value=((Q=ee.note)==null?void 0:Q.text)??"",T.value=ee.trial??!1,w.value=ee.isSubstitution??!1,ee.lessonDay&&(_.value=Vs[ee.lessonDay])}}function z(){s.value=n.school,r.value=s.value.levelRanges.flatMap(Q=>Q.levels)}function K(){c.value=Ki.word(),f.value=Ki.word(),x.value=Ki.item(r.value),_.value=Ki.item(Vs),w.value=Ki.bool(),T.value=Ki.bool(),I.value=Ki.int(30,150),m.value=Ki.word(),P.value=Ki.text()}async function Y(Q){var ue,re,se,$,q,ae,_e,ge,B;a.value=!0;const ee={name:Q.name,surname:Q.surname,schoolId:s.value.id,createdAt:n.edit?n.initialStudent.createdAt:Dt.now(),updatedAt:Dt.now(),minutesLessonDuration:Q.minutesLessonDuration,isSubstitution:Q.isSubstitution,level:Q.level};m.value&&m.value.trim().length!=0&&(ee.contact=m.value.trim()),_.value&&(ee.lessonDay=Vs.indexOf(_.value)),P.value&&P.value.trim().length!=0?ee.note={text:P.value.trim(),updatedAt:Dt.now()}:delete ee.note,T.value?(ee.trial={done:!0},(re=(ue=n.initialStudent)==null?void 0:ue.trial)!=null&&re.dailyLessonDate&&(ee.trial.dailyLessonDate=($=(se=n.initialStudent)==null?void 0:se.trial)==null?void 0:$.dailyLessonDate),(ae=(q=n.initialStudent)==null?void 0:q.trial)!=null&&ae.dailyLessonId&&(ee.trial.dailyLessonId=(ge=(_e=n.initialStudent)==null?void 0:_e.trial)==null?void 0:ge.dailyLessonId)):delete ee.trial;try{n.edit&&((B=n.initialStudent)==null?void 0:B.id)!=null?(await Cr.instance.save(ee,n.initialStudent.id),Ze.success("Studente Aggiornato")):(await Cr.instance.save(ee),Ze.success("Studente Creato")),i("save",ee)}catch(N){i("save"),Ze.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",N)}finally{a.value=!1}}function te(){if(!n.focus)return;const Q=document.getElementById("std_"+n.focus);Q==null||Q.scrollIntoView({block:"start",behavior:"smooth"})}return kt(()=>{te(),X(),z()}),(Q,ee)=>{const ue=j("v-text-field"),re=j("v-col"),se=j("v-select"),$=j("v-number-input"),q=j("v-switch"),ae=j("v-textarea"),_e=j("v-row"),ge=j("v-card-text"),B=j("v-divider"),N=j("v-spacer"),W=j("v-btn"),ce=j("v-card-actions"),de=j("v-card");return xe(),Oe(de,{"prepend-icon":"mdi-school",title:`Studente (${Q.school.name})`},{default:M(()=>[g(ge,null,{default:M(()=>[g(_e,{dense:""},{default:M(()=>[g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({id:"std_name",disabled:L("name"),focused:H("name"),modelValue:oe(c),"onUpdate:modelValue":ee[0]||(ee[0]=ne=>Je(c)?c.value=ne:null)},oe(h),{label:"Nome"}),null,16,["disabled","focused","modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({id:"std_surname",disabled:L("surname"),focused:H("surname"),modelValue:oe(f),"onUpdate:modelValue":ee[1]||(ee[1]=ne=>Je(f)?f.value=ne:null)},oe(p),{label:"Cognome"}),null,16,["disabled","focused","modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({id:"std_contact",disabled:L("contact"),focused:H("contact"),modelValue:oe(m),"onUpdate:modelValue":ee[2]||(ee[2]=ne=>Je(m)?m.value=ne:null)},oe(v),{label:"Contatto"}),null,16,["disabled","focused","modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(se,Z({id:"std_level",disabled:L("level"),focused:H("level"),modelValue:oe(x),"onUpdate:modelValue":ee[3]||(ee[3]=ne=>Je(x)?x.value=ne:null)},oe(k),{items:r.value,label:"Livello"}),null,16,["disabled","focused","modelValue","items"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(se,Z({id:"std_lessonDay",disabled:L("lessonDay"),focused:H("lessonDay"),modelValue:oe(_),"onUpdate:modelValue":ee[4]||(ee[4]=ne=>Je(_)?_.value=ne:null)},oe(b),{items:oe(Vs),label:"Giorno della Lezione",clearable:""}),null,16,["disabled","focused","modelValue","items"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g($,Z({id:"std_minutesLessonDuration",disabled:L("minutesLessonDuration"),focused:H("minutesLessonDuration"),modelValue:oe(I),"onUpdate:modelValue":ee[5]||(ee[5]=ne=>Je(I)?I.value=ne:null)},oe(E),{reverse:!1,controlVariant:"default",label:"Durata della Lezione",suffix:"min",hideInput:!1,inset:!1,min:1}),null,16,["disabled","focused","modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(q,Z({label:A.value,modelValue:oe(T),"onUpdate:modelValue":ee[6]||(ee[6]=ne=>Je(T)?T.value=ne:null)},oe(S),{color:"primary","hide-details":""}),null,16,["label","modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(q,Z({label:"Supplenza",modelValue:oe(w),"onUpdate:modelValue":ee[7]||(ee[7]=ne=>Je(w)?w.value=ne:null)},oe(C),{color:"primary","hide-details":""}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"12"},{default:M(()=>[g(ae,Z({id:"std_note",disabled:L("note"),focused:H("note"),modelValue:oe(P),"onUpdate:modelValue":ee[8]||(ee[8]=ne=>Je(P)?P.value=ne:null)},oe(D),{label:"Note",counter:""}),null,16,["disabled","focused","modelValue"])]),_:1})]),_:1})]),_:1}),g(B),g(ce,null,{default:M(()=>[g(N),oe(Bbe)?(xe(),Oe(W,{key:0,text:"Random",variant:"plain",onClick:K})):Zt("",!0),g(W,{text:"Chiudi",variant:"plain",onClick:ee[9]||(ee[9]=ne=>i("close"))}),g(W,{color:"primary",loading:a.value,disabled:a.value,text:Q.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:oe(F)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1},8,["title"])}}}),jbe=St({__name:"LessonItem",props:El({school:{},onDeleteLessonItem:{type:Function},updateLessonTime:{type:Function},moveLesson:{type:Function}},{item:{required:!0},itemModifiers:{},select:{},selectModifiers:{}}),emits:El(["present","absent","reset","trial","updateLessonTime","deleteStudent"],["update:item","update:select"]),setup(t,{emit:e}){const n=t,i=Il(t,"item"),s=Il(t,"select"),r=e,a=G(!1),o=G(!1),l=G();async function u(c){await n.updateLessonTime(c)&&(a.value=!1)}async function d(){l.value&&(await n.moveLesson(l.value)?(o.value=!1,l.value=void 0):Ze.warn("Impossibile spostare la lezione..."))}return(c,h)=>{const f=j("v-checkbox"),p=j("v-card-title"),m=j("v-btn"),v=j("v-col"),_=j("v-row"),b=j("v-card-actions"),x=j("v-card"),k=j("v-dialog"),I=j("v-date-picker"),E=j("v-card-text"),T=j("v-spacer"),S=j("v-icon");return xe(),Oe(x,{elevation:"3"},{default:M(()=>[g(p,null,{default:M(()=>[g(f,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=w=>s.value=w),value:i.value.id,multiple:""},{label:M(()=>[Ve("span",null,[Ve("b",null,ct(oe($t).fromITime(i.value.startTime).format())+" - "+ct(oe($t).fromITime(i.value.endTime).format()),1),h[7]||(h[7]=Ce("   ")),Ve("i",null,ct(i.value.name)+" "+ct(i.value.surname),1)])]),_:1},8,["modelValue","value"])]),_:1}),g(E,null,{default:M(()=>{var w,C;return[!i.value.recovery||i.value.recovery.ref=="original"?(xe(),Tt(Pe,{key:0},[i.value.status!=oe(Ot).TRIAL&&i.value.status!=oe(Ot).PRESENT?(xe(),Oe(m,{key:0,class:"ma-1",onClick:h[1]||(h[1]=P=>r("present"))},{default:M(()=>h[8]||(h[8]=[Ce("presente")])),_:1})):Zt("",!0),g(k,{transition:"dialog-bottom-transition"},{activator:M(({props:P})=>[i.value.status!=oe(Ot).TRIAL&&i.value.status!=oe(Ot).ABSENT&&i.value.status!=oe(Ot).UNJUSTIFIED_ABSENCE?(xe(),Oe(m,Z({key:0,class:"ma-1"},P),{default:M(()=>h[9]||(h[9]=[Ce("assente")])),_:2},1040)):Zt("",!0)]),default:M(({isActive:P})=>[g(x,{title:"Assenza",text:"Lo studente avrà modo di recuperare la lezione oppure è un'assenza ingiustificata?"},{default:M(()=>[g(b,null,{default:M(()=>[g(_,{class:"justify-end"},{default:M(()=>[g(v,{cols:"auto"},{default:M(()=>[g(m,{text:"Assenza Ingiustificata",onClick:D=>{P.value=!1,r("absent",!1)}},null,8,["onClick"])]),_:2},1024),g(v,{cols:"auto"},{default:M(()=>[g(m,{text:"Assenza Recuperabile",color:"primary",onClick:D=>{P.value=!1,r("absent",!0)}},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1}),i.value.status==oe(Ot).NONE&&!((w=i.value.trial)!=null&&w.done)?(xe(),Oe(m,{key:1,class:"ma-1",onClick:h[2]||(h[2]=P=>r("trial"))},{default:M(()=>h[10]||(h[10]=[Ce("prova")])),_:1})):Zt("",!0),i.value.status!=oe(Ot).NONE?(xe(),Oe(m,{key:2,class:"ma-1",onClick:h[3]||(h[3]=P=>r("reset"))},{default:M(()=>h[11]||(h[11]=[Ce("reset")])),_:1})):Zt("",!0),g(k,{modelValue:o.value,"onUpdate:modelValue":h[5]||(h[5]=P=>o.value=P),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:P})=>[!i.value.recovery&&i.value.status==oe(Ot).NONE?(xe(),Oe(m,Z({key:0,class:"ma-1"},P),{default:M(()=>h[12]||(h[12]=[Ce("sposta")])),_:2},1040)):Zt("",!0)]),default:M(({isActive:P})=>[g(x,null,{default:M(()=>[g(E,null,{default:M(()=>[g(I,{class:"w-100",modelValue:l.value,"onUpdate:modelValue":h[4]||(h[4]=D=>l.value=D)},null,8,["modelValue"])]),_:1}),g(b,null,{default:M(()=>[g(T),g(m,{text:"Annulla",onClick:D=>{P.value=!1,l.value=void 0}},null,8,["onClick"]),g(m,{color:"primary",text:"Sposta",onClick:d,disabled:!l.value},null,8,["disabled"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"]),g(k,{modelValue:a.value,"onUpdate:modelValue":h[6]||(h[6]=P=>a.value=P),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:P})=>[g(m,Z({class:"ma-1"},P),{default:M(()=>h[13]||(h[13]=[Ce("modifica orario")])),_:2},1040)]),default:M(({isActive:P})=>[g(k6,{onClose:D=>P.value=!1,onSave:u,startTime:oe($t).fromITime(i.value.startTime).format(),endTime:oe($t).fromITime(i.value.endTime).format(),minutesOfLesson:i.value.minutesLessonDuration},null,8,["onClose","startTime","endTime","minutesOfLesson"])]),_:1},8,["modelValue"]),((C=i.value.recovery)==null?void 0:C.ref)=="original"?(xe(),Oe(m,{key:3,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:M(()=>[g(S,null,{default:M(()=>h[14]||(h[14]=[Ce("mdi-eye-arrow-left-outline")])),_:1})]),default:M(()=>[h[15]||(h[15]=Ce(" origine"))]),_:1},8,["to"])):Zt("",!0)],64)):(xe(),Oe(m,{key:1,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:M(()=>[g(S,null,{default:M(()=>h[16]||(h[16]=[Ce("mdi-eye-arrow-right-outline")])),_:1})]),default:M(()=>[h[17]||(h[17]=Ce("recupero"))]),_:1},8,["to"])),g(k,{fullscreen:""},{activator:M(({props:P})=>[g(m,Z({class:"ma-1"},P),{default:M(()=>h[18]||(h[18]=[Ce(" note ")])),_:2},1040)]),default:M(({isActive:P})=>[g(my,{edit:"",school:c.school,initialStudent:i.value,focus:"note",disableFields:["name","surname","contact","lessonDay","level","minutesLessonDuration"],onClose:D=>P.value=!1,onSave:D=>{i.value.note=D.note,P.value=!1}},null,8,["school","initialStudent","onClose","onSave"])]),_:1}),g(up,{name:`${i.value.name} ${i.value.surname}`,objName:"Studente",onDelete:c.onDeleteLessonItem},{activator:M(({props:P})=>[g(m,Z({color:"error"},P),{default:M(()=>h[19]||(h[19]=[Ce("elimina")])),_:2},1040)]),_:1},8,["name","onDelete"])]}),_:1})]),_:1})}}}),$be={class:"text-h5 text-center"},Ube={class:"text-subtitle"},Hbe=St({__name:"DailyLessonView",setup(t){const e=Wg(),n=Ac(),i=O(()=>e.params.id),s=Nt.instance.observe(i),r=mP(s),a=G(),o=G([]),l=G(!1),u=G([]),d=G([]),c=G([]),h=G(!1),f=G(!1),p=G(!1),m=G(!1),v=G(!1),_=G(!1),b=G(!0),x=G(0),k=O(()=>{var $,q;return isNaN((($=r.value)==null?void 0:$.salary)??0)?0:(q=r.value)==null?void 0:q.salary}),I=O(()=>o.value.length!=0),E=O(()=>h.value||f.value||!a.value||!r.value||b.value);let T;be(r,()=>ee()),be(s,()=>b.value=!0),be(o,()=>{o.value.length==0&&(l.value=!1)});function S($){return $.recovery&&$.recovery.ref=="recovery"?"#5193FC":$.status==Ot.NONE?"#46494C":$.status==Ot.PRESENT?"#00D138":$.status==Ot.ABSENT||$.status==Ot.UNJUSTIFIED_ABSENCE?"#B3001B":$.status==Ot.TRIAL?"#57C282":"#808080"}async function w($){X();const q=o.value.map(ae=>u.value.find(_e=>_e.id==ae)).filter(ae=>!!ae);q.push($),q.forEach(ae=>ae.status=Ot.PRESENT),o.value=[],await ue(),await ko.instance.updateRecovery($v.SET_PRESENT,r.value.schoolId,...q.map(ae=>({...ae,dailyLessonId:r.value.id})))}async function C($,q=!0){X();const ae=o.value.map(_e=>u.value.find(ge=>ge.id==_e)).filter(_e=>!!_e);ae.push($),ae.forEach(_e=>_e.status=q?Ot.ABSENT:Ot.UNJUSTIFIED_ABSENCE),o.value=[],await ue(),q&&await ko.instance.updateRecovery($v.SET_ABSENT,r.value.schoolId,...ae.map(_e=>({..._e,dailyLessonId:r.value.id})))}async function P($){var q,ae;$&&(X(),$.status=Ot.TRIAL,await ue(),await Or.instance.setTrialDone($,(q=r.value)==null?void 0:q.date,(ae=r.value)==null?void 0:ae.id))}async function D($){if($){X();const q=$.status==Ot.TRIAL;$.status=Ot.NONE,await ue(),await ko.instance.updateRecovery($v.RESET,r.value.schoolId,{...$,dailyLessonId:r.value.id}),q&&await Or.instance.unsetTrial($)}}async function A($,q){if(!$||!a.value||!q)return console.warn("Unable to move the lesson because the event/school/date is undefined!"),!1;const ae=await Bi.instance.getOrCreateDailyLessonId(a.value.id,q),_e=await Nt.instance.get(ae);if(_e)_e.lessons.push({lessonId:$.lessonId,studentId:$.studentId,endTime:$.endTime,startTime:$.startTime,status:Ot.NONE,updatedAt:Dt.now(),createdAt:Dt.now()}),await Nt.instance.save(_e,_e.id);else return console.warn("Unable to move the lesson because the new daily lesson is undefined!"),!1;return await Q($,!1)}async function F($,q){var ge,B;const ae=(ge=$t.fromHHMM(q.startTime))==null?void 0:ge.toITime(),_e=(B=$t.fromHHMM(q.endTime))==null?void 0:B.toITime();return ae==null||_e==null?!1:(X(),$.startTime=ae,$.endTime=_e,u.value.sort((N,W)=>N.startTime-W.startTime),await ue(),!0)}function L(){l.value?o.value=[]:o.value=[...u.value.map($=>$.id)]}let H;function X(){H=JSON.stringify(u.value)}function z(){H!=null&&(u.value=JSON.parse(H))}async function K(){if(r.value)try{p.value=!0;const $=r.value.lessons.map(ae=>ae.studentId),q=await Or.instance.getStudentsOfSchool(r.value.schoolId);d.value=q.filter(ae=>!$.includes(ae.id)),c.value=[]}catch($){Ze.warn("Impossibile caricare gli studenti..."),console.log($)}finally{p.value=!1}}async function Y(){v.value=!0;const $={...r.value};c.value.forEach(q=>{var _e,ge;const ae=((_e=$.lessons)==null?void 0:_e.length)==0?28800:$.lessons[$.lessons.length-1].endTime;(ge=$.lessons)==null||ge.push({lessonId:Ld(),status:Ot.NONE,studentId:q.id,startTime:ae,endTime:ae+q.minutesLessonDuration*60,createdAt:Dt.now(),updatedAt:Dt.now()})});try{await Nt.instance.save($,$.id),Ze.success("Studenti aggiunti!"),_.value=!1,console.log("Document (daily lessons) update with ID: ",$.id)}catch{Ze.warning("Impossibile aggiungere gli studenti alla lezione giornaliera")}finally{v.value=!1}}async function te(){if(!r.value)return!1;try{return await Nt.instance.delete(r.value.id),n.push(`/school/${a.value.id}`),!0}catch{return!1}}async function Q($,q=!0){if(!r.value)return!1;try{const ae=await Bi.instance.deleteLessonAndRecoveryReferences($,r.value,q);return ae&&(!r.value||r.value.lessons.length==0)&&n.push(`/school/${a.value.id}`),ae}catch(ae){return console.warn("Unable to delete the student lesson...",ae),!1}}async function ee(){if(b.value=!1,!r.value)return;a.value||(f.value=!0,a.value=await Lr.instance.get(r.value.schoolId),f.value=!1);const $=u.value.map(_e=>_e.studentId),q=r.value.lessons.map(_e=>_e.studentId);Qle($,q)&&T==r.value.id||(h.value=!0,T=r.value.id,u.value=await sg.instance.getStudentLesson(r.value,q),re(),h.value=!1)}async function ue(){m.value=!0;const $=se();if($===void 0){m.value=!1;return}try{await Nt.instance.save($,$.id),Ze.success("Modifiche salvate",{autoClose:1e3}),m.value=!1}catch(q){console.error("Error adding document (dailyLesson): ",q),m.value=!1,z()}}function re(){var $,q;(($=r.value)==null?void 0:$.salaryStrategy)!=((q=a.value)==null?void 0:q.salaryStrategy)&&(Ze.info("Aggiornamento dello stipendio giornaliero in corso..."),ue())}function se(){var ge,B;const $=r.value;if($===void 0)return;const q=[];let ae=0;$.lessons.forEach(N=>{const W=u.value.find(de=>de.id==N.studentId);if(W===void 0)return;const ce={lessonId:N.lessonId,createdAt:N.createdAt,studentId:N.studentId,startTime:W.startTime,endTime:W.endTime,status:W.status,updatedAt:Dt.now()};N.recovery&&(ce.recovery=N.recovery),q.push(ce),ae+=ig.instance.computeSalaryByStudentLesson(a.value,W)});const _e={date:$.date,id:$.id,lessons:q.sort((N,W)=>N.startTime-W.startTime),schoolId:$.schoolId,lastSalaryUpdate:Dt.now(),salary:ae};return((ge=a.value)==null?void 0:ge.salaryStrategy)!=null&&(_e.salaryStrategy=(B=a.value)==null?void 0:B.salaryStrategy),_e}return Us(()=>{}),kt(async()=>{window.scrollTo(0,0)}),($,q)=>{const ae=j("v-col"),_e=j("v-row"),ge=j("v-btn"),B=j("v-card-text"),N=j("v-spacer"),W=j("v-card-actions"),ce=j("v-card"),de=j("v-dialog"),ne=j("v-checkbox"),Te=j("v-icon"),Me=j("v-btn-toggle"),Se=j("v-timeline-item"),Ee=j("v-timeline"),ze=j("v-slide-x-transition"),Fe=j("v-container"),qe=j("v-progress-circular"),st=j("v-overlay"),et=j("v-skeleton-loader");return oe(r)&&a.value&&!E.value?(xe(),Oe(Fe,{key:0,fluid:""},{default:M(()=>[g(_e,{class:"justify-center align-center mb-6"},{default:M(()=>[g(ae,{cols:"auto"},{default:M(()=>[g(sp)]),_:1}),g(ae,null,{default:M(()=>[g(_e,null,{default:M(()=>[g(ae,null,{default:M(()=>[Ve("p",$be,[q[7]||(q[7]=Ce("Lezione del ")),Ve("b",null,ct(oe(gt).fromIyyyyMMdd(oe(r).date).format()),1)])]),_:1})]),_:1}),g(_e,{class:"justify-center"},{default:M(()=>[g(ae,{cols:"auto"},{default:M(()=>[Ve("span",Ube,[q[8]||(q[8]=Ce(" Totale: ")),Ve("b",null,ct(k.value)+" €",1)])]),_:1})]),_:1})]),_:1})]),_:1}),g(_e,null,{default:M(()=>[g(ae,null,{default:M(()=>[g(ge,{onClick:w,disabled:!I.value},{default:M(()=>q[9]||(q[9]=[Ce("presenti")])),_:1},8,["disabled"])]),_:1}),g(ae,null,{default:M(()=>[g(ge,{onClick:C,disabled:!I.value},{default:M(()=>q[10]||(q[10]=[Ce("assenti")])),_:1},8,["disabled"])]),_:1}),g(ae,null,{default:M(()=>[g(de,{modelValue:_.value,"onUpdate:modelValue":q[2]||(q[2]=We=>_.value=We),transition:"dialog-bottom-transition","max-width":"500",persistent:""},{activator:M(({props:We})=>[g(ge,Z({onClick:K},We),{default:M(()=>q[11]||(q[11]=[Ce("Aggiungi studente")])),_:2},1040)]),default:M(()=>[g(ce,{title:"Tutti gli studenti della scuola",loading:p.value},{default:M(()=>[g(B,null,{default:M(()=>[g(P6,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=We=>c.value=We),"all-students":d.value},null,8,["modelValue","all-students"])]),_:1}),g(W,null,{default:M(()=>[g(ge,{text:"Annulla",onClick:q[1]||(q[1]=We=>_.value=!1)}),g(N),g(ge,{color:"primary",text:"Salva",onClick:Y,loading:v.value},null,8,["loading"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),g(ae,null,{default:M(()=>[g(ne,{modelValue:l.value,"onUpdate:modelValue":q[3]||(q[3]=We=>l.value=We),indeterminate:o.value.length!=0&&o.value.length!=u.value.length,onClick:L},null,8,["modelValue","indeterminate"])]),_:1}),g(ae,null,{default:M(()=>[g(up,{name:oe(gt).fromIyyyyMMdd(oe(r).date).format(),objName:"Lezione Giornaliera",onDelete:async()=>await te()},{activator:M(({props:We})=>[g(ge,Z({color:"error"},We,{ref:"deleteDailyLessonBtn"}),{default:M(()=>q[12]||(q[12]=[Ce("elimina lezione")])),_:2},1040)]),_:1},8,["name","onDelete"])]),_:1}),g(ae,null,{default:M(()=>[g(Me,{modelValue:x.value,"onUpdate:modelValue":q[4]||(q[4]=We=>x.value=We),mandatory:"",shaped:""},{default:M(()=>[g(ge,null,{default:M(()=>[g(Te,null,{default:M(()=>q[13]||(q[13]=[Ce("mdi-timeline-text-outline")])),_:1})]),_:1}),g(ge,null,{default:M(()=>[g(Te,null,{default:M(()=>q[14]||(q[14]=[Ce("mdi-calendar-week-begin-outline")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),g(Fe,{fluid:""},{default:M(()=>[g(ze,{"leave-absolute":""},{default:M(()=>[x.value==1?(xe(),Oe(T6,{key:0,date:oe(gt).fromIyyyyMMdd(oe(r).date),school:a.value,modelValue:u.value,"onUpdate:modelValue":q[5]||(q[5]=We=>u.value=We),editable:"",sort:"",onEdit:ue},null,8,["date","school","modelValue"])):(xe(),Oe(Ee,{key:1,side:"end","truncate-line":"both"},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(u.value,(We,Rt)=>(xe(),Oe(Se,{key:We.id+oe(r).id,"dot-color":S(We),size:"small"},{default:M(()=>[(xe(),Oe(jbe,{school:a.value,key:We.id+oe(r).id,item:u.value[Rt],"onUpdate:item":tn=>u.value[Rt]=tn,select:o.value,"onUpdate:select":q[6]||(q[6]=tn=>o.value=tn),onPresent:tn=>w(We),onAbsent:tn=>C(We,tn),moveLesson:async tn=>await A(We,tn),onTrial:tn=>P(We),onReset:tn=>D(We),updateLessonTime:async tn=>await F(We,tn),onDeleteLessonItem:async()=>await Q(We)},null,8,["school","item","onUpdate:item","select","onPresent","onAbsent","moveLesson","onTrial","onReset","updateLessonTime","onDeleteLessonItem"]))]),_:2},1032,["dot-color"]))),128))]),_:1}))]),_:1})]),_:1}),g(st,{"model-value":m.value,class:"align-center justify-center"},{default:M(()=>[g(qe,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["model-value"])]),_:1})):(xe(),Oe(Fe,{key:1,fluid:""},{default:M(()=>[g(et,{class:"mx-auto",type:"heading"}),g(et,{class:"mx-auto justify-center",type:"chip, chip, chip, chip, chip, chip, chip"}),(xe(),Tt(Pe,null,Ii(3,We=>g(et,{key:We,class:"mx-auto justify-center mt-4","max-width":"75%",elevation:"3",type:"sentences, chip, chip, chip, chip"})),64))]),_:1}))}}}),QM=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}};var Hn=(t=>(t[t.ERROR=0]="ERROR",t[t.WARNING=1]="WARNING",t[t.INFO=2]="INFO",t[t.EXCEPTION=3]="EXCEPTION",t[t.PROMISE_REJECTION=4]="PROMISE_REJECTION",t[t.ALL=5]="ALL",t))(Hn||{});const $y=class $y{constructor(){an(this,"logs",[]);an(this,"logs2",[]);an(this,"_subscription",new bU)}static get instance(){return this._instance||(this._instance=new $y),this._instance}get subscription(){return this._subscription}get enabled(){return Ks.getItem("debugEnabled")??!0}push(e,...n){if(!this.enabled)return;let i="";try{i=JSON.stringify(n,QM())}catch(r){i=JSON.stringify(r,QM())}const s=new Date;this.logs.push({level:e,message:i,timestamp:s}),this._subscription.next(this.logs)}clear(){this.logs.length=0,this._subscription.next(this.logs)}};an($y,"_instance",null);let wl=$y;const zbe={key:0,class:"text-caption"},Wbe={key:1,class:"text-caption"},Ybe={key:2,class:"text-caption"},Gbe=St({__name:"LogConsole",props:{bufferSize:{default:250}},setup(t){const e=t,n=G([]),i=G([]),s=G(!0),r=G(!0),a=wH("consoleOutput"),o=[{text:()=>`Totale ${n.value.length}`,icon:"mdi-format-list-bulleted",color:"",type:Hn.ALL},{text:()=>`Errori ${n.value.filter(_=>_.level==Hn.ERROR||_.level==Hn.EXCEPTION||_.level==Hn.PROMISE_REJECTION).length}`,icon:"mdi-close-octagon",color:"error",type:Hn.ERROR},{text:()=>`Warning ${n.value.filter(_=>_.level==Hn.WARNING).length}`,icon:"mdi-alert-outline",color:"warning",type:Hn.WARNING},{text:()=>`Info ${n.value.filter(_=>_.level==Hn.INFO).length}`,icon:"mdi-information-outline",color:"info",type:Hn.INFO}],l=G([]);let u;be(l,()=>{l.value.length==0||l.value.includes(Hn.ALL)?i.value=n.value:i.value=n.value.filter(_=>l.value.includes(_.level)),v()});function d(){wl.instance.clear()}async function c(){const _=i.value.map(b=>b.timestamp.toJSON()+" - "+b.message).join(`
`);navigator.clipboard.writeText(_)}function h(){s.value=!s.value}function f(){r.value=!r.value,v()}function p(_){if(l.value.includes(_))l.value=[];else{const b=[_];_==Hn.ERROR&&b.push(Hn.EXCEPTION,Hn.PROMISE_REJECTION),l.value=b}}function m(_){i.value=n.value=[..._].splice(0,e.bufferSize),v()}function v(){r.value&&setTimeout(()=>{var _,b;(b=a.value)==null||b.$el.scrollTo({top:(_=a.value)==null?void 0:_.$el.scrollHeight,behavior:"smooth"})},100)}return kt(()=>{u=wl.instance.subscription.subscribe({next:_=>m(_)},!0)}),Us(()=>{u==null||u.unsubscribe()}),(_,b)=>{const x=j("v-btn"),k=j("v-spacer"),I=j("v-system-bar"),E=j("v-icon"),T=j("v-list-item-title"),S=j("v-list-item"),w=j("v-list"),C=j("v-col"),P=j("v-slide-x-transition"),D=j("v-card"),A=j("v-card-text"),F=j("v-row"),L=j("v-main"),H=j("v-layout");return xe(),Oe(D,{class:"console-card"},{default:M(()=>[g(H,null,{default:M(()=>[g(I,{color:"pink-darken-2",style:{height:"35px"}},{default:M(()=>[g(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-dots-vertical",onClick:h}),g(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-format-vertical-align-bottom",color:r.value?"yellow":"",onClick:f},null,8,["color"]),g(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-content-copy",onClick:c}),g(k),g(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-delete",onClick:d})]),_:1}),g(L,null,{default:M(()=>[g(F,{class:"pa-0 pt-3"},{default:M(()=>[g(P,{"hide-on-leave":""},{default:M(()=>[s.value?(xe(),Oe(C,{key:0,class:"my-4 border-e-thin"},{default:M(()=>[g(w,{lines:!1,density:"compact",nav:""},{default:M(()=>[(xe(),Tt(Pe,null,Ii(o,(X,z)=>g(S,{key:z,value:X,color:"primary",onClick:K=>p(X.type)},{prepend:M(()=>[g(E,{icon:X.icon,color:X.color},null,8,["icon","color"])]),default:M(()=>[g(T,null,{default:M(()=>[Ce(ct(X.text()),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):Zt("",!0)]),_:1}),g(C,{md:s.value?10:12},{default:M(()=>[g(A,{class:"console-output px-2",ref_key:"consoleOutput",ref:a},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(i.value,(X,z)=>(xe(),Oe(D,{key:z,class:"log-entry my-1 pa-1"},{default:M(()=>[X.level==oe(Hn).ERROR||X.level==oe(Hn).EXCEPTION||X.level==oe(Hn).PROMISE_REJECTION?(xe(),Tt("p",zbe,[g(E,{color:"error",class:"mr-2"},{default:M(()=>b[0]||(b[0]=[Ce("mdi-close-octagon")])),_:1}),Ce(" "+ct(X.message),1)])):X.level==oe(Hn).WARNING?(xe(),Tt("p",Wbe,[g(E,{color:"warning",class:"mr-2"},{default:M(()=>b[1]||(b[1]=[Ce("mdi-alert-outline")])),_:1}),Ce(" "+ct(X.message),1)])):(xe(),Tt("p",Ybe,[g(E,{color:"info",class:"mr-2"},{default:M(()=>b[2]||(b[2]=[Ce("mdi-information-outline")])),_:1}),Ce(" "+ct(X.message),1)]))]),_:2},1024))),128))]),_:1},512)]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),qC=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},qbe=qC(Gbe,[["__scopeId","data-v-e81b5894"]]),Xbe=St({__name:"DebuggerView",setup(t){const e=G(!1);return kt(()=>{e.value=Ks.getItem("debugEnabled")??!1}),(n,i)=>{const s=j("v-col"),r=j("v-row"),a=j("v-icon"),o=j("v-btn"),l=j("v-container");return xe(),Oe(l,{fluid:"",class:"mb-5"},{default:M(()=>[g(r,{class:"justify-center align-center mb-6"},{default:M(()=>[g(s,{cols:"auto"},{default:M(()=>[g(sp)]),_:1}),g(s,null,{default:M(()=>i[0]||(i[0]=[Ve("p",{class:"text-h5 text-center"},"Log dell'applicazione",-1)])),_:1})]),_:1}),g(r,null,{default:M(()=>[e.value?(xe(),Oe(s,{key:0},{default:M(()=>[g(qbe)]),_:1})):(xe(),Oe(s,{key:1,class:"text-center"},{default:M(()=>[Ve("p",null,[i[3]||(i[3]=Ce("La console di debug non è abilitata. Abilitala tramite le ")),g(o,{to:"settings",variant:"text"},{default:M(()=>[g(a,null,{default:M(()=>i[1]||(i[1]=[Ce("mdi-link")])),_:1}),i[2]||(i[2]=Ce(" impostazioni"))]),_:1})])]),_:1}))]),_:1})]),_:1})}}}),Kbe={key:0,class:"text-h5 font-weight-bold"},Qbe={key:1,class:"text-h5 font-weight-bold"},Jbe={key:0,class:"text-center text-body-2"},Zbe={key:1,class:"text-center text-body-2"},ewe=St({__name:"LoginView",setup(t){const e=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,n=ia({lEmail:Fn().required("L'email è obbligatoria").label("Email").email(),lPassword:Fn().required("La password è obbligatoria").label("Password").min(8)}),i=ia({rName:Fn().label("Nome"),rEmail:Fn().required("L'email è obbligatoria").label("Email").email(),rPassword:Fn().required("La password è obbligatoria").label("Password").min(8),rPasswordConfirm:Fn().oneOf([wbe("rPassword")],"Le passwords devono essere uguali").required().label("Ripeti password")}),s=$l({validationSchema:n}),r=$l({validationSchema:i}),a=L=>({props:{"error-messages":L.errors}}),[o,l]=s.defineField("lEmail",a),[u,d]=s.defineField("lPassword",a),[c,h]=r.defineField("rName",a),[f,p]=r.defineField("rEmail",a),[m,v]=r.defineField("rPassword",a),[_,b]=r.defineField("rPasswordConfirm",a),x=G(Ks.getItem("userSettings")??!1),k=G(!1),I=G(!1),E=G(!1),T=G("login"),S=ij();be(T,()=>{s.resetForm(),r.resetForm()}),be(x,L=>{L?w():Ks.removeItem("userSettings")}),be(o,()=>{x.value&&w()});function w(){const L={name:o.value};Ks.setItem("userSettings",L)}async function C(){(await s.validate()).valid&&w7(S,o.value,u.value).catch(H=>{Ze.error("Login fallito: "+H),console.error("Failed signin",H)})}function P(){H7(S,Dce).catch(L=>{Ze.error("Login fallito: "+L),console.error("Failed signin",L)})}function D(){Ze.warn("Login via facebook non disponibile")}async function A(){if(!(await s.validateField("lEmail")).valid){Ze.warning("Inserisci l'email per effettuare il reset della password. Un link sarà inviato via email!");return}try{await y7(S,o.value),Ze.success("Controlla la tua email per effettuare il reset della password!")}catch(H){Ze.error("Reset della password fallito: "+H),console.error("Failed reset password",H)}}async function F(){if((await r.validate()).valid)try{const H=await b7(S,f.value,m.value);c.value.trim().length>0&&S7(H.user,{displayName:c.value.trim()})}catch(H){Ze.error("Registrazione fallita: "+H),console.error("Failed signup",H)}}return kt(()=>{const L=Ks.getItem("userSettings");x.value=!!L,L&&L.name&&(o.value=L.name)}),(L,H)=>{const X=j("v-img"),z=j("v-row"),K=j("v-text-field"),Y=j("v-col"),te=j("v-checkbox"),Q=j("v-btn"),ee=j("v-divider"),ue=j("v-form"),re=j("v-card-text"),se=j("v-card"),$=j("v-fab-transition"),q=j("v-container");return xe(),Oe(q,null,{default:M(()=>[g(z,{class:"justify-center pt-5 pb-2"},{default:M(()=>[g(X,{contain:"",src:oe(e),height:"50",width:"50"},null,8,["src"])]),_:1}),g(z,{class:"justify-center pb-10"},{default:M(()=>[T.value=="login"?(xe(),Tt("p",Kbe,"Accedi al tuo account")):(xe(),Tt("p",Qbe,"Crea un nuovo account"))]),_:1}),g($,null,{default:M(()=>[T.value=="login"?(xe(),Oe(z,{key:0,class:"justify-center pb-8"},{default:M(()=>[g(se,{"min-width":"400",elevation:"3"},{default:M(()=>[g(re,null,{default:M(()=>[g(ue,{class:"ma-2"},{default:M(()=>[g(z,{class:"justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(K,Z({density:"compact",variant:"outlined",modelValue:oe(o),"onUpdate:modelValue":H[0]||(H[0]=ae=>Je(o)?o.value=ae:null)},oe(l),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),g(z,{class:"justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(K,Z({density:"compact",variant:"outlined",modelValue:oe(u),"onUpdate:modelValue":H[1]||(H[1]=ae=>Je(u)?u.value=ae:null),hint:"Almeno 8 caratteri","append-inner-icon":k.value?"mdi-eye":"mdi-eye-off"},oe(d),{type:k.value?"text":"password","onClick:appendInner":H[2]||(H[2]=ae=>k.value=!k.value),counter:"",label:"Password",autocomplete:"on"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),g(z,{class:"justify-space-between align-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(te,{density:"compact",modelValue:x.value,"onUpdate:modelValue":H[3]||(H[3]=ae=>x.value=ae),label:"Ricordati","hide-details":""},null,8,["modelValue"])]),_:1}),g(Y,{class:"px-2"},{default:M(()=>[Ve("a",{class:"text-decoration-none text-primary text-body-2 font-weight-medium cursor-pointer",onClick:A}," Password dimenticata? ")]),_:1})]),_:1}),g(z,{class:"mb-5 justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(Q,{class:"w-100",variant:"flat",color:"blue",onClick:C},{default:M(()=>H[12]||(H[12]=[Ce("Accedi")])),_:1})]),_:1})]),_:1}),g(ee,{class:"my-5"},{default:M(()=>H[13]||(H[13]=[Ce("Oppure")])),_:1}),g(z,{class:"my-1 justify-center pt-5"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(Q,{class:"w-100 text-body-1",variant:"outlined",color:"error","prepend-icon":"mdi-google",onClick:P},{default:M(()=>H[14]||(H[14]=[Ce("Google")])),_:1})]),_:1}),g(Y,{class:"px-2"},{default:M(()=>[g(Q,{class:"w-100 text-body-1",variant:"outlined",color:"blue","prepend-icon":"mdi-facebook",onClick:D},{default:M(()=>H[15]||(H[15]=[Ce("Facebook")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(xe(),Oe(z,{key:1,class:"justify-center pb-8"},{default:M(()=>[g(se,{"min-width":"400",elevation:"3"},{default:M(()=>[g(re,null,{default:M(()=>[g(ue,{class:"ma-2"},{default:M(()=>[g(z,{class:"justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(K,Z({density:"compact",variant:"outlined",modelValue:oe(c),"onUpdate:modelValue":H[4]||(H[4]=ae=>Je(c)?c.value=ae:null)},oe(h),{label:"Nome"}),null,16,["modelValue"])]),_:1})]),_:1}),g(z,{class:"justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(K,Z({density:"compact",variant:"outlined",modelValue:oe(f),"onUpdate:modelValue":H[5]||(H[5]=ae=>Je(f)?f.value=ae:null)},oe(p),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),g(z,{class:"justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(K,Z({density:"compact",variant:"outlined",modelValue:oe(m),"onUpdate:modelValue":H[6]||(H[6]=ae=>Je(m)?m.value=ae:null),hint:"Almeno 8 caratteri","append-inner-icon":I.value?"mdi-eye":"mdi-eye-off",type:I.value?"text":"password","onClick:appendInner":H[7]||(H[7]=ae=>I.value=!I.value),counter:""},oe(v),{label:"Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),g(z,{class:"justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(K,Z({density:"compact",variant:"outlined",modelValue:oe(_),"onUpdate:modelValue":H[8]||(H[8]=ae=>Je(_)?_.value=ae:null),"append-inner-icon":E.value?"mdi-eye":"mdi-eye-off",type:E.value?"text":"password","onClick:appendInner":H[9]||(H[9]=ae=>E.value=!E.value),counter:""},oe(b),{label:"Ripeti Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),g(z,{class:"mb-5 justify-center"},{default:M(()=>[g(Y,{class:"px-2"},{default:M(()=>[g(Q,{class:"w-100",variant:"flat",color:"blue",onClick:F},{default:M(()=>H[16]||(H[16]=[Ce("Registrati")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),g(z,{class:"justify-center pb-10"},{default:M(()=>[T.value=="login"?(xe(),Tt("div",Jbe,[H[17]||(H[17]=Ce(" Non hai un account? ")),Ve("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:H[10]||(H[10]=ae=>T.value="register")},"Registrati")])):(xe(),Tt("div",Zbe,[H[18]||(H[18]=Ce(" Hai già un account? ")),Ve("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:H[11]||(H[11]=ae=>T.value="login")},"Accedi")]))]),_:1})]),_:1})}}}),twe=St({__name:"LevelRangeEditor",props:{initialLevelRanges:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(0),r=G(""),a=G(),o=G([]);be(()=>n.initialLevelRanges,()=>l());function l(){n.initialLevelRanges&&(o.value=JSON.parse(JSON.stringify(n.initialLevelRanges)),o.value.length>0&&(a.value=o.value[0]))}function u(f,p){const m=f.levels.indexOf(p);f.levels.splice(m,1)}function d(){const f=a.value;if(f){const p=o.value.findIndex(m=>m.price==f.price);o.value.splice(p,1),a.value=o.value[0]}}function c(){const f=+s.value;if(f==null||f==null||isNaN(f)||f==0||(s.value=0,o.value.findIndex(m=>m.price==f)!=-1))return;const p=a.value={price:f,levels:[]};o.value.push(p),o.value.sort((m,v)=>m.price-v.price)}function h(f){const p=r.value.trim();p.length!=0&&(r.value="",!f.levels.includes(p)&&f.levels.push(p))}return kt(()=>l()),(f,p)=>{const m=j("v-number-input"),v=j("v-col"),_=j("v-btn"),b=j("v-row"),x=j("v-tab"),k=j("v-tabs"),I=j("v-text-field"),E=j("v-icon"),T=j("v-list"),S=j("v-tabs-window-item"),w=j("v-tabs-window"),C=j("v-card"),P=j("v-card-text"),D=j("v-divider"),A=j("v-spacer"),F=j("v-card-actions");return xe(),Oe(C,{"prepend-icon":"mdi-format-list-numbered",title:"Livelli"},{default:M(()=>[g(P,null,{default:M(()=>[g(b,{class:"my-3 mb-10 justify-center"},{default:M(()=>[g(v,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[g(m,{"max-width":"500",modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=L=>s.value=L),reverse:!1,controlVariant:"default",label:"Fascia di Prezzo",prefix:"€",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),g(v,{class:"px-2",cols:"12",md:"1"},{default:M(()=>[g(_,{onClick:c,icon:"mdi-plus",color:"success"}),g(_,{onClick:d,icon:"mdi-minus",color:"error"})]),_:1})]),_:1}),a.value?(xe(),Oe(C,{key:0,class:"mx-5 mt-5 pa-2",elevation:"3"},{default:M(()=>[g(k,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=L=>a.value=L),class:"my-2","align-tabs":"center",color:"primary","show-arrows":""},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(o.value,L=>(xe(),Oe(x,{key:L.price,text:L.price+" €",value:L},null,8,["text","value"]))),128))]),_:1},8,["modelValue"]),g(w,{modelValue:a.value,"onUpdate:modelValue":p[3]||(p[3]=L=>a.value=L)},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(o.value,L=>(xe(),Oe(S,{class:"mx-5 my-5",key:L.price,value:L},{default:M(()=>[g(I,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=H=>r.value=H),label:"Nome Livello","append-icon":"mdi-plus",type:"text","onClick:append":H=>h(L)},null,8,["modelValue","onClick:append"]),g(T,{items:L.levels},{append:M(({item:H})=>[g(E,{size:"small",onClick:X=>u(L,H)},{default:M(()=>p[6]||(p[6]=[Ce(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["items"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):Zt("",!0)]),_:1}),g(D),g(F,null,{default:M(()=>[g(A),g(_,{text:"Annulla",variant:"plain",onClick:p[4]||(p[4]=L=>i("close"))}),g(_,{color:"primary",text:"Salva Livelli",variant:"tonal",onClick:p[5]||(p[5]=L=>i("save",o.value))})]),_:1})]),_:1})}}}),nwe=St({__name:"ManagerEditor",props:{initialManagerOptions:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=ia({totalStudents:am().required("Il Numero Totale degli Studenti è obbligatorio").positive().label("Numero Totale Studenti"),quotePerStudent:am().required("La Quota per Studente è obbligatoria").positive().label("Quota per Studente"),cashFund:am().positive().label("Fondo Cassa").nullable().optional()}),{defineField:r,handleSubmit:a}=$l({validationSchema:s}),o=v=>({props:{"error-messages":v.errors}}),[l,u]=r("totalStudents",o),[d,c]=r("quotePerStudent",o),[h,f]=r("cashFund",o),p=a(async v=>{i("save",{...v})},v=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(v)});be(()=>n.initialManagerOptions,()=>m(),{immediate:!0});function m(){n.initialManagerOptions&&(l.value=n.initialManagerOptions.totalStudents,d.value=n.initialManagerOptions.quotePerStudent,h.value=n.initialManagerOptions.cashFund)}return(v,_)=>{const b=j("v-number-input"),x=j("v-col"),k=j("v-row"),I=j("v-card-text"),E=j("v-divider"),T=j("v-spacer"),S=j("v-btn"),w=j("v-card-actions"),C=j("v-card");return xe(),Oe(C,{"prepend-icon":"mdi-account",title:"Gestione Scuola"},{default:M(()=>[g(I,null,{default:M(()=>[g(k,{class:"my-3 mb-10 justify-center"},{default:M(()=>[g(x,{cols:"12",md:"6"},{default:M(()=>[g(b,Z({modelValue:oe(l),"onUpdate:modelValue":_[0]||(_[0]=P=>Je(l)?l.value=P:null)},oe(u),{reverse:!1,controlVariant:"default",label:"Numero Totale Studenti",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),g(x,{cols:"12",md:"6"},{default:M(()=>[g(b,Z({modelValue:oe(d),"onUpdate:modelValue":_[1]||(_[1]=P=>Je(d)?d.value=P:null)},oe(c),{reverse:!1,controlVariant:"default",label:"Quota per Studente",prefix:"€",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),g(x,{cols:"12",md:"6"},{default:M(()=>[g(b,Z({modelValue:oe(h),"onUpdate:modelValue":_[2]||(_[2]=P=>Je(h)?h.value=P:null)},oe(f),{reverse:!1,controlVariant:"default",label:"Fondo Cassa",hideInput:!1,prefix:"€",inset:!1,min:0}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),g(E),g(w,null,{default:M(()=>[g(T),g(S,{text:"Annulla",variant:"plain",onClick:_[3]||(_[3]=P=>i("close"))}),g(S,{color:"primary",text:"Salva Gestione",variant:"tonal",onClick:oe(p)},null,8,["onClick"])]),_:1})]),_:1})}}}),C6="#808080",iwe={class:"v-input--center-affix v-input--error"},swe={class:"v-input__details"},rwe={class:"v-messages__message v-messages",role:"alert"},awe={class:"v-input--center-affix v-input--error"},owe={class:"v-input__details"},lwe={class:"v-messages__message v-messages",role:"alert"},E6=St({__name:"SchoolEditor",props:{initialSchool:{},edit:{type:Boolean}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(!1),r=G(!1),a=G(!1),o=G(!1),l=[{key:Wm.ABSENT_AND_PRESENT,value:"Pagamento automatico"},{key:Wm.ONLY_PRESENT,value:"Pagamento a presenza"}],u=[{key:Vd.WHOLE,value:"Prezzo intero"},{key:Vd.HALF,value:"Metà prezzo"},{key:Vd.NOTHING,value:"Nessun pagamento"}],d=ia({name:Fn().required("Il Nome è obbligatorio").min(1).label("Nome"),city:Fn().label("Città").nullable().optional(),email:Fn().label("Email").nullable().optional(),phoneNumber:Fn().label("Numero di Telefono").nullable().optional(),managed:fy().label("Gestione"),salaryStrategy:Fn().required("L'Opzione di pagamento lezioni è obbligatorio").label("Opzione di Pagamento"),trialLessonPaymentStrategy:Fn().required("L'Opzione di pagamento della lezione di prova è obbligatorio").label("Opzione di pagamento della Lezione di Prova"),managerOptions:ia().test({test:Q=>T.value?Q!==void 0:!0,message:"Configurare la Gestione della Scuola correttamente",exclusive:!1,name:"managedProp"}).label("Opzioni Gestione"),levelRanges:GC().of(ia()).test({test:Q=>!!Q&&Q.length!=0,message:"I livelli sono obbligatori; configurare correttamente i Livelli",exclusive:!1,name:"level"}).label("Livelli"),color:Fn().label("Color").nullable().optional()}),{defineField:c,handleSubmit:h}=$l({validationSchema:d}),f=Q=>({props:{"error-messages":Q.errors}}),[p,m]=c("name",f),[v,_]=c("city",f),[b,x]=c("email",f),[k,I]=c("phoneNumber",f),[E]=c("color",f),[T,S]=c("managed",f),[w,C]=c("salaryStrategy",f),[P,D]=c("trialLessonPaymentStrategy",f),[A,F]=c("managerOptions",f),[L,H]=c("levelRanges",f),X=h(async Q=>{te(Q)},Q=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(Q)});be(()=>n.initialSchool,()=>z());function z(){if(n.initialSchool){const Q=JSON.parse(JSON.stringify(n.initialSchool));p.value=Q.name,v.value=Q.city??"",b.value=Q.email??"",k.value=Q.phoneNumber??"",E.value=Q.color??C6,w.value=Q.salaryStrategy,P.value=Q.trialLessonPaymentStrategy,T.value=Q.managed,A.value=Q.managerOptions,L.value=Q.levelRanges}}function K(Q){console.log(Q,JSON.stringify(Q)),A.value=Q,r.value=!1}function Y(Q){console.log(Q,JSON.stringify(Q)),L.value=Q,s.value=!1}async function te(Q){var ue,re;o.value=!0;const ee={name:Q.name,salaryStrategy:Q.salaryStrategy,trialLessonPaymentStrategy:Q.trialLessonPaymentStrategy,managed:T.value??!1,levelRanges:Q.levelRanges,createdAt:n.edit?(ue=n.initialSchool)==null?void 0:ue.createdAt:Dt.now(),updatedAt:Dt.now()};Q.city&&(ee.city=Q.city),Q.email&&(ee.email=Q.email),Q.phoneNumber&&(ee.phoneNumber=Q.phoneNumber),Q.color&&Q.color.trim().length!=0&&(ee.color=Q.color),T.value&&(ee.managerOptions=A.value);try{n.edit&&((re=n.initialSchool)==null?void 0:re.id)!=null?(await Lr.instance.save(ee,n.initialSchool.id),Ze.success("Scuola Aggiornata"),n.initialSchool.salaryStrategy!=null&&n.initialSchool.salaryStrategy!=ee.salaryStrategy&&Ze.warning("E' stata aggiornata l'opzione di pagamento, tuttavia TUTTE le lezioni giornaliere create fino ad ora non saranno aggiornate in automatico!",{autoClose:1e4})):(await Lr.instance.save(ee),Ze.success("Scuola Creata")),i("save",ee)}catch(se){i("save"),Ze.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",se)}finally{o.value=!1}}return kt(()=>z()),(Q,ee)=>{const ue=j("v-text-field"),re=j("v-col"),se=j("v-color-picker"),$=j("v-card-text"),q=j("v-btn"),ae=j("v-card-actions"),_e=j("v-card"),ge=j("v-dialog"),B=j("v-select"),N=j("v-checkbox"),W=j("v-row"),ce=j("v-divider"),de=j("v-spacer");return xe(),Oe(_e,{"prepend-icon":"mdi-school",title:"Scuola"},{default:M(()=>[g($,null,{default:M(()=>[g(W,{dense:""},{default:M(()=>[g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({modelValue:oe(p),"onUpdate:modelValue":ee[0]||(ee[0]=ne=>Je(p)?p.value=ne:null)},oe(m),{label:"Nome",required:""}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({modelValue:oe(v),"onUpdate:modelValue":ee[1]||(ee[1]=ne=>Je(v)?v.value=ne:null)},oe(_),{label:"Città"}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({modelValue:oe(b),"onUpdate:modelValue":ee[2]||(ee[2]=ne=>Je(b)?b.value=ne:null)},oe(x),{label:"Email"}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ue,Z({modelValue:oe(k),"onUpdate:modelValue":ee[3]||(ee[3]=ne=>Je(k)?k.value=ne:null)},oe(I),{label:"Numero di Telefono"}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ge,{modelValue:a.value,"onUpdate:modelValue":ee[6]||(ee[6]=ne=>a.value=ne)},{activator:M(({props:ne})=>[g(ue,Z({label:"Colore"},ne,{"bg-color":oe(E),modelValue:oe(E),"onUpdate:modelValue":ee[4]||(ee[4]=Te=>Je(E)?E.value=Te:null)}),null,16,["bg-color","modelValue"])]),default:M(({isActive:ne})=>[g(_e,{class:"mx-auto","max-width":"400",rounded:"lg",border:""},{default:M(()=>[g($,null,{default:M(()=>[g(se,{modelValue:oe(E),"onUpdate:modelValue":ee[5]||(ee[5]=Te=>Je(E)?E.value=Te:null),elevation:"0"},null,8,["modelValue"])]),_:1}),g(ae,null,{default:M(()=>[g(q,{onClick:Te=>ne.value=!1},{default:M(()=>ee[17]||(ee[17]=[Ce("Chiudi")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(B,Z({modelValue:oe(w),"onUpdate:modelValue":ee[7]||(ee[7]=ne=>Je(w)?w.value=ne:null)},oe(C),{items:l,"item-title":"value","item-value":"key",label:"Opzione di Pagamento",required:""}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(B,Z({modelValue:oe(P),"onUpdate:modelValue":ee[8]||(ee[8]=ne=>Je(P)?P.value=ne:null)},oe(D),{items:u,"item-title":"value","item-value":"key",label:"Opzione di pagamento della Lezione di Prova",required:""}),null,16,["modelValue"])]),_:1}),g(re,{cols:"12",md:"12"},{default:M(()=>[g(W,{"justify-center":""},{default:M(()=>[g(re,{class:"align-self-center"},{default:M(()=>[g(N,Z({modelValue:oe(T),"onUpdate:modelValue":ee[9]||(ee[9]=ne=>Je(T)?T.value=ne:null)},oe(S),{label:"Gestione"}),null,16,["modelValue"])]),_:1}),g(re,{class:"align-self-center"},{default:M(()=>[oe(T)?(xe(),Oe(ge,{key:0,modelValue:r.value,"onUpdate:modelValue":ee[12]||(ee[12]=ne=>r.value=ne),fullscreen:""},{activator:M(({props:ne})=>{var Te;return[Ve("div",iwe,[g(q,Z({text:"Gestione"},ne),null,16),Ve("div",swe,[Ve("div",rwe,[Ve("span",null,ct((Te=oe(F)["error-messages"])==null?void 0:Te[0]),1)])])])]}),default:M(()=>[g(nwe,{initialManagerOptions:oe(A),onClose:ee[10]||(ee[10]=ne=>r.value=!1),onSave:ee[11]||(ee[11]=ne=>K(ne))},null,8,["initialManagerOptions"])]),_:1},8,["modelValue"])):Zt("",!0)]),_:1})]),_:1})]),_:1}),g(re,{cols:"12",md:"6"},{default:M(()=>[g(ge,{modelValue:s.value,"onUpdate:modelValue":ee[15]||(ee[15]=ne=>s.value=ne),fullscreen:""},{activator:M(({props:ne})=>{var Te;return[Ve("div",awe,[g(q,Z({text:"Gestisci Livelli"},ne),null,16),Ve("div",owe,[Ve("div",lwe,[Ve("span",null,ct((Te=oe(H)["error-messages"])==null?void 0:Te[0]),1)])])])]}),default:M(()=>[g(twe,{initialLevelRanges:oe(L),onClose:ee[13]||(ee[13]=ne=>s.value=!1),onSave:ee[14]||(ee[14]=ne=>Y(ne))},null,8,["initialLevelRanges"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),g(ce),g(ae,null,{default:M(()=>[g(de),g(q,{text:"Chiudi",variant:"plain",onClick:ee[16]||(ee[16]=ne=>i("close"))}),g(q,{color:"primary",loading:o.value,disabled:o.value,text:Q.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:oe(X)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1})}}}),Uy=class Uy{static get instance(){return this._instance||(this._instance=new Uy),this._instance}async deleteById(e){const n=LA(RS()),i=await Lr.instance.getDoc(e);n.delete(i.ref),(await this.getSchoolRelations(e)).forEach(s=>n.delete(s)),await n.commit()}async delete(e){const n=LA(RS()),i=e.id;n.delete(e),(await this.getSchoolRelations(i)).forEach(s=>n.delete(s)),await n.commit()}async getSchoolRelations(e){const n=[];return(await Cr.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await La.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await Nt.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await go.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),n}async getSchoolLessons(e,n){const i=n instanceof Date?gt.fromDate(n).toIyyyyMMdd():n,s=await Bi.instance.getDailyLessonOfSchoolFromDate(e,i,"desc"),r=await rg.instance.getWeeklyLessonOfSchool(e);return{dailyLessons:s,weeklyLessons:r,schoolId:e}}async getTodayLessons(){const e=[],n=gt.today(),i=n.toIyyyyMMdd(),s=n.toDate(),r=await Lr.instance.getAll();for await(const a of r){const o=await this.getSchoolLessons(a.id,s),l=o.dailyLessons.find(u=>u.date==i)??o.weeklyLessons.find(u=>u.dayOfWeek==s.getDay());l&&e.push({school:a,lesson:l})}return e}};an(Uy,"_instance",null);let lg=Uy;const uwe={key:1,class:"text-grey text-caption align-self-center"},JM=St({__name:"WeekLessonEditor",props:{school:{default:()=>({id:"1"})},edit:{type:Boolean},initialWeekLesson:{}},emits:["close","save"],setup(t,{emit:e}){const n=e,i=t,s=[];let r;const a=G([]),o=G([]),l=G([]),u=G([]),d=G(!1),c=G(!1),h=G(!1),f=ia({dayOfWeek:Fn().required("Il Giorno è obbligatorio").label("Giorno"),from:Fd().required("La Data di Inizio delle lezioni settimanali è obbligatoria").label("Dal"),to:Fd().required("La Data di Fine delle lezioni settimanali è obbligatoria").label("Al"),excludeDates:GC().of(Fd()).label("Giorni da Escludere").nullable().optional(),startingTime:Fn().required("L'Orario della prima Lezione è obbligatorio").label("Orario della prima Lezione")}),{defineField:p,handleSubmit:m}=$l({validationSchema:f}),v=ue=>({props:{"error-messages":ue.errors}}),[_,b]=p("dayOfWeek",v),[x,k]=p("from",v),[I,E]=p("to",v),[T,S]=p("excludeDates",v),[w,C]=p("startingTime",v);let P=!1;const D=G([]),A=m(async ue=>{K()},ue=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(ue)});be(()=>i.initialWeekLesson,()=>X()),be(_,()=>z()),be(x,()=>z()),be(I,()=>z()),be(u,()=>F()),be(w,()=>{L(),P=!1}),be(_,async()=>await ee()),be(D,()=>H(),{deep:!0});function F(){var ue;for(const re of u.value)if(a.value.findIndex($=>$.studentId===re.id)===-1){const $=a.value.reduce((_e,ge)=>ge.endTime>_e?ge.endTime:_e,((ue=$t.fromHHMM(w.value))==null?void 0:ue.getTotalMinutes())??0),q=re.minutesLessonDuration||0,ae=$+q*60;a.value.push({lessonId:Ld(),studentId:re.id,startTime:$,endTime:ae})}for(const re of[...a.value])if(u.value.findIndex($=>$.id==re.studentId)==-1){const $=a.value.indexOf(re);a.value.splice($,1)}L()}function L(){var re;if(!P&&a.value.length>0){a.value.sort((q,ae)=>q.startTime-ae.startTime);const $=(((re=$t.fromHHMM(w.value))==null?void 0:re.getTotalMinutes())??0)*60-a.value[0].startTime;a.value.forEach(q=>{q.startTime+=$,q.endTime+=$})}const ue=gt.today();D.value=a.value.map(se=>{const $=Y(se.studentId);return{id:se.lessonId,start:ue.toIyyyyMMdd("-",1)+" "+$t.fromITime(se.startTime).format(),end:ue.toIyyyyMMdd("-",1)+" "+$t.fromITime(se.endTime).format(),title:`${te(se.studentId)} - ${Q(se.studentId)}`,data:{...se,...$}}})}function H(){a.value=D.value.map(ue=>{const re=ue.start.split(" ")[1],se=ue.end.split(" ")[1];return{lessonId:ue.data.lessonId,startTime:$t.fromHHMM(re).toITime(),endTime:$t.fromHHMM(se).toITime(),studentId:ue.data.studentId}})}function X(){if(i.initialWeekLesson){const ue=JSON.parse(JSON.stringify(i.initialWeekLesson));_.value=Vs[ue.dayOfWeek],x.value=gt.fromIyyyyMMdd(ue.from).toDate(),I.value=gt.fromIyyyyMMdd(ue.to).toDate(),T.value=ue.exclude.map(se=>gt.fromIyyyyMMdd(se).toDate()),a.value=ue.schedule;const re=a.value.map(se=>se.studentId);if(u.value=l.value.filter(se=>re.includes(se.id)),a.value.length>0){P=!0;const se=a.value[0].startTime;w.value=$t.fromITime(se).format()}}}function z(){if(_.value===void 0||x.value===void 0||I.value===void 0)return;o.value=[];const ue=Vs.indexOf(_.value);let re=new Date(x.value);for(;re<=I.value;){if(re.getDay()===ue){const se=new Date(re);o.value.push({name:Ym(se),value:se})}re.setDate(re.getDate()+1)}}async function K(ue){var se,$,q;c.value=!0;const re={schoolId:i.school.id,dayOfWeek:Vs.indexOf(_.value),from:gt.fromDate(x.value).toIyyyyMMdd(),to:gt.fromDate(I.value).toIyyyyMMdd(),exclude:((se=T.value)==null?void 0:se.map(ae=>gt.fromDate(ae).toIyyyyMMdd()))??[],schedule:a.value.sort((ae,_e)=>ae.startTime-_e.startTime),createdAt:i.edit?($=i.initialWeekLesson)==null?void 0:$.createdAt:Dt.now(),updatedAt:Dt.now()};try{i.edit&&((q=i.initialWeekLesson)==null?void 0:q.id)!=null?(await La.instance.save(re,i.initialWeekLesson.id),Ze.success("Lezione Settimanale Aggiornata")):(await La.instance.save(re),Ze.success("Lezione Settimanale Creata")),n("save",re)}catch(ae){n("save"),Ze.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",ae)}finally{c.value=!1}}function Y(ue){return l.value.find(re=>re.id==ue)}function te(ue){let re;return typeof ue=="string"?re=Y(ue):re=ue,`${re==null?void 0:re.name} ${re==null?void 0:re.surname}`}function Q(ue){let re;return typeof ue=="string"?re=Y(ue):re=ue,Vs[(re==null?void 0:re.lessonDay)??0]}async function ee(){r==null||r.unsubscribe(),h.value=!0;const ue=new Promise((re,se)=>{r=Or.instance.observeStudentsOfSchool(i.school.id).subscribe({next:$=>{l.value=$,h.value=!1,re()},error:$=>{h.value=!1,se($)}})});s.push(r),await ue}return Us(()=>{s.forEach(ue=>ue.unsubscribe())}),kt(async()=>{await ee(),X()}),(ue,re)=>{const se=j("v-select"),$=j("v-col"),q=j("v-row"),ae=j("v-date-input"),_e=j("v-chip"),ge=j("v-time-picker"),B=j("v-dialog"),N=j("v-text-field"),W=j("v-form"),ce=j("v-card-text"),de=j("v-spacer"),ne=j("v-btn"),Te=j("v-card-actions"),Me=j("v-card");return xe(),Oe(Me,{title:"Lezione Settimanale"},{default:M(()=>[g(ce,null,{default:M(()=>[g(W,{class:"ma-2"},{default:M(()=>[g(q,{class:"my-1 justify-center"},{default:M(()=>[g($,{class:"px-2"},{default:M(()=>[g(se,Z({modelValue:oe(_),"onUpdate:modelValue":re[0]||(re[0]=Se=>Je(_)?_.value=Se:null)},oe(b),{items:oe(Vs),label:"Giorno",required:""}),null,16,["modelValue","items"])]),_:1})]),_:1}),g(q,{class:"my-1 justify-center"},{default:M(()=>[g($,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[g(ae,Z({max:oe(I),modelValue:oe(x),"onUpdate:modelValue":re[1]||(re[1]=Se=>Je(x)?x.value=Se:null)},oe(k),{label:"Dal",inputmode:"none"}),null,16,["max","modelValue"])]),_:1}),g($,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[g(ae,Z({min:oe(x),modelValue:oe(I),"onUpdate:modelValue":re[2]||(re[2]=Se=>Je(I)?I.value=Se:null)},oe(E),{label:"Al",inputmode:"none"}),null,16,["min","modelValue"])]),_:1}),g($,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[g(se,Z({modelValue:oe(T),"onUpdate:modelValue":re[3]||(re[3]=Se=>Je(T)?T.value=Se:null)},oe(S),{items:o.value,label:"Giorni da Escludere",multiple:"","item-title":"name","item-value":"value","no-data-text":"Nessuna Data Disponibile",clearable:""}),{selection:M(({item:Se,index:Ee})=>[Ee<2?(xe(),Oe(_e,{key:0},{default:M(()=>[Ve("span",null,ct(Se.title),1)]),_:2},1024)):Zt("",!0),Ee===2?(xe(),Tt("span",uwe," (+"+ct(oe(T).length-2)+" others) ",1)):Zt("",!0)]),_:1},16,["modelValue","items"])]),_:1})]),_:1}),g(q,{class:"my-1 justify-center"},{default:M(()=>[g($,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[g(N,Z({modelValue:oe(w),"onUpdate:modelValue":re[6]||(re[6]=Se=>Je(w)?w.value=Se:null)},oe(C),{active:d.value,focused:d.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[g(B,{modelValue:d.value,"onUpdate:modelValue":re[5]||(re[5]=Se=>d.value=Se),activator:"parent",width:"auto"},{default:M(()=>[d.value?(xe(),Oe(ge,{key:0,modelValue:oe(w),"onUpdate:modelValue":re[4]||(re[4]=Se=>Je(w)?w.value=Se:null),format:"24hr"},null,8,["modelValue"])):Zt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1}),g($,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[g(P6,{modelValue:u.value,"onUpdate:modelValue":re[7]||(re[7]=Se=>u.value=Se),"all-students":l.value},null,8,["modelValue","all-students"])]),_:1})]),_:1})]),_:1}),g(T6,{modelValue:D.value,"onUpdate:modelValue":re[8]||(re[8]=Se=>D.value=Se),editable:"",school:ue.school},null,8,["modelValue","school"])]),_:1}),g(Te,null,{default:M(()=>[g(de),g(ne,{text:"Chiudi",onClick:re[9]||(re[9]=Se=>n("close"))}),g(ne,{text:"Salva",color:"primary",onClick:oe(A),loading:c.value},null,8,["onClick","loading"])]),_:1})]),_:1})}}}),cwe={key:1},dwe=St({__name:"CalendarLessonEditor",props:{school:{}},emits:["close"],setup(t,{emit:e}){const n=t,i=e,s=[],r=G([]),a=G(!1),o=G(!1),l=G([]),u=G(!1);async function d(p){if(!p)return!1;try{return await La.instance.delete(p.id),!0}catch{return!1}}async function c(){a.value=!0;const p=rg.instance.observeWeekLessonOfSchool(n.school.id).subscribe({next:m=>{r.value=m,a.value=!1},error:m=>a.value=!1});s.push(p)}async function h(){o.value=!0;const p=Or.instance.observeStudentsOfSchool(n.school.id).subscribe({next:m=>{l.value=m,o.value=!1},error:m=>o.value=!1});s.push(p)}function f(p){const m=l.value.find(v=>v.id==p);return`${m==null?void 0:m.name} ${m==null?void 0:m.surname}`}return kt(async()=>{await h(),await c()}),Us(()=>{s.forEach(p=>p.unsubscribe())}),(p,m)=>{const v=j("v-btn"),_=j("v-dialog"),b=j("v-col"),x=j("v-row"),k=j("v-expansion-panel-title"),I=j("v-list-item"),E=j("v-list"),T=j("v-expansion-panel-text"),S=j("v-expansion-panel"),w=j("v-expansion-panels"),C=j("v-card-text"),P=j("v-spacer"),D=j("v-card-actions"),A=j("v-card");return xe(),Oe(A,{title:"Calendario",loading:a.value||o.value},{append:M(()=>[g(_,{modelValue:u.value,"onUpdate:modelValue":m[2]||(m[2]=F=>u.value=F),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:F})=>[g(v,Z({icon:"mdi-plus"},F,{variant:"text"}),null,16)]),default:M(()=>[g(JM,{school:p.school,onClose:m[0]||(m[0]=F=>u.value=!1),onSave:m[1]||(m[1]=F=>F?u.value=!1:null)},null,8,["school"])]),_:1},8,["modelValue"])]),default:M(()=>[g(C,null,{default:M(()=>[g(w,null,{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(r.value,F=>(xe(),Oe(S,{key:F.id},{default:M(()=>[g(k,null,{default:M(()=>[g(x,{"no-gutters":""},{default:M(()=>[g(b,{class:"d-flex justify-start",cols:"5"},{default:M(()=>[Ve("span",null,[m[5]||(m[5]=Ce("Tutti i ")),Ve("b",null,ct(oe(Vs)[F.dayOfWeek]),1)])]),_:2},1024),g(b,{class:"text-grey",cols:"5"},{default:M(()=>[Ce(" Dal "+ct(oe(gt).fromIyyyyMMdd(F.from).format())+" al "+ct(oe(gt).fromIyyyyMMdd(F.to).format()),1)]),_:2},1024),g(b,{cols:"1"},{default:M(()=>[g(_,{transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:L})=>[g(v,Z({icon:"mdi-pencil",variant:"text",onClick:m[3]||(m[3]=Ku(H=>console.log("edit"),["stop"])),ref_for:!0},L),null,16)]),default:M(({isActive:L})=>[g(JM,{school:p.school,initialWeekLesson:F,edit:"",onClose:H=>L.value=!1,onSave:H=>H?L.value=!1:null},null,8,["school","initialWeekLesson","onClose","onSave"])]),_:2},1024)]),_:2},1024),g(b,{cols:"1"},{default:M(()=>[g(up,{name:"Tutti i "+oe(Vs)[F.dayOfWeek],objName:"Lezione Programmata",onDelete:async()=>await d(F)},{activator:M(({props:L})=>[g(v,Z({icon:"mdi-delete",variant:"text",ref_for:!0},L),null,16)]),_:2},1032,["name","onDelete"])]),_:2},1024)]),_:2},1024)]),_:2},1024),g(T,null,{default:M(()=>[F.schedule.length>0?(xe(),Oe(E,{key:0},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(F.schedule,L=>(xe(),Oe(I,{key:L.studentId,value:L,color:"primary"},{prepend:M(()=>[Ve("p",null,[Ve("b",null,ct(oe($t).fromITime(L.startTime).format())+" - "+ct(oe($t).fromITime(L.endTime).format()),1),m[6]||(m[6]=Ve("span",null," - ",-1)),Ve("i",null,ct(f(L.studentId)),1)])]),_:2},1032,["value"]))),128))]),_:2},1024)):(xe(),Tt("span",cwe,"Nessuna lezione programmata"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),g(D,null,{default:M(()=>[g(P),g(v,{text:"Chiudi",onClick:m[4]||(m[4]=F=>i("close"))})]),_:1})]),_:1},8,["loading"])}}}),hwe=St({__name:"LessonFilter",props:{modelValue:{default:[]},modelModifiers:{}},emits:El(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=Il(t,"modelValue"),i=e,s=G([]),r=O(()=>s.value.length===Nv.length),a=O(()=>s.value.length>0);function o(c){return{title:c.name,value:c.type,color:c.color,icon:c.icon}}function l(){r.value?s.value=[]:s.value=Nv.slice()}function u(){s.value=[...n.value]}function d(){n.value=[...s.value],i("close")}return kt(()=>u()),(c,h)=>{const f=j("v-icon"),p=j("v-checkbox-btn"),m=j("v-list-item"),v=j("v-divider"),_=j("v-select"),b=j("v-col"),x=j("v-row"),k=j("v-card-text"),I=j("v-spacer"),E=j("v-btn"),T=j("v-card-actions"),S=j("v-card");return xe(),Oe(S,{class:"mx-auto","min-width":"300px"},{default:M(()=>[g(k,null,{default:M(()=>[g(x,null,{default:M(()=>[g(b,null,{default:M(()=>[g(_,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=w=>s.value=w),items:oe(Nv),"return-object":"","item-props":o,label:"Filtri",multiple:"",chips:""},{chip:M(({item:w})=>[g(f,{color:w.props.color},{default:M(()=>[Ce(ct(w.props.icon),1)]),_:2},1032,["color"])]),"prepend-item":M(()=>[g(m,{title:"Seleziona Tutti",onClick:l},{prepend:M(()=>[g(p,{color:a.value?"indigo-darken-4":void 0,indeterminate:a.value&&!r.value,"model-value":r.value},null,8,["color","indeterminate","model-value"])]),_:1}),g(v,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),g(T,null,{default:M(()=>[g(I),g(E,{onClick:u},{default:M(()=>h[1]||(h[1]=[Ce("Reset")])),_:1}),g(E,{onClick:d,color:"primary"},{default:M(()=>h[2]||(h[2]=[Ce("Applica")])),_:1})]),_:1})]),_:1})}}}),fwe=St({__name:"LessonView",props:{school:{}},setup(t){const e=Ac(),n=Fr(),i=t,s=[],r=G([]),a=G(),o=G(!1),l=G(!1),u=G(!1),d=G(!1),c=G([Nv[2]]);let h;const f=O(()=>i.school==null||o.value||l.value||u.value);be(i.school,()=>v()),be(c,()=>v(!1));function p(_){return _.next?"primary":_.pending?"warning":_.recovery?"info":"grey-lighten-1"}async function m(_){d.value=!0;const b=await Bi.instance.getOrCreateDailyLessonId(i.school.id,_);d.value=!1,e.push(`/lesson/${b}`)}async function v(_=!0){u.value=!0;const b=new Date(new Date().toDateString()),x=n.addMonths(b,-12);(!h||_)&&(h=await lg.instance.getSchoolLessons(i.school.id,x)),r.value=await ry.instance.getGroupedLessons(h,c.value),u.value=!1}return kt(async()=>{await v()}),Us(()=>{s.forEach(_=>_==null?void 0:_())}),(_,b)=>{const x=j("v-btn"),k=j("v-date-picker"),I=j("v-col"),E=j("v-row"),T=j("v-card-text"),S=j("v-spacer"),w=j("v-card-actions"),C=j("v-card"),P=j("v-dialog"),D=j("v-list-subheader"),A=j("v-icon"),F=j("v-avatar"),L=j("v-list-item"),H=j("v-list");return xe(),Oe(C,{title:"Lezioni",elevation:"3",loading:f.value},{append:M(()=>[g(P,{transition:"dialog-bottom-transition",class:"justify-center"},{activator:M(({props:X})=>[g(x,Z({icon:"mdi-calendar",variant:"text",disabled:!_.school},X),null,16,["disabled"])]),default:M(({isActive:X})=>[g(C,{class:"mx-auto","min-width":"400px"},{default:M(()=>[g(T,null,{default:M(()=>[g(E,{class:"justify-center"},{default:M(()=>[g(I,{cols:"auto"},{default:M(()=>[g(k,{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=z=>a.value=z)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),g(w,null,{default:M(()=>[g(S),g(x,{text:"Chiudi",onClick:z=>X.value=!1},null,8,["onClick"]),g(x,{text:"Ok",color:"primary",onClick:b[1]||(b[1]=z=>m(a.value)),disabled:!a.value,loading:d.value},null,8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),g(x,{icon:"mdi-refresh",variant:"text",disabled:!_.school||u.value,onClick:v},null,8,["disabled"]),g(P,{transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:X})=>[g(x,Z({icon:"mdi-pencil",variant:"text"},X,{disabled:!_.school}),null,16,["disabled"])]),default:M(({isActive:X})=>[g(dwe,{school:_.school,onClose:z=>{X.value=!1,v()}},null,8,["school","onClose"])]),_:1}),g(x,{icon:"mdi-eye-arrow-right",variant:"text",to:"/calendar?filters="+_.school.id},null,8,["to"]),g(P,{transition:"dialog-bottom-transition"},{activator:M(({props:X})=>[g(x,Z({icon:"mdi-filter",variant:"text"},X),null,16)]),default:M(({isActive:X})=>[g(hwe,{modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=z=>c.value=z),onClose:z=>X.value=!1},null,8,["modelValue","onClose"])]),_:1})]),default:M(()=>[g(T,null,{default:M(()=>[g(H,{lines:"two"},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(r.value,X=>(xe(),Tt(Pe,{key:X.month},[g(D,{inset:""},{default:M(()=>[Ce(ct(X.month),1)]),_:2},1024),(xe(!0),Tt(Pe,null,Ii(X.lessons,z=>(xe(),Oe(L,{key:z.date.toString(),onClick:K=>m(z),baseColor:z.next?"primary":""},yL({prepend:M(()=>[g(F,{color:p(z)},{default:M(()=>[g(A,{color:"white"},{default:M(()=>b[3]||(b[3]=[Ce("mdi-calendar")])),_:1})]),_:2},1032,["color"])]),title:M(()=>[Ve("b",null,ct(z.date.getDayString(2)),1),Ce(" "+ct(z.date.format()),1)]),_:2},[z.pending||z.recovery?{name:"append",fn:M(()=>[z.pending?(xe(),Oe(A,{key:0,color:"warning"},{default:M(()=>b[4]||(b[4]=[Ce("mdi-alert")])),_:1})):Zt("",!0),z.recovery?(xe(),Oe(A,{key:1,color:"info"},{default:M(()=>b[5]||(b[5]=[Ce("mdi-alpha-r-circle")])),_:1})):Zt("",!0)]),key:"0"}:void 0]),1032,["onClick","baseColor"]))),128))],64))),128))]),_:1})]),_:1})]),_:1},8,["loading"])}}}),mwe=qC(fwe,[["__scopeId","data-v-1111b6c0"]]),gwe=St({__name:"ScheduleRecoveryLessonButton",props:El({school:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Il(t,"modelValue"),i=G(!1),s=G(!1),r=G(!1),a=ia({date:Fd().required("La Data della Lezione di Recupero è obbligatoria").label("Data della Lezione di Recupero"),time:Fn().required("L'Orario della Lezione di Recupero è obbligatorio").label("Orario della Lezione di Recupero")}),{defineField:o,handleSubmit:l,resetForm:u}=$l({validationSchema:a}),d=b=>({props:{"error-messages":b.errors}}),[c,h]=o("date",d),[f,p]=o("time",d),m=l(async b=>{_()},b=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});function v(){s.value=!1,c.value=void 0,f.value=void 0,u()}async function _(){if(!(!c.value||!f.value||!n.value))try{r.value=!0;const b=$t.fromHHMM(f.value),x={studentId:n.value.studentId,schoolId:e.school.id,originalDailyLessonId:n.value.originalDailyLesson.id,originalLessonId:n.value.lessonId,date:c.value,startTime:b.toITime(),endTime:b.add({minutes:n.value.minutesLessonDuration}).toITime()};await ko.instance.scheduleRecovery(n.value,x),s.value=!1}catch{Ze.error("Impossibile schedulare la lezione di recupero")}finally{r.value=!1}}return(b,x)=>{const k=j("v-btn"),I=j("v-date-input"),E=j("v-col"),T=j("v-time-picker"),S=j("v-dialog"),w=j("v-text-field"),C=j("v-row"),P=j("v-card-text"),D=j("v-spacer"),A=j("v-card-actions"),F=j("v-card");return xe(),Oe(S,{modelValue:s.value,"onUpdate:modelValue":x[5]||(x[5]=L=>s.value=L),width:"auto",scrollable:"",persistent:""},{activator:M(({props:L})=>[g(k,CV(Uk(L)),{default:M(()=>x[6]||(x[6]=[Ce("programma")])),_:2},1040)]),default:M(()=>[g(F,{title:"Programma Lezione di Recupero",subtitle:n.value.name+" "+n.value.surname+" - "+oe(gt).fromIyyyyMMdd(n.value.originalDailyLesson.date).format(),loading:r.value},{default:M(()=>[g(P,{class:"pa-6"},{default:M(()=>[g(C,null,{default:M(()=>[g(E,{cols:"12",md:"12"},{default:M(()=>[g(I,Z({modelValue:oe(c),"onUpdate:modelValue":x[0]||(x[0]=L=>Je(c)?c.value=L:null)},oe(h),{label:"Data della Lezione di Recupero",inputmode:"none"}),null,16,["modelValue"])]),_:1}),g(E,{cols:"12",lg:"12"},{default:M(()=>[g(w,Z({modelValue:oe(f),"onUpdate:modelValue":x[3]||(x[3]=L=>Je(f)?f.value=L:null)},oe(p),{active:i.value,focused:i.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[g(S,{modelValue:i.value,"onUpdate:modelValue":x[2]||(x[2]=L=>i.value=L),activator:"parent",width:"auto"},{default:M(()=>[i.value?(xe(),Oe(T,{key:0,modelValue:oe(f),"onUpdate:modelValue":x[1]||(x[1]=L=>Je(f)?f.value=L:null),format:"24hr"},null,8,["modelValue"])):Zt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1})]),_:1})]),_:1}),g(A,null,{default:M(()=>[g(D),g(k,{text:"Annulla",onClick:v}),g(k,{color:"primary",text:"Salva",onClick:x[4]||(x[4]=L=>oe(m)(L))})]),_:1})]),_:1},8,["subtitle","loading"])]),_:1},8,["modelValue"])}}}),pwe={key:0},vwe={key:1},_we={key:2},ywe={key:0},bwe={key:1},wwe={key:0},xwe={key:2},Swe={key:0},kwe=St({__name:"RecoveryLessonView",props:{school:{}},setup(t){const e=t,n=O(()=>e.school.id),i=go.instance.observe(n),s=mP(i),r=G(),a=G(!1),o=G(!1);be(s,async()=>u());async function l(d){try{o.value=!0,await ko.instance.cancelRecovery(d)}catch(c){Ze.warn("Impossibile annullare la lezione di recupero"),console.error("Unable to cancel recovery lesson",c)}finally{o.value=!1}}async function u(){if(s.value)try{a.value=!0,r.value=await ko.instance.computeDailyLessons(s.value),console.log(r)}catch(d){Ze.warning("Impossibile caricare le Lezioni di Recupero"),console.error("Unable to load recovery lessons",d)}finally{a.value=!1}}return(d,c)=>{const h=j("v-list-subheader"),f=j("v-list-item"),p=j("v-btn"),m=j("v-icon"),v=j("v-divider"),_=j("v-list"),b=j("v-card-text"),x=j("v-card");return xe(),Oe(x,{title:"Recuperi",elevation:"3",loading:a.value},{default:M(()=>[g(_,{lines:"three"},{default:M(()=>{var k;return[(xe(!0),Tt(Pe,null,Ii((k=r.value)==null?void 0:k.recoveryMap,(I,E)=>(xe(),Tt(Pe,{key:I.type},[g(h,{inset:""},{default:M(()=>[Ve("b",null,ct(oe(xle)[I.type]),1)]),_:2},1024),I.recoveries.length==0?(xe(),Oe(f,{key:0},{default:M(()=>[I.type=="unset"?(xe(),Tt("div",pwe," Nessuna lezione da recuperare ")):I.type=="pending"?(xe(),Tt("div",vwe," Nessuna lezione di recupero programmata ")):(xe(),Tt("div",_we," Nessuna lezione di recupero effettuata "))]),_:2},1024)):Zt("",!0),(xe(!0),Tt(Pe,null,Ii(I.recoveries,(T,S)=>(xe(),Oe(f,{key:`${T.lessonId}_${T.originalDailyLesson.id}`},{title:M(()=>[Ce(ct(T.name)+" "+ct(T.surname),1)]),subtitle:M(()=>[I.type=="unset"?(xe(),Tt("div",ywe," Da recuperare la lezione del "+ct(oe(gt).fromIyyyyMMdd(T.originalDailyLesson.date).format()),1)):I.type=="pending"?(xe(),Tt("div",bwe,[Ce(" Recupero della lezione del "+ct(oe(gt).fromIyyyyMMdd(T.originalDailyLesson.date).format())+" programmato ",1),T.recoveryDailyLesson?(xe(),Tt("span",wwe," per il "+ct(oe(gt).fromIyyyyMMdd(T.recoveryDailyLesson.date).format()),1)):Zt("",!0)])):(xe(),Tt("div",xwe,[Ce(" Recupero della lezione del "+ct(oe(gt).fromIyyyyMMdd(T.originalDailyLesson.date).format())+" effettuato ",1),T.recoveryDailyLesson?(xe(),Tt("span",Swe," il "+ct(oe(gt).fromIyyyyMMdd(T.recoveryDailyLesson.date).format()),1)):Zt("",!0)]))]),append:M(()=>[I.type=="unset"?(xe(),Oe(gwe,{key:0,modelValue:I.recoveries[S],"onUpdate:modelValue":w=>I.recoveries[S]=w,school:d.school},null,8,["modelValue","onUpdate:modelValue","school"])):I.type=="pending"?(xe(),Oe(p,{key:1,onClick:w=>l(T),loading:o.value,disabled:o.value},{default:M(()=>c[0]||(c[0]=[Ce("annulla")])),_:2},1032,["onClick","loading","disabled"])):(xe(),Oe(m,{key:2,color:"success"},{default:M(()=>c[1]||(c[1]=[Ce(" mdi-check-all ")])),_:1}))]),_:2},1024))),128)),E!=2?(xe(),Oe(v,{key:1})):Zt("",!0)],64))),128))]}),_:1}),r.value?Zt("",!0):(xe(),Oe(b,{key:0},{default:M(()=>c[2]||(c[2]=[Ce(" Nessun recupero in programma ")])),_:1}))]),_:1},8,["loading"])}}}),I6=St({__name:"DateSelect",props:{modelValue:{default:{from:void 0,to:void 0}},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Fr(),n=["Assoluto","Relativo","Per mese"],i=["Oggi","Ieri","Ultima settimana","Ultimo mese","Ultimi 3 mesi","Ultimi 6 mesi","Ultimo anno"],s=[...Array(12).keys()].map(p=>ga(new Date(0,p).toLocaleString("it",{month:"long"}))),r=G(n[1]),a=G(i[2]),o=G(s[0]),l=G();let u=!1;const d=Il(t,"modelValue");be(r,c,{immediate:!0}),be(a,c,{immediate:!0}),be(o,c,{immediate:!0}),be(l,c,{immediate:!0}),be(d,h,{immediate:!0});function c(){var p,m,v;if(u=!0,r.value==n[2]){let _=s.indexOf(o.value);_=_==-1?0:_;const b=new Date().getFullYear(),x=new Date(b,_,1),k=new Date(b,_+1,0);d.value={from:gt.fromDate(x).toIyyyyMMdd(),to:gt.fromDate(k).toIyyyyMMdd()}}else if(r.value==n[1]){let _;a.value==i[1]?_=e.addDays(new Date,-1):a.value==i[2]?_=e.addDays(new Date,-7):a.value==i[3]?_=e.addMonths(new Date,-1):a.value==i[4]?_=e.addMonths(new Date,-3):a.value==i[5]?_=e.addMonths(new Date,-6):a.value==i[6]?_=e.addMonths(new Date,-12):_=new Date,d.value={from:gt.fromDate(_).toIyyyyMMdd()}}else if(r.value==n[0]){const _=(p=l.value)==null?void 0:p[0],b=((m=l.value)==null?void 0:m[l.value.length-1])??((v=l.value)==null?void 0:v[0]);_&&b&&(d.value={from:gt.fromDate(_).toIyyyyMMdd(),to:gt.fromDate(b).toIyyyyMMdd()})}}function h(){var v,_;if(u){u=!1;return}const p=(v=d.value)==null?void 0:v.from,m=(_=d.value)==null?void 0:_.to;if(p&&!m){r.value=n[1];const x=f(new Date,gt.fromIyyyyMMdd(p).toDate());x.days==0&&x.months==0&&x.years==0?a.value=i[0]:x.days==1&&x.months==0&&x.years==0?a.value=i[1]:x.days==7&&x.months==0&&x.years==0?a.value=i[2]:(x.days==30||x.months==1)&&x.years==0?a.value=i[3]:(x.days==90||x.months==3)&&x.years==0?a.value=i[4]:(x.days==180||x.months==6)&&x.years==0?a.value=i[5]:x.days==365||x.months==12||x.years==1?a.value=i[6]:(console.warn("Selected period not recognized, falling to last week"),a.value=i[2])}else if(p&&m){const b=gt.fromIyyyyMMdd(p).toDate(),x=gt.fromIyyyyMMdd(m).toDate();if(console.log(b,x,b.getDate(),x.getDate(),new Date(b.getFullYear(),b.getMonth()+1,0).getDate()),b.getDate()==1&&x.getMonth()==b.getMonth()&&x.getFullYear()==b.getFullYear()&&x.getDate()==new Date(b.getFullYear(),b.getMonth()+1,0).getDate())r.value=n[2],o.value=s[b.getMonth()];else{r.value=n[0],l.value=[];for(const k=b;k<=x;k.setDate(k.getDate()+1))l.value.push(new Date(k))}}}function f(p,m){const v=new Date(Math.abs(p.getTime()-m.getTime())),_=v.getUTCFullYear()-1970,b=v.getUTCMonth(),x=v.getUTCDate()-1;return{years:_,months:b,days:x}}return(p,m)=>{const v=j("v-select"),_=j("v-col"),b=j("v-date-input"),x=j("v-row");return xe(),Oe(x,null,{default:M(()=>[g(_,{cols:"12",md:"6"},{default:M(()=>[g(v,{variant:"outlined",density:"compact",modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=k=>r.value=k),items:n,label:"Tempo","hide-details":""},null,8,["modelValue"])]),_:1}),r.value==n[0]?(xe(),Oe(_,{key:0,cols:"12",md:"6"},{default:M(()=>[g(b,{variant:"outlined",density:"compact",modelValue:l.value,"onUpdate:modelValue":m[1]||(m[1]=k=>l.value=k),multiple:"range",inputmode:"none",label:"Intervallo","hide-details":""},null,8,["modelValue"])]),_:1})):r.value==n[1]?(xe(),Oe(_,{key:1,cols:"12",md:"6"},{default:M(()=>[g(v,{variant:"outlined",density:"compact",modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=k=>a.value=k),items:i,label:"Periodo","hide-details":""},null,8,["modelValue"])]),_:1})):(xe(),Oe(_,{key:2,cols:"12",md:"6"},{default:M(()=>[g(v,{class:"text-capitalize",variant:"outlined",density:"compact",modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=k=>o.value=k),label:`Mese ${new Date().getFullYear()}`,items:oe(s),"hide-details":""},null,8,["modelValue","label","items"])]),_:1}))]),_:1})}}}),Twe={class:"d-flex justify-center"},Pwe={colspan:"6",class:"text-center font-weight-bold"},Cwe=St({__name:"SalaryView",props:{school:{}},setup(t){const e=t,n=G([]),i=G(!1),s=G({}),r=G({}),a=[{title:"Data",align:"start",sortable:!0,key:"date"},{title:"Presenti",key:"presents"},{title:"Assenti",key:"absents"},{title:"Stipendio giornaliero",key:"salary"},{title:"Aggiornato il",key:"lastUpdate"},{title:"Operazioni",key:"actions",sortable:!1}],o=O(()=>{const d=n.value.reduce((c,h)=>c+h.salary,0);return isNaN(d)?0:d});be(r,l);async function l(){if(!r.value||!r.value.from)return;const d=r.value.to??gt.today().toIyyyyMMdd();i.value=!0,n.value=await ig.instance.computeSalary(e.school,r.value.from,d),i.value=!1}async function u(d,c){s.value[d.dailyLessonId]=!0;const h=await Bi.instance.computeSalaryOfDailyLesson(e.school,d.dailyLessonId);h?(n.value[c].salary=h.salary,n.value[c].lastUpdate=h.lastSalaryUpdate):Ze.info(`Lo stipendio della lezione del ${gt.fromIyyyyMMdd(d.date).format()} è già aggiornato!`),s.value[d.dailyLessonId]=!1}return kt(async()=>{await l()}),(d,c)=>{const h=j("v-btn"),f=j("v-data-table"),p=j("v-card-text"),m=j("v-card");return xe(),Oe(m,{title:"Stipendio",elevation:"3",loading:i.value},{default:M(()=>[g(p,null,{default:M(()=>[g(I6,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=v=>r.value=v)},null,8,["modelValue"]),g(f,{headers:a,items:n.value,"item-value":"id"},{"item.date":M(({item:v})=>[Ce(ct(oe(gt).fromIyyyyMMdd(v.date).format()),1)]),"item.lastUpdate":M(({item:v})=>[Ce(ct(v.lastUpdate?oe(i4)(oe(n4)(v.lastUpdate)):""),1)]),"item.actions":M(({item:v,index:_})=>[Ve("div",Twe,[g(h,{icon:"mdi-refresh",variant:"text",onClick:b=>u(v,_),loading:s.value[v.dailyLessonId]},null,8,["onClick","loading"])])]),"body.append":M(()=>[Ve("tr",null,[Ve("td",Pwe,"Totale "+ct(o.value)+" €",1)])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Ewe={class:"d-inline-block text-truncate",style:{"max-width":"120px"}},Iwe={class:"font-weight-bold text-caption"},Dwe={key:1},Awe=St({__name:"StudentNoteView",props:{school:{}},setup(t){const e=t,n=[],i=G([]),s=G(!1);async function r(){s.value=!0;const a=Or.instance.observeStudentsOfSchool(e.school.id).subscribe({next:o=>{i.value=o.filter(l=>!!l.note),s.value=!1},error:o=>{s.value=!1,console.error(o)}});n.push(a)}return kt(async()=>{await r()}),Us(()=>{n.forEach(a=>a.unsubscribe())}),(a,o)=>{const l=j("v-col"),u=j("v-row"),d=j("v-expansion-panel-title"),c=j("v-icon"),h=j("v-dialog"),f=j("v-expansion-panel-text"),p=j("v-expansion-panel"),m=j("v-expansion-panels"),v=j("v-card-text"),_=j("v-card");return xe(),Oe(_,{title:"Note",elevation:"3",loading:s.value},{default:M(()=>[g(v,null,{default:M(()=>[i.value.length!=0?(xe(),Oe(m,{key:0},{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(i.value,b=>(xe(),Oe(p,{key:b.id},{default:M(()=>[g(d,null,{default:M(()=>[g(u,{class:"justify-between"},{default:M(()=>[g(l,null,{default:M(()=>[Ve("span",null,ct(b.name)+" "+ct(b.surname),1)]),_:2},1024),g(l,{class:"text-grey",cols:"auto"},{default:M(()=>[Ve("span",Ewe,ct(b.note.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),g(f,null,{default:M(()=>[g(u,null,{default:M(()=>[g(l,null,{default:M(()=>[Ce(ct(b.note.text),1)]),_:2},1024)]),_:2},1024),g(u,{class:"justify-end align-center"},{default:M(()=>[g(l,{cols:"auto"},{default:M(()=>[Ve("span",Iwe,"Aggiornata il "+ct(oe(i4)(oe(n4)(b.note.updatedAt))),1)]),_:2},1024),g(l,{cols:"auto"},{default:M(()=>[g(h,{fullscreen:""},{activator:M(({props:x})=>[g(c,Z({class:"me-2",size:"small",ref_for:!0},x),{default:M(()=>o[0]||(o[0]=[Ce(" mdi-pencil ")])),_:2},1040)]),default:M(({isActive:x})=>[g(my,{edit:"",school:a.school,initialStudent:b,focus:"note",disableFields:["name","surname","contact","lessonDay","level","minutesLessonDuration"],onClose:k=>x.value=!1,onSave:k=>x.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(xe(),Tt("p",Dwe," Nessuna nota presente "))]),_:1})]),_:1},8,["loading"])}}}),Rwe=St({__name:"StudentFilter",props:{modelValue:{default:[]},modelModifiers:{}},emits:El(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=Il(t,"modelValue"),i=e,s=G([]),r=O(()=>s.value.length===Fv.length),a=O(()=>s.value.length>0);function o(c){return{title:c.name,value:c.type,color:c.color,icon:c.icon}}function l(){r.value?s.value=[]:s.value=Fv.slice()}function u(){s.value=[...n.value]}function d(){n.value=[...s.value],i("close")}return kt(()=>u()),(c,h)=>{const f=j("v-icon"),p=j("v-checkbox-btn"),m=j("v-list-item"),v=j("v-divider"),_=j("v-select"),b=j("v-col"),x=j("v-row"),k=j("v-card-text"),I=j("v-spacer"),E=j("v-btn"),T=j("v-card-actions"),S=j("v-card");return xe(),Oe(S,{class:"mx-auto","min-width":"300px"},{default:M(()=>[g(k,null,{default:M(()=>[g(x,null,{default:M(()=>[g(b,null,{default:M(()=>[g(_,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=w=>s.value=w),items:oe(Fv),"return-object":"","item-props":o,label:"Filtri",multiple:"",chips:""},{chip:M(({item:w})=>[g(f,{color:w.props.color},{default:M(()=>[Ce(ct(w.props.icon),1)]),_:2},1032,["color"])]),"prepend-item":M(()=>[g(m,{title:"Seleziona Tutti",onClick:l},{prepend:M(()=>[g(p,{color:a.value?"indigo-darken-4":void 0,indeterminate:a.value&&!r.value,"model-value":r.value},null,8,["color","indeterminate","model-value"])]),_:1}),g(v,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),g(T,null,{default:M(()=>[g(I),g(E,{onClick:u},{default:M(()=>h[1]||(h[1]=[Ce("Reset")])),_:1}),g(E,{onClick:d,color:"primary"},{default:M(()=>h[2]||(h[2]=[Ce("Applica")])),_:1})]),_:1})]),_:1})}}}),Owe=St({__name:"StudentView",props:{school:{}},setup(t){const e=t,n=[],i=G([]),s=G([]),r=G(!1),a=G(!1),o=[{title:"Nome",key:"name",align:"start"},{title:"Cognome",key:"surname"},{title:"Giorno della Lezione",key:"lessonDay"},{title:"Operazioni",key:"actions",sortable:!1},{title:"Contatto",key:"contact"},{title:"Lezione di prova",key:"trial"}],l=G(Fv);be(l,f);function u(p){var m;return(m=p.trial)!=null&&m.done?p.trial.dailyLessonDate?gt.fromIyyyyMMdd(p.trial.dailyLessonDate).format():"Fatta":""}function d(p){p&&(a.value=!1)}async function c(p){if(!p)return!1;try{return await Cr.instance.delete(p.id),!0}catch{return!1}}async function h(){r.value=!0;const p=Or.instance.observeStudentsOfSchool(e.school.id).subscribe({next:m=>{i.value=m,f(),r.value=!1},error:m=>r.value=!1});n.push(p)}function f(){s.value=i.value.filter(p=>{if(l.value.length==2)return!0;if(l.value.map(m=>m.type).includes("substistution"))return!!p.isSubstitution;if(l.value.map(m=>m.type).includes("normal"))return!p.isSubstitution})}return kt(async()=>{await h()}),Us(()=>{n.forEach(p=>p.unsubscribe())}),(p,m)=>{const v=j("v-btn"),_=j("v-dialog"),b=j("v-text-field"),x=j("v-col"),k=j("v-row"),I=j("v-icon"),E=j("v-data-table"),T=j("v-card-text"),S=j("v-card");return xe(),Oe(S,{title:"Studenti",elevation:"3",loading:r.value},{default:M(()=>[g(T,null,{default:M(()=>[g(k,{class:"mr-4 mb-1 align-center"},{default:M(()=>[g(x,{cols:"12",md:"8"},{default:M(()=>[g(b,{class:"ma-2",density:"compact",label:"Ricerca",variant:"outlined","hide-details":""},{append:M(()=>[g(_,{transition:"dialog-bottom-transition"},{activator:M(({props:w})=>[g(v,Z({icon:"mdi-filter",variant:"text"},w),null,16)]),default:M(({isActive:w})=>[g(Rwe,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=C=>l.value=C),onClose:C=>w.value=!1},null,8,["modelValue","onClose"])]),_:1})]),_:1})]),_:1}),g(x,{cols:"12",md:"4"},{default:M(()=>[g(_,{modelValue:a.value,"onUpdate:modelValue":m[3]||(m[3]=w=>a.value=w),fullscreen:""},{activator:M(({props:w})=>[g(v,Z({"prepend-icon":"mdi-plus",color:"success"},w),{default:M(()=>m[4]||(m[4]=[Ce(" studente ")])),_:2},1040)]),default:M(()=>[g(my,{school:p.school,onClose:m[1]||(m[1]=w=>a.value=!1),onSave:m[2]||(m[2]=w=>d(w))},null,8,["school"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),g(E,{headers:o,items:s.value,"item-value":"id"},{"item.lessonDay":M(({item:w})=>[Ce(ct(w.lessonDay?oe(Vs)[w.lessonDay]:""),1)]),"item.trial":M(({item:w})=>[Ce(ct(u(w)),1)]),"item.actions":M(({item:w})=>[g(_,{fullscreen:""},{activator:M(({props:C})=>[g(I,Z({class:"me-2",size:"small"},C),{default:M(()=>m[5]||(m[5]=[Ce(" mdi-pencil ")])),_:2},1040)]),default:M(({isActive:C})=>[g(my,{edit:"",school:p.school,initialStudent:w,onClose:P=>C.value=!1,onSave:P=>C.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024),g(up,{name:w.name+" "+w.surname,objName:"Studente",onDelete:async()=>await c(w)},{activator:M(({props:C})=>[g(I,Z({size:"small"},C),{default:M(()=>m[6]||(m[6]=[Ce(" mdi-delete ")])),_:2},1040)]),_:2},1032,["name","onDelete"])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Mwe=St({__name:"SchoolView",setup(t){const e=Wg(),n=Ac(),i=O(()=>e.params.id),s=Lr.instance.observe(i),r=mP(s),a=[];async function o(){if(!r.value)return!1;try{return lg.instance.delete(s.value),n.push("/"),!0}catch{return!1}}return Us(()=>{a.forEach(l=>l())}),(l,u)=>{const d=j("v-btn"),c=j("v-list-item"),h=j("v-dialog"),f=j("v-list"),p=j("v-menu"),m=j("v-col"),v=j("v-row"),_=j("v-card"),b=j("v-skeleton-loader"),x=j("v-container");return oe(r)?(xe(),Oe(_,{key:0,class:"pa-3 mb-3",title:oe(r).name,elevation:"0"},{prepend:M(()=>[g(sp)]),append:M(()=>[g(p,{transition:"slide-y-transition"},{activator:M(({props:k})=>[g(d,Z({icon:"mdi-dots-vertical",variant:"text"},k),null,16)]),default:M(()=>[g(f,null,{default:M(()=>[g(h,{fullscreen:""},{activator:M(({props:k})=>[g(c,Z({title:"Modifica"},k),null,16)]),default:M(({isActive:k})=>[g(E6,{edit:"",initialSchool:oe(r),onClose:I=>k.value=!1,onSave:I=>k.value=!1},null,8,["initialSchool","onClose","onSave"])]),_:1}),g(up,{name:oe(r).name,objName:"Scuola",onDelete:o},{activator:M(({props:k})=>[g(c,Z({title:"Elimina"},k),null,16)]),_:1},8,["name"])]),_:1})]),_:1})]),default:M(()=>[g(v,{class:"mt-5"},{default:M(()=>[g(m,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[g(mwe,{school:oe(r)},null,8,["school"])]),_:1}),g(m,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[g(kwe,{school:oe(r)},null,8,["school"])]),_:1})]),_:1}),g(v,null,{default:M(()=>[g(m,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[g(Owe,{school:oe(r)},null,8,["school"])]),_:1}),g(m,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[g(Cwe,{school:oe(r)},null,8,["school"])]),_:1})]),_:1}),g(v,null,{default:M(()=>[g(m,{class:"pa-2",cols:"12"},{default:M(()=>[g(Awe,{school:oe(r)},null,8,["school"])]),_:1})]),_:1})]),_:1},8,["title"])):(xe(),Oe(x,{key:1,fluid:""},{default:M(()=>[g(b,{class:"mx-auto",type:"heading"}),g(v,{class:"justify-center mt-4"},{default:M(()=>[(xe(),Tt(Pe,null,Ii(5,k=>g(m,{key:k,cols:"12",md:"6"},{default:M(()=>[g(b,{elevation:"3",type:"card"})]),_:2},1024)),64))]),_:1})]),_:1}))}}}),Vwe=St({__name:"SettingsView",setup(t){const e=G(!1),n=O(()=>`Abilitare console debug: ${e.value?"on":"off"}`),i=G(!1),s=O(()=>`Abilitare il caricamento automatico delle lezioni del giorno sulla Homepage: ${i.value?"on":"off"}`),r=G(!1);be(e,()=>Ks.setItem("debugEnabled",e.value)),be(i,()=>Ks.setItem("loadTodayLesson",i.value));function a(){e.value=Ks.getItem("debugEnabled")??!1,i.value=Ks.getItem("loadTodayLesson")??!1,"Notification"in window&&"serviceWorker"in navigator&&(r.value=!0)}function o(){r.value&&Notification.requestPermission(u=>{console.log("result from permission question",u),u!=="granted"?Ze.info("Autorizzazione notifiche negata"):(Ze.info("Autorizzazione notifiche consentita! Ti sarà inviata una notifica di prova"),console.log("A notification will be send from the service worker => This only works in production"),l())})}function l(){"serviceWorker"in navigator&&(console.log(navigator.serviceWorker),navigator.serviceWorker.ready.then(u=>{console.log(u),u.showNotification("Notifica di prova",{body:"Questa è una notifica di prova"})}))}return kt(()=>a()),(u,d)=>{const c=j("v-col"),h=j("v-row"),f=j("v-switch"),p=j("v-btn"),m=j("v-form"),v=j("v-container");return xe(),Oe(v,{fluid:"",class:"mb-5"},{default:M(()=>[g(h,{class:"justify-center align-center mb-6"},{default:M(()=>[g(c,{cols:"auto"},{default:M(()=>[g(sp)]),_:1}),g(c,null,{default:M(()=>d[2]||(d[2]=[Ve("p",{class:"text-h5 text-center"},"Impostazioni Utente",-1)])),_:1})]),_:1}),g(h,null,{default:M(()=>[g(c,null,{default:M(()=>[g(m,{class:"ma-2"},{default:M(()=>[g(h,{class:"justify-center"},{default:M(()=>[g(c,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[g(f,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),color:"primary",label:n.value},null,8,["modelValue","label"])]),_:1}),g(c,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[g(f,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=_=>i.value=_),color:"primary",label:s.value},null,8,["modelValue","label"])]),_:1}),g(c,null,{default:M(()=>[r.value?(xe(),Oe(p,{key:0,onClick:o},{default:M(()=>d[3]||(d[3]=[Ce("abilita notifiche")])),_:1})):Zt("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});class Lwe{constructor(){an(this,"schools",[]);an(this,"students",[])}async getSchools(){return this.schools.length==0&&(this.schools=await Lr.instance.getAll()),this.schools}async getStudents(){return this.students.length==0&&(this.students=await Cr.instance.getAll()),this.students}clear(){this.schools=[],this.students=[]}}const Hy=class Hy{constructor(){an(this,"cache",new Lwe)}static get instance(){return this._instance||(this._instance=new Hy),this._instance}async getSalaryTrend(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const o=(await Bi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n)).filter(l=>!isNaN(l.salary)).map(l=>({date:gt.fromIyyyyMMdd(l.date).toDate().getTime(),value:l.salary}));s.push(...o)}return s.sort((r,a)=>r.date-a.date)}async getSalaryDistribution(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const o=(await Bi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n)).filter(l=>!isNaN(l.salary)).map(l=>l.salary).reduce((l,u)=>l+u,0);s.push({category:r.name,value:o})}return s}async getSchoolDistribution(...e){return(!e||e.length==0)&&(e=await this.cache.getSchools()),e.map(n=>({category:n.name,value:1}))}async getSchoolStudentDistribution(...e){const n=[];(!e||e.length==0)&&(e=await this.cache.getSchools());const i=await this.cache.getStudents();for(const s of e){const r=i.filter(a=>a.schoolId==s.id).length;r&&n.push({category:s.name,value:r})}return n}async getStudentTrend(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const a=(await this.cache.getStudents()).filter(l=>l.schoolId==r.id),o=await Bi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n);a.forEach(l=>{var d;const u={student:l.name+" "+l.surname,present:0,absent:0,recovery:0};for(const c of o){const h=c.lessons.find(f=>f.studentId==l.id);h&&(((d=h.recovery)==null?void 0:d.ref)=="original"&&u.recovery++,h.status==Ot.PRESENT?u.present++:h.status==Ot.ABSENT&&u.absent++)}!u.present&&!u.absent&&!u.recovery||s.push(u)})}return s}async getLessonTrend(e,n,...i){const s={category:"Presenze",value:0},r={category:"Assenze",value:0},a={category:"Recuperi",value:0};(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const o of i){const l=await Bi.instance.getDailyLessonOfSchoolBetweenDate(o.id,e,n);for(const u of l)s.value+=u.lessons.filter(d=>d.status==Ot.PRESENT).length,r.value+=u.lessons.filter(d=>d.status==Ot.ABSENT).length,a.value+=u.lessons.filter(d=>{var c;return((c=d.recovery)==null?void 0:c.ref)=="original"}).length}return[s,r,a]}};an(Hy,"_instance",null);let Vo=Hy;class wt{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,n){return e+this.value*(n-e)}static normalize(e,n,i){return e instanceof wt?e:n===i?new wt(0):new wt(Math.min(Math.max((e-n)*(1/(i-n)),0),1)*100)}}function jn(t){return new wt(t)}jn(0);const Ne=jn(100),at=jn(50);function ZM(t){return t instanceof wt}function fa(t){return Number(t)!==t}function Nwe(t){return{}.toString.call(t)}function or(t){if(t!=null&&!fe(t)){let e=Number(t);return fa(e)&&dh(t)&&t!=""?or(t.replace(/[^0-9.\-]+/g,"")):e}return t}function Fwe(t){if(uk(t))return new Date(t);if(fe(t))return new Date(t);{let e=Number(t);return fe(e)?new Date(e):new Date(t)}}function Bwe(t){if(fa(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(t===0&&1/t===-1/0)return"-0";let e=t<0;t=Math.abs(t);let n=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),i=n[1],s=n[2]||"",r;if(n[3]===void 0)r=s===""?i:i+"."+s;else{let a=+n[3];if(t<1){let o=a-1;r="0."+eV("0",o)+i+s}else{let o=a-s.length;o===0?r=i+s:o<0?r=i+s.slice(0,o)+"."+s.slice(o):r=i+s+eV("0",o)}}return e?"-"+r:r}function eV(t,e){return new Array(e+1).join(t)}function uk(t){return Nwe(t)==="[object Date]"}function dh(t){return typeof t=="string"}function fe(t){return typeof t=="number"&&Number(t)==t}function cp(t){return typeof t=="object"&&t!==null}const Ul="__§§§__",bd="__§§§§__";function hh(t,e){const n=t.length;for(let i=0;i<n;++i)if(t[i]===e)return i;return-1}function jwe(t,e){const n=t.length;for(let i=0;i<n;++i)if(e(t[i]))return!0;return!1}function ck(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e(t[s],s);return i}function le(t,e){const n=t.length;for(let i=0;i<n;++i)e(t[i],i)}function om(t,e){let n=t.length;for(;n>0;)--n,e(t[n],n)}function XC(t,e){const n=t.length;for(let i=0;i<n&&e(t[i],i);++i);}function Er(t,e){let n=!1,i=0;for(;;){if(i=t.indexOf(e,i),i===-1)return n;n=!0,t.splice(i,1)}}function ns(t,e){let n=t.indexOf(e);return n!==-1?(t.splice(n,1),!0):!1}function tV(t,e,n){let i=hh(t,e);i!==-1&&hk(t,i),t.push(e)}function ug(t,e){t.indexOf(e)===-1&&t.push(e)}function dk(t){const e=t.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=t[i];return n}function fx(t,e,n){t.splice(e,0,n)}function hk(t,e){t.splice(e,1)}function D6(t,e){const n=t.length;for(let i=0;i<n;++i)if(e(t[i],i))return i;return-1}function $we(t,e){let n=t.length;for(;n>0;)if(--n,e(t[n],n))return n;return-1}function A6(t,e){const n=D6(t,e);if(n!==-1)return t[n]}function Uwe(t,e){const n=$we(t,e);if(n!==-1)return t[n]}function fk(t,e){let n=0,i=t.length,s=!1;for(;n<i;){const r=n+i>>1,a=e(t[r]);a<0?n=r+1:a===0?(s=!0,n=r+1):i=r}return{found:s,index:s?n-1:n}}function R6(t,e){let n=0,i=t.length,s=!1;for(;n<i;){const r=n+i>>1,a=e(t[r]);a<0?n=r+1:(a===0&&(s=!0),i=r)}return{found:s,index:n}}function Lw(t,e){let n=t.length;for(;n>0;)--n,e(t[n])||t.splice(n,1)}function bi(t){return Object.keys(t)}function Hwe(t,e){return bi(t).sort(e)}function Nu(t){return Object.assign({},t)}function sn(t,e){bi(t).forEach(n=>{e(n,t[n])})}function zwe(t,e){for(let n in t)if(Wwe(t,n)&&!e(n,t[n]))break}function Wwe(t,e){return{}.hasOwnProperty.call(t,e)}class Nw{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Ei{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Ywe extends Nw{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){le(this._disposers,e=>{e.dispose()})}}class Os extends Nw{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){le(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class KC extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new Ei(()=>{--this._counter,this._counter===0&&this.dispose()})}}function Gwe(t){t.parentNode&&t.parentNode.removeChild(t)}function Nn(t,e,n,i){return t.addEventListener(e,n,i||!1),new Ei(()=>{t.removeEventListener(e,n,i||!1)})}function O6(t){return Nn(window,"resize",e=>{t()})}function Fa(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function mx(t){return t.pointerId||0}function qwe(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function Xwe(t){t&&t.focus()}function mk(t){if(Fa("pointerevents"))return t;if(Fa("touchevents"))switch(t){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Fa("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function gk(t){if(typeof Touch<"u"&&t instanceof Touch)return!0;if(typeof PointerEvent<"u"&&t instanceof PointerEvent&&t.pointerType!=null)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(t.type!=null&&t.type.match(/^mouse/))return!1;return!0}function rv(t,e,n){t.style[e]=n}function Kwe(t,e){return t.style[e]}function M6(t){if(t.composedPath){const e=t.composedPath();return e.length===0?null:e[0]}else return t.target}function Qwe(t,e){let n=e;for(;;){if(t===n)return!0;if(n.parentNode===null){if(n.host==null)return!1;n=n.host}else n=n.parentNode}}function QC(t,e){return t.target&&Qwe(e.root.dom,t.target)}function md(t,e){e?t.style.pointerEvents="auto":t.style.pointerEvents="none"}function wd(t){if(t.key!==void 0)return t.key;switch(t.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+t.keyCode}function Jwe(t){let e=t;for(;;){if(e.parentNode===null)return e.host!=null?e:null;e=e.parentNode}}let gx;function Zwe(t,e=""){if(t===null){if(gx==null){const n=document.createElement("style");n.type="text/css",e!=""&&n.setAttribute("nonce",e),document.head.appendChild(n),gx=n.sheet}return gx}else{const n=document.createElement("style");return n.type="text/css",e!=""&&n.setAttribute("nonce",e),t.appendChild(n),n.sheet}}function nV(t,e){const n=t.cssRules.length;return t.insertRule(e+"{}",n),t.cssRules[n]}class Gi extends Nw{constructor(e,n,i,s=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=Zwe(e,s);try{this._rule=nV(this._root,n)}catch{this._rule=nV(this._root,":not(*)")}sn(i,(r,a)=>{this.setStyle(r,a)})}set selector(e){this._rule.selectorText=e}get selector(){return this._rule.selectorText}_dispose(){const e=hh(this._root.cssRules,this._rule);if(e===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(e)}_setVendorPrefixName(e,n){const i=this._rule.style;i.setProperty("-webkit-"+e,n,""),i.setProperty("-moz-"+e,n,""),i.setProperty("-ms-"+e,n,""),i.setProperty("-o-"+e,n,""),i.setProperty(e,n,"")}setStyle(e,n){e==="transition"?this._setVendorPrefixName(e,n):this._rule.style.setProperty(e,n,"")}}function e0e(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function t0e(){return e0e()?1:void 0}function Qn(t,e){return fe(t)?t:t!=null&&fe(t.value)&&fe(e)?e*t.value:0}function V6(t){let e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function li(t,e=0,n="0"){return typeof t!="string"&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(n)+t:t}function n0e(t){return t.replace(/^[\s]*/,"")}function i0e(t){return t.replace(/[\s]*$/,"")}function Bd(t){return n0e(i0e(t))}function s0e(t,e,n=!1,i="..."){if(t.length>e){let s=e-1;for(;s>=0&&t.charAt(s).match(/\w/);)s--;return s>=0&&n==!1?t.substring(0,s+1)+"...":t.substring(0,e)+i}else return t}function JC(t){return t.replace(/\/(date|number|duration)$/i,"")}function iV(t){return t&&t.replace(/<[^>]*>/g,"")}function sV(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function r0e(t){const e=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,n=/([^اأدذرزو]*[اأدذرزو])/gi;let i=t.split(/(\s+)/),s=[];return i.forEach(r=>{if(r.match(/^\s+$/))(r=" ")&&(r="  "),s.push(r);else if(e.test(r)){let a=r.split(n).filter(o=>o!=="");s=s.concat(a)}else s=s.concat([...r])}),s}function rV(t,e=!1){const n=new Date(t.getFullYear(),0,0),i=t.getTime()-n.getTime()+(n.getTimezoneOffset()-t.getTimezoneOffset())*60*1e3,s=1e3*60*60*24;return Math.floor(i/s)}function gy(t,e=!1){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-i);const s=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-s.getTime())/864e5+1)/7)}function a0e(t,e=!1){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+4-i),new Date(Date.UTC(n.getUTCFullYear(),0,1)).getFullYear()}function o0e(t,e=!1){const n=gy(new Date(t.getFullYear(),t.getMonth(),1),e);let i=gy(t,e);return i==1&&(i=53),i-n+1}function l0e(t,e,n=1,i=!1){let s=new Date(e,0,4,0,0,0,0);return i&&s.setUTCFullYear(e),t*7+n-((s.getDay()||7)+3)}function av(t,e){return t>12?t-=12:t===0&&(t=12),e!=null?t+(e-1):t}function ov(t,e=!1,n=!1,i=!1,s){if(i)return e?"Coordinated Universal Time":"UTC";if(s){const o=t.toLocaleString("en-US",{timeZone:s}),l=t.toLocaleString("en-US",{timeZone:s,timeZoneName:e?"long":"short"});return Bd(l.substr(o.length))}let r=t.toLocaleString("UTC"),a=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(r.length);return n===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),Bd(a)}function u0e(t){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:t})).getTime()-n.getTime())/6e4*-1}function aV(t){return t.charAt(0).toUpperCase()+t.slice(1)}function L6(t){let e,n,i,s=t.h,r=t.s,a=t.l;if(r==0)e=n=i=a;else{let o=function(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?c+(h-c)*6*f:f<.5?h:f<.6666666666666666?c+(h-c)*(.6666666666666666-f)*6:c},l=a<.5?a*(1+r):a+r-a*r,u=2*a-l;e=o(u,l,s+1/3),n=o(u,l,s),i=o(u,l,s-1/3)}return{r:Math.round(e*255),g:Math.round(n*255),b:Math.round(i*255)}}function N6(t){let e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),a=0,o=0,l=(s+r)/2;if(s===r)a=o=0;else{let u=s-r;switch(o=l>.5?u/(2-s-r):u/(s+r),s){case e:a=(n-i)/u+(n<i?6:0);break;case n:a=(i-e)/u+2;break;case i:a=(e-n)/u+4;break}a/=6}return{h:a,s:o,l}}function c0e(t,e){return{r:Math.max(0,Math.min(255,t.r+qv(t.r,e))),g:Math.max(0,Math.min(255,t.g+qv(t.g,e))),b:Math.max(0,Math.min(255,t.b+qv(t.b,e))),a:t.a}}function qv(t,e){let n=e>0?255-t:t;return Math.round(n*e)}function d0e(t,e){{let n=Math.min(Math.max(t.r,t.g,t.b),230),i=qv(n,e);return{r:Math.max(0,Math.min(255,Math.round(t.r+i))),g:Math.max(0,Math.min(255,Math.round(t.g+i))),b:Math.max(0,Math.min(255,Math.round(t.b+i))),a:t.a}}}function oV(t){return(t.r*299+t.g*587+t.b*114)/1e3>=128}function h0e(t,e){if(t===void 0||e==1)return t;let n=N6(t);return n.s=e,L6(n)}function f0e(t,e={r:255,g:255,b:255},n={r:255,g:255,b:255}){let i=e,s=n;return oV(n)&&(i=n,s=e),oV(t)?s:i}function Mt(t,e){return t||(t=[]),[...t,...e].filter((n,i,s)=>s.indexOf(n)===i)}function F6(t,e){return!(!e||t.left!=e.left||t.right!=e.right||t.top!=e.top||t.bottom!=e.bottom)}function B6(t){return t[0]==="#"&&(t=t.substr(1)),t.length==3&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function m0e(t){t=t.replace(/[ ]/g,"");let e=t.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let n="";for(let i=1;i<=3;i++){let s=parseInt(e[i]).toString(16);s.length==1&&(s="0"+s),n+=s}return B6(n)}function gl(t){return tt.fromAny(t)}class tt{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+li(this.r.toString(16),2)+li(this.g.toString(16),2)+li(this.b.toString(16),2)}toHSL(e=1){return N6({r:this.r,g:this.g,b:this.b,a:e})}static fromHSL(e,n,i){const s=L6({h:e,s:n,l:i});return this.fromRGB(s.r,s.g,s.b)}toString(){return this.toCSSHex()}static fromHex(e){return new tt(e)}static fromRGB(e,n,i){return new tt((i|0)+(n<<8)+(e<<16))}static fromString(e){return new tt(B6(e))}static fromCSS(e){return new tt(m0e(e))}static fromAny(e){if(dh(e)){if(e[0]=="#")return tt.fromString(e);if(e.substr(0,3)=="rgb")return tt.fromCSS(e)}else{if(fe(e))return tt.fromHex(e);if(e instanceof tt)return tt.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,n,i){const s=f0e({r:e.r,g:e.g,b:e.b},n?{r:n.r,g:n.g,b:n.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(s.r,s.g,s.b)}static interpolate(e,n,i,s="rgb"){if(s=="hsl"){const r=n.toHSL(),a=i.toHSL();return tt.fromHSL(ul(e,r.h,a.h),ul(e,r.s,a.s),ul(e,r.l,a.l))}else return tt.fromRGB(ul(e,n.r,i.r),ul(e,n.g,i.g),ul(e,n.b,i.b))}static lighten(e,n){const i=c0e({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}static brighten(e,n){const i=d0e({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}static saturate(e,n){const i=h0e({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}}class Xh{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{le(e,n=>{n.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(e){return jwe(this._listeners,n=>(n.type===null||n.type===e)&&!n.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,n=1/0){this._disabled[e]=n}_removeListener(e){if(this._iterating===0){const n=this._listeners.indexOf(e);if(n===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(n,1)}else this._killed.push(e)}_removeExistingListener(e,n,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(r=>{r.once===e&&r.type===n&&(i===void 0||r.callback===i)&&r.context===s&&r.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&this._disabled[e]===void 0}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(n=>{n.type===e&&n.disposer.dispose()})}has(e,n,i){return D6(this._listeners,r=>r.once!==!0&&r.type===e&&(n===void 0||r.callback===n)&&r.context===i)!==-1}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const n=this._disabled[e];return fe(n)?(n<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{le(this._listeners,e)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(le(this._killed,n=>{this._removeListener(n)}),this._killed.length=0)}}dispatch(e,n){this._shouldDispatch(e)&&this._eachListener(i=>{!i.killed&&(i.type===null||i.type===e)&&i.dispatch(e,n)})}_on(e,n,i,s,r,a){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,n,i,s);const o={type:n,callback:i,context:s,shouldClone:r,dispatch:a,killed:!1,once:e,disposer:new Ei(()=>{o.killed=!0,this._removeListener(o)})};return this._listeners.push(o),o}onAll(e,n,i=!0){return this._on(!1,null,e,n,i,(s,r)=>e.call(n,r)).disposer}on(e,n,i,s=!0){return this._on(!1,e,n,i,s,(r,a)=>n.call(i,a)).disposer}once(e,n,i,s=!0){const r=this._on(!0,e,n,i,s,(a,o)=>{r.disposer.dispose(),n.call(i,o)});return r.disposer}off(e,n,i){this._removeExistingListener(!1,e,n,i)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const n=[];return le(e._listeners,i=>{!i.killed&&i.shouldClone&&(i.type===null?n.push(this.onAll(i.callback,i.context)):i.once?n.push(this.once(i.type,i.callback,i.context)):n.push(this.on(i.type,i.callback,i.context)))}),new Os(n)}}function lV(t){return wi(this,void 0,void 0,function*(){if(t!==void 0){const e=[];sn(t,(n,i)=>{e.push(i.waitForStop())}),yield Promise.all(e)}})}function ul(t,e,n){return e+t*(n-e)}function g0e(t,e,n){return t>=1?n:e}function j6(t,e,n){return new wt(ul(t,e.percent,n.percent))}function p0e(t,e,n){return tt.interpolate(t,e,n)}function v0e(t,e){return typeof t=="number"&&typeof e=="number"?ul:t instanceof wt&&e instanceof wt?j6:t instanceof tt&&e instanceof tt?p0e:g0e}var Yu;(function(t){t[t.Stopped=0]="Stopped",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused"})(Yu||(Yu={}));function wf(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}class Kh{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Xh}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let n=0,i=this._values.length;for(;n<i;)this._values[n]===e?(this.removeIndex(n),--i):++n}indexOf(e){return hh(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,n){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:n})}_onSetIndex(e,n,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:i})}_onRemoveIndex(e,n){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:n})}_onMoveIndex(e,n,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:n,value:i})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,n){wf(e,this._values.length);const i=this._values[e];return i!==n&&(this._values[e]=n,this._onSetIndex(e,i,n)),i}insertIndex(e,n){return wf(e,this._values.length+1),fx(this._values,e,n),this._onInsertIndex(e,n),n}swap(e,n){const i=this._values.length;if(wf(e,i),wf(n,i),e!==n){const s=this._values[e],r=this._values[n];this._values[e]=r,this._onSetIndex(e,s,r),this._values[n]=s,this._onSetIndex(n,r,s)}}removeIndex(e){wf(e,this._values.length);const n=this._values[e];return hk(this._values,e),this._onRemoveIndex(e,n),n}moveValue(e,n){let i=this.indexOf(e);if(i!==-1)if(hk(this._values,i),n==null){const s=this._values.length;this._values.push(e),this._onMoveIndex(i,s,e)}else fx(this._values,n,e),this._onMoveIndex(i,n,e);else n==null?(this._values.push(e),this._onPush(e)):(fx(this._values,n,e),this._onInsertIndex(n,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){le(e,n=>{this.push(n)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const n=this._values;this._values=[],this._onClear(n),le(e,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let n=0;n<e;++n)yield this._values[n]}each(e){le(this._values,e)}eachReverse(e){om(this._values,e)}}class py extends Kh{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(e,n,i){this.autoDispose&&n.dispose(),super._onSetIndex(e,n,i)}_onRemoveIndex(e,n){this.autoDispose&&n.dispose(),super._onRemoveIndex(e,n)}_onClear(e){this.autoDispose&&le(e,n=>{n.dispose()}),super._onClear(e)}_dispose(){this.autoDispose&&le(this._values,e=>{e.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class ji extends py{constructor(e,n){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=n}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}}class _0e extends Kh{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(n=>{if(n.type==="clear")le(n.oldValues,i=>{this._onRemoved(i)});else if(n.type==="push")this._onInserted(n.newValue);else if(n.type==="setIndex")this._onRemoved(n.oldValue),this._onInserted(n.newValue,n.index);else if(n.type==="insertIndex")this._onInserted(n.newValue,n.index);else if(n.type==="removeIndex")this._onRemoved(n.oldValue);else if(n.type==="moveIndex")this._onRemoved(n.value),this._onInserted(n.value,n.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,n){e._setParent(this._container,!0);const i=this._container._childrenDisplay;n===void 0?i.addChild(e._display):i.addChildAt(e._display,n)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),le(this.values,e=>{e.dispose()}))}}const $6=Math.PI,cg=$6/180,lm=180/$6;function ui(t,e,n){if(!fe(e)||e<=0)return Math.round(t);{let i=Math.pow(10,e);return Math.round(t*i)/i}}function y0e(t,e){if(!fe(e)||e<=0)return Math.ceil(t);{let n=Math.pow(10,e);return Math.ceil(t*n)/n}}function Kn(t,e,n){return Math.min(Math.max(t,e),n)}function Ir(t){return Math.sin(cg*t)}function Ba(t){return Math.cos(cg*t)}function ZC(t){return t=t%360,t<0&&(t+=360),t}function pk(t,e,n,i,s){let r=Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(px(s,n)),u.push(px(s,i));let d=Math.min(Math.floor(n/90)*90,Math.floor(i/90)*90),c=Math.max(Math.ceil(n/90)*90,Math.ceil(i/90)*90);for(let h=d;h<=c;h+=90)h>=n&&h<=i&&u.push(px(s,h));for(let h=0;h<u.length;h++){let f=u[h];f.x<r&&(r=f.x),f.y<a&&(a=f.y),f.x>o&&(o=f.x),f.y>l&&(l=f.y)}return{left:t+r,top:e+a,right:t+o,bottom:e+l}}function px(t,e){return{x:t*Ba(e),y:t*Ir(e)}}function b0e(t){const e=t.length;if(e>0){let n=t[0],i=n.left,s=n.top,r=n.right,a=n.bottom;if(e>1)for(let o=1;o<e;o++)n=t[o],i=Math.min(n.left,i),r=Math.max(n.right,r),s=Math.min(n.top,s),a=Math.max(n.bottom,a);return{left:i,right:r,top:s,bottom:a}}return{left:0,right:0,top:0,bottom:0}}function w0e(t,e){return t.x>=e.left&&t.y>=e.top&&t.x<=e.right&&t.y<=e.bottom}function uV(t){return t}function cl(t){return t*t*t}function ad(t){return function(e){return 1-t(1-e)}}function x0e(t){return function(e){return e<=.5?t(e*2)/2:1-t((1-e)*2)/2}}class S0e{constructor(e,n){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=n,sn(n,i=>{this._userSettings[i]=!0})}get(e,n){const i=this._settings[e];return i!==void 0?i:n}setRaw(e,n){this._settings[e]=n}set(e,n){this._userSettings[e]=!0,this.setRaw(e,n)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){bi(e).forEach(n=>{this.set(n,e[n])})}_eachSetting(e){sn(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const n=this._entity.states.lookup("default");this._eachSetting((i,s)=>{e[i]||(e[i]=!0,this!==n&&(i in n._settings||(n._settings[i]=this._entity.get(i))),this._entity.set(i,s))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let n=this._settings.stateAnimationEasing;n==null&&(n=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",cl)));const i=this._entity.states.lookup("default"),s={};s.stateAnimationEasing=!0,s.stateAnimationDuration=!0;const r={};return this._eachSetting((a,o)=>{if(!s[a]){s[a]=!0,this!=i&&(a in i._settings||(i._settings[a]=this._entity.get(a)));const l=this._entity.animate({key:a,to:o,duration:e,easing:n});l&&(r[a]=l)}}),r}}class k0e{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,n){const i=this._states[e];if(i)return i.setAll(n),i;{const s=new S0e(this._entity,n);return this._states[e]=s,s}}remove(e){delete this._states[e]}apply(e){const n=this._states[e];n&&n.apply(),this._entity._applyState(e)}applyAnimate(e,n){let i;const s=this._states[e];return s&&(i=s.applyAnimate(n)),this._entity._applyStateAnimated(e,n),i}}class T0e{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.10.10"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const Ta=new T0e;function ja(t,e){return t===e?0:t<e?-1:1}function U6(t,e,n){const i=t.length,s=e.length,r=Math.min(i,s);for(let a=0;a<r;++a){const o=n(t[a],e[a]);if(o!==0)return o}return ja(i,s)}function cV(t,e){return t===e?0:t<e?-1:1}class P0e{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,n){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(n),this._entity._markDirtyKey(e),new Ei(()=>{ns(i,n)&&this._entity._markDirtyKey(e)})}remove(e){const n=this._callbacks[e];n!==void 0&&(delete this._callbacks[e],n.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,n){if(!this._disabled[e]){const i=this._callbacks[e];if(i!==void 0)for(let s=0,r=i.length;s<r;++s)n=i[s](n,this._entity,e)}return n}}class lv{constructor(e,n,i,s,r,a,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Xh}),this._animation=e,this._from=n,this._to=i,this._duration=s,this._easing=r,this._loops=a,this._interpolate=v0e(n,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,n)=>{if(this._stopped)e();else{const i=()=>{s.dispose(),e()},s=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let C0e=0;class H6{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++C0e}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=e}_checkDirty(){bi(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let n=Yu.Stopped;if(!this.isDisposed()){let i=!1,s=!1;sn(this._animatingSettings,(r,a)=>{if(a.stopped)this._stopAnimation(r);else if(a.playing){a._run(e);const o=a.percentage;o>=1?a._checkEnded()?this.set(r,a._value(1)):(i=!0,a._reset(e),this._set(r,a._value(1))):(i=!0,this._set(r,a._value(o)))}else s=!0}),sn(this._animatingPrivateSettings,(r,a)=>{if(a.stopped)this._stopAnimationPrivate(r);else if(a.playing){a._run(e);const o=a.percentage;o>=1?a._checkEnded()?this.setPrivate(r,a._value(1)):(i=!0,a._reset(e),this._setPrivate(r,a._value(1))):(i=!0,this._setPrivate(r,a._value(o)))}else s=!0}),i?n=Yu.Playing:s&&(n=Yu.Paused)}return n}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,n){let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(n),new Ei(()=>{ns(i,n),i.length===0&&delete this._settingEvents[e]})}off(e,n){let i=this._settingEvents[e];i!==void 0&&n!==void 0?ns(i,n):delete this._settingEvents[e]}onPrivate(e,n){let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(n),new Ei(()=>{ns(i,n),i.length===0&&delete this._privateSettingEvents[e]})}offPrivate(e,n){let i=this._privateSettingEvents[e];i!==void 0&&n!==void 0?ns(i,n):delete this._privateSettingEvents[e]}getRaw(e,n){const i=this._settings[e];return i!==void 0?i:n}has(e){return e in this._settings}get(e,n){return this.getRaw(e,n)}_sendKeyEvent(e,n){const i=this._settingEvents[e];i!==void 0&&le(i,s=>{s(n,this,e)})}_sendPrivateKeyEvent(e,n){const i=this._privateSettingEvents[e];i!==void 0&&le(i,s=>{s(n,this,e)})}_setRaw(e,n,i){this._prevSettings[e]=n,this._sendKeyEvent(e,i)}setRaw(e,n){const i=this._settings[e];this._settings[e]=n,i!==n&&this._setRaw(e,i,n)}_set(e,n){const i=this._settings[e];this._settings[e]=n,i!==n&&(this._setRaw(e,i,n),this._markDirtyKey(e))}_stopAnimation(e){const n=this._animatingSettings[e];n&&(delete this._animatingSettings[e],n.stop())}set(e,n){return this._set(e,n),this._stopAnimation(e),n}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){le(bi(this._settings),e=>{this.remove(e)})}getPrivate(e,n){const i=this._privateSettings[e];return i!==void 0?i:n}_setPrivateRaw(e,n,i){this._prevPrivateSettings[e]=n,this._sendPrivateKeyEvent(e,i)}setPrivateRaw(e,n){const i=this._privateSettings[e];this._privateSettings[e]=n,i!==n&&this._setPrivateRaw(e,i,n)}_setPrivate(e,n){const i=this._privateSettings[e];this._privateSettings[e]=n,i!==n&&(this._setPrivateRaw(e,i,n),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const n=this._animatingPrivateSettings[e];n&&(n.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,n){return this._setPrivate(e,n),this._stopAnimationPrivate(e),n}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){sn(e,(n,i)=>{this.set(n,i)})}animate(e){const n=e.key,i=e.to,s=e.duration||0,r=e.loops||1,a=e.from===void 0?this.get(n):e.from,o=e.easing===void 0?uV:e.easing;if(s===0)this.set(n,i);else if(a===void 0||a===i)this.set(n,i);else{this.set(n,a);const u=this._animatingSettings[n]=new lv(this,a,i,s,o,r,this._animationTime());return this._startAnimation(),u}const l=new lv(this,a,i,s,o,r,null);return l.stop(),l}animatePrivate(e){const n=e.key,i=e.to,s=e.duration||0,r=e.loops||1,a=e.from===void 0?this.getPrivate(n):e.from,o=e.easing===void 0?uV:e.easing;if(s===0)this.setPrivate(n,i);else if(a===void 0||a===i)this.setPrivate(n,i);else{this.setPrivate(n,a);const u=this._animatingPrivateSettings[n]=new lv(this,a,i,s,o,r,this._animationTime());return this._startAnimation(),u}const l=new lv(this,a,i,s,o,r,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}class Pi extends H6{constructor(e,n,i,s=[]){if(super(n),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new k0e(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new P0e(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=s,n.id&&this._registerId(n.id)}static new(e,n,i){const s=new this(e,n,!0);return s._template=i,s._afterNew(),s}static _new(e,n,i=[]){const s=new this(e,n,!0,i);return s._afterNew(),s}_afterNew(){this._checkDirty();let e=!1;const n=this._template;n&&(e=!0,n._setObjectTemplate(this)),le(this._internalTemplates,i=>{e=!0,i._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),le(this._internalTemplates,n=>{n._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new Xh}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(e,n){const i=this.get(e);if(i)return i;{const s=n();return this.set(e,s),s}}_setDefault(e,n){this.has(e)||super.set(e,n)}_setRawDefault(e,n){this.has(e)||super.setRaw(e,n)}_clearDirty(){bi(this._dirty).forEach(e=>{this._dirty[e]=!1}),bi(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,n){let i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(n),n}_disposeProperty(e){const n=this._disposerProperties[e];n!==void 0&&(le(n,i=>{i.dispose()}),delete this._disposerProperties[e])}set template(e){const n=this._template;n!==e&&(this._template=e,n&&n._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,n){}get(e,n){const i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:n}isUserSetting(e){return this._userProperties[e]||!1}set(e,n){return this._userProperties[e]=!0,super.set(e,n)}setRaw(e,n){this._userProperties[e]=!0,super.setRaw(e,n)}_setSoft(e,n){return this._userProperties[e]?n:super.set(e,n)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,n){return this._userPrivateProperties[e]=!0,super.setPrivate(e,n)}setPrivateRaw(e,n){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,n)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,n,i){if(!this._userProperties[n]){const s=this._findTemplateByKey(n);e===s&&super.set(n,i)}}_setTemplatePrivateProperty(e,n,i){if(!this._userPrivateProperties[n]){const s=this._findTemplateByPrivateKey(n);e===s&&super.setPrivate(n,i)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const n=this._findTemplateByKey(e);n?super.set(e,n._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const n=this._findTemplateByPrivateKey(e);n?super.setPrivate(e,n._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const n=this.states.create(e,{}),i={};this._eachTemplate(s=>{const r=s.states.lookup(e);r&&r._apply(n,i)}),sn(n._settings,s=>{!i[s]&&!n._userSettings[s]&&n.remove(s)})}_applyTemplate(e,n){this._templateDisposers.push(e._apply(this,n)),sn(e._settings,(i,s)=>{!n.settings[i]&&!this._userProperties[i]&&(n.settings[i]=!0,super.set(i,s))}),sn(e._privateSettings,(i,s)=>{!n.privateSettings[i]&&!this._userPrivateProperties[i]&&(n.privateSettings[i]=!0,super.setPrivate(i,s))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(n=>(e(n),!1)),om(this._internalTemplates,e),le(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const n={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,n)}),e&&(sn(this._settings,i=>{!this._userProperties[i]&&!n.settings[i]&&super.remove(i)}),sn(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!n.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(e){const n=this._findStaticTemplate(e);if(n===void 0){const i=Uwe(this._internalTemplates,e);return i===void 0?A6(this._templates,e):i}else return n}_findTemplateByKey(e){return this._findTemplate(n=>e in n._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(n=>e in n._privateSettings)}_disposeTemplates(){le(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){le(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let n=!1;const i=[];let s=[];const r=new Set,a=this.get("themeTagsSelf");return a&&le(a,o=>{r.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(n=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);const l=o.get("themes");l&&s.push(l);const u=o.get("themeTags");u&&le(u,d=>{r.add(d)})}),s=i.concat(s),this._removeTemplates(),(n||e)&&om(this.classNames,o=>{const l=[];le(s,u=>{le(u,d=>{const c=d._lookupRules(o);c&&om(c,h=>{if(h.tags.every(p=>r.has(p))){const p=R6(l,m=>{const v=ja(h.tags.length,m.tags.length);return v===0?U6(h.tags,m.tags,ja):v});l.splice(p.index,0,h)}})})}),le(l,u=>{this._templates.push(u.template),u.template._setObjectTemplate(this)})}),this._applyTemplates(),(n||e)&&(this._runSetup=!1),n||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const n=this._prevSettings.id;n&&delete Ta.entitiesById[n]}}_registerId(e){if(Ta.entitiesById[e]&&Ta.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');Ta.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),le(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),sn(this._disposerProperties,(i,s)=>{le(s,r=>{r.dispose()})});const n=this.get("id");n&&delete Ta.entitiesById[n]}setTimeout(e,n){const i=setTimeout(()=>{this.removeDispose(s),e()},n),s=new Ei(()=>{clearTimeout(i)});return this._disposers.push(s),s}removeDispose(e){if(!this.isDisposed()){let n=hh(this._disposers,e);n>-1&&this._disposers.splice(n,1)}e.dispose()}hasTag(e){return hh(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const n=this.get("themeTags",[]);n.push(e),this.set("themeTags",n)}}removeTag(e){if(this.hasTag(e)){const n=this.get("themeTags",[]);Er(n,e),this.set("themeTags",n)}}_t(e,n,...i){return this._root.language.translate(e,n,...i)}get root(){return this._root}}Object.defineProperty(Pi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(Pi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function vk(t){sn(t,(e,n)=>{cp(n)&&typeof n.dispose=="function"&&(n.enableDispose=!0,n.dispose())})}class E0e{constructor(e,n,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=n,this._settings=i}_dispose(){vk(this._settings)}get(e,n){const i=this._settings[e];return i!==void 0?i:n}set(e,n){this._settings[e]=n,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){bi(e).forEach(n=>{this._settings[n]=e[n]}),this._template._stateChanged(this._name)}_apply(e,n){sn(this._settings,(i,s)=>{!n[i]&&!e._userSettings[i]&&(n[i]=!0,e.setRaw(i,s))})}}class I0e{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}_dispose(){sn(this._states,(e,n)=>{n._dispose()})}lookup(e){return this._states[e]}create(e,n){const i=this._states[e];if(i)return i.setAll(n),i;{const s=new E0e(e,this._template,n);return this._states[e]=s,this._template._stateChanged(e),s}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,n){sn(this._states,(i,s)=>{let r=n.states[i];r==null&&(r=n.states[i]={});const a=e.states.create(i,{});s._apply(a,r)})}}class D0e{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,n){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(n),new Ei(()=>{ns(i,n),i.length===0&&delete this._callbacks[e]})}remove(e){this._callbacks[e]!==void 0&&delete this._callbacks[e]}_apply(e){const n=[];return sn(this._callbacks,(i,s)=>{le(s,r=>{n.push(e.adapters.add(i,r))})}),new Os(n)}}class Sn{constructor(e,n){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new I0e(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new D0e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Xh}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new Sn(e,!0)}_dispose(){vk(this._settings),vk(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(e,n){this._checkDisposed();const i=this._settings[e];return i!==void 0?i:n}setRaw(e,n){this._checkDisposed(),this._settings[e]=n}set(e,n){this._checkDisposed(),this._settings[e]!==n&&(this.setRaw(e,n),this._entities.forEach(i=>{i._setTemplateProperty(this,e,n)}))}remove(e){this._checkDisposed(),e in this._settings&&(delete this._settings[e],this._entities.forEach(n=>{n._removeTemplateProperty(e)}))}removeAll(){this._checkDisposed(),sn(this._settings,(e,n)=>{this.remove(e)})}getPrivate(e,n){this._checkDisposed();const i=this._privateSettings[e];return i!==void 0?i:n}setPrivateRaw(e,n){return this._checkDisposed(),this._privateSettings[e]=n,n}setPrivate(e,n){return this._checkDisposed(),this._privateSettings[e]!==n&&(this.setPrivateRaw(e,n),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,e,n)})),n}removePrivate(e){this._checkDisposed(),e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(n=>{n._removeTemplatePrivateProperty(e)}))}setAll(e){this._checkDisposed(),sn(e,(n,i)=>{this.set(n,i)})}on(e,n){this._checkDisposed();let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(n),new Ei(()=>{ns(i,n),i.length===0&&delete this._settingEvents[e]})}onPrivate(e,n){this._checkDisposed();let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(n),new Ei(()=>{ns(i,n),i.length===0&&delete this._privateSettingEvents[e]})}_apply(e,n){this._checkDisposed();const i=[];return sn(this._settingEvents,(s,r)=>{le(r,a=>{i.push(e.on(s,a))})}),sn(this._privateSettingEvents,(s,r)=>{le(r,a=>{i.push(e.onPrivate(s,a))})}),this.states._apply(e,n),i.push(this.adapters._apply(e)),i.push(e.events.copyFrom(this.events)),new Os(i)}_setObjectTemplate(e){this._checkDisposed(),this._entities.push(e)}_removeObjectTemplate(e){Er(this._entities,e)}_stateChanged(e){this._checkDisposed(),this._entities.forEach(n=>{n._applyStateByKey(e)})}}class Fw extends Xh{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,n){return{type:e,originalEvent:n.event,point:n.point,simulated:n.simulated,native:n.native,target:this._sprite}}_onRenderer(e,n){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[e];if(i===void 0){const s=this._sprite._display.on(e,r=>{n.call(this,r)});i=this._rendererDisposers[e]=new KC(()=>{delete this._rendererDisposers[e],s.dispose()})}return i.increment()}_on(e,n,i,s,r,a){const o=super._on(e,n,i,s,r,a),l=Fw.RENDERER_EVENTS[n];return l!==void 0&&(o.disposer=new Os([o.disposer,this._onRenderer(n,l)])),o}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,n){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,n),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,n)}finally{this._dispatchParents=i}}}Object.defineProperty(Fw,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){const e=this._sprite;let n=!0;if(e.getPrivate("trustBounds")){e._getBounds();const i=e.globalBounds();if(e.isType("Graphics")){const s=e.get("strokeWidth",1)/2;s>=1&&(i.left-=s,i.right+=s,i.top-=s,i.bottom+=s)}w0e(t.point,i)||(n=!1,e._root._renderer.removeHovering(e._display))}n&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});class ma extends Pi{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(e){this._markDirtyKey(e)}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Fw(this)}_processTemplateField(){let e;const n=this.get("templateField");if(n){const i=this.dataItem;if(i){const s=i.dataContext;s&&(e=s[n],!(e instanceof Sn)&&e&&(e=Sn.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const n=this._dataItem;this._dataItem=e,this._processTemplateField();const i="dataitemchanged";e!=n&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:n,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof wt||this.get("height")instanceof wt?ug(e._percentageSizeChildren,this):ns(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof wt||this.get("y")instanceof wt?ug(e._percentagePositionChildren,this):ns(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const n=this.get("centerX");n!=null&&(this._display.pivot.x=e.left+Qn(n,e.right-e.left));const i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+Qn(i,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const n=this._tooltipPointerDp;n&&(n.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new Os([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{const i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,n=this.events;if(this.isDirty("draggable")){const s=this.get("draggable");s?(this.set("interactive",!0),this._dragDp=new Os([n.on("pointerdown",r=>{this.dragStart(r)}),n.on("globalpointermove",r=>{this.dragMove(r)}),n.on("globalpointerup",r=>{this.dragStop(r)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!s}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const s=this.get("tooltipText"),r=this.get("tooltipHTML"),a=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(s||r)&&(a=="click"?(this._tooltipDp=new Os([n.on("click",()=>{this.setTimeout(()=>{const o=this.getTooltip();o&&!o.isHidden()&&o.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),Nn(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):a=="always"||(this._tooltipDp=new Os([n.on("pointerover",()=>{this.showTooltip()}),n.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let s=this.get("toggleKey");s&&s!="none"?this._toggleDp=n.on("click",()=>{this._isDragging||this.set(s,!this.get(s))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const s=this.parent;s&&(this.isDirty("width")&&this.get("width")instanceof wt||this.isDirty("height")&&this.get("height")instanceof wt)&&(s.markDirty(),s._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const s=this.get("wheelable");s&&this.set("interactive",!0),e.wheelable=!!s}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){const s=this.get("blur",0);s!=0&&(i+=" blur("+s+"px)")}if(this.isDirty("saturate")){const s=this.get("saturate",1);s!=1&&(i+=" saturate("+s+")")}if(this.isDirty("brightness")){const s=this.get("brightness",1);s!=1&&(i+=" brightness("+s+")")}if(this.isDirty("contrast")){const s=this.get("contrast",1);s!=1&&(i+=" contrast("+s+")")}if(this.isDirty("sepia")){const s=this.get("sepia",0);s!=0&&(i+=" sepia("+s+")")}if(this.isDirty("hue")){const s=this.get("hue",0);s!=0&&(i+=" hue-rotate("+s+"deg)")}if(this.isDirty("invert")){const s=this.get("invert",0);s!=0&&(i+=" invert("+s+")")}if(i&&(e.filter=i),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Os([n.on("focus",()=>{this.showTooltip()}),n.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(n.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const s=this.events;this.get("interactive")&&!s.isDisposed()?this._hoverDp=new Os([s.on("click",r=>{gk(r.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})},10))}),s.on("globalpointerup",r=>{gk(r.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})),this._isDown&&this._handleUp(r)}),s.on("pointerover",()=>{this._handleOver()}),s.on("pointerout",()=>{this._handleOut()}),s.on("pointerdown",r=>{this._handleDown(r)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const n="dragstop";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const n=mx(e.originalEvent);delete this._downPoints[n],bi(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const n=mx(e.originalEvent),i=this._downPoints[n];if(i){const s=Math.abs(i.x-e.point.x),r=Math.abs(i.y-e.point.y);return s>5||r>5}return!1}_hasDown(){return bi(this._downPoints).length>0}_handleDown(e){const n=this.parent;if(n&&!this.get("draggable")&&n._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const i=mx(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}dragMove(e){let n=this._dragEvent;if(n){if(n.simulated&&!e.simulated)return!0;let i=0,s=this.parent,r=1;for(;s!=null;)i+=s.get("rotation",0),s=s.parent,s&&(r*=s.get("scale",1));let a=(e.point.x-n.point.x)/r,o=(e.point.y-n.point.y)/r;const l=this.events;if(n.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let u=this._dragPoint;this.set("x",u.x+a*Ba(i)+o*Ir(i)),this.set("y",u.y+o*Ba(i)-a*Ir(i));const d="dragged";l.isEnabled(d)&&l.dispatch(d,{type:d,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(a,o)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,n=0;for(;;)if(e)++n,e=e.parent;else return n}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const n=this.parent;n&&this.get("position")!="absolute"&&(n.get("width")==null||n.get("height")==null||n.get("layout"))&&n.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let n;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(n={left:0,right:0,top:0,bottom:0},this._localBounds=n,this._adjustedLocalBounds=n):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),n=this._adjustedLocalBounds),!e||e.left!==n.left||e.top!==n.top||e.right!==n.right||e.bottom!==n.bottom){const i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(e){let n=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));fe(n)&&e.right-e.left<n&&(e.right=e.left+n),fe(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);let s=this.getPrivate("width"),r=this.getPrivate("height");fe(s)&&(s>0?e.right=e.left+s:e.left=e.right+s),fe(r)&&(r>0?e.bottom=e.top+r:e.top=e.bottom+r)}_removeParent(e){e&&(e.children.removeValue(this),ns(e._percentageSizeChildren,this),ns(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(e){if(!this.isDisposed()){const n=this.getTooltip(),i=this.get("tooltipText"),s=this.get("tooltipHTML");if((i||s)&&n){const r=this.get("tooltipPosition"),a=this.getPrivate("tooltipTarget",this);(r=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(a._getTooltipPoint())),n.set("pointTo",e),n.set("tooltipTarget",a),n.get("x")||n.set("x",e.x),n.get("y")||n.set("y",e.y),i&&n.label.set("text",i),s&&n.label.set("html",s);const o=this.dataItem;if(o&&n.label._setDataItem(o),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}n.label.text.markDirtyText();const l=n.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){const e=this.getTooltip();if(e&&(e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let n=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const i=e.hide(n);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const e=this._localBounds;if(e){let n=0,i=0;return this.get("isMeasured")?(n=e.left+Qn(this.get("tooltipX",0),e.right-e.left),i=e.top+Qn(this.get("tooltipY",0),e.bottom-e.top)):(n=Qn(this.get("tooltipX",0),this.width()),i=Qn(this.get("tooltipY",0),this.height())),{x:n,y:i}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let n=this.parent;if(n)return n.getTooltip()}}_updatePosition(){const e=this.parent;let n=this.get("dx",0),i=this.get("dy",0),s=this.get("x"),r=this.getPrivate("x"),a=0,o=0;const l=this.get("position");s instanceof wt&&(e?s=e.innerWidth()*s.value+e.get("paddingLeft",0):s=0),fe(s)?a=s+n:r!=null?a=r:e&&l=="relative"&&(a=e.get("paddingLeft",0)+n);let u=this.get("y"),d=this.getPrivate("y");u instanceof wt&&(e?u=e.innerHeight()*u.value+e.get("paddingTop",0):u=0),fe(u)?o=u+i:d!=null?o=d:e&&l=="relative"&&(o=e.get("paddingTop",0)+i);const c=this._display;if(c.x!=a||c.y!=o){c.invalidateBounds(),c.x=a,c.y=o;const h="positionchanged";this.events.isEnabled(h)&&this.events.dispatch(h,{type:h,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),n=this.getPrivate("x");const i=this.parent;return i?e instanceof wt?Qn(e,i.innerWidth())+i.get("paddingLeft",0):fe(e)?e:n??i.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let n=this.get("y");const i=this.parent;return i?n instanceof wt?Qn(n,i.innerHeight())+i.get("paddingTop",0):fe(n)?n:e??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,n=this.x(),i=this.y();return{left:e.left+n,right:e.right+n,top:e.top+i,bottom:e.bottom+i}}globalBounds(){const e=this.localBounds(),n=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),s=this.toGlobal({x:e.right,y:e.bottom}),r=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(n.x,i.x,s.x,r.x),top:Math.min(n.y,i.y,s.y,r.y),right:Math.max(n.x,i.x,s.x,r.x),bottom:Math.max(n.y,i.y,s.y,r.y)}}_onShow(e){}_onHide(e){}appear(e,n){return wi(this,void 0,void 0,function*(){return yield this.hide(0),n?new Promise((i,s)=>{this.setTimeout(()=>{i(this.show(e))},n)}):this.show(e)})}show(e){return wi(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const n=this.states.applyAnimate("default",e);yield lV(n),this._isShowing=!1}})}hide(e){return wi(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let n=this.states.lookup("hidden");n||(n=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield lV(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}compositeScale(){const e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}compositeRotation(){const e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}width(){let e=this.get("width"),n=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),s=this.getPrivate("width"),r=0;if(fe(s))r=s;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof wt){const a=this.parent;a?r=a.innerWidth()*e.value:r=this._root.width()*e.value}else fe(e)&&(r=e);return fe(i)&&(r=Math.max(i,r)),fe(n)&&(r=Math.min(n,r)),r}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(fe(e))return e;{let i=this.get("width");if(fe(i))return i}const n=this.parent;return n?n.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(fe(e))return e;{let i=this.get("height");if(fe(i))return i}const n=this.parent;return n?n.innerHeight():this._root.height()}height(){let e=this.get("height"),n=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),s=this.getPrivate("height"),r=0;if(fe(s))r=s;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof wt){const a=this.parent;a?r=a.innerHeight()*e.value:r=this._root.height()*e.value}else fe(e)&&(r=e);return fe(i)&&(r=Math.max(i,r)),fe(n)&&(r=Math.min(n,r)),r}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,n=!1){const i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,n&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return Hwe(this._downPoints,(e,n)=>e>n?1:e<n?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(ma,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(ma,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([ma.className])});class dg extends Pi{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),n=this.get("width",100),i=this.get("height",100),s=this.get("fill"),r=this.get("fillOpacity",1),a=this._backgroundDisplay,o=this._display;o.clear(),a.clear(),s&&r>0&&(a.beginFill(s,r),a.drawRect(0,0,n,i),a.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,a,e,n,i)}this._clear=!1}}Object.defineProperty(dg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(dg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([dg.className])});class hg extends dg{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this.get("colorOpacity");e!==void 0&&(this._display.alpha=Math.max(0,e));const n=this._image;if(n){const s=this.get("width",100),r=this.get("height",100),a=this.get("fit","image");let o=0,l=0;a=="pattern"?(o=s,l=r,this.markDirty()):(o=n.width,l=n.height,a=="image"&&(this.set("width",o),this.set("height",l)));const u=this.get("centered",!0);let d=0,c=0;u&&(d=s/2-o/2,c=r/2-l/2),this._display.image(n,o,l,d,c)}const i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){const e=this.get("src");if(e){const n=new Image;n.src=e,n.decode().then(()=>{this._image=n,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}}Object.defineProperty(hg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(hg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dg.classNames.concat([hg.className])});var vy;(function(t){t.ADD="lighter",t.COLOR="color",t.COLOR_BURN="color-burn",t.COLOR_DODGE="color-dodge",t.DARKEN="darken",t.DIFFERENCE="difference",t.DST_OVER="destination-over",t.EXCLUSION="exclusion",t.HARD_LIGHT="hard-light",t.HUE="hue",t.LIGHTEN="lighten",t.LUMINOSITY="luminosity",t.MULTIPLY="multiply",t.NORMAL="source-over",t.OVERLAY="overlay",t.SATURATION="saturation",t.SCREEN="screen",t.SOFT_LIGHT="soft-light",t.SRC_ATOP="source-atop",t.XOR="xor"})(vy||(vy={}));const _k=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"];class cn extends ma{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");fe(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n);const i=this.get("blendMode",vy.NORMAL);this._display.blendMode=i;const s=this.get("draw");s&&typeof s=="function"&&s(this._display,this);const r=this.get("svgPath");r!=null&&this._display.svgPath(r)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),n=this.get("fillGradient"),i=this.get("fillPattern"),s=this.get("fillOpacity"),r=this.get("stroke"),a=this.get("strokeGradient"),o=this.get("strokePattern"),l=this.get("shadowColor"),u=this.get("shadowBlur"),d=this.get("shadowOffsetX"),c=this.get("shadowOffsetY"),h=this.get("shadowOpacity");if(l&&(u||d||c)&&this._display.shadow(l,u,d,c,h),e&&!n&&(this._display.beginFill(e,s),this._display.endFill()),n){if(e){const p=n.get("stops",[]);p.length&&le(p,m=>{(!m.color||m.colorInherited)&&e&&(m.color=e,m.colorInherited=!0),(m.opacity==null||m.opacityInherited)&&(m.opacity=s,m.opacityInherited=!0)})}const f=n.getFill(this);f&&(this._display.beginFill(f,s),this._display.endFill())}if(i){const f=i.pattern;f&&(this._display.beginFill(f,s),this._display.endFill(),i instanceof hg&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(r||a||o){const f=this.get("strokeOpacity");let p=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(p=p/this.get("scale",1)),this.get("crisp")&&(p/=this._root._renderer.resolution);const m=this.get("lineJoin"),v=this.get("lineCap");if(r&&!a&&(this._display.lineStyle(p,r,f,m,v),this._display.endStroke()),a){const _=a.get("stops",[]);_.length&&le(_,x=>{(!x.color||x.colorInherited)&&r&&(x.color=r,x.colorInherited=!0),(x.opacity==null||x.opacityInherited)&&(x.opacity=f,x.opacityInherited=!0)});const b=a.getFill(this);b&&(this._display.lineStyle(p,b,f,m,v),this._display.endStroke())}if(o){let _=o.pattern;_&&(this._display.lineStyle(p,_,f,m,v),this._display.endStroke(),o instanceof hg&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(cn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(cn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([cn.className])});class er extends cn{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(er,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(er,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([er.className])});function Po(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}class Lo extends Pi{}Object.defineProperty(Lo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(Lo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([Lo.className])});class fh extends Lo{updateContainer(e){let n=e.get("paddingLeft",0),i=e.innerWidth(),s=0;Po(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("width");if(o instanceof wt){s+=o.value;let l=i*o.value,u=a.get("minWidth",a.getPrivate("minWidth",-1/0));u>l&&(i-=u,s-=o.value);let d=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l>d&&(i-=d,s-=o.value)}else fe(o)||(o=a.width()),i-=o+a.get("marginLeft",0)+a.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),Po(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("width");if(o instanceof wt){let l=i*o.value/s-a.get("marginLeft",0)-a.get("marginRight",0),u=a.get("minWidth",a.getPrivate("minWidth",-1/0)),d=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l=Math.min(Math.max(u,l),d),a.setPrivate("width",l)}else a._prevSettings.width instanceof wt&&a.setPrivate("width",void 0)}});let r=n;Po(e,a=>{if(a.get("position")=="relative")if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginLeft",0),u=a.get("marginRight",0),d=a.get("maxWidth"),c=o.left,h=o.right;d&&h-c>d&&(h=c+d);let f=r+l-c;a.setPrivate("x",f),r=f+h+u}else a.setPrivate("x",void 0)})}}Object.defineProperty(fh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(fh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lo.classNames.concat([fh.className])});class mh extends Lo{updateContainer(e){let n=e.get("paddingTop",0),i=e.innerHeight(),s=0;Po(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("height");if(o instanceof wt){s+=o.value;let l=i*o.value,u=a.get("minHeight",a.getPrivate("minHeight",-1/0));u>l&&(i-=u,s-=o.value);let d=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l>d&&(i-=d,s-=o.value)}else fe(o)||(o=a.height()),i-=o+a.get("marginTop",0)+a.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),Po(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("height");if(o instanceof wt){let l=i*o.value/s-a.get("marginTop",0)-a.get("marginBottom",0),u=a.get("minHeight",a.getPrivate("minHeight",-1/0)),d=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l=Math.min(Math.max(u,l),d),a.setPrivate("height",l)}else a._prevSettings.height instanceof wt&&a.setPrivate("height",void 0)}});let r=n;Po(e,a=>{if(a.get("position")=="relative")if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginTop",0),u=o.top,d=o.bottom,c=a.get("maxHeight");c&&d-u>c&&(d=u+c);let h=a.get("marginBottom",0),f=r+l-u;a.setPrivate("y",f),r=f+d+h}else a.setPrivate("y",void 0)})}}Object.defineProperty(mh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(mh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lo.classNames.concat([mh.className])});class mc extends Lo{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let n=e.get("paddingLeft",0),i=e.get("paddingRight",0),s=e.get("paddingTop",0),r=e.maxWidth()-n-i,a=r,o=1;Po(e,p=>{if(p.get("visible")&&p.getPrivate("visible")&&!p.get("forceHidden")&&p.get("position")!="absolute"){let m=p.width();m<a&&(a=m),m>o&&(o=m)}}),a=Kn(a,1,r),o=Kn(o,1,r);let l=1;this.get("fixedWidthGrid")?l=r/o:l=r/a,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let u=this.getColumnWidths(e,l,o,r),d=s,c=0,h=0;l=u.length;let f=n;Po(e,p=>{if(p.get("position")=="relative"&&p.isVisible()){const m=p.get("marginTop",0),v=p.get("marginBottom",0);let _=p.adjustedLocalBounds(),b=p.get("marginLeft",0),x=p.get("marginRight",0),k=f+b-_.left,I=d+m-_.top;p.setPrivate("x",k),p.setPrivate("y",I),f+=u[c]+x,h=Math.max(h,p.height()+m+v),c++,c>=l&&(c=0,f=n,d+=h)}})}getColumnWidths(e,n,i,s){let r=0,a=[],o=0;return Po(e,l=>{let u=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?a[o]=i:a[o]=Math.max(a[o]|0,u.right-u.left+l.get("marginLeft",0)+l.get("marginRight",0)),o<e.children.length-1&&(o++,o==n&&(o=0)))}),le(a,l=>{r+=l}),r>s?n>2?(n-=1,this.getColumnWidths(e,n,i,s)):[s]:a}}Object.defineProperty(mc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(mc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lo.classNames.concat([mc.className])});class sa{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,n=!1,i=!1){let s=[];e=this.escape(e);let r=n?e.split("'"):[e];for(let a=0;a<r.length;a++){let o=r[a];if(o!=="")if(a%2===0){o=o.replace(/\]\[/g,"]"+Ul+"["),o=o.replace(/\[\]/g,"[ ]");let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let d=this.cleanUp(this.unescape(l[u]));d!==Ul&&d!==""&&(u%2===0?s.push({type:"value",text:d}):s.push({type:i?"value":"format",text:"["+d+"]"}))}}else{let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let d=this.cleanUp(this.unescape(l[u]));d!==""&&(u%2===0?s.push({type:"text",text:d}):this.isImage(d)?s.push({type:"image",text:"["+d+"]"}):s.push({type:"format",text:"["+d+"]"}))}}}return s}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let n={};if(e==""||e=="[ ]")return{};const i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(let r=0;r<i.length;r++)e=e.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let s=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!s)return{};for(let r=0;r<s.length;r++)if(s[r].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))n.fontWeight=s[r];else if(s[r].match(/^(underline|line-through)$/i))n.textDecoration=s[r];else if(s[r]!="/")if(!s[r].match(/:/))n.fill=tt.fromString(s[r]);else{const a=s[r].replace("+"," ").split(/:[ ]*/);n[a[0]]=a[1]}return n}}Object.defineProperty(sa,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function gh(t,e){if(e!=null){e=""+e,e=sa.escape(e);let n=e.match(/\{([^}]+)\}/g),i;if(n)for(i=0;i<n.length;i++){let s=n[i].replace(/\{([^}]+)\}/,"$1"),r=yk(t,s);r==null&&(r=""),e=e.split(n[i]).join(r)}e=sa.unescape(e)}else e="";return e}function yk(t,e,n){let i;const s=t.dataItem;let r=[],a=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,o;for(;o=a.exec(e),o!==null;)if(o[3]){r.push({prop:o[3]});const l=t.getDateFormatter().get("dateFields",[]),u=t.getNumberFormatter().get("numericFields",[]),d=t.getDurationFormatter().get("durationFields",[]);l.indexOf(o[3])!==-1?r.push({method:"formatDate",params:[]}):u.indexOf(o[3])!==-1?r.push({method:"formatNumber",params:[]}):d.indexOf(o[3])!==-1&&r.push({method:"formatDuration",params:[]})}else{let l=[];if(Bd(o[2])!=""){let u=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d;for(;d=u.exec(o[2]),d!==null;)l.push(d[1]||d[2]||d[3])}r.push({method:o[1],params:l})}if(s){i=bu(t,r,s._settings),(i==null||cp(i))&&(i=bu(t,r,s));let l=s.dataContext;i==null&&l&&(i=bu(t,r,l),i==null&&(i=bu(t,[{prop:e}],l)),i==null&&l.dataContext&&(i=bu(t,r,l.dataContext))),i==null&&s.component&&s.component.dataItem!==s&&(i=yk(s.component,e))}return i==null&&(i=bu(t,r,t)),i==null&&t.parent&&(i=yk(t.parent,e)),i}function A0e(t,e){const n=t.getPrivate("customData");if(cp(n))return n[e]}function bu(t,e,n,i){let s=n,r=!1;for(let a=0,o=e.length;a<o;a++){let l=e[a];if(l.prop){if(s instanceof ma){let u=s.get(l.prop);u==null&&(u=s.getPrivate(l.prop)),u==null&&(u=A0e(s,l.prop)),u==null&&(u=s[l.prop]),s=u}else if(s.get){let u=s.get(l.prop);u==null&&(u=s[l.prop]),s=u}else s=s[l.prop];if(s==null)return}else switch(l.method){case"formatNumber":let u=or(s);u!=null&&(s=t.getNumberFormatter().format(u,l.params[0]||void 0),r=!0);break;case"formatDate":let d=Fwe(s);if(!uk(d)||fa(d.getTime()))return;d!=null&&(s=t.getDateFormatter().format(d,l.params[0]||void 0),r=!0);break;case"formatDuration":let c=or(s);c!=null&&(s=t.getDurationFormatter().format(c,l.params[0]||void 0,l.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":s=encodeURIComponent(s);break;default:s[l.method]&&s[l.method].apply(n,l.params);break}}if(!r){let a=[{method:"",params:i}];fe(s)?(a[0].method="formatNumber",a[0].params=""):uk(s)&&(a[0].method="formatDate",a[0].params=""),a[0].method&&(s=bu(t,a,s))}return s}class it extends ma{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new _0e(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){om(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let n=this._contentMask;this.get("maskContent")?n||(n=er.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=n,e.addChildAt(n._display,0),e.mask=n._display):n&&(e.removeChild(n._display),e.mask=null,n.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),le(this._percentageSizeChildren,e=>{e._updateSize()}),le(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let n=this._localBounds;if(n&&!this.isHidden()){let i=n.left,s=n.top,r=n.right-i,a=n.bottom-s,o=this.get("maxWidth"),l=this.get("maxHeight");l&&a>l&&(a=l),o&&r>o&&(r=o);let u=this.width(),d=this.height();e&&(e.setAll({width:r,height:a,x:i,y:s}),this._display.interactive&&(e._display.interactive=!0));const c=this._contentMask;c&&c.setAll({width:u+1,height:d+1});const h=this.get("verticalScrollbar");if(h){h.set("height",d),h.set("x",u-h.width()-h.get("marginRight",0)),h.set("end",h.get("start",0)+d/this._contentHeight);const f=h.get("background");f&&f.setAll({width:h.width(),height:d});let p=!0;this._contentHeight<=d&&(p=!1),h.setPrivate("visible",p)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(n=>{n._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(n=>{n.states.apply(e)})}_applyStateAnimated(e,n){super._applyStateAnimated(e,n),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(e,n)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{let e=this.get("width"),n=this.get("height"),i=this.getPrivate("width"),s=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},a=this.get("layout"),o=!1,l=!1;if((a instanceof fh||a instanceof mc)&&(o=!0),a instanceof mh&&(l=!0),!((e!=null||i!=null)&&(n!=null||s!=null)&&!this.get("verticalScrollbar"))){let u=Number.MAX_VALUE,d=u,c=-u,h=u,f=-u;const p=this.get("paddingLeft",0),m=this.get("paddingTop",0),v=this.get("paddingRight",0),_=this.get("paddingBottom",0);this.children.each(k=>{if(k.get("position")!="absolute"&&k.get("isMeasured")){let I=k.adjustedLocalBounds(),E=k.x(),T=k.y(),S=E+I.left,w=E+I.right,C=T+I.top,P=T+I.bottom;o&&(S-=k.get("marginLeft",0),w+=k.get("marginRight",0)),l&&(C-=k.get("marginTop",0),P+=k.get("marginBottom",0)),S<d&&(d=S),w>c&&(c=w),C<h&&(h=C),P>f&&(f=P)}}),d==u&&(d=0),c==-u&&(c=0),h==u&&(h=0),f==-u&&(f=0),r.left=d-p,r.top=h-m,r.right=c+v,r.bottom=f+_;const b=this.get("minWidth");fe(b)&&b>0&&r.right-r.left<b&&(r.right>=b?r.left=r.right-b:r.right=r.left+b);const x=this.get("minHeight");fe(x)&&x>0&&r.bottom-r.top<x&&(r.bottom>=x?r.top=r.bottom-x:r.bottom=r.top+x)}this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,fe(e)&&(r.left=0,r.right=e),fe(i)&&(r.left=0,r.right=i),fe(n)&&(r.top=0,r.bottom=n),fe(s)&&(r.top=0,r.bottom=s),this._localBounds=r}}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),n=this.innerHeight();if(e!=this._prevWidth||n!=this._prevHeight){let i=this.get("layout"),s=!1,r=!1;i&&((i instanceof fh||i instanceof mc)&&(s=!0),i instanceof mh&&(r=!0)),le(this._percentageSizeChildren,a=>{if(!s){let o=a.get("width");o instanceof wt&&a.setPrivate("width",o.value*e)}if(!r){let o=a.get("height");o instanceof wt&&a.setPrivate("height",o.value*n)}}),le(this._percentagePositionChildren,a=>{a.markDirtyPosition(),a.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=n,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateHTMLContent(){const e=this.get("html");e&&e!==""?this._root._setHTMLContent(this,gh(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(e){const n=this.get("verticalScrollbar");if(n){let i=e.y(),s=this.innerHeight(),r=e.height(),a=this._contentHeight,o=1-(s-r/2)/a;if(i+r*.7+this._childrenDisplay.y>s||i-r*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(o,(i-r/2)/a));n.animate({key:"start",to:l,duration:n.get("animationDuration",0),easing:n.get("animationEasing")})}}}_updateChildren(){if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let n=this.get("background");n||(n=this.set("background",er.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{const s=i.originalEvent;if(QC(s,this))s.preventDefault();else return;let r=s.deltaY/5e3;const a=e.get("start",0),o=e.get("end",1);a+r<=0&&(r=-a),o+r>=1&&(r=1-o),a+r>=0&&o+r<=1&&(e.set("start",a+r),e.set("end",o+r))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let i=this._contentHeight;const s=this._childrenDisplay,r=this._contentMask;s.y=-e.get("start",0)*i,s.markDirtyLayer(),r&&(r._display.y=-s.y,s.mask=r._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const n=this._prevSettings.verticalScrollbar;if(n){this._display.removeChild(n._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const n=this.get("background");n instanceof ma&&(n.set("isMeasured",!1),n._setParent(this),this._display.addChildAt(n._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),n=this._prevSettings.mask;if(n&&(this._display.removeChild(n._display),n!=e&&n.dispose()),e){const i=e.parent;i&&i.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(n=>{n instanceof it&&n.walkChildren(e),e(n)})}eachChildren(e){const n=this.get("background");n&&e(n);const i=this.get("verticalScrollbar");i&&e(i);const s=this.get("mask");s&&e(s),this.children.values.forEach(r=>{e(r)})}allChildren(){const e=[];return this.eachChildren(n=>{e.push(n)}),e}_setDataItem(e){const n=e!==this._dataItem;super._setDataItem(e);const i=this.get("html","");i&&i!==""&&n&&this._root._setHTMLContent(this,gh(this,i))}}Object.defineProperty(it,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(it,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([it.className])});class gc extends ma{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let n=this.get("opacity",1);this._display.alpha=n}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new Ei(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){const n=this.get("fill"),i=this.get("fillGradient"),s=this.get("fillOpacity");if(i){if(n){const r=i.get("stops",[]);r.length&&le(r,a=>{(!a.color||a.colorInherited)&&n&&(a.color=n,a.colorInherited=!0),(a.opacity==null||a.opacityInherited)&&(a.opacity=s,a.opacityInherited=!0)})}e.fill=i.getFill(this)}else n&&(e.fill=n)}if(this.isDirty("fillOpacity")){let n=this.get("fillOpacity",1);n&&(e.fillOpacity=n)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),le(this._textStyles,n=>{this._dirty[n]&&(e[n]=this.get(n),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=s0e(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?gh(this,e):e}_getAccessibleText(){const e=this.get("ariaLabel");return e!==void 0?this.get("populateText")?gh(this,e):e:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(gc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(gc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([gc.className])});class R0e{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{le(e,n=>{le(this._targets,i=>{i.target===n.target&&i.callback()})})})}addTarget(e,n){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:n})}removeTarget(e){this._observer.unobserve(e),Lw(this._targets,n=>n.target!==e)}}class Bw{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,n){if(this._timer===null){let s=null;const r=()=>{const a=Date.now();(s===null||a>s+Bw.delay)&&(s=a,le(this._targets,o=>{let l=o.target.getBoundingClientRect();(l.width!==o.size.width||l.height!==o.size.height)&&(o.size=l,o.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(r)};this._timer=requestAnimationFrame(r)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:e,callback:n,size:i})}removeTarget(e){Lw(this._targets,n=>n.target!==e),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(Bw,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let uv=null;function O0e(){return uv===null&&(typeof ResizeObserver<"u"?uv=new R0e:uv=new Bw),uv}class M0e{constructor(e,n){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=O0e(),this._element=e,this._listener=O6(n),this._sensor.addTarget(e,n)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class _y extends Pi{}Object.defineProperty(_y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(_y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([_y.className])});class Hi extends it{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),le(this._textKeys,e=>{const n=this.get(e);n!=null&&this._text.set(e,n)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(gc.new(this._root,{}))}_updateChildren(){super._updateChildren();const e=this._text;if(le(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?e.set("text",""):(e.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const i=this.get("textAlign");let s;this.get("width")!=null?i=="right"?s=Ne:i=="center"?s=at:s=0:i=="left"||i=="start"?s=this.get("paddingLeft",0):(i=="right"||i=="end")&&(s=-this.get("paddingRight",0)),e.set("x",s)}const n=this.get("background");n&&n.setPrivate("visible",e._display.textVisible)}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),n=e==90||e==270||e==-90,i=this._text,s=this.get("maxWidth",this.getPrivate("maxWidth",1/0));fe(s)?i.set(n?"maxHeight":"maxWidth",s-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(n?"maxHeight":"maxWidth",void 0);const r=this.get("maxHeight",this.getPrivate("maxHeight",1/0));fe(r)?i.set(n?"maxWidth":"maxHeight",r-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(n?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text");const n=this._text;n.get("populateText")&&n.markDirtyText();const i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}}Object.defineProperty(Hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(Hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([Hi.className])});class jd extends cn{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),n=this.height();if(e>0&&n>0){let i=this.get("cornerRadius",8);i=Kn(i,0,Math.min(e/2,n/2));let s=this.get("pointerX",0),r=this.get("pointerY",0),a=this.get("pointerBaseWidth",15)/2,o=0,l=0,u=e,d=0,c=e,h=n,f=0,p=n,m=(s-o)*(h-l)-(r-l)*(c-o),v=(s-f)*(d-p)-(r-p)*(u-f);const _=this._display;if(_.moveTo(i,0),m>0&&v>0){let b=Math.round(Kn(s,i+a,e-a-i));r=Kn(r,-1/0,0),_.lineTo(b-a,0),_.lineTo(s,r),_.lineTo(b+a,0)}if(_.lineTo(e-i,0),_.arcTo(e,0,e,i,i),m>0&&v<0){let b=Math.round(Kn(r,i+a,n-a-i));s=Kn(s,e,1/0),_.lineTo(e,i),_.lineTo(e,Math.max(b-a,i)),_.lineTo(s,r),_.lineTo(e,b+a)}if(_.lineTo(e,n-i),_.arcTo(e,n,e-i,n,i),m<0&&v<0){let b=Math.round(Kn(s,i+a,e-a-i));r=Kn(r,n,1/0),_.lineTo(e-i,n),_.lineTo(b+a,n),_.lineTo(s,r),_.lineTo(b-a,n)}if(_.lineTo(i,n),_.arcTo(0,n,0,n-i,i),m<0&&v>0){let b=Math.round(Kn(r,i+a,n-i-a));s=Kn(s,-1/0,0),_.lineTo(0,n-i),_.lineTo(0,b+a),_.lineTo(s,r),_.lineTo(0,Math.max(b-a,i))}_.lineTo(0,i),_.arcTo(0,0,i,0,i),_.closePath()}}}}Object.defineProperty(jd,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(jd,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([jd.className])});class Hl extends it{constructor(e,n,i,s=[]){super(e,n,i,s),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>jd.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(Hi.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",n=>{n&&(this._disposers.push(Nn(n,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(Nn(n,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",n=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",n=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),Er(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const n=this.get("background");this._keepHoverDp=new Os([n.events.on("pointerover",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),s.hover())}),n.events.on("pointerout",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),this._htmlContentHovered||s.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(Nn(i,"pointerleave",s=>{const r=this.root._renderer.getEvent(s);n.events.dispatch("pointerout",{type:"pointerout",originalEvent:r.event,point:r.point,simulated:!1,target:n})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const n=this.get("background");let i,s;e&&n&&(i=e.get("fill"),s=e.get("stroke"),i==null&&(i=s),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&n.set("fill",i),this._fillDp=e.on("fill",r=>{r!=null&&(n.set("fill",r),this._updateTextColor(r))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&n.set("stroke",i),this._strokeDp=e.on("fill",r=>{r!=null&&n.set("stroke",r)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=e.on("fill",r=>{r!=null&&this.label.set("fill",r)}),this._disposers.push(this._labelDp))),this._updateTextColor(i)}_updateTextColor(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof tt&&this.label.set("fill",tt.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let n=.5,i=.5,s=this.get("centerX");s instanceof wt&&(n=s.value);let r=this.get("centerY");r instanceof wt&&(i=r.value);let a=e.width(),o=e.height(),l=this.parent,u=0,d=0;if(l){u=l.x(),d=l.y();const P=l.get("layerMargin");P&&(u+=P.left||0,d+=P.top||0,a+=(P.left||0)+(P.right||0),o+=(P.top||0)+(P.bottom||0))}const c=this.get("bounds",{left:-u,top:-d,right:a-u,bottom:o-d});this._updateBounds();let h=this.width(),f=this.height();h===0&&(h=this._w),f===0&&(f=this._h);let p=this.get("pointTo",{x:a/2,y:o/2}),m=p.x,v=p.y,_=this.get("pointerOrientation"),b=this.get("background"),x=0,k=0,I=0;b instanceof jd&&(x=b.get("pointerLength",0),k=b.get("strokeWidth",0)/2,I=k,b.set("width",h),b.set("height",f));let E=0,T=0,S=c.right-c.left,w=c.bottom-c.top;_=="horizontal"||_=="left"||_=="right"?(k=0,_=="horizontal"?m>c.left+S/2?(m-=h*(1-n)+x,I*=-1):m+=h*n+x:_=="left"?m+=h*(1-n)+x:(m-=h*n+x,I*=-1)):(I=0,_=="vertical"?v>c.top+f/2+x?v-=f*(1-i)+x:(v+=f*i+x,k*=-1):_=="down"?v-=f*(1-i)+x:(v+=f*i+x,k*=-1)),m=Kn(m,c.left+h*n,c.left+S-h*(1-n))+I,v=Kn(v,c.top+f*i,c.top+w-f*(1-i))-k,E=p.x-m+h*n+I,T=p.y-v+f*i-k,this._fx=m,this._fy=v;const C=this.get("animationDuration",0);if(C>0&&this.get("visible")&&this.get("opacity")>.1){const P=this.get("animationEasing");this.animate({key:"x",to:m,duration:C,easing:P}),this.animate({key:"y",to:v,duration:C,easing:P})}else this.set("x",m),this.set("y",v);b instanceof jd&&(b.set("pointerX",E),b.set("pointerY",T)),h>0&&(this._w=h),f>0&&(this._h=f)}}}Object.defineProperty(Hl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(Hl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([Hl.className])});class V0e extends Pi{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",n="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i){(n==null||dh(n)&&n.toLowerCase()==="number")&&(n=this.get("numberFormat",""));let s,r=Number(e);if(cp(n))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),n).format(r):new Intl.NumberFormat(void 0,n).format(r)}catch{return"Invalid"}else{n=JC(n);let a=this.parseFormat(n,this._root.language),o;r>this.get("negativeBase")?o=a.positive:r<this.get("negativeBase")?o=a.negative:o=a.zero,i!=null&&!o.mod&&(o=Nu(o),o.decimals.active=r==0?0:i),s=o.template.split(Ul).join(this.applyFormat(r,o))}return this.get("forceLTR")===!0&&(s="‎"+s),s}parseFormat(e,n){const i=n.translateEmpty("_thousandSeparator"),s=n.translateEmpty("_decimalSeparator");let r={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1}};e=e.replace("||",bd);let a=e.split("|");return r.positive.source=a[0],typeof a[2]>"u"?r.zero=r.positive:r.zero.source=a[2],typeof a[1]>"u"?r.negative=r.positive:r.negative.source=a[1],sn(r,(o,l)=>{if(l.parsed)return;let u=l.source;u.toLowerCase()==="number"&&(u=this.get("numberFormat","#,###.#####"));let d=sa.chunk(u,!0);for(let c=0;c<d.length;c++){let h=d[c];if(h.text=h.text.replace(bd,"|"),h.type==="value"){let f=h.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(f)if(f===null||f[0]==="")l.template+=h.text;else{let p=f[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);p&&(l.mod=p[0].toLowerCase(),l.modSpacing=!!f[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));let m=f[0].split(".");if(m[0]!==""){l.thousands.active=(m[0].match(/0/g)||[]).length,l.thousands.passive=(m[0].match(/\#/g)||[]).length+l.thousands.active;let v=m[0].split(",");v.length===1||(l.thousands.interval=(v.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof m[1]>"u"||(l.decimals.active=(m[1].match(/0/g)||[]).length,l.decimals.passive=(m[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=h.text.split(f[0]).join(Ul)}}else l.template+=h.text}l.parsed=!0}),r}applyFormat(e,n){let i=e<0;e=Math.abs(e);let s="",r="",a=n.mod?n.mod.split(""):[];if(a.indexOf("b")!==-1){let c=this.applyPrefix(e,this.get("bytePrefixes"),a.indexOf("!")!==-1);e=c[0],s=c[1],r=c[2],n.modSpacing&&(r=" "+r)}else if(a.indexOf("a")!==-1){let c=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),a.indexOf("!")!==-1);e=c[0],s=c[1],r=c[2],n.modSpacing&&(r=" "+r)}else if(a.indexOf("p")!==-1){let c=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(c)),s=this._root.language.translate("_percentPrefix"),r=this._root.language.translate("_percentSuffix"),s==""&&r==""&&(r="%")}else if(a.indexOf("%")!==-1){let c=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(c)),r="%"}else if(a.indexOf("‰")!==-1){let c=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(c)),r="‰"}if(a.indexOf("e")!==-1){let c;n.decimals.passive>=0?c=e.toExponential(n.decimals.passive).split("e"):c=e.toExponential().split("e"),e=Number(c[0]),r="e"+c[1],n.modSpacing&&(r=" "+r)}else if(n.decimals.passive===0)e=Math.round(e);else if(n.decimals.passive>0){const c=V6(e);if(c>0){const h=Math.pow(10,n.decimals.passive);e=Math.round(parseFloat((e*h).toFixed(c)))/h}}let o="",l=Bwe(e).split("."),u=l[0];if(u.length<n.thousands.active&&(u=Array(n.thousands.active-u.length+1).join("0")+u),n.thousands.interval>0){let c=[],h=u.split("").reverse().join("");for(let f=0,p=u.length;f<=p;f+=n.thousands.interval){let m=h.substr(f,n.thousands.interval).split("").reverse().join("");m!==""&&c.unshift(m)}u=c.join(n.thousands.separator)}o+=u,l.length===1&&l.push("");let d=l[1];return d.length<n.decimals.active&&(d+=Array(n.decimals.active-d.length+1).join("0")),d!==""&&(o+=n.decimals.separator+d),o===""&&(o="0"),e!==0&&i&&a.indexOf("s")===-1&&(o="-"+o),s&&(o=s+o),r&&(o+=r),o}applyPrefix(e,n,i=!1){let s=e,r="",a="",o=!1,l=1;for(let u=0,d=n.length;u<d;u++)n[u].number<=e&&(n[u].number===0?s=0:(s=e/n[u].number,l=n[u].number),r=n[u].prefix,a=n[u].suffix,o=!0);return!o&&i&&n.length&&e!=0&&(s=e/n[0].number,r=n[0].prefix,a=n[0].suffix,o=!0),o&&(s=parseFloat(s.toPrecision(Math.min(l.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,r,a]}escape(e){return e.replace("||",bd)}unescape(e){return e.replace(bd,"|")}}function z6(t,e){let n=0,i=0,s=1,r=0,a=0,o=0,l=0,u=0;return t.formatToParts(e).forEach(d=>{switch(d.type){case"year":n=+d.value;break;case"month":i=+d.value-1;break;case"day":s=+d.value;break;case"hour":r=+d.value;break;case"minute":a=+d.value;break;case"second":o=+d.value;break;case"fractionalSecond":l=+d.value;break;case"weekday":switch(d.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),r===24&&(r=0),{year:n,month:i,day:s,hour:r,minute:a,second:o,millisecond:l,weekday:u}}function dV(t,e){const{year:n,month:i,day:s,hour:r,minute:a,second:o,millisecond:l}=z6(t,e);return Date.UTC(n,i,s,r,a,o,l)}class L0e{constructor(e,n){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const n=this.offsetUTC(e),i=e.getTimezoneOffset(),s=new Date(e);s.setUTCMinutes(s.getUTCMinutes()-(n-i));const r=s.getTimezoneOffset();return i!=r&&s.setUTCMinutes(s.getUTCMinutes()+r-i),s}offsetUTC(e){const n=dV(this._utc,e),i=dV(this._dtf,e);return(n-i)/6e4}parseDate(e){return z6(this._dtf,e)}}class N0e extends Pi{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i=!1){(typeof n>"u"||n==="")&&(n=this.get("dateFormat","yyyy-MM-dd"));let s,r=e;if(cp(n))try{const l=this.get("intlLocales");return l?new Intl.DateTimeFormat(l,n).format(r):new Intl.DateTimeFormat(void 0,n).format(r)}catch{return"Invalid"}let a=this.parseFormat(n);const o=this._root.timezone;return o&&!this._root.utc&&!i&&(r=o.convertLocal(r)),fe(r.getTime())?(s=this.applyFormat(r,a,i),this.get("capitalize")&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase())),s):"Invalid date"}applyFormat(e,n,i=!1){let s=n.template,r,a,o,l,u,d,c,h,f=e.getTime();this._root.utc&&!i?(r=e.getUTCFullYear(),a=e.getUTCMonth(),o=e.getUTCDay(),l=e.getUTCDate(),u=e.getUTCHours(),d=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds()):(r=e.getFullYear(),a=e.getMonth(),o=e.getDay(),l=e.getDate(),u=e.getHours(),d=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds());for(let p=0,m=n.parts.length;p<m;p++){let v="";switch(n.parts[p]){case"G":v=this._t(r<0?"_era_bc":"_era_ad");break;case"yyyy":v=Math.abs(r).toString(),r<0&&(v+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":v=Math.abs(r).toString().substr(-n.parts[p].length),r<0&&(v+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let _=a0e(e,this._root.utc);n.parts[p]=="YYYY"?v=Math.abs(_).toString():v=Math.abs(_).toString().substr(-n.parts[p].length),_<0&&(v+=this._t("_era_bc"));break;case"u":break;case"q":v=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":v=this._t(this._getMonth(a)).substr(0,1);break;case"MMMM":v=this._t(this._getMonth(a));break;case"MMM":v=this._t(this._getShortMonth(a));break;case"MM":v=li(a+1,2,"0");break;case"M":v=(a+1).toString();break;case"ww":v=li(gy(e,this._root.utc),2,"0");break;case"w":v=gy(e,this._root.utc).toString();break;case"W":v=o0e(e,this._root.utc).toString();break;case"dd":v=li(l,2,"0");break;case"d":v=l.toString();break;case"DD":case"DDD":v=li(rV(e,this._root.utc).toString(),n.parts[p].length,"0");break;case"D":v=rV(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":v=this._root.language.translateFunc("_dateOrd").call(this,l);break;case"E":v=(o||7).toString();break;case"EE":v=li((o||7).toString(),2,"0");break;case"EEE":case"eee":v=this._t(this._getShortWeekday(o));break;case"EEEE":case"eeee":v=this._t(this._getWeekday(o));break;case"EEEEE":case"eeeee":v=this._t(this._getShortWeekday(o)).substr(0,1);break;case"e":case"ee":v=(o-(this._root.locale.firstDayOfWeek||1)+1).toString(),n.parts[p]=="ee"&&(v=li(v,2,"0"));break;case"a":u>=12?v=this._t("PM"):v=this._t("AM");break;case"aa":u>=12?v=this._t("P.M."):v=this._t("A.M.");break;case"aaa":u>=12?v=this._t("P"):v=this._t("A");break;case"h":v=av(u).toString();break;case"hh":v=li(av(u),2,"0");break;case"H":v=u.toString();break;case"HH":v=li(u,2,"0");break;case"K":v=av(u,0).toString();break;case"KK":v=li(av(u,0),2,"0");break;case"k":v=(u+1).toString();break;case"kk":v=li(u+1,2,"0");break;case"m":v=d.toString();break;case"mm":v=li(d,2,"0");break;case"s":v=c.toString();break;case"ss":v=li(c,2,"0");break;case"S":case"SS":case"SSS":v=Math.round(h/1e3*Math.pow(10,n.parts[p].length)).toString();break;case"x":v=f.toString();break;case"n":case"nn":case"nnn":v=li(h,n.parts[p].length,"0");break;case"z":v=ov(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":v=ov(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":v=ov(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":v=ov(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let b=this._root.utc?"UTC":this._root.timezone;b instanceof L0e&&(b=b.name);const x=b?u0e(b):e.getTimezoneOffset();let k=Math.abs(x)/60,I=Math.floor(k),E=k*60-I*60;this._root.utc&&(I=0,E=0),n.parts[p]=="Z"?(v="GMT",v+=x>0?"-":"+",v+=li(I,2)+":"+li(E,2)):(v=x>0?"-":"+",v+=li(I,2)+li(E,2));break;case"i":v=e.toISOString();break;case"I":v=e.toUTCString();break}s=s.replace(Ul,v)}return s}parseFormat(e){let n={template:"",parts:[]},i=sa.chunk(e,!0);for(let s=0;s<i.length;s++){let r=i[s];if(r.type==="value"){if(r.text.match(/^date$/i)){let o=this.get("dateFormat","yyyy-MM-dd");dh(o)||(o="yyyy-MM-dd"),r.text=o}let a=r.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(let o=0;o<a.length;o++)n.parts.push(a[o]),r.text=r.text.replace(a[o],Ul)}n.template+=r.text}return n}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,n){if(e instanceof Date)return e;if(fe(e))return new Date(e);if(n=="x")return new Date(parseInt(e));dh(e)||(e=e.toString());let i,s="";n=JC(n),n=n.substr(0,e.length);let r=this.parseFormat(n),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},l=0,u=0;for(let h=0;h<r.parts.length;h++){switch(u=h+l+1,r.parts[h]){case"yyyy":case"YYYY":s+="([0-9]{4})",a.year=u;break;case"yyy":case"YYY":s+="([0-9]{3})",a.year3=u;break;case"yy":case"YY":s+="([0-9]{2})",a.year2=u;break;case"y":case"Y":s+="([0-9]{1})",a.year1=u;break;case"MMMM":s+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=u;break;case"MMM":s+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=u;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",a.month=u;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",a.week=u;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",a.day=u;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=u;break;case"dddd":s+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=u;break;case"ddd":s+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=u;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=u;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",a.hour12Base1=u;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",a.hourBase0=u;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",a.hour12Base0=u;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",a.hourBase1=u;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",a.minute=u;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",a.second=u;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u,a.millisecondDigits=r.parts[h].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u;break;case"x":s+="([0-9]{1,})",a.timestamp=u;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=u;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=u;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=u,l+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":l--;break}s+="[^0-9]*"}let d=new RegExp(s),c=e.match(d);if(c){if(a.year>-1&&(o.year=parseInt(c[a.year])),a.year3>-1){let h=parseInt(c[a.year3]);h+=1e3,o.year=h}if(a.year2>-1){let h=parseInt(c[a.year2]);h>50?h+=1e3:h+=2e3,o.year=h}if(a.year1>-1){let h=parseInt(c[a.year1]);h=Math.floor(new Date().getFullYear()/10)*10+h,o.year=h}if(a.monthLong>-1&&(o.month=this.resolveMonth(c[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(c[a.monthShort])),a.month>-1&&(o.month=parseInt(c[a.month])-1),a.week>-1&&a.day===-1&&(o.month=0,o.day=l0e(parseInt(c[a.week]),o.year,1,this._root.utc)),a.day>-1&&(o.day=parseInt(c[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(c[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(c[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(c[a.hourBase1])-1),a.hour12Base0>-1){let h=parseInt(c[a.hour12Base0]);h==11&&(h=0),a.am>-1&&!this.isAm(c[a.am])&&(h+=12),o.hour=h}if(a.hour12Base1>-1){let h=parseInt(c[a.hour12Base1]);h==12&&(h=0),a.am>-1&&!this.isAm(c[a.am])&&(h+=12),o.hour=h}if(a.minute>-1&&(o.minute=parseInt(c[a.minute])),a.second>-1&&(o.second=parseInt(c[a.second])),a.millisecond>-1){let h=parseInt(c[a.millisecond]);a.millisecondDigits==2?h*=10:a.millisecondDigits==1&&(h*=100),o.millisecond=h}if(a.timestamp>-1){o.timestamp=parseInt(c[a.timestamp]);const h=new Date(o.timestamp);o.year=h.getUTCFullYear(),o.month=h.getUTCMonth(),o.day=h.getUTCDate(),o.hour=h.getUTCHours(),o.minute=h.getUTCMinutes(),o.second=h.getUTCSeconds(),o.millisecond=h.getUTCMilliseconds()}a.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.zone])),a.iso>-1&&(o.year=or(c[a.iso+0]),o.month=or(c[a.iso+1])-1,o.day=or(c[a.iso+2]),o.hour=or(c[a.iso+3]),o.minute=or(c[a.iso+4]),o.second=or(c[a.iso+5]),o.millisecond=or(c[a.iso+6]),c[a.iso+7]=="Z"||c[a.iso+7]=="z"?o.utc=!0:c[a.iso+7]!=""&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.iso+7]))),o.utc?i=new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):i=new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else i=new Date(e);return i}resolveTimezoneOffset(e,n){if(n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let s=n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),r=s[1],a=s[2],o=s[3],l=parseInt(a)*60+parseInt(o);r=="+"&&(l*=-1);let u=(e||new Date).getTimezoneOffset();return l-u}return 0}resolveMonth(e){let n=this._months().indexOf(e);return n>-1||!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._months()).indexOf(e),n>-1)?n:0}resolveShortMonth(e){let n=this._shortMonths().indexOf(e);return n>-1||(n=this._months().indexOf(e),n>-1)||this._root.language&&!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._shortMonths()).indexOf(e),n>-1)?n:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let n=[];for(let i=0;i<e.length;i++)this._root.language?n.push(sV(this._t(e[i]))):n.push(sV(e[i]));return n}}class F0e extends Pi{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",n="_duration_second",i="_duration_minute",s="_duration_hour",r="_duration_day",a="_duration_week",o="_duration_month",l="_duration_year",u="_second",d="_minute",c="_hour",h="_day",f="_week",p="_week",m="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+u),minute:this._t(e+d),hour:this._t(e+c),day:this._t(e+h),week:this._t(e+f),month:this._t(e+p),year:this._t(e+m)},second:{second:this._t(n),minute:this._t(n+d),hour:this._t(n+c),day:this._t(n+h),week:this._t(n+f),month:this._t(n+p),year:this._t(n+m)},minute:{minute:this._t(i),hour:this._t(i+c),day:this._t(i+h),week:this._t(i+f),month:this._t(i+p),year:this._t(i+m)},hour:{hour:this._t(s),day:this._t(s+h),week:this._t(s+f),month:this._t(s+p),year:this._t(s+m)},day:{day:this._t(r),week:this._t(r+f),month:this._t(r+p),year:this._t(r+m)},week:{week:this._t(a),month:this._t(a+p),year:this._t(a+m)},month:{month:this._t(o),year:this._t(o+m)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i){let s=i||this.get("baseUnit");(typeof n>"u"||n==="")&&(this.get("durationFormat")!=null?n=this.get("durationFormat"):n=this.getFormat(or(e),void 0,s)),n=JC(n);let r=this.parseFormat(n,s),a=Number(e),o;a>this.get("negativeBase")?o=r.positive:a<this.get("negativeBase")?o=r.negative:o=r.zero;let l=this.applyFormat(a,o);return o.color!==""&&(l="["+o.color+"]"+l+"[/]"),l}parseFormat(e,n){let i=n||this.get("baseUnit"),s={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};e=e.replace("||",bd);let r=e.split("|");return s.positive.source=r[0],typeof r[2]>"u"?s.zero=s.positive:s.zero.source=r[2],typeof r[1]>"u"?s.negative=s.positive:s.negative.source=r[1],sn(s,(a,o)=>{if(o.parsed)return;let l=o.source,u=[];u=o.source.match(/^\[([^\]]*)\]/),u&&u.length&&u[0]!==""&&(l=o.source.substr(u[0].length),o.color=u[1]);let d=sa.chunk(l,!0);for(let c=0;c<d.length;c++){let h=d[c];if(h.text=h.text.replace(bd,"|"),h.type==="value"){h.text.match(/[yYMdDwhHKkmsSn]+a/)&&(o.absolute=!0,h.text=h.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let f=h.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(f)for(let p=0;p<f.length;p++)f[p]==null&&(f[p]=this._unitAliases[f[p]]),o.parts.push(f[p]),h.text=h.text.replace(f[p],Ul)}o.template+=h.text}o.parsed=!0}),s}applyFormat(e,n){let i=!n.absolute&&e<this.get("negativeBase");e=Math.abs(e);let s=this.toTimeStamp(e,n.baseUnit),r=n.template;for(let a=0,o=n.parts.length;a<o;a++){let l=n.parts[a],u=this._toTimeUnit(l.substr(0,1)),d=l.length,c;const h=this._getUnitValue(u);a<o-1?c=Math.floor(s/h):c=Math.round(s/h),r=r.replace(Ul,li(c,d,"0")),s-=c*h}return i&&(r="-"+r),r}toTimeStamp(e,n){return e*this._getUnitValue(n)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,n,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),n!=null&&e!=n){e=Math.abs(e),n=Math.abs(n);let s=this.getValueUnit(Math.max(e,n),i);return this.get("durationFormats")[i][s]}else{let s=this.getValueUnit(e,i);return this.get("durationFormats")[i][s]}}getValueUnit(e,n){n||(n=this.get("baseUnit"));let i,s=this.getMilliseconds(e,n);return zwe(this._getUnitValues(),(r,a)=>{if(r==n||i){if(s/a<=1)return i||(i=r),!1;i=r}return!0}),i}getMilliseconds(e,n){return n||(n=this.get("baseUnit")),e*this._getUnitValue(n)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const W6={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){let e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class B0e extends Pi{_setDefaults(){this.setPrivate("defaultLocale",W6),super._setDefaults()}translate(e,n,...i){n||(n=this._root.locale||this.getPrivate("defaultLocale"));let s=e,r=n[e];if(r===null)s="";else if(r!=null)r&&(s=r);else if(n!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...i);if(i.length)for(let a=i.length,o=0;o<a;++o)s=s.split("%"+(o+1)).join(i[o]);return s}translateAny(e,n,...i){return this.translate(e,n,...i)}setTranslationAny(e,n,i){const s=i||this._root.locale;s[e]=n}setTranslationsAny(e,n){sn(e,(i,s)=>{this.setTranslationAny(i,s,n)})}translateEmpty(e,n,...i){let s=this.translate(e,n,...i);return s==e?"":s}translateFunc(e,n){return this._root.locale[e]?this._root.locale[e]:n!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,n){return this.isDefault()?e:ck(e,i=>this.translate(i,n))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class jw{constructor(e,n){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const n=new this(e,!0);return n.setupDefaultRules(),n}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,n=[]){let i=this._rules[e];i||(i=this._rules[e]=[]),n.sort(ja);const{index:s,found:r}=fk(i,a=>{const o=ja(a.tags.length,n.length);return o===0?U6(a.tags,n,ja):o});if(r)return i[s].template;{const a=Sn.new({});return i.splice(s,0,{tags:n,template:a}),a}}rule(e,n=[]){return this.ruleRaw(e,n)}}function nt(t,e,n,i){t.set(e,n.get(i)),n.on(i,s=>{t.set(e,s)})}class j0e extends jw{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,n=this._root.interfaceColors,i=this._root.horizontalLayout,s=this._root.verticalLayout,r=this.rule.bind(this);r("InterfaceColors").setAll({stroke:tt.fromHex(15066597),fill:tt.fromHex(15987699),primaryButton:tt.fromHex(6788316),primaryButtonHover:tt.fromHex(6779356),primaryButtonDown:tt.fromHex(6872182),primaryButtonActive:tt.fromHex(6872182),primaryButtonDisabled:tt.fromHex(14342874),primaryButtonTextDisabled:tt.fromHex(16777215),primaryButtonText:tt.fromHex(16777215),primaryButtonStroke:tt.fromHex(16777215),secondaryButton:tt.fromHex(14277081),secondaryButtonHover:tt.fromHex(10724259),secondaryButtonDown:tt.fromHex(9276813),secondaryButtonActive:tt.fromHex(15132390),secondaryButtonText:tt.fromHex(0),secondaryButtonStroke:tt.fromHex(16777215),grid:tt.fromHex(0),background:tt.fromHex(16777215),alternativeBackground:tt.fromHex(0),text:tt.fromHex(0),alternativeText:tt.fromHex(16777215),disabled:tt.fromHex(11382189),positive:tt.fromHex(5288704),negative:tt.fromHex(11730944)});{const a=r("ColorSet");a.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[tt.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),a.setPrivate("currentStep",0),a.setPrivate("currentPass",0)}r("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:ad(cl)}),r("Component").setAll({interpolationDuration:0,interpolationEasing:ad(cl)}),r("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:at,tooltipY:at,tooltipPosition:"fixed",isMeasured:!0}),r("Sprite").states.create("default",{visible:!0,opacity:1}),r("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),r("Graphics").setAll({strokeWidth:1}),r("Chart").setAll({width:Ne,height:Ne,interactiveChildren:!1}),r("ZoomableContainer").setAll({width:Ne,height:Ne,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:ad(cl),animationDuration:600,maxPanOut:.4}),r("Sprite",["horizontal","center"]).setAll({centerX:at,x:at}),r("Sprite",["vertical","center"]).setAll({centerY:at,y:at}),r("Container",["horizontal","layout"]).setAll({layout:i}),r("Container",["vertical","layout"]).setAll({layout:s}),r("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),r("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),r("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),r("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),r("GrainPattern").setAll({width:200,height:200,colors:[tt.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const a=r("PatternSet");a.setAll({step:1}),nt(a,"color",n,"stroke")}r("LinearGradient").setAll({rotation:90}),r("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:mc.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),r("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const a=r("Rectangle",["legend","item","background"]);a.setAll({fillOpacity:0}),nt(a,"fill",n,"background")}r("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:at,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),r("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Ne,height:Ne,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const a=r("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});nt(a,"fill",n,"disabled"),nt(a,"stroke",n,"disabled")}r("Label",["legend","label"]).setAll({centerY:at,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const a=r("Label",["legend","label"]).states.create("disabled",{});nt(a,"fill",n,"disabled")}r("Label",["legend","value","label"]).setAll({centerY:at,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Ne,populateText:!0});{const a=r("Label",["legend","value","label"]).states.create("disabled",{});nt(a,"fill",n,"disabled")}r("HeatLegend").setAll({stepCount:1}),r("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),r("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Ne,width:15}),r("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Ne,height:15}),r("HeatLegend",["vertical"]).setAll({height:Ne}),r("HeatLegend",["horizontal"]).setAll({width:Ne}),r("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),r("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const a=r("Label");a.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),nt(a,"fill",n,"text")}r("RadialLabel").setAll({textType:"regular",centerY:at,centerX:at,inside:!1,radius:0,baseRadius:Ne,orientation:"auto",textAlign:"center"}),r("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),r("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:tt.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:tt.fromHex(0)}),r("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),r("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),r("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),r("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const a=r("Tick");a.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),nt(a,"stroke",n,"grid")}r("Bullet").setAll({locationX:.5,locationY:.5}),r("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:at,centerY:at,animationEasing:ad(cl),exportable:!1}),r("Polygon").setAll({animationEasing:ad(cl)}),r("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:tt.fromHex(16777215)});{const a=r("Label",["tooltip"]);a.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),nt(a,"fill",n,"alternativeText")}r("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),r("Button").states.create("hover",{}),r("Button").states.create("down",{stateAnimationDuration:0}),r("Button").states.create("active",{}),r("Button").states.create("disabled",{forceInactive:!0});{const a=r("RoundedRectangle",["button","background"]);nt(a,"fill",n,"primaryButton"),nt(a,"stroke",n,"primaryButtonStroke")}{const a=r("RoundedRectangle",["button","background"]).states.create("hover",{});nt(a,"fill",n,"primaryButtonHover")}{const a=r("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"primaryButtonDown")}{const a=r("RoundedRectangle",["button","background"]).states.create("active",{});nt(a,"fill",n,"primaryButtonActive")}{const a=r("RoundedRectangle",["button","background"]).states.create("disabled",{});nt(a,"fill",n,"primaryButtonDisabled")}{const a=r("Graphics",["button","icon"]).states.create("disabled",{});nt(a,"fill",n,"primaryButtonTextDisabled")}{const a=r("Label",["button"]).states.create("disabled",{});nt(a,"fill",n,"primaryButtonTextDisabled")}{const a=r("Graphics",["button","icon"]);a.setAll({forceInactive:!0}),nt(a,"stroke",n,"primaryButtonText")}{const a=r("Label",["button"]);nt(a,"fill",n,"primaryButtonText")}r("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Ne,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const a=r("RoundedRectangle",["background","button","zoom"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),nt(a,"fill",n,"primaryButton")}{const a=r("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});nt(a,"fill",n,"primaryButtonHover")}{const a=r("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"primaryButtonDown")}{const a=r("Graphics",["icon","button","zoom"]);a.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),nt(a,"stroke",n,"primaryButtonText")}r("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:at,centerY:at,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const a=r("RoundedRectangle",["background","resize","button"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),nt(a,"fill",n,"secondaryButton"),nt(a,"stroke",n,"secondaryButtonStroke")}{const a=r("RoundedRectangle",["background","resize","button"]).states.create("hover",{});nt(a,"fill",n,"secondaryButtonHover")}{const a=r("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"secondaryButtonDown")}{const a=r("Graphics",["resize","button","icon"]);a.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),nt(a,"stroke",n,"secondaryButtonText")}r("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),r("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),r("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const a=r("RoundedRectangle",["play","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),nt(a,"fill",n,"primaryButton")}{const a=r("Graphics",["play","icon"]);a.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),nt(a,"fill",n,"primaryButtonText")}r("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),r("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:a=>{a.moveTo(-4,-5),a.lineTo(-1,-5),a.lineTo(-1,5),a.lineTo(-4,5),a.lineTo(-4,-5),a.moveTo(4,-5),a.lineTo(1,-5),a.lineTo(1,5),a.lineTo(4,5),a.lineTo(4,-5)}}),r("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const a=r("RoundedRectangle",["switch","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),nt(a,"fill",n,"primaryButton")}{const a=r("Circle",["switch","icon"]);a.setAll({radius:8,centerY:0,centerX:0,dx:0}),nt(a,"fill",n,"primaryButtonText")}r("Graphics",["switch","icon"]).states.create("active",{dx:16}),r("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:ad(cl)}),r("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Ne}),r("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Ne}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const a=r("RoundedRectangle",["scrollbar","main","background"]);a.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),nt(a,"fill",n,"fill")}{const a=r("RoundedRectangle",["scrollbar","thumb"]);a.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),nt(a,"fill",n,"secondaryButton")}{const a=r("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});nt(a,"fill",n,"secondaryButtonHover")}{const a=r("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"secondaryButtonDown")}r("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:at,width:Ne,centerX:at,ariaLabel:e.translate("Use up and down arrows to move selection")}),r("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:at,centerY:at,height:Ne,ariaLabel:e.translate("Use left and right arrows to move selection")});{const a=r("PointedRectangle",["axis","tooltip","background"]);a.setAll({cornerRadius:0}),nt(a,"fill",n,"alternativeBackground")}r("Label",["axis","tooltip"]).setAll({role:void 0}),r("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),r("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),r("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),r("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),r("Star").setAll({spikes:5,innerRadius:5,radius:10}),r("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),r("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),r("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),r("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),r("Container",["resizer","grip"]).states.create("hover",{});{const a=r("RoundedRectangle",["resizer","grip"]);a.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),nt(a,"fill",n,"background"),nt(a,"stroke",n,"alternativeBackground")}{const a=r("RoundedRectangle",["resizer","grip","outline"]);a.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),a.states.create("hover",{fillOpacity:.3}),nt(a,"fill",n,"alternativeBackground")}r("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),r("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const a=r("Rectangle",["resizer","rectangle"]);a.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),nt(a,"stroke",n,"alternativeBackground")}r("Graphics",["button","plus","icon"]).setAll({x:at,y:at,draw:a=>{a.moveTo(-4,0),a.lineTo(4,0),a.moveTo(0,-4),a.lineTo(0,4)}}),r("Graphics",["button","minus","icon"]).setAll({x:at,y:at,draw:a=>{a.moveTo(-4,0),a.lineTo(4,0)}}),r("Graphics",["button","home","icon"]).setAll({x:at,y:at,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),r("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),r("ZoomTools").setAll({x:Ne,centerX:Ne,y:Ne,centerY:Ne,paddingRight:10,paddingBottom:10})}}class vx{constructor(e=1,n=0,i=0,s=1,r=0,a=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=n,this.c=i,this.d=s,this.tx=r,this.ty=a}setTransform(e,n,i,s,r,a=1){this.a=Math.cos(r)*a,this.b=Math.sin(r)*a,this.c=-Math.sin(r)*a,this.d=Math.cos(r)*a,this.tx=e-(i*this.a+s*this.c),this.ty=n-(i*this.b+s*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const n=1/(this.a*this.d+this.c*-this.b);return{x:this.d*n*e.x+-this.c*n*e.y+(this.ty*this.c-this.tx*this.d)*n,y:this.a*n*e.y+-this.b*n*e.x+(-this.ty*this.a+this.tx*this.b)*n}}append(e){const n=this.a,i=this.b,s=this.c,r=this.d;this.a=e.a*n+e.b*s,this.b=e.a*i+e.b*r,this.c=e.c*n+e.d*s,this.d=e.c*i+e.d*r,this.tx=e.tx*n+e.ty*s+this.tx,this.ty=e.tx*i+e.ty*r+this.ty}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,s=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var $0e=function(){function t(e,n){var i=[],s=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(i.push(l.value),!(n&&i.length===n));s=!0);}catch(u){r=!0,a=u}finally{try{!s&&o.return&&o.return()}finally{if(r)throw a}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),um=Math.PI*2,_x=function(e,n,i,s,r,a,o){var l=e.x,u=e.y;l*=n,u*=i;var d=s*l-r*u,c=r*l+s*u;return{x:d+a,y:c+o}},U0e=function(e,n){var i=n===1.5707963267948966?.551915024494:n===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(n/4),s=Math.cos(e),r=Math.sin(e),a=Math.cos(e+n),o=Math.sin(e+n);return[{x:s-r*i,y:r+s*i},{x:a+o*i,y:o-a*i},{x:a,y:o}]},hV=function(e,n,i,s){var r=e*s-n*i<0?-1:1,a=e*i+n*s;return a>1&&(a=1),a<-1&&(a=-1),r*Math.acos(a)},H0e=function(e,n,i,s,r,a,o,l,u,d,c,h){var f=Math.pow(r,2),p=Math.pow(a,2),m=Math.pow(c,2),v=Math.pow(h,2),_=f*p-f*v-p*m;_<0&&(_=0),_/=f*v+p*m,_=Math.sqrt(_)*(o===l?-1:1);var b=_*r/a*h,x=_*-a/r*c,k=d*b-u*x+(e+i)/2,I=u*b+d*x+(n+s)/2,E=(c-b)/r,T=(h-x)/a,S=(-c-b)/r,w=(-h-x)/a,C=hV(1,0,E,T),P=hV(E,T,S,w);return l===0&&P>0&&(P-=um),l===1&&P<0&&(P+=um),[k,I,C,P]},z0e=function(e){var n=e.px,i=e.py,s=e.cx,r=e.cy,a=e.rx,o=e.ry,l=e.xAxisRotation,u=l===void 0?0:l,d=e.largeArcFlag,c=d===void 0?0:d,h=e.sweepFlag,f=h===void 0?0:h,p=[];if(a===0||o===0)return[];var m=Math.sin(u*um/360),v=Math.cos(u*um/360),_=v*(n-s)/2+m*(i-r)/2,b=-m*(n-s)/2+v*(i-r)/2;if(_===0&&b===0)return[];a=Math.abs(a),o=Math.abs(o);var x=Math.pow(_,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);x>1&&(a*=Math.sqrt(x),o*=Math.sqrt(x));var k=H0e(n,i,s,r,a,o,c,f,m,v,_,b),I=$0e(k,4),E=I[0],T=I[1],S=I[2],w=I[3],C=Math.abs(w)/(um/4);Math.abs(1-C)<1e-7&&(C=1);var P=Math.max(Math.ceil(C),1);w/=P;for(var D=0;D<P;D++)p.push(U0e(S,w)),S+=w;return p.map(function(A){var F=_x(A[0],a,o,v,m,E,T),L=F.x,H=F.y,X=_x(A[1],a,o,v,m,E,T),z=X.x,K=X.y,Y=_x(A[2],a,o,v,m,E,T),te=Y.x,Q=Y.y;return{x1:L,y1:H,x2:z,y2:K,x:te,y:Q}})};function W0e(t,e,n){if(e!==n)throw new Error("Required "+n+" arguments for "+t+" but got "+e)}function Lf(t,e,n){if(e<n)throw new Error("Required at least "+n+" arguments for "+t+" but got "+e)}function sr(t,e,n){if(Lf(t,e,n),e%n!==0)throw new Error("Arguments for "+t+" must be in pairs of "+n)}function Y0e(t){for(let e=0;e<t.length;e+=7){let n=e+3,i=t[n];if(i.length>1){const s=/^([01])([01])(.*)$/.exec(i);s!==null&&(t.splice(n,0,s[1]),++n,t.splice(n,0,s[2]),++n,s[3].length>0?t[n]=s[3]:t.splice(n,1))}if(++n,i=t[n],i.length>1){const s=/^([01])(.+)$/.exec(i);s!==null&&(t.splice(n,0,s[1]),++n,t[n]=s[2])}}}function fV(t){if(t===0||t===1)return t;throw new Error("Flag must be 0 or 1")}function G0e(t){const e=[0,0,0];for(let n=0;n<24;n++)e[n%3]<<=1,e[n%3]|=t&1,t>>=1;return(e[0]|0)+(e[1]<<8)+(e[2]<<16)}function cv(t,e){for(;!(t.interactive&&!e(t));)if(t._parent)t=t._parent;else break}function q0e(t,e,n){return Nn(t,mk(e),i=>{const s=M6(i);let r=i.touches;r?(r.length==0&&(r=i.changedTouches),n(dk(r),s)):n([i],s)})}function mV(t){const e=document.createElement("canvas");e.width=1,e.height=1;const n=e.getContext("2d",{willReadFrequently:!0});n.drawImage(t,0,0,1,1);try{return n.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+t.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Nf(t){t.width=0,t.height=0,t.style.width="0px",t.style.height="0px"}function gV(t){return Math.floor(t)+.5}class X0e{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class $w extends Nw{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new X0e}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new vx}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new vx}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new vx}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:this.inactive==null?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}setLayer(e,n){e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=n,n&&md(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const n=this.getLocalMatrix(),i=n.apply({x:e.left,y:e.top}),s=n.apply({x:e.right,y:e.top}),r=n.apply({x:e.right,y:e.bottom}),a=n.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,s.x,r.x,a.x),top:Math.min(i.y,s.y,r.y,a.y),right:Math.max(i.x,s.x,r.x,a.x),bottom:Math.max(i.y,s.y,r.y,a.y)}}on(e,n,i){return this.interactive?this._renderer._addEvent(this,e,n,i):new Ei(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,n){const i=this._matrix;let s=i.tx*n,r=i.ty*n;this.crisp&&(s=gV(s),r=gV(r)),e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,s,r)}_transformMargin(e,n,i){const s=this._matrix;e.setTransform(s.a*n,s.b*n,s.c*n,s.d*n,(s.tx+i.left)*n,(s.ty+i.top)*n)}_transformLayer(e,n,i){i.margin?this._transformMargin(e,i.scale||n,i.margin):this._transform(e,i.scale||n)}render(e){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const n=this.subStatus(e),i=this._renderer.resolution,s=this._renderer.layers,r=this._renderer._ghostLayer,a=r.context,o=this.mask;o&&o._setMatrix(),le(s,l=>{if(l){const u=l.context;u.save(),o&&(o._transformLayer(u,i,l),o._runPath(u),u.clip()),u.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(u,i,l),this.filter&&(u.filter=this.filter)}}),a.save(),o&&this._isInteractiveMask(n)&&(o._transformMargin(a,i,r.margin),o._runPath(a),a.clip()),this._transformMargin(a,i,r.margin),this._render(n),a.restore(),le(s,l=>{l&&l.context.restore()})}}_render(e){this.exportable===!1&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class K0e extends $w{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,n){e._parent=this,this._children.splice(n,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,ns(this._children,e)}_render(e){super._render(e);const n=this._renderer;this.interactive&&this.interactiveChildren&&++n._forceInteractive,le(this._children,i=>{i.compoundAlpha=this.compoundAlpha*this.alpha,i.render(e)}),this.interactive&&this.interactiveChildren&&--n._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),ug(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&le(this._childLayers,n=>n.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&le(this._childLayers,e=>{e.dirty=!0})}}function di(t,e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.right=Math.max(t.right,e.x),t.bottom=Math.max(t.bottom,e.y)}class Mi{colorize(e,n){}colorizeGhost(e,n){this.colorize(e,n)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class Q0e extends Mi{colorize(e,n){e.beginPath()}}class yx extends Mi{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){n!==void 0?e.fillStyle=n:e.fillStyle=this.color}}class J0e extends Mi{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class Z0e extends Mi{colorize(e,n){e.stroke()}}class bx extends Mi{constructor(e,n,i,s){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,n){n!==void 0?e.strokeStyle=n:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin),this.lineCap&&(e.lineCap=this.lineCap)}}class exe extends Mi{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.setLineDash(this.dash)}}class txe extends Mi{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.lineDashOffset=this.dashOffset}}class nxe extends Mi{constructor(e,n,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const n=this.x,i=this.y,s=n+this.width,r=i+this.height;di(e,{x:n,y:i}),di(e,{x:s,y:i}),di(e,{x:n,y:r}),di(e,{x:s,y:r})}}class ixe extends Mi{constructor(e,n,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){di(e,{x:this.x-this.radius,y:this.y-this.radius}),di(e,{x:this.x+this.radius,y:this.y+this.radius})}}class sxe extends Mi{constructor(e,n,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(e){di(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),di(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class rxe extends Mi{constructor(e,n,i,s,r,a){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let n=pk(this.cx,this.cy,this.startAngle*lm,this.endAngle*lm,this.radius);di(e,{x:n.left,y:n.top}),di(e,{x:n.right,y:n.bottom})}}class axe extends Mi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class oxe extends Mi{constructor(e,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.lineTo(this.x,this.y)}addBounds(e){di(e,{x:this.x,y:this.y})}}class lxe extends Mi{constructor(e,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.moveTo(this.x,this.y)}addBounds(e){di(e,{x:this.x,y:this.y})}}class uxe extends Mi{path(e){e.closePath()}}class cxe extends Mi{constructor(e,n,i,s,r,a){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){di(e,{x:this.cpX,y:this.cpY}),di(e,{x:this.cpX2,y:this.cpY2}),di(e,{x:this.toX,y:this.toY})}}class dxe extends Mi{constructor(e,n,i,s){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){di(e,{x:this.cpX,y:this.cpY}),di(e,{x:this.toX,y:this.toY})}}class hxe extends Mi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(e,n){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,n){}}class fxe extends Mi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){di(e,{x:this.x,y:this.y}),di(e,{x:this.width,y:this.height})}}class mxe extends $w{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:vy.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,n=1){this._fillAlpha=n,e?e instanceof tt?this._pushOp(new yx(e.toCSS(n))):(this.isMeasured=!0,this._pushOp(new yx(e))):this._pushOp(new yx("rgba(0, 0, 0, "+n+")"))}endFill(){this._pushOp(new J0e(this._hasShadows))}endStroke(){this._pushOp(new Z0e)}beginPath(){this._pushOp(new Q0e)}lineStyle(e=0,n,i=1,s,r){this._strokeAlpha=i,n?n instanceof tt?this._pushOp(new bx(e,n.toCSS(i),s,r)):this._pushOp(new bx(e,n,s,r)):this._pushOp(new bx(e,"rgba(0, 0, 0, "+i+")",s,r))}setLineDash(e){this._pushOp(new exe(e||[]))}setLineDashOffset(e=0){this._pushOp(new txe(e))}drawRect(e,n,i,s){this._pushOp(new nxe(e,n,i,s))}drawCircle(e,n,i){this._pushOp(new ixe(e,n,i))}drawEllipse(e,n,i,s){this._pushOp(new sxe(e,n,i,s))}arc(e,n,i,s,r,a=!1){this._pushOp(new rxe(e,n,i,s,r,a))}arcTo(e,n,i,s,r){this._pushOp(new axe(e,n,i,s,r))}lineTo(e,n){this._pushOp(new oxe(e,n))}moveTo(e,n){this._pushOp(new lxe(e,n))}bezierCurveTo(e,n,i,s,r,a){this._pushOp(new cxe(e,n,i,s,r,a))}quadraticCurveTo(e,n,i,s){this._pushOp(new dxe(e,n,i,s))}closePath(){this._pushOp(new uxe)}shadow(e,n=0,i=0,s=0,r){this._hasShadows=!0,this._pushOp(new hxe(r?e.toCSS(r):e.toCSS(this._fillAlpha||this._strokeAlpha),n,i,s))}image(e,n,i,s,r){this._pushOp(new fxe(e,n,i,s,r))}svgPath(e){let n=0,i=0,s=null,r=null,a=null,o=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,u=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let d;for(;(d=l.exec(e))!==null;){const c=d[1],h=d[2],f=[];for(;(d=u.exec(h))!==null;)f.push(d[1]);switch(c!=="S"&&c!=="s"&&c!=="C"&&c!=="c"&&(s=null,r=null),c!=="Q"&&c!=="q"&&c!=="T"&&c!=="t"&&(a=null,o=null),c){case"M":sr(c,f.length,2),n=+f[0],i=+f[1],this.moveTo(n,i);for(let m=2;m<f.length;m+=2)n=+f[m],i=+f[m+1],this.lineTo(n,i);break;case"m":sr(c,f.length,2),n+=+f[0],i+=+f[1],this.moveTo(n,i);for(let m=2;m<f.length;m+=2)n+=+f[m],i+=+f[m+1],this.lineTo(n,i);break;case"L":sr(c,f.length,2);for(let m=0;m<f.length;m+=2)n=+f[m],i=+f[m+1],this.lineTo(n,i);break;case"l":sr(c,f.length,2);for(let m=0;m<f.length;m+=2)n+=+f[m],i+=+f[m+1],this.lineTo(n,i);break;case"H":Lf(c,f.length,1);for(let m=0;m<f.length;++m)n=+f[m],this.lineTo(n,i);break;case"h":Lf(c,f.length,1);for(let m=0;m<f.length;++m)n+=+f[m],this.lineTo(n,i);break;case"V":Lf(c,f.length,1);for(let m=0;m<f.length;++m)i=+f[m],this.lineTo(n,i);break;case"v":Lf(c,f.length,1);for(let m=0;m<f.length;++m)i+=+f[m],this.lineTo(n,i);break;case"C":sr(c,f.length,6);for(let m=0;m<f.length;m+=6){const v=+f[m],_=+f[m+1];s=+f[m+2],r=+f[m+3],n=+f[m+4],i=+f[m+5],this.bezierCurveTo(v,_,s,r,n,i)}break;case"c":sr(c,f.length,6);for(let m=0;m<f.length;m+=6){const v=+f[m]+n,_=+f[m+1]+i;s=+f[m+2]+n,r=+f[m+3]+i,n+=+f[m+4],i+=+f[m+5],this.bezierCurveTo(v,_,s,r,n,i)}break;case"S":sr(c,f.length,4),(s===null||r===null)&&(s=n,r=i);for(let m=0;m<f.length;m+=4){const v=2*n-s,_=2*i-r;s=+f[m],r=+f[m+1],n=+f[m+2],i=+f[m+3],this.bezierCurveTo(v,_,s,r,n,i)}break;case"s":sr(c,f.length,4),(s===null||r===null)&&(s=n,r=i);for(let m=0;m<f.length;m+=4){const v=2*n-s,_=2*i-r;s=+f[m]+n,r=+f[m+1]+i,n+=+f[m+2],i+=+f[m+3],this.bezierCurveTo(v,_,s,r,n,i)}break;case"Q":sr(c,f.length,4);for(let m=0;m<f.length;m+=4)a=+f[m],o=+f[m+1],n=+f[m+2],i=+f[m+3],this.quadraticCurveTo(a,o,n,i);break;case"q":sr(c,f.length,4);for(let m=0;m<f.length;m+=4)a=+f[m]+n,o=+f[m+1]+i,n+=+f[m+2],i+=+f[m+3],this.quadraticCurveTo(a,o,n,i);break;case"T":sr(c,f.length,2),(a===null||o===null)&&(a=n,o=i);for(let m=0;m<f.length;m+=2)a=2*n-a,o=2*i-o,n=+f[m],i=+f[m+1],this.quadraticCurveTo(a,o,n,i);break;case"t":sr(c,f.length,2),(a===null||o===null)&&(a=n,o=i);for(let m=0;m<f.length;m+=2)a=2*n-a,o=2*i-o,n+=+f[m],i+=+f[m+1],this.quadraticCurveTo(a,o,n,i);break;case"A":case"a":const p=c==="a";Y0e(f),sr(c,f.length,7);for(let m=0;m<f.length;m+=7){let v=+f[m+5],_=+f[m+6];p&&(v+=n,_+=i);const b=z0e({px:n,py:i,rx:+f[m],ry:+f[m+1],xAxisRotation:+f[m+2],largeArcFlag:fV(+f[m+3]),sweepFlag:fV(+f[m+4]),cx:v,cy:_});le(b,x=>{this.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,x.x,x.y),n=x.x,i=x.y})}break;case"Z":case"z":W0e(c,f.length,0),this.closePath();break}}}_runPath(e){e.beginPath(),le(this._operations,n=>{n.path(e)})}_render(e){super._render(e);const n=e.layer.dirty,i=this._isInteractive(e);if(n||i){const s=e.layer.context,r=this._renderer._ghostLayer.context;n&&(s.globalCompositeOperation=this.blendMode,s.beginPath());let a;i&&(r.beginPath(),a=this._getColorId()),le(this._operations,o=>{n&&(o.path(s),o.colorize(s,void 0)),i&&(o.pathGhost(r),o.colorizeGhost(r,a))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const n=this.mask;n&&(n._setMatrix(),n._transform(e,1),n._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),le(this._operations,i=>{i.path(e),i.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&le(this._operations,n=>{n.addBounds(e)})}}class Y6 extends $w{constructor(e,n,i){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=n,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,n=!1,i=!1){super._render(e);const s=e.layer.context,r=this._renderer._ghostLayer.context,a=this.style;let o=this._getFontStyle(void 0,i);s.font=o,this._isInteractive(e)&&!n&&(r.font=o),a.fill&&(a.fill instanceof tt?s.fillStyle=a.fill.toCSS(a.fillOpacity!=null?a.fillOpacity:1):s.fillStyle=a.fill),a.shadowColor&&(e.layer.context.shadowColor=a.shadowColor.toCSS(a.shadowOpacity||1)),a.shadowBlur&&(e.layer.context.shadowBlur=a.shadowBlur),a.shadowOffsetX&&(e.layer.context.shadowOffsetX=a.shadowOffsetX),a.shadowOffsetY&&(e.layer.context.shadowOffsetY=a.shadowOffsetY),this._shared(s),this._isInteractive(e)&&!n&&(r.fillStyle=this._getColorId(),this._shared(r))}_getFontStyle(e,n=!1){const i=this.style;let s=[];return e&&e.fontVariant?s.push(e.fontVariant):i.fontVariant&&s.push(i.fontVariant),n||(e&&e.fontWeight?s.push(e.fontWeight):i.fontWeight&&s.push(i.fontWeight)),e&&e.fontStyle?s.push(e.fontStyle):i.fontStyle&&s.push(i.fontStyle),e&&e.fontSize?(fe(e.fontSize)&&(e.fontSize=e.fontSize+"px"),s.push(e.fontSize)):i.fontSize&&(fe(i.fontSize)&&(i.fontSize=i.fontSize+"px"),s.push(i.fontSize)),e&&e.fontFamily?s.push(e.fontFamily):i.fontFamily?s.push(i.fontFamily):s.length&&s.push("Arial"),s.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const n=this._isInteractive(e),i=e.layer.context,s=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),r.save(),this._prerender(e),le(this._textInfo,(a,o)=>{le(a.textChunks,(l,u)=>{if(l.style&&(i.save(),r.save(),i.font=l.style,this._isInteractive(e)&&(r.font=l.style)),l.fill&&(i.save(),i.fillStyle=l.fill.toCSS()),s&&i.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.textDecoration=="underline"||l.textDecoration=="line-through"){let d=1,c=1,h=l.height;const f=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(f)>-1){const v=this._measureText(l.text,i);l.width=v.actualBoundingBoxLeft+v.actualBoundingBoxRight}let p=l.offsetX;switch(this.style.textAlign){case"right":case"end":p-=l.width;break;case"center":p-=l.width/2;break}if(l.style)switch(sa.getTextStyle(l.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":d=2;break}h&&(c=h/20);let m;l.textDecoration=="line-through"?m=d+a.offsetY+l.offsetY-l.height/2:m=d+c*1.5+a.offsetY+l.offsetY,i.save(),i.beginPath(),l.fill?i.strokeStyle=l.fill.toCSS():this.style.fill&&this.style.fill instanceof tt&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=d*c,i.moveTo(p,m),i.lineTo(p+l.width,m),i.stroke(),i.restore()}n&&this.interactive&&r.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.fill&&i.restore(),l.style&&(i.restore(),r.restore())})}),i.restore(),r.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const n=this._measure({inactive:this.inactive,layer:this.getLayer()});di(e,{x:n.left,y:n.top}),di(e,{x:n.right,y:n.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const n=e.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl";this._textInfo=[];const r=this.style.oversizedBehavior,a=this.style.maxWidth,o=fe(a)&&r=="truncate",l=fe(a)&&(r=="wrap"||r=="wrap-no-break");n.save(),i.save(),this._prerender(e,!0,this._ignoreFontWeight());const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",d=this.text.toString().replace(/\r/g,"").split(/\n/);let c=!0,h=0,f=0,p=0,m;le(d,(_,b)=>{let x;for(_==""?x=[{type:"value",text:""}]:x=sa.chunk(_,!1,this.style.ignoreFormatting);x.length>0;){let k={offsetY:p,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const I=this._measureText(u,n),E=I.actualBoundingBoxAscent+I.actualBoundingBoxDescent;k.height=E,k.ascent=I.actualBoundingBoxAscent;let T,S=this.style.textDecoration,w,C,P=!1,D=!0,A=[],F;XC(x,(L,H)=>{if(L.type=="format")if(L.text=="[/]")c||(n.restore(),i.restore(),c=!0),w=void 0,m=void 0,C=void 0,S=this.style.textDecoration,F=void 0,T=L.text;else{c||(n.restore(),i.restore());let X=sa.getTextStyle(L.text);const z=this._getFontStyle(X);n.save(),i.save(),n.font=z,m=z,T=L.text,X.textDecoration&&(S=X.textDecoration),X.fill&&(w=X.fill),X.width&&(C=or(X.width)),X.verticalAlign&&(F=X.verticalAlign),c=!1;const K=this._measureText(u,n),Y=K.actualBoundingBoxAscent+K.actualBoundingBoxDescent;Y>k.height&&(k.height=Y),K.actualBoundingBoxAscent>k.ascent&&(k.ascent=K.actualBoundingBoxAscent)}else if(L.type=="value"&&!P){const X=this._measureText(L.text,n);let z=X.actualBoundingBoxLeft+X.actualBoundingBoxRight;if(o){this.truncated=void 0;let Q=D||this.style.breakWords||!1;const ee=this.style.ellipsis||"",ue=this._measureText(ee,n),re=ue.actualBoundingBoxLeft+ue.actualBoundingBoxRight;if(k.width+z>a){const se=a-k.width-re;L.text=this._truncateText(n,L.text,se,Q),L.text+=ee,P=!0,this.truncated=!0}}else if(l&&k.width+z>a){const Q=a-k.width,ee=this._truncateText(n,L.text,Q,!1,D&&this.style.oversizedBehavior!="wrap-no-break");if(ee=="")return this.textVisible=!0,!1;A=x.slice(H+1),Bd(ee)!=Bd(L.text)&&(A.unshift({type:"value",text:L.text.substr(ee.length)}),T&&A.unshift({type:"format",text:T})),L.text=Bd(ee),x=[],P=!0}let K=1,Y=1;if(m&&C&&C>z){const Q=z/C;switch(this.style.textAlign){case"right":case"end":K=Q;break;case"center":K=Q,Y=Q;break;default:Y=Q}z=C}const te=X.actualBoundingBoxAscent+X.actualBoundingBoxDescent;te>k.height&&(k.height=te),X.actualBoundingBoxAscent>k.ascent&&(k.ascent=X.actualBoundingBoxAscent),k.width+=z,k.left+=X.actualBoundingBoxLeft/K,k.right+=X.actualBoundingBoxRight/Y,k.textChunks.push({style:m,fill:w,text:L.text,width:z,height:te,left:X.actualBoundingBoxLeft,right:X.actualBoundingBoxRight,ascent:X.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:S,verticalAlign:F}),D=!1}return!0}),this.style.lineHeight instanceof wt?(k.height*=this.style.lineHeight.value,k.ascent*=this.style.lineHeight.value):(k.height*=this.style.lineHeight||1.2,k.ascent*=this.style.lineHeight||1.2),h<k.left&&(h=k.left),f<k.right&&(f=k.right),this._textInfo.push(k),p+=k.height,x=A||[]}}),c||(n.restore(),i.restore()),le(this._textInfo,(_,b)=>{let x=0;le(_.textChunks,k=>{if(k.offsetX=x+k.left-_.left,k.offsetY+=_.height-_.height*(this.style.baselineRatio||.19),x+=k.width,k.verticalAlign)switch(k.verticalAlign){case"super":k.offsetY-=_.height/2-k.height/2;break;case"sub":k.offsetY+=k.height/2;break}})});const v={left:s?-f:-h,top:0,right:s?h:f,bottom:p};if(r!=="none"){const _=this._fitRatio(v);if(_<1)if(r=="fit")fe(this.style.minScale)&&_<this.style.minScale?(this.textVisible=!1,v.left=0,v.top=0,v.right=0,v.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=_,this.textVisible=!0);else if(r=="hide")this.textVisible=!1,v.left=0,v.top=0,v.right=0,v.bottom=0;else{switch(this.style.textAlign){case"right":case"end":v.left=s?a:-a,v.right=0;break;case"center":v.left=-a/2,v.right=a/2;break;default:v.left=0,v.right=s?-a:a}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return n.restore(),i.restore(),v}_fitRatio(e){const n=this.style.maxWidth,i=this.style.maxHeight;if(!fe(n)&&!fe(i))return 1;const s=e.right-e.left,r=e.bottom-e.top;return Math.min(n/s||1,i/r||1)}_truncateText(e,n,i,s=!1,r=!0){let a;do{if(s)n=n.slice(0,-1);else{let l=n.replace(/[^,;:!?\\\/\s​]+[,;:!?\\\/\s​]*$/g,"");if((l==""||l===n)&&r)s=!0;else{if(l=="")return n;n=l}}const o=this._measureText(n,e);a=o.actualBoundingBoxLeft+o.actualBoundingBoxRight}while(a>i&&n!="");return n}_measureText(e,n){let i=n.measureText(e),s={};if(i.actualBoundingBoxAscent==null){const a=document.createElement("div");a.innerText=e,a.style.visibility="hidden",a.style.position="absolute",a.style.top="-1000000px;",a.style.fontFamily=this.style.fontFamily||"",a.style.fontSize=this.style.fontSize+"",document.body.appendChild(a);const o=a.getBoundingClientRect();document.body.removeChild(a);const l=o.height,u=i.width;s={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:u,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:u}}else s={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const r=i.width;switch(this.style.textAlign){case"right":case"end":s.actualBoundingBoxLeft=r,s.actualBoundingBoxRight=0;break;case"center":s.actualBoundingBoxLeft=r/2,s.actualBoundingBoxRight=r/2;break;default:s.actualBoundingBoxLeft=0,s.actualBoundingBoxRight=r}return s}}class gxe{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:jn(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"…"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class pxe extends Y6{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){switch(this.textType){case"circular":this._renderCircular(e);break;default:super._render(e);break}}_renderCircular(e){if(this.textVisible){this._prerender(e);const n=this._isInteractive(e),i=e.layer.context,s=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),n&&r.save(),this._textInfo||this._measure(e);let a=this.radius||0,o=this.startAngle||0,l=0,u=this.orientation,d=u=="auto"?"auto":u=="inward";const c=this.inside,h=this.style.textAlign||"left",f=this.kerning||0;let p=h=="left"?1:-1;const m=!this._textReversed;if(d=="auto"){let v=0,_=0;le(this._textInfo,(b,x)=>{const k=o+b.width/(a-b.height)/2*-p;k>v&&(v=k)}),h=="left"?_=(v+l/2)*lm:h=="right"?_=(v-l/2)*lm:_=o*lm,_=ZC(_),d=_>=270||_<=90}d==!0&&m&&(this._textInfo.reverse(),this._textReversed=!0),le(this._textInfo,(v,_)=>{const b=v.height;c||(a+=b),(p==-1&&d||p==1&&!d)&&m&&v.textChunks.reverse();let x=o;l=0,h=="center"&&(x+=v.width/(a-b)/2*-p,l=x-o),x+=Math.PI*(d?0:1),i.save(),n&&r.save(),i.rotate(x),n&&r.rotate(x);let k=0;le(v.textChunks,(I,E)=>{const T=I.text,S=I.width;k=S/2/(a-b)*p,i.rotate(k),n&&r.rotate(k),I.style&&(i.save(),r.save(),i.font=I.style,n&&(r.font=I.style)),I.fill&&(i.save(),i.fillStyle=I.fill.toCSS()),i.textBaseline="middle",i.textAlign="center",n&&(r.textBaseline="middle",r.textAlign="center"),s&&i.fillText(T,0,(d?1:-1)*(0-a+b/2)),n&&r.fillText(T,0,(d?1:-1)*(0-a+b/2)),I.fill&&i.restore(),I.style&&(i.restore(),r.restore()),k=(S/2+f)/(a-b)*p,i.rotate(k),n&&r.rotate(k)}),i.restore(),n&&r.restore(),c&&(a-=b)}),i.restore(),n&&r.restore()}}_measure(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return super._measure(e)}}_measureCircular(e){const n=e.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl",r=this.style.oversizedBehavior,a=this.style.maxWidth,o=fe(a)&&r=="truncate",l=this.style.ellipsis||"";let u;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,n.save(),i.save(),this._prerender(e,!0);const d=this.text.toString().replace(/\r/g,"").split(/\n/);let c=!0,h=0,f=0;return le(d,(p,m)=>{let v=sa.chunk(p,!1,this.style.ignoreFormatting),_={offsetY:f,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},b,x,k;le(v,(I,E)=>{if(I.type=="format"){if(I.text=="[/]")c||(n.restore(),i.restore(),c=!0),x=void 0,b=void 0,k=void 0;else{let T=sa.getTextStyle(I.text);const S=this._getFontStyle(T);n.save(),i.save(),n.font=S,b=S,T.fill&&(x=T.fill),T.width&&(k=or(T.width)),c=!1}o&&(u=this._measureText(l,n))}else if(I.type=="value"){let T=I.text.match(/./ug)||[];s&&(T=r0e(I.text),T.reverse());for(let S=0;S<T.length;S++){const w=T[S],C=this._measureText(w,n);let P=C.width;b&&k&&k>P&&(P=k);const D=C.actualBoundingBoxAscent+C.actualBoundingBoxDescent;if(D>_.height&&(_.height=D),C.actualBoundingBoxAscent>_.ascent&&(_.ascent=C.actualBoundingBoxAscent),h+=P,o){u||(u=this._measureText(l,n));const A=u.actualBoundingBoxLeft+u.actualBoundingBoxRight;if(h+A>a){_.textChunks.length==1?this.textVisible=!1:(_.width+=A,_.left+=u.actualBoundingBoxLeft,_.right+=u.actualBoundingBoxRight,_.textChunks.push({style:b,fill:x,text:l,width:A,height:D+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0}));break}}_.width+=P,_.left+=C.actualBoundingBoxLeft,_.right+=C.actualBoundingBoxRight,_.textChunks.push({style:b,fill:x,text:w,width:P,height:D+C.actualBoundingBoxDescent,left:C.actualBoundingBoxLeft,right:C.actualBoundingBoxRight,ascent:C.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0})}}}),this.style.lineHeight instanceof wt?_.height*=this.style.lineHeight.value:_.height*=this.style.lineHeight||1.2,this._textInfo.push(_),f+=_.height}),c||(n.restore(),i.restore()),r=="hide"&&h>a&&(this.textVisible=!1),le(this._textInfo,p=>{le(p.textChunks,m=>{m.offsetY+=Math.round((p.height-m.height+(p.ascent-m.ascent))/2)})}),n.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class vxe extends $w{constructor(e,n){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=n}_dispose(){super._dispose(),this._imageMask&&Nf(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,n=0;this.width&&(e=this.width),this.height&&(n=this.height),this._localBounds={left:0,top:0,right:e,bottom:n},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(this.tainted===void 0&&(this.tainted=mV(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const n=this.width||this.image.naturalWidth,i=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,n,i)}if(this.interactive&&this._isInteractive(e)){const n=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(n,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(this._imageMask===void 0){const n=this.width||e.naturalWidth,i=this.height||e.naturalHeight,s=document.createElement("canvas");s.width=n,s.height=i;const r=s.getContext("2d");r.imageSmoothingEnabled=!1,r.fillStyle=this._getColorId(),r.fillRect(0,0,n,i),mV(e)||(r.globalCompositeOperation="destination-in",r.drawImage(e,0,0,n,i)),this._imageMask=s}return this._imageMask}}class _xe{constructor(e,n,i,s){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Fa("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class yxe extends Ywe{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new bxe}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?this.resolution=window.devicePixelRatio:this.resolution=e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new Ei(()=>{sn(this._events,(n,i)=>{i.disposer.dispose()}),le(this.layers,n=>{Nf(n.view),n.exportableView&&Nf(n.exportableView)}),Nf(this._ghostLayer.view),Nf(this._patternCanvas)})),this._disposers.push(O6(()=>{e==null&&(this.resolution=window.devicePixelRatio)})),Fa("touchevents")){const n=i=>{this._dragging.length!==0&&XC(this._dragging,s=>s.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(Nn(window,"touchstart",n,{passive:!1})),this._disposers.push(Nn(this.view,"touchstart",n,{passive:!1})),this._disposers.push(Nn(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(Nn(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(Nn(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}Fa("wheelevents")&&this._disposers.push(Nn(this.view,"wheel",n=>{let i=!1;this._hovering.forEach(s=>{if(s.wheelable)return i=!0,!1}),i&&n.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,n,i,s){return this.defaultLayer.context.createLinearGradient(e,n,i,s)}createRadialGradient(e,n,i,s,r,a){return this.defaultLayer.context.createRadialGradient(e,n,i,s,r,a)}createPattern(e,n,i,s,r){return this._patternCanvas.width=s,this._patternCanvas.height=r,this._patternContext.clearRect(0,0,s,r),n.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new K0e(this)}makeGraphics(){return new mxe(this)}makeText(e,n){return new Y6(this,e,n)}makeTextStyle(){return new gxe}makeRadialText(e,n){return new pxe(this,e,n)}makePicture(e){return new vxe(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,n,i,s){this._realWidth=e,this._realHeight=n,this._calculatedWidth=i,this._calculatedHeight=s,le(this.layers,r=>{r&&(r.dirty=!0,this.resizeLayer(r))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=s+"px"}createDetachedLayer(e=!1){const n=document.createElement("canvas"),i=n.getContext("2d",{willReadFrequently:e}),s=new wxe(n,i);return n.style.position="absolute",n.style.top="0px",n.style.left="0px",s}getLayerByOrder(e){const n=this.layers,i=n.length;for(let s=0;s<i;s++){const r=n[s];if(r.order==e)return r}}getLayer(e,n=!0){let i=this.getLayerByOrder(e);if(i)return i;const s=this.createDetachedLayer(e==99);s.order=e,s.visible=n,s.view.className="am5-layer-"+e,s.visible&&this.resizeLayer(s);const r=this.layers;r.push(s),r.sort((u,d)=>u.order>d.order?1:u.order<d.order?-1:0);const a=r.length,o=hh(r,s);let l;for(let u=o+1;u<a;u++)if(r[u].visible){l=r[u];break}return s.visible&&(l===void 0?this._layerDom.appendChild(s.view):this._layerDom.insertBefore(s.view,l.view)),s}render(e){if(this._dirtyLayers.length=0,le(this.layers,n=>{n&&n.dirty&&n.visible&&(this._dirtyLayers.push(n),n.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),le(this.layers,n=>{if(n){const i=n.context;i.beginPath(),i.moveTo(0,0),i.stroke()}}),le(this._dirtyLayers,n=>{n.context.restore(),n.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:n,target:i,native:s}=this._lastPointerMoveEvent;le(n,r=>{this._dispatchGlobalMousemove(r,i,s)})}}paintId(e){const n=G0e(++this._colorId),i=tt.fromHex(n).toCSS();return this._colorMap[i]=e,i}_removeObject(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const n=this._ghostLayer.margin;return new DOMRect(-n.left,-n.top,e.width+n.left+n.right,e.height+n.top+n.bottom)}getEvent(e,n=!0){const i=this.view.getBoundingClientRect(),s=e.clientX||0,r=e.clientY||0,a=this._calculatedWidth/this._realWidth,o=this._calculatedHeight/this._realHeight,l={x:s-i.left,y:r-i.top},u={x:(s-(n?i.left:0))*a,y:(r-(n?i.top:0))*o};return new _xe(e,l,u,this._adjustBoundingBox(i))}_getHitTarget(e,n,i){if(n.width===0||n.height===0||e.x<n.left||e.x>n.right||e.y<n.top||e.y>n.bottom||!i||!this._layerDom.contains(i))return;const s=this._ghostLayer.getImageData(e,n);if(s.data[0]===0&&s.data[1]===0&&s.data[2]===0)return!1;const r=tt.fromRGB(s.data[0],s.data[1],s.data[2]).toCSS();return this._colorMap[r]}getObjectAtPoint(e){const n=this._ghostLayer.getImageArray(e);if(n[0]===0&&n[1]===0&&n[2]===0)return;const i=tt.fromRGB(n[0],n[1],n[2]).toCSS();return this._colorMap[i]}_withEvents(e,n){const i=this._events[e];if(i!==void 0){i.dispatching=!0;try{n(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,Lw(i.callbacks,s=>!s.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,n){this.interactionsEnabled&&this._withEvents(e,i=>{le(i.callbacks,s=>{s.disposed||s.callback.call(s.context,n)})})}_dispatchEvent(e,n,i){if(!this.interactionsEnabled)return!1;let s=!1;return this._withEvents(e,r=>{le(r.callbacks,a=>{!a.disposed&&a.object===n&&(a.callback.call(a.context,i),s=!0)})}),s}_dispatchMousedown(e,n){const i=e.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;const s=this.getEvent(e),r=this._getHitTarget(s.originalPoint,s.bbox,n);if(r){const a=s.id;let o=!1;cv(r,l=>{const u={id:a,value:l};return this._mousedown.push(u),!o&&this._dispatchEvent("pointerdown",l,s)&&(o=!0,this._dragging.some(c=>c.value===l&&c.id===a)||this._dragging.push(u)),!0})}}_dispatchGlobalMousemove(e,n,i){const s=this.getEvent(e),r=this._getHitTarget(s.originalPoint,s.bbox,n);s.native=i,r?(this._hovering.forEach(a=>{a.contains(r)||(this._hovering.delete(a),a.cursorOverStyle&&rv(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,s))}),s.native&&cv(r,a=>(this._hovering.has(a)||(this._hovering.add(a),a.cursorOverStyle&&(a._replacedCursorStyle=Kwe(document.body,"cursor"),rv(document.body,"cursor",a.cursorOverStyle)),this._dispatchEvent("pointerover",a,s)),!0))):(this._hovering.forEach(a=>{a.cursorOverStyle&&rv(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,s)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",s)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&rv(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,n){const i=this.getEvent(e);i.native=n,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(e){if(this._dragging.length!==0){const n=this.getEvent(e),i=n.id;this._dragging.forEach(s=>{s.id===i&&this._dispatchEvent("pointermove",s.value,n)})}}_dispatchDragEnd(e,n){const i=e.button;let s;if(i==0||i===void 0)s="click";else if(i==2)s="rightclick";else if(i==1)s="middleclick";else return;const r=this.getEvent(e),a=r.id;if(this._mousedown.length!==0){const o=this._getHitTarget(r.originalPoint,r.bbox,n);o&&this._mousedown.forEach(l=>{l.id===a&&l.value.contains(o)&&this._dispatchEvent(s,l.value,r)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(o=>{o.id===a&&this._dispatchEvent("pointerup",o.value,r)}),this._dragging.length=0)}_dispatchDoubleClick(e,n){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,n);s&&cv(s,r=>!this._dispatchEvent("dblclick",r,i))}_dispatchWheel(e,n){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,n);s&&cv(s,r=>!this._dispatchEvent("wheel",r,i))}_makeSharedEvent(e,n){if(this._listeners[e]===void 0){const i=n();this._listeners[e]=new KC(()=>{delete this._listeners[e],i.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,n){let i=!1,s=null;function r(){s=null,i=!1}return new Os([new Ei(()=>{s!==null&&clearTimeout(s),r()}),Nn(this.view,mk(e),a=>{i=!0,s!==null&&clearTimeout(s),s=window.setTimeout(r,0)}),q0e(window,e,(a,o)=>{s!==null&&(clearTimeout(s),s=null),n(a,o,i),i=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const n=(i,s,r)=>{this._lastPointerMoveEvent={events:i,target:s,native:r},le(i,a=>{this._dispatchGlobalMousemove(a,s,r)})};return new Os([this._onPointerEvent("pointerdown",n),this._onPointerEvent("pointermove",n)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const n=this._onPointerEvent("pointerup",(s,r,a)=>{le(s,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:s,target:r,native:a}}),i=this._onPointerEvent("pointercancel",(s,r,a)=>{le(s,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:s,target:r,native:a}});return new Ei(()=>{n.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const n=this._onPointerEvent("pointerdown",(a,o)=>{le(a,l=>{this._dispatchMousedown(l,o)})}),i=this._onPointerEvent("pointermove",a=>{le(a,o=>{this._dispatchDragMove(o)})}),s=this._onPointerEvent("pointerup",(a,o)=>{le(a,l=>{this._dispatchDragEnd(l,o)})}),r=this._onPointerEvent("pointercancel",(a,o)=>{le(a,l=>{this._dispatchDragEnd(l,o)})});return new Ei(()=>{n.dispose(),i.dispose(),s.dispose(),r.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(n,i)=>{le(n,s=>{this._dispatchDoubleClick(s,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>Nn(this.view,mk("wheel"),n=>{this._dispatchWheel(n,M6(n))},{passive:!1}))}}_addEvent(e,n,i,s){let r=this._events[n];r===void 0&&(r=this._events[n]={disposer:this._initEvent(n),callbacks:[],dispatching:!1,cleanup:!1});const a={object:e,context:s,callback:i,disposed:!1};return r.callbacks.push(a),new Ei(()=>{a.disposed=!0,r.dispatching?r.cleanup=!0:(ns(r.callbacks,a),r.callbacks.length===0&&(r.disposer.dispose(),delete this._events[n]))})}getCanvas(e,n){this.render(e),n||(n={});let i=this.resolution,s=Math.floor(this._calculatedWidth*this.resolution),r=Math.floor(this._calculatedHeight*this.resolution);if(n.minWidth&&n.minWidth>s){let f=n.minWidth/s;f>i&&(i=f*this.resolution)}if(n.minHeight&&n.minHeight>r){let f=n.minHeight/r;f>i&&(i=f*this.resolution)}if(n.maxWidth&&n.maxWidth<s){let f=n.maxWidth/s;f<i&&(i=f*this.resolution)}if(n.maxHeight&&n.maxHeight>r){let f=n.maxHeight/r;f<i&&(i=f*this.resolution)}n.maintainPixelRatio&&(i/=this.resolution);const a=[];let o=!1;const l=document.createElement("canvas");i!=this.resolution&&(o=!0,s=s*i/this.resolution,r=r*i/this.resolution),l.width=s,l.height=r,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),a.push(l);const u=l.getContext("2d");let d=0,c=0,h=!1;return le(this.layers,f=>{if(f&&f.visible&&(f.tainted||o)){h=!0,f.exportableView=f.view,f.exportableContext=f.context,f.view=document.createElement("canvas"),f.view.style.position="fixed",f.view.style.top="-10000px",this.view.appendChild(f.view),a.push(f.view);let p=0,m=0;f.margin&&(p+=f.margin.left||0+f.margin.right||0,m+=f.margin.top||0+f.margin.bottom||0),f.view.width=s+p,f.view.height=r+m,f.context=f.view.getContext("2d"),f.dirty=!0,f.scale=i}}),h&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),le(this.layers,f=>{if(f&&f.visible){let p=0,m=0;f.margin&&(p=-(f.margin.left||0)*this.resolution,m=-(f.margin.top||0)*this.resolution),u.drawImage(f.view,p,m),f.exportableView&&(f.view=f.exportableView,f.exportableView=void 0),f.exportableContext&&(f.context=f.exportableContext,f.exportableContext=void 0),d<f.view.clientWidth&&(d=f.view.clientWidth),c<f.view.clientHeight&&(c=f.view.clientHeight),f.scale=void 0}}),l.style.width=d+"px",l.style.height=c+"px",le(a,f=>{f.style.position="",f.style.top="",this.view.removeChild(f)}),l}}class bxe{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,n,i,s,r){this._resolution=r,e+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}getImageData(e,n){return this.context.getImageData(Math.round((e.x-n.left)/n.width*this._width),Math.round((e.y-n.top)/n.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const n=this.imageArray,i=Math.round(e.x*this._resolution),r=(Math.round(e.y*this._resolution)*this._width+i)*4;return[n[r],n[r+1],n[r+2],n[r+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,le(e,n=>{n.margin&&(this.margin.left=Math.max(this.margin.left,n.margin.left),this.margin.right=Math.max(this.margin.right,n.margin.right),this.margin.top=Math.max(this.margin.top,n.margin.top),this.margin.bottom=Math.max(this.margin.bottom,n.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class wxe{constructor(e,n){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=n}resize(e,n,i,s,r){this.width!=null&&(e=this.width,i=this.width),this.height!=null&&(n=this.height,s=this.height),this.margin?(e+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function pV(t,e){t==null?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/t)}class eE{constructor(e,n={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Xh}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:B0e.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:W6}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:V0e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:N0e.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:F0e.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:mh.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:fh.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:mc.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=n,n.accessible==!1&&(this._a11yD=!0),n.useSafeResolution==null&&(n.useSafeResolution=!0);let s;n.useSafeResolution&&(s=t0e()),this._renderer=new yxe(s);let r;if(e instanceof HTMLElement?r=e:r=document.getElementById(e),le(Ta.rootElements,l=>{if(l.dom===r)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=_y.new(this,{}),r===null)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=r;let a=document.createElement("div");a.style.position="relative",a.style.width="100%",a.style.height="100%",r.appendChild(a);const o=n.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=a,this._updateComputedStyles(),Ta.rootElements.push(this)}static new(e,n){const i=new eE(e,n,!0);return i._init(),i}moveDOM(e){let n;if(e instanceof HTMLElement?n=e:n=document.getElementById(e),n){for(;this.dom.childNodes.length>0;)n.appendChild(this.dom.childNodes[0]);this.dom=n,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,n=this.dom.offsetHeight;e<=150||n<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(it.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:jn(100),centerY:Ne,tooltipText:"Created using amCharts 5",tooltipX:Ne,cursorOverStyle:"pointer",background:er.new(this,{fill:gl(4671320),fillOpacity:0,tooltipY:5})})),n=Hl.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});n.label.setAll({fontSize:12}),n.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",n),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(cn.new(this,{stroke:gl(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:gl(3976191)}),e.children.push(cn.new(this,{stroke:gl(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:gl(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;e.accessible!==!1&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const n=this._renderer,i=this._getRealSize(),s=this._getCalculatedSize(i),r=Math.floor(s.width),a=Math.floor(s.height),o=Math.floor(i.width),l=Math.floor(i.height),u=it.new(this,{visible:!0,width:r,height:a});this._rootContainer=u,this._rootContainer._defaultThemes.push(j0e.new(this));const d=u.children.push(it.new(this,{visible:!0,width:Ne,height:Ne}));this.container=d,n.resize(o,l,r,a),this._inner.appendChild(n.view),this._initResizeSensor();const c=document.createElement("div");if(this._htmlElementContainer=c,c.className="am5-html-container",c.style.position="absolute",c.style.pointerEvents="none",this._tooltipContainerSettings||(c.style.overflow="hidden"),this._inner.appendChild(c),this._a11yD!==!0){const h=document.createElement("div");h.className="am5-reader-container",h.setAttribute("role","alert"),h.style.position="absolute",h.style.width="1px",h.style.height="1px",h.style.overflow="hidden",h.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=h,this._inner.appendChild(this._readerAlertElement);const f=document.createElement("div");f.className="am5-focus-container",f.style.position="absolute",f.style.pointerEvents="none",f.style.top="0px",f.style.left="0px",f.style.overflow="hidden",f.style.width=r+"px",f.style.height=a+"px",f.setAttribute("role","graphics-document"),md(f,!1),this._focusElementContainer=f,this._inner.appendChild(this._focusElementContainer);const p=document.createElement("div");this._tooltipElementContainer=p,p.className="am5-tooltip-container",this._inner.appendChild(p),Fa("keyboardevents")&&(this._disposers.push(Nn(window,"keydown",m=>{const v=wd(m);v=="Shift"?this._isShift=!0:v=="Tab"&&(this._isShift=m.shiftKey)})),this._disposers.push(Nn(window,"keyup",m=>{wd(m)=="Shift"&&(this._isShift=!1)})),this._disposers.push(Nn(f,"click",()=>{const m=this._focusedSprite;if(m){const v=m.get("clickAnnounceText","");v!==""&&this.readerAlert(v);const _=n.getEvent(new MouseEvent("click"));m.events.dispatch("click",{type:"click",originalEvent:_.event,point:_.point,simulated:!0,target:m})}})),this._disposers.push(Nn(f,"keydown",m=>{const v=this._focusedSprite;if(v){m.key=="Escape"&&(qwe(),this._focusedSprite=void 0);let _=0,b=0;const x=wd(m);switch(x){case"Enter":case" ":const k=v.get("clickAnnounceText","");if(k!==""&&this.readerAlert(k),x==" "&&v.get("role")!="checkbox")return;m.preventDefault();const I=n.getEvent(new MouseEvent("mouse"));v.events.dispatch("click",{type:"click",originalEvent:I.event,point:I.point,simulated:!0,target:v});return;case"ArrowLeft":_=-6;break;case"ArrowRight":_=6;break;case"ArrowUp":b=-6;break;case"ArrowDown":b=6;break;default:return}if(_!=0||b!=0){if(m.preventDefault(),!v.isDragging()){this._keyboardDragPoint={x:0,y:0};const E=n.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));E.point={x:0,y:0},v.events.isEnabled("pointerdown")&&v.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:E.event,point:E.point,simulated:!0,target:v})}const k=this._keyboardDragPoint;k.x+=_,k.y+=b;const I=n.getEvent(new MouseEvent("mousemove",{clientX:k.x,clientY:k.y}),!1);v.events.isEnabled("globalpointermove")&&v.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:I.event,point:I.point,simulated:!0,target:v})}}})),this._disposers.push(Nn(f,"keyup",m=>{if(this._focusedSprite){const v=this._focusedSprite,_=wd(m);switch(_){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(v.isDragging()){const x=this._keyboardDragPoint,k=n.getEvent(new MouseEvent("mouseup",{clientX:x.x,clientY:x.y}));v.events.isEnabled("globalpointerup")&&v.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:k.event,point:k.point,simulated:!0,target:v}),this._keyboardDragPoint=void 0;return}else if(v.get("focusableGroup")){const x=v.get("focusableGroup"),k=this._tabindexes.filter(T=>!!(T.get("focusableGroup")==x&&T.getPrivate("focusable")!==!1&&T.isVisibleDeep()));let I=k.indexOf(v);const E=k.length-1;I+=_=="ArrowRight"||_=="ArrowDown"?1:-1,I<0?I=E:I>E&&(I=0),Xwe(k[I].getPrivate("focusElement").dom)}break;case"Tab":const b=v.get("focusableGroup");if(b&&this._isShift){this._focusNext(v.getPrivate("focusElement").dom,-1,b);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new M0e(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),n=this._getCalculatedSize(e),i=Math.floor(n.width),s=Math.floor(n.height);if(i>0&&s>0){const r=Math.floor(e.width),a=Math.floor(e.height),o=this._htmlElementContainer;if(o.style.width=i+"px",o.style.height=s+"px",this._a11yD!==!0){const u=this._focusElementContainer;u.style.width=i+"px",u.style.height=s+"px"}this._renderer.resize(r,a,i,s);const l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",s),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){le(this._tickers,n=>{n(e)})}_runAnimations(e){let n=0;return Lw(this._animations,i=>{const s=i._runAnimation(e);return s===Yu.Stopped?!1:(s===Yu.Playing&&++n,!0)}),this._isDirtyAnimation=!1,n===0}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,bi(this._dirtyParents).forEach(a=>{const o=this._dirtyParents[a];delete this._dirtyParents[a],o.isDisposed()||(e[o.uid]=o,o._prepareChildren())});bi(e).forEach(a=>{e[a]._updateChildren()});const n=[];bi(this._dirty).forEach(a=>{const o=this._dirty[a];o.isDisposed()?delete this._dirty[o.uid]:(n.push(o),o._beforeChanged())}),n.forEach(a=>{a._changed(),delete this._dirty[a.uid],a._clearDirty()}),this._isDirty=!1;const i={},s=[];bi(this._dirtyBounds).forEach(a=>{const o=this._dirtyBounds[a];delete this._dirtyBounds[a],o.isDisposed()||(i[o.uid]=o.depth(),s.push(o))}),this._positionHTMLElements(),s.sort((a,o)=>ja(i[o.uid],i[a.uid])),s.forEach(a=>{a._updateBounds()});const r=this._dirtyPositions;bi(r).forEach(a=>{const o=r[a];delete r[a],o.isDisposed()||o._updatePosition()}),n.forEach(a=>{a._afterChanged()})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const n=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),this._tickers.length===0&&n&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(e,n){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(n?this._ticker:pV(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const n=performance.now()+e;for(;;){const i=performance.now();if(i>=n){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},pV(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._isDirty=!0,this._dirty[e.uid]===void 0&&(this._dirty[e.uid]=e),this._startTicker()}_addDirtyParent(e){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]===void 0&&(this._dirtyParents[e.uid]=e),this._startTicker()}_addDirtyBounds(e){this._isDirty=!0,this._dirtyBounds[e.uid]===void 0&&(this._dirtyBounds[e.uid]=e),this._startTicker()}_addDirtyPosition(e){this._isDirty=!0,this._dirtyPositions[e.uid]===void 0&&(this._dirtyPositions[e.uid]=e),this._startTicker()}_addAnimation(e){this._isDirtyAnimation=!0,this._animations.indexOf(e)===-1&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new Ei(()=>{ns(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(n=>{n instanceof it&&this.markDirtyGlobal(n),n.markDirty(),n.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),le(this._disposers,e=>{e.dispose()}),this._inner&&Gwe(this._inner),Er(Ta.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){this._a11yD!==!0&&(this._readerAlertElement.innerHTML=iV(e))}setThemes(e){this._rootContainer.set("themes",e);const n=this.tooltipContainer;n&&n._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,n=this._rootContainer.children.push(it.new(this,{position:"absolute",isMeasured:!1,width:Ne,height:Ne,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=n;const i=Hl.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(e){this._a11yD!=!0&&(e.get("focusable")?ug(this._tabindexes,e):Er(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){this._a11yD!=!0&&(Er(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((n,i)=>{const s=n.get("tabindexOrder",0),r=i.get("tabindexOrder",0);return s==r?0:s>r?1:-1});const e=[];le(this._tabindexes,(n,i)=>{n.getPrivate("focusElement")?this._moveFocusElement(i,n):this._makeFocusElement(i,n);const s=n.get("focusableGroup");s&&n.getPrivate("focusable")!==!1&&(e.indexOf(s)!==-1?n.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(s))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,n){if(this._a11yD==!0||(n||(n=e.getPrivate("focusElement").dom),!n))return;const i=e.get("role");i?n.setAttribute("role",i):n.removeAttribute("role");const s=e.get("ariaLabel");if(s){const m=gh(e,s);n.setAttribute("aria-label",m)}else n.removeAttribute("aria-label");const r=e.get("ariaLive");r?n.setAttribute("aria-live",r):n.removeAttribute("aria-live");const a=e.get("ariaChecked");a!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?n.setAttribute("aria-checked",a?"true":"false"):n.removeAttribute("aria-checked");const o=e.get("ariaCurrent");o!=null?n.setAttribute("aria-current",o):n.removeAttribute("aria-current");const l=e.get("ariaSelected");l!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?n.setAttribute("aria-selected",l?"true":"false"):n.removeAttribute("aria-selected"),e.get("ariaHidden")?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden");const u=e.get("ariaOrientation");u?n.setAttribute("aria-orientation",u):n.removeAttribute("aria-orientation");const d=e.get("ariaValueNow");d?n.setAttribute("aria-valuenow",d):n.removeAttribute("aria-valuenow");const c=e.get("ariaValueMin");c?n.setAttribute("aria-valuemin",c):n.removeAttribute("aria-valuemin");const h=e.get("ariaValueMax");h?n.setAttribute("aria-valuemax",h):n.removeAttribute("aria-valuemax");const f=e.get("ariaValueText");f?n.setAttribute("aria-valuetext",f):n.removeAttribute("aria-valuetext");const p=e.get("ariaControls");p?n.setAttribute("aria-controls",p):n.removeAttribute("aria-controls"),e.get("visible")&&e.get("opacity")!==0&&e.get("role")!="tooltip"&&!e.isHidden()&&e.getPrivate("focusable")!==!1?(n.getAttribute("tabindex")!="-1"&&n.setAttribute("tabindex",""+this.tabindex),n.removeAttribute("aria-hidden")):(n.removeAttribute("tabindex"),n.setAttribute("aria-hidden","true"))}_makeFocusElement(e,n){if(n.getPrivate("focusElement")||this._a11yD==!0)return;const i=document.createElement("div");n.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",md(i,!1);const s=[];n.setPrivate("focusElement",{dom:i,disposers:s}),this._decorateFocusElement(n),s.push(Nn(i,"focus",r=>{this._handleFocus(r)})),s.push(Nn(i,"blur",r=>{this._handleBlur(r)})),this._moveFocusElement(e,n)}_removeFocusElement(e){if(this._a11yD==!0)return;Er(this._tabindexes,e);const n=e.getPrivate("focusElement");n&&(this._focusElementContainer.removeChild(n.dom),le(n.disposers,s=>{s.dispose()}))}_hideFocusElement(e){if(this._a11yD==!0)return;const n=e.getPrivate("focusElement");n.dom.style.display="none"}_moveFocusElement(e,n){if(this._a11yD==!0)return;const i=this._focusElementContainer,s=n.getPrivate("focusElement").dom;if(s===this._focusElementContainer.children[e])return;const r=this._focusElementContainer.children[e+1];r?i.insertBefore(s,r):i.append(s)}_positionFocusElement(e){if(this._a11yD==!0||e==null)return;const n=e.globalBounds();let i=n.right==n.left?e.width():n.right-n.left,s=n.top==n.bottom?e.height():n.bottom-n.top;const r=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let a=n.left-r,o=n.top-r;i<0&&(a+=i,i=Math.abs(i)),s<0&&(o+=s,s=Math.abs(s));const l=e.getPrivate("focusElement").dom;l.style.top=o+"px",l.style.left=a+"px",l.style.width=i+r*2+"px",l.style.height=s+r*2+"px"}_getSpriteByFocusElement(e){let n;return XC(this._tabindexes,(i,s)=>i.getPrivate("focusElement").dom===e?(n=i,!1):!0),n}_handleFocus(e){if(this._a11yD==!0)return;const n=this._getSpriteByFocusElement(e.target);if(n){if(!n.isVisibleDeep()){this._focusNext(e.target,this._isShift?-1:1);return}this._positionFocusElement(n),this._focusedSprite=n,n.events.isEnabled("focus")&&n.events.dispatch("focus",{type:"focus",originalEvent:e,target:n})}}_focusNext(e,n,i){if(this._a11yD==!0)return;const s=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let r=s.indexOf(e)+n;r<0?r=s.length-1:r>=s.length&&(r=0);const a=s[r];if(i&&n==-1){const o=this._getSpriteByFocusElement(a);if(o&&o.get("focusableGroup")==i){this._focusNext(a,n);return}}a.focus()}_handleBlur(e){if(this._a11yD==!0)return;const n=this._focusedSprite;n&&!n.isDisposed()&&n.events.isEnabled("blur")&&n.events.dispatch("blur",{type:"blur",originalEvent:e,target:n}),this._focusedSprite=void 0}updateTooltip(e){if(this._a11yD==!0)return;const n=iV(e._getText());let i=e.getPrivate("tooltipElement");e.get("role")=="tooltip"&&n!=""?(i||(i=this._makeTooltipElement(e)),i.innerHTML!=n&&(i.innerHTML=n),i.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):i&&(i.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const n=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",md(i,!1),this._decorateFocusElement(e,i),n.append(i),e.setPrivate("tooltipElement",i),i}_removeTooltipElement(e){if(this._a11yD==!0)return;const n=e.getPrivate("tooltipElement");if(n){const i=n.parentElement;i&&i.removeChild(n)}}_invalidateAccessibility(e){if(this._a11yD==!0)return;this._focusElementDirty=!0;const n=e.getPrivate("focusElement");e.get("focusable")?n&&(this._decorateFocusElement(e),this._positionFocusElement(e)):n&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const n=this._getRealSize(),i=this._getCalculatedSize(n),s=i.width/n.width,r=i.height/n.height;return{x:(e.x-n.left)*s,y:(e.y-n.top)*r}}rootPointToDocument(e){const n=this._getRealSize(),i=this._getCalculatedSize(n),s=i.width/n.width,r=i.height/n.height;return{x:e.x/s+n.left,y:e.y/r+n.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let n="";sn(e,(s,r)=>{dh(s)&&s.match(/^font/)&&(n+=r)});const i=n!=this._fontHash;return i&&(this._fontHash=n),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof it?e.children.each(n=>{this._invalidateLabelBounds(n)}):e instanceof gc&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<Ta.licenses.length;e++)if(Ta.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const n=this._htmlElementContainer,i=document.createElement("div");return e.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",md(i,e.get("interactive",!1)),e.events.isEnabled("click")&&(md(i,!0),this._disposers.push(Nn(i,"click",s=>{const r=this._renderer.getEvent(s);e.events.dispatch("click",{type:"click",originalEvent:r.event,point:r.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),n.append(i),ug(this._htmlEnabledContainers,e),i}_positionHTMLElements(){le(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const n=e.getPrivate("htmlElement");if(n){le(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],b=>{const x=e.get(b);x?n.style[b]=x+"px":n.style[b]=""}),le(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],b=>{const x=e.get(b);x?n.style[b]=x+"":n.style[b]=""});const r=e.compositeScale()||1,a=e.compositeRotation()||0;n.style.transform="",n.style.transformOrigin="";const o=e.compositeOpacity();setTimeout(()=>{n.style.opacity=o+""},10);const l=e.isVisibleDeep();l&&(n.style.display="block");let u={x:e.x()+e.get("dx",0),y:e.y()+e.get("dy",0)};e.parent&&(u=e.parent.toGlobal(u)),n.style.top=u.y+"px",n.style.left=u.x+"px";const d=e.get("width"),c=e.get("height");let h=0,f=0;if(d&&(h=e.width()),c&&(f=e.height()),!d||!c){n.style.position="fixed",n.style.width="",n.style.height="";const b=n.getBoundingClientRect();n.style.position="absolute",d||(h=b.width),c||(f=b.height);let x=h/r,k=f/r,I=e.get("centerX",0),E=e.get("centerY",0),T=0,S=0,w=0,C=0;I instanceof wt?(T=-I.value*x,S=(1-I.value)*x):(T=-I,S=x-I),E instanceof wt?(w=-E.value*k,C=(1-E.value)*k):(w=-E,C=k-E),e._localBounds={left:T,right:S,top:w,bottom:C};let P=e._adjustedLocalBounds,D=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=D,(P.left!==D.left||P.right!==D.right||P.top!==D.top||P.bottom!==D.bottom)&&e.markDirtyBounds()}h>0&&(n.style.minWidth=h+"px"),f>0&&(n.style.minHeight=f+"px"),(!l||o==0)&&(n.style.display="none");const p=e.get("centerX",0),m=ZM(p)?p.percent+"%":p+"px",v=e.get("centerY",0),_=ZM(v)?v.percent+"%":v+"px";(p||v)&&(n.style.transform="translate(-"+m+", -"+_+")"+n.style.transform),r!=1&&(n.style.transform+="scale("+r+")"),a!=0&&(n.style.transform+=" rotate("+a+"deg)"),n.style.transform!=""&&(n.style.transformOrigin=m+" "+_)}}_setHTMLContent(e,n){let i=e.getPrivate("htmlElement");i||(i=this._makeHTMLElement(e)),i.innerHTML!=n&&(i.innerHTML=n)}_removeHTMLContent(e){let n=e.getPrivate("htmlElement");n&&(this._htmlElementContainer.removeChild(n),e.removePrivate("htmlElement")),Er(this._htmlEnabledContainers,e)}}let dv;function xxe(t,e,n){const i=e.interfaceColors,s=i.get("secondaryButton").toCSS(),r=i.get("text").toCSS(),a=i.get("alternativeBackground").toCSS(.45);if(!dv){const o=new Os([new Gi(t,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},e.nonce),new Gi(t,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:i.get("background").toCSS(.5),"z-index":"100"},e.nonce),new Gi(t,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:i.get("background").toCSS(.5),"z-index":"101"},e.nonce),new Gi(t,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},e.nonce),new Gi(t,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:i.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+a,"box-shadow":"0px 0px 36px 0px "+a,color:r},e.nonce),new Gi(t,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},e.nonce),new Gi(t,".am5-modal-table",{display:"table",margin:"1em 0"},e.nonce),new Gi(t,".am5-modal-table-row",{display:"table-row"},e.nonce),new Gi(t,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},e.nonce),new Gi(t,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},e.nonce),new Gi(t,".am5-modal-table-cell > *",{"vertical-align":"middle"},e.nonce),new Gi(t,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+s,"border-radius":"4px",padding:"3px 5px",margin:"2px"},e.nonce),new Gi(t,".am5-modal-input-narrow",{width:"50px"},e.nonce),new Gi(t,".am5-modal-button",{"font-weight":"400",color:i.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+i.get("secondaryButtonStroke").toCSS(),background:i.get("secondaryButton").toCSS()},e.nonce),new Gi(t,".am5-modal-button:hover",{background:i.get("secondaryButtonHover").toCSS()},e.nonce),new Gi(t,".am5-modal-button.am5-modal-primary",{color:i.get("primaryButtonText").toCSS(),border:"1px solid "+i.get("primaryButtonStroke").toCSS(),background:i.get("primaryButton").toCSS()},e.nonce),new Gi(t,".am5-modal-button.am5-modal-primary:hover",{background:i.get("primaryButtonHover").toCSS()},e.nonce)]);dv=new KC(()=>{dv=void 0,o.dispose()})}return dv.increment()}class ph extends Pi{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),xxe(Jwe(this._root.dom),this._root);const e=document.createElement("div");e.className="am5-modal",e.style.display="none",this.root._inner.appendChild(e),this.setPrivate("container",e);const n=document.createElement("div");n.className="am5-modal-curtain",e.appendChild(n),this.setPrivate("curtain",n),this._disposers.push(Nn(n,"click",()=>{this.cancel()}));const i=document.createElement("div");i.className="am5-modal-wrapper",e.appendChild(i),this.setPrivate("wrapper",i);const s=document.createElement("div");s.className="am5-modal-content",i.appendChild(s),this.setPrivate("content",s);const r=this.get("content");r&&(s.innerHTML=r),Fa("keyboardevents")&&this._disposers.push(Nn(document,"keydown",a=>{this.isOpen()&&wd(a)=="Escape"&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return this.getPrivate("container").style.display!="none"}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}_dispose(){super._dispose();const e=this.getPrivate("container");e.parentElement&&e.parentElement.removeChild(e)}}Object.defineProperty(ph,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"});Object.defineProperty(ph,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([ph.className])});class yy extends Pi{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(yy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(yy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([yy.className])});class Ga extends er{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),n=this.height(),i=e,s=n,r=i/Math.abs(e),a=s/Math.abs(n);if(fe(i)&&fe(s)){let o=Math.min(i,s)/2,l=Qn(this.get("cornerRadiusTL",8),o),u=Qn(this.get("cornerRadiusTR",8),o),d=Qn(this.get("cornerRadiusBR",8),o),c=Qn(this.get("cornerRadiusBL",8),o),h=Math.min(Math.abs(i/2),Math.abs(s/2));l=Kn(l,0,h),u=Kn(u,0,h),d=Kn(d,0,h),c=Kn(c,0,h);const f=this._display;f.moveTo(l*r,0),f.lineTo(i-u*r,0),u>0&&f.arcTo(i,0,i,u*a,u),f.lineTo(i,s-d*a),d>0&&f.arcTo(i,s,i-d*r,s,d),f.lineTo(c*r,s),c>0&&f.arcTo(0,s,0,s-c*a,c),f.lineTo(0,l*a),l>0&&f.arcTo(0,0,l*r,0,l),f.closePath()}}}Object.defineProperty(Ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(Ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:er.classNames.concat([Ga.className])});class fg extends it{_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ga.new(this._root,{themeTags:Mt(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,n=this.get("icon");n!==e&&(this._disposeProperty("icon"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.icon=n)}if(this.isDirty("label")){const e=this._prevSettings.label,n=this.get("label");n!==e&&(this._disposeProperty("label"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.label=n)}}}Object.defineProperty(fg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(fg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([fg.className])});class Sxe extends Kh{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,n){this.processor&&this.processor.processRow(n),super._onInsertIndex(e,n)}_onSetIndex(e,n,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,n,i)}}class ra extends H6{constructor(e,n,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=n,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class pc extends it{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new Sxe}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const n=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")le(n,i=>{i.dispose()}),n.length=0,this._onDataClear();else if(e.type==="push"){const i=new ra(this,e.newValue,this._makeDataItem(e.newValue));n.push(i),this.processDataItem(i)}else if(e.type==="setIndex"){const i=n[e.index],s=this._makeDataItem(e.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),bi(s).forEach(r=>{i.animate({key:r,to:s[r],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=e.newValue}else if(e.type==="insertIndex"){const i=new ra(this,e.newValue,this._makeDataItem(e.newValue));n.splice(e.index,0,i),this.processDataItem(i)}else if(e.type==="removeIndex")n[e.index].dispose(),n.splice(e.index,1);else if(e.type==="moveIndex"){const i=n[e.oldIndex];n.splice(e.oldIndex,1),n.splice(e.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},le(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},le(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const n={};return this._valueFields&&le(this._valueFields,i=>{const s=this.get(this._valueFieldsF[i].fieldKey);n[i]=e[s],n[this._valueFieldsF[i].workingKey]=n[i]}),this._fields&&le(this._fields,i=>{const s=this.get(this._fieldsF[i]);n[i]=e[s]}),n}makeDataItem(e,n){let i=new ra(this,n,e);return this.processDataItem(i),i}pushDataItem(e,n){const i=this.makeDataItem(e,n);return this._mainDataItems.push(i),i}disposeDataItem(e){}showDataItem(e,n){return wi(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,n){return wi(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(pc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(pc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([pc.className])});function kxe(t){return new Promise((e,n)=>{setTimeout(e,t)})}let tE={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function G6(t){switch(t){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Ji(t,e){return e==null&&(e=1),tE[t]*e}function Ur(t){return t?tE[t.timeUnit]*t.count:0}function wx(t,e,n,i,s){const r=t.timeUnit,a=t.count;if(r=="hour"||r=="minute"||r=="second"||r=="millisecond")return tE[t.timeUnit]*t.count;{const o=Gu(new Date(e.getTime()),r,a,n,i,void 0,s).getTime();let l=o+a*Ji(r)*1.05;return l=Gu(new Date(l),r,1,n,i,void 0,s).getTime(),l-o}}function q6(t,e,n,i,s){if(e-t>Ji(n,1.2))return!0;let r=new Date(t),a=new Date(e);s&&(r=s.convertLocal(r),a=s.convertLocal(a));let o=0,l=0;!i&&n!="millisecond"&&(o=r.getTimezoneOffset(),r.setUTCMinutes(r.getUTCMinutes()-o),l=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-l));let u=!1;switch(n){case"year":r.getUTCFullYear()!=a.getUTCFullYear()&&(u=!0);break;case"month":(r.getUTCFullYear()!=a.getUTCFullYear()||r.getUTCMonth()!=a.getUTCMonth())&&(u=!0);break;case"day":(r.getUTCMonth()!=a.getUTCMonth()||r.getUTCDate()!=a.getUTCDate())&&(u=!0);break;case"hour":r.getUTCHours()!=a.getUTCHours()&&(u=!0);break;case"minute":r.getUTCMinutes()!=a.getUTCMinutes()&&(u=!0);break;case"second":r.getUTCSeconds()!=a.getUTCSeconds()&&(u=!0);break;case"millisecond":r.getTime()!=a.getTime()&&(u=!0);break}if(u)return u;let d=G6(n);return d?q6(t,e,d,i,s):!1}function Txe(t,e,n,i,s){let r=0;switch(r=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-r),e){case"day":let a=t.getUTCDate();t.setUTCDate(a+n);break;case"second":let o=t.getUTCSeconds();t.setUTCSeconds(o+n);break;case"millisecond":let l=t.getUTCMilliseconds();t.setUTCMilliseconds(l+n);break;case"hour":let u=t.getUTCHours();t.setUTCHours(u+n);break;case"minute":let d=t.getUTCMinutes();t.setUTCMinutes(d+n);break;case"year":let c=t.getUTCFullYear();t.setUTCFullYear(c+n);break;case"month":const h=t.getUTCDate(),f=new Date(t.getUTCFullYear(),t.getUTCMonth(),0).getUTCDate();let p=t.getUTCMonth();h>f?t.setUTCMonth(p+n,f):t.setUTCMonth(p+n);break;case"week":let m=t.getUTCDate();t.setUTCDate(m+n*7);break}{t.setUTCMinutes(t.getUTCMinutes()+r);{let a=t.getTimezoneOffset();if(a!=r){let o=a-r;t.setUTCMinutes(t.getUTCMinutes()+o),t.getTimezoneOffset()!=a&&t.setUTCMinutes(t.getUTCMinutes()-o)}}}return t}function oi(t,e,n,i,s){let r;return s!=null&&(r=new Date(s)),Gu(new Date(t),e,n,i.locale.firstDayOfWeek,i.utc,r,i.timezone).getTime()}function Gu(t,e,n,i,s,r,a){if(!a||s){let o=0;switch(!s&&e!="millisecond"&&(o=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-o)),e){case"day":let l=t.getUTCDate();if(n>1){if(r){r=Gu(r,"day",1);let _=t.getTime()-r.getTime(),b=Math.floor(_/Ji("day")/n),x=Ji("day",b*n);t.setTime(r.getTime()+x-o*Ji("minute"))}}else t.setUTCDate(l);t.setUTCHours(0,0,0,0);break;case"second":let u=t.getUTCSeconds();n>1&&(u=Math.floor(u/n)*n),t.setUTCSeconds(u,0);break;case"millisecond":if(n==1)return t;let d=t.getUTCMilliseconds();d=Math.floor(d/n)*n,t.setUTCMilliseconds(d);break;case"hour":let c=t.getUTCHours();n>1&&(c=Math.floor(c/n)*n),t.setUTCHours(c,0,0,0);break;case"minute":let h=t.getUTCMinutes();n>1&&(h=Math.floor(h/n)*n),t.setUTCMinutes(h,0,0);break;case"month":let f=t.getUTCMonth();n>1&&(f=Math.floor(f/n)*n),t.setUTCMonth(f,1),t.setUTCHours(0,0,0,0);break;case"year":let p=t.getUTCFullYear();n>1&&(p=Math.floor(p/n)*n),t.setUTCFullYear(p,0,1),t.setUTCHours(0,0,0,0);break;case"week":if(n>1&&r){r=Gu(r,"week",1);let _=t.getTime()-r.getTime(),b=Math.floor(_/Ji("week")/n),x=Ji("week",b*n);t.setTime(r.getTime()+x-o*Ji("minute"))}let m=t.getUTCDate(),v=t.getUTCDay();fe(i)||(i=1),v>=i?m=m-v+i:m=m-(7+v)+i,t.setUTCDate(m),t.setUTCHours(0,0,0,0);break}if(!s&&e!="millisecond"&&(t.setUTCMinutes(t.getUTCMinutes()+o),e=="day"||e=="week"||e=="month"||e=="year")){let l=t.getTimezoneOffset();if(l!=o){let u=l-o;t.setUTCMinutes(t.getUTCMinutes()+u)}}return t}else{if(isNaN(t.getTime()))return t;let o=a.offsetUTC(t),l=t.getTimezoneOffset(),u=a.parseDate(t),d=u.year,c=u.month,h=u.day,f=u.hour,p=u.minute,m=u.second,v=u.millisecond,_=u.weekday,b=o-l;switch(e){case"day":if(n>1&&r){r=Gu(r,"day",1,i,s,void 0,a);let E=t.getTime()-r.getTime(),T=Math.floor(E/Ji("day")/n),S=Ji("day",T*n);t.setTime(r.getTime()+S),u=a.parseDate(t),d=u.year,c=u.month,h=u.day}f=0,p=b,m=0,v=0;break;case"second":p+=b,n>1&&(m=Math.floor(m/n)*n),v=0;break;case"millisecond":p+=b,n>1&&(v=Math.floor(v/n)*n);break;case"hour":n>1&&(f=Math.floor(f/n)*n),p=b,m=0,v=0;break;case"minute":n>1&&(p=Math.floor(p/n)*n),p+=b,m=0,v=0;break;case"month":n>1&&(c=Math.floor(c/n)*n),h=1,f=0,p=b,m=0,v=0;break;case"year":n>1&&(d=Math.floor(d/n)*n),c=0,h=1,f=0,p=b,m=0,v=0;break;case"week":fe(i)||(i=1),_>=i?h=h-_+i:h=h-(7+_)+i,f=0,p=b,m=0,v=0;break}t=new Date(d,c,h,f,p,m,v);let x=t.getTimezoneOffset(),I=a.offsetUTC(t)-x;return I!=b&&t.setTime(t.getTime()+(I-b)*6e4),t}}function bk(t,e,n,i){let s=i[t],r=Ur(s),a=i.length-1;if(t>=a)return Object.assign({},i[a]);let o=Math.ceil(e/r);return e<r&&t>0?Object.assign({},i[t-1]):o<=n?Object.assign({},i[t]):t+1<i.length?bk(t+1,e,n,i):Object.assign({},i[t])}class No extends pc{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new Kh}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:it.new(this._root,{width:Ne,height:Ne,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type==="clear")this._handleBullets(this.dataItems);else if(e.type==="push")this._handleBullets(this.dataItems);else if(e.type==="setIndex")this._handleBullets(this.dataItems);else if(e.type==="insertIndex")this._handleBullets(this.dataItems);else if(e.type==="removeIndex")this._handleBullets(this.dataItems);else if(e.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){le(e,n=>{const i=n.bullets;i&&(le(i,s=>{s.dispose()}),n.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return A6(this.dataItems,n=>n.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(n=>{this._makeBullet(e,n)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,n,i){const s=n(this._root,this,e);return s&&(s._index=i,this._makeBulletReal(e,s)),s}_makeBulletReal(e,n){let i=n.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),n.series=this,e.bullets.push(n)}addBullet(e,n){e.bullets||(e.bullets=[]),n&&this._makeBulletReal(e,n)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),n=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const s=this.getPrivate("baseValueSeries");s&&this._disposers.push(s.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=n||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&n===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,n),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let s=this.get("tooltip");s&&(s.hide(0),s.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let s;const r=this.get("legendDataItem");if(r&&(s=r.get("markerRectangle"),s&&this.isVisible())){if(this.isDirty("stroke")){let a=this.get("stroke");s.set("stroke",a)}if(this.isDirty("fill")){let a=this.get("fill");s.set("fill",a)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let s=this.startIndex(),r=this.endIndex();r<this.dataItems.length&&r++;for(let a=s;a<r;a++){let o=this.dataItems[a];o.bullets||this._makeBullets(o)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,n){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const s={},r={},a={},o={},l={},u={},d={},c={},h={};le(i,f=>{s[f]=0,r[f]=0,a[f]=0}),le(i,f=>{let p=f+"Change",m=f+"ChangePercent",v=f+"ChangePrevious",_=f+"ChangePreviousPercent",b=f+"ChangeSelection",x=f+"ChangeSelectionPercent",k="valueY";(f=="valueX"||f=="openValueX"||f=="lowValueX"||f=="highValueX")&&(k="valueX");const I=this.getPrivate("baseValueSeries"),E=this.getPrivate("adjustedStartIndex",e);for(let T=E;T<n;T++){const S=this.dataItems[T];if(S){let w=S.get(f);w!=null&&(a[f]++,s[f]+=w,r[f]+=Math.abs(w),c[f]=s[f]/a[f],(o[f]>w||o[f]==null)&&(o[f]=w),(l[f]<w||l[f]==null)&&(l[f]=w),d[f]=w,u[f]==null&&(u[f]=w,h[f]=w,I&&(u[k]=I._getBase(k))),e===0&&(S.setRaw(p,w-u[k]),S.setRaw(m,(w-u[k])/u[k]*100)),S.setRaw(v,w-h[k]),S.setRaw(_,(w-h[k])/h[k]*100),S.setRaw(b,w-u[k]),S.setRaw(x,(w-u[k])/u[k]*100),h[f]=w)}}if(n<this.dataItems.length-1){const T=this.dataItems[n];if(T){let S=T.get(f);T.setRaw(v,S-h[k]),T.setRaw(_,(S-h[k])/h[k]*100),T.setRaw(b,S-u[k]),T.setRaw(x,(S-u[k])/u[k]*100)}}e>0&&e--,delete h[f];for(let T=e;T<E;T++){const S=this.dataItems[T];if(S){let w=S.get(f);h[f]==null&&(h[f]=w),w!=null&&(S.setRaw(v,w-h[k]),S.setRaw(_,(w-h[k])/h[k]*100),S.setRaw(b,w-u[k]),S.setRaw(x,(w-u[k])/u[k]*100),h[f]=w)}}}),le(i,f=>{this.setPrivate(f+"AverageSelection",c[f]),this.setPrivate(f+"CountSelection",a[f]),this.setPrivate(f+"SumSelection",s[f]),this.setPrivate(f+"AbsoluteSumSelection",r[f]),this.setPrivate(f+"LowSelection",o[f]),this.setPrivate(f+"HighSelection",l[f]),this.setPrivate(f+"OpenSelection",u[f]),this.setPrivate(f+"CloseSelection",d[f])}),e===0&&n===this.dataItems.length&&le(i,f=>{this.setPrivate(f+"Average",c[f]),this.setPrivate(f+"Count",a[f]),this.setPrivate(f+"Sum",s[f]),this.setPrivate(f+"AbsoluteSum",r[f]),this.setPrivate(f+"Low",o[f]),this.setPrivate(f+"High",l[f]),this.setPrivate(f+"Open",u[f]),this.setPrivate(f+"Close",d[f])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&le(e,n=>{const i=n.minValue||this.getPrivate(n.dataField+"Low")||0,s=n.maxValue||this.getPrivate(n.dataField+"High")||0;le(n.target._entities,r=>{const a=r.dataItem.get(n.dataField);if(!fe(a)){n.neutral&&r.set(n.key,n.neutral);const o=r.states;if(o){const l=o.lookup("default");l&&n.neutral&&l.set(n.key,n.neutral)}if(!n.customFunction)return}if(n.customFunction)n.customFunction.call(this,r,i,s,a);else{let o;n.logarithmic?o=(Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(i)*Math.LOG10E):o=(a-i)/(s-i),fe(a)&&(!fe(o)||Math.abs(o)==1/0)&&(o=.5);let l;fe(n.min)?l=n.min+(n.max-n.min)*o:n.min instanceof tt?l=tt.interpolate(o,n.min,n.max):n.min instanceof wt&&(l=j6(o,n.min,n.max)),r.set(n.key,l);const u=r.states;if(u){const d=u.lookup("default");d&&d.set(n.key,l)}}})}),this.get("visible")){let n=this.dataItems.length,i=this.startIndex(),s=this.endIndex();s<n&&s++,i>0&&i--;for(let r=0;r<i;r++)this._hideBullets(this.dataItems[r]);for(let r=i;r<s;r++)this._positionBullets(this.dataItems[r]);for(let r=s;r<n;r++)this._hideBullets(this.dataItems[r])}}_positionBullets(e){e.bullets&&le(e.bullets,n=>{this._positionBullet(n);const i=n.get("sprite");n.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof it&&i.walkChildren(s=>{s._markDirtyKey("fill"),s.markDirtySize(),s instanceof Hi&&s.text.markDirtyText()})),i instanceof Hi&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(e){e.bullets&&le(e.bullets,n=>{let i=n.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const n=e.bullets;n&&le(n,i=>{i.dispose()})}_getItemReaderLabel(){return""}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)],r=e.bullets;r&&le(r,a=>{const o=a.get("sprite");o&&s.push(o.show(n))}),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=e.bullets;r&&le(r,a=>{const o=a.get("sprite");o&&s.push(o.hide(n))}),yield Promise.all(s)})}_sequencedShowHide(e,n){return wi(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(fe(n)||(n=this.get("interpolationDuration",0)),n>0){const i=this.startIndex(),s=this.endIndex();yield Promise.all(ck(this.dataItems,(r,a)=>wi(this,void 0,void 0,function*(){let o=n||0;(a<i-10||a>s+10)&&(o=0);let l=this.get("sequencedDelay",0)+o/(s-i);yield kxe(l*(a-i)),e?yield this.showDataItem(r,o):yield this.hideDataItem(r,o)})))}else yield Promise.all(ck(this.dataItems,i=>e?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(e){if(e){const n=e.get("legendDataItem");if(n){const i=n.get("valueLabel");if(i){const r=i.text;let a="";i._setDataItem(e),a=this.get("legendValueText",r.get("text","")),i.set("text",a),r.markDirtyText()}const s=n.get("label");if(s){const r=s.text;let a="";s._setDataItem(e),a=this.get("legendLabelText",r.get("text","")),s.set("text",a),r.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const n=this.dataItems[this.startIndex()];return n?n.get(e):0}}Object.defineProperty(No,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(No,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pc.classNames.concat([No.className])});class by extends No{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>it._new(this._root,{themeTags:Mt(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Mt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Ga.new(this._root,{themeTags:Mt(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Mt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>it._new(this._root,{themeTags:Mt(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Hi._new(this._root,{themeTags:Mt(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Hi._new(this._root,{themeTags:Mt(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ga._new(this._root,{themeTags:Mt(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const n=this.children.push(this.itemContainers.make());return n._setDataItem(e),this.itemContainers.push(n),n.states.create("disabled",{}),n}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const n=this.makeItemContainer(e),i=this.get("nameField"),s=this.get("fillField"),r=this.get("strokeField");if(n){const a=this.get("clickTarget","itemContainer"),o=e.dataContext;o&&o.set&&o.set("legendDataItem",e),n._setDataItem(e),e.set("itemContainer",n);const l=this.makeMarker();if(l){n.children.push(l),l._setDataItem(e),e.set("marker",l);const c=this.get("useDefaultMarker"),h=l.children.push(this.makeMarkerRectangle());let f=e.get("fill"),p=e.get("stroke");e.set("markerRectangle",h),o&&o.get&&(f=o.get(s,f),p=o.get(r,p)),p||(p=f),c?o.on&&(o.on(s,()=>{h.set("fill",o.get(s))}),o.on(r,()=>{h.set("stroke",o.get(r))})):o&&o.createLegendMarker&&o.createLegendMarker(),h.setAll({fill:f,stroke:p});const m=o.component;m&&m.updateLegendMarker&&m.updateLegendMarker(o)}const u=this.makeLabel();if(u){n.children.push(u),u._setDataItem(e),e.set("label",u),u.text.on("text",()=>{n.setRaw("ariaLabel",u.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),n.markDirtyAccessibility()}),o&&o.get&&e.set("name",o.get(i));let c=e.get("name");c&&u.set("text",c)}const d=this.makeValueLabel();if(d&&(n.children.push(d),d._setDataItem(e),e.set("valueLabel",d)),o&&o.show&&(o.on("visible",c=>{n.set("disabled",!c)}),o.get("visible")||n.set("disabled",!0),a!="none")){let c=n;a=="marker"&&(c=l),this._addClickEvents(c,o,e)}this.children.values.sort((c,h)=>{const f=c.dataItem.dataContext,p=h.dataItem.dataContext;if(f&&p){const m=this.data.indexOf(f),v=this.data.indexOf(p);if(m>v)return 1;if(m<v)return-1}return 0}),o&&o.updateLegendValue&&o.updateLegendValue()}}_addClickEvents(e,n,i){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const s=n.component;s&&s.hoverDataItem&&s.hoverDataItem(n)}),e.events.on("pointerout",()=>{const s=n.component;s&&s.hoverDataItem&&s.unhoverDataItem(n)}),e.events.on("click",()=>{const s=i.get("label").text._getText();n.show&&n.isHidden&&(n.isHidden()||n.get("visible")===!1)?(n.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,s))):n.hide&&(n.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,s)))})}disposeDataItem(e){super.disposeDataItem(e);const n=e.dataContext;n&&n.get&&n.get("legendDataItem")==e&&n.set("legendDataItem",void 0);let i=e.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let s=e.get("marker");s&&(this.markers.removeValue(s),s.dispose());let r=e.get("markerRectangle");r&&(this.markerRectangles.removeValue(r),r.dispose());let a=e.get("label");a&&(this.labels.removeValue(a),a.dispose());let o=e.get("valueLabel");o&&(this.valueLabels.removeValue(o),o.dispose())}}Object.defineProperty(by,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"});Object.defineProperty(by,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([by.className])});function vV(t,e){for(let n=0,i=e.length;n<i;n++){const s=e[n];if(s.length>0){let r=s[0];if(r.length>0){let a=r[0];t.moveTo(a.x,a.y);for(let o=0,l=s.length;o<l;o++)Pxe(t,s[o])}}}}function Pxe(t,e){for(let n=0,i=e.length;n<i;n++){const s=e[n];t.lineTo(s.x,s.y)}}class mg extends cn{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),n=this.get("segments");if(e&&e.length>0){let i=e[0];this._display.moveTo(i.x,i.y),vV(this._display,[[e]])}else if(n)vV(this._display,n);else if(!this.get("draw")){let i=this.width(),s=this.height();this._display.moveTo(0,0),this._display.lineTo(i,s)}}}}Object.defineProperty(mg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(mg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([mg.className])});class wy extends gc{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*cg,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(wy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(wy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gc.classNames.concat([wy.className])});class xy extends Hi{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(wy.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return n+Qn(i,e-n)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),n=this.get("inside",!1),i=this.get("orientation");let s=ZC(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);const r=Ir(s),a=Ba(s);let o=this.baseRadius(),l=this.radius();if(this._display.angle=0,e=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",l);else{o==0&&(s=0,l=0);let u=l*a,d=l*r;e=="radial"?(this.setRaw("x",u),this.setRaw("y",d),s<90||s>270||i!="auto"?(this._display.angle=s,this._flipped=!1):(this._display.angle=s+180,this._flipped=!0),this._dirty.rotation=!1):e=="adjusted"?(this.setRaw("centerX",at),this.setRaw("centerY",at),this.setRaw("x",u),this.setRaw("y",d)):e=="regular"&&(this.setRaw("x",u),this.setRaw("y",d))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),n=this.get("inside",!1);let i=0,s=0,r=this.get("labelAngle",0),a=this.localBounds(),o=a.right-a.left,l=a.bottom-a.top;if(e=="radial"){if(this._flipped){let u=this.get("centerX");u instanceof wt&&(o=o*(1-u.value*2)),i=o*Ba(r),s=o*Ir(r)}}else!n&&e=="adjusted"&&(i=o/2*Ba(r),s=l/2*Ir(r));this.setRaw("dx",i),this.setRaw("dy",s),super._updatePosition()}get text(){return this._text}}Object.defineProperty(xy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(xy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hi.classNames.concat([xy.className])});class gg extends it{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=Mt(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ga.new(this._root,{themeTags:Mt(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(fg.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:cn.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ga.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,n=this.endGrip,i=this.thumb,s=this.get("background");s&&this._disposers.push(s.events.on("click",r=>{this.setPrivateRaw("isBusy",!0);const a=this._display.toLocal(r.point),o=this.width(),l=this.height(),u=this.get("orientation");let d;u=="vertical"?d=(a.y-i.height()/2)/l:d=(a.x-i.width()/2)/o;let c,h;u=="vertical"?(c=d*l,h="y"):(c=d*o,h="x");const f=this.get("animationDuration",0);f>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:h,to:c,duration:f,easing:this.get("animationEasing")}))):(this.thumb.set(h,c),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",r=>{if(!QC(r.originalEvent,this))return;const a=this.get("animationDuration",0),o=this.get("animationEasing");this.animate({key:"start",to:0,duration:a,easing:o}),this.animate({key:"end",to:1,duration:a,easing:o})})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(n.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(e.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(n.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(n.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(n.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(e.set("x",0),n.set("x",0),this._disposers.push(i.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",r=>this.width()/2)),this._disposers.push(e.adapters.add("x",r=>this.width()/2)),this._disposers.push(n.adapters.add("x",r=>this.width()/2)),this._disposers.push(e.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()),0))),this._disposers.push(n.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()),0)))):(e.set("y",0),n.set("y",0),this._disposers.push(i.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",r=>this.height()/2)),this._disposers.push(e.adapters.add("y",r=>this.height()/2)),this._disposers.push(n.adapters.add("y",r=>this.height()/2)),this._disposers.push(e.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()),0))),this._disposers.push(n.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const e="released";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}updateGrips(){const e=this.startGrip,n=this.endGrip,i=this.get("orientation"),s=this.height(),r=this.width();i=="vertical"?(e.set("y",s*this.get("start",0)),n.set("y",s*this.get("end",1))):(e.set("x",r*this.get("start",0)),n.set("x",r*this.get("end",1)));const a=this.getPrivate("positionTextFunction"),o=Math.round(this.get("start",0)*100),l=Math.round(this.get("end",0)*100);let u,d;a?(u=a.call(this,this.get("start",0)),d=a.call(this,this.get("end",0))):(u=o+"%",d=l+"%"),e.set("ariaLabel",this._t("From %1",void 0,u)),e.set("ariaValueNow",""+o),e.set("ariaValueText",o+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),n.set("ariaLabel",this._t("To %1",void 0,d)),n.set("ariaValueNow",""+l),n.set("ariaValueText",l+"%"),n.set("ariaValueMin","0"),n.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,n=this.startGrip,i=this.endGrip,s=this.height(),r=this.width();let a=n.x(),o=i.x(),l=n.y(),u=i.y(),d=0,c=1;this.get("orientation")=="vertical"?fe(l)&&fe(u)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("height",u-l),e.set("y",l)),d=l/s,c=u/s):fe(a)&&fe(o)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("width",o-a),e.set("x",a)),d=a/r,c=o/r),this.getPrivate("isBusy")&&(this.get("start")!=d||this.get("end")!=c)&&(this.set("start",d),this.set("end",c));const h=this.getPrivate("positionTextFunction"),f=Math.round(this.get("start",0)*100),p=Math.round(this.get("end",0)*100);let m,v;h?(m=h.call(this,this.get("start",0)),v=h.call(this,this.get("end",0))):(m=f+"%",v=p+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,m,v)),e.set("ariaValueNow",""+f),e.set("ariaValueText",f+"%")}_updateGripsByThumb(){const e=this.thumb,n=this.startGrip,i=this.endGrip;if(this.get("orientation")=="vertical"){const s=e.height();n.set("y",e.y()),i.set("y",e.y()+s)}else{const s=e.width();n.set("x",e.x()),i.set("x",e.x()+s)}}}Object.defineProperty(gg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(gg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([gg.className])});function Pn(t){return function(){return t}}const _V=Math.abs,fs=Math.atan2,pu=Math.cos,Cxe=Math.max,xx=Math.min,ya=Math.sin,xd=Math.sqrt,zs=1e-12,pg=Math.PI,Sy=pg/2,Exe=2*pg;function Ixe(t){return t>1?0:t<-1?pg:Math.acos(t)}function yV(t){return t>=1?Sy:t<=-1?-Sy:Math.asin(t)}const wk=Math.PI,xk=2*wk,wu=1e-6,Dxe=xk-wu;function X6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Axe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return X6;const n=10**e;return function(i){this._+=i[0];for(let s=1,r=i.length;s<r;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class Rxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?X6:Axe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,s){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,n,i,s,r,a){this._append`C${+e},${+n},${+i},${+s},${this._x1=+r},${this._y1=+a}`}arcTo(e,n,i,s,r){if(e=+e,n=+n,i=+i,s=+s,r=+r,r<0)throw new Error(`negative radius: ${r}`);let a=this._x1,o=this._y1,l=i-e,u=s-n,d=a-e,c=o-n,h=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>wu)if(!(Math.abs(c*l-u*d)>wu)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let f=i-a,p=s-o,m=l*l+u*u,v=f*f+p*p,_=Math.sqrt(m),b=Math.sqrt(h),x=r*Math.tan((wk-Math.acos((m+h-v)/(2*_*b)))/2),k=x/b,I=x/_;Math.abs(k-1)>wu&&this._append`L${e+k*d},${n+k*c}`,this._append`A${r},${r},0,0,${+(c*f>d*p)},${this._x1=e+I*l},${this._y1=n+I*u}`}}arc(e,n,i,s,r,a){if(e=+e,n=+n,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(s),l=i*Math.sin(s),u=e+o,d=n+l,c=1^a,h=a?s-r:r-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>wu||Math.abs(this._y1-d)>wu)&&this._append`L${u},${d}`,i&&(h<0&&(h=h%xk+xk),h>Dxe?this._append`A${i},${i},0,1,${c},${e-o},${n-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=d}`:h>wu&&this._append`A${i},${i},0,${+(h>=wk)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function nE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Rxe(e)}function Oxe(t){return t.innerRadius}function Mxe(t){return t.outerRadius}function Vxe(t){return t.startAngle}function Lxe(t){return t.endAngle}function Nxe(t){return t&&t.padAngle}function Fxe(t,e,n,i,s,r,a,o){var l=n-t,u=i-e,d=a-s,c=o-r,h=c*l-d*u;if(!(h*h<zs))return h=(d*(e-r)-c*(t-s))/h,[t+h*l,e+h*u]}function hv(t,e,n,i,s,r,a){var o=t-n,l=e-i,u=(a?r:-r)/xd(o*o+l*l),d=u*l,c=-u*o,h=t+d,f=e+c,p=n+d,m=i+c,v=(h+p)/2,_=(f+m)/2,b=p-h,x=m-f,k=b*b+x*x,I=s-r,E=h*m-p*f,T=(x<0?-1:1)*xd(Cxe(0,I*I*k-E*E)),S=(E*x-b*T)/k,w=(-E*b-x*T)/k,C=(E*x+b*T)/k,P=(-E*b+x*T)/k,D=S-v,A=w-_,F=C-v,L=P-_;return D*D+A*A>F*F+L*L&&(S=C,w=P),{cx:S,cy:w,x01:-d,y01:-c,x11:S*(s/I-1),y11:w*(s/I-1)}}function Bxe(){var t=Oxe,e=Mxe,n=Pn(0),i=null,s=Vxe,r=Lxe,a=Nxe,o=null,l=nE(u);function u(){var d,c,h=+t.apply(this,arguments),f=+e.apply(this,arguments),p=s.apply(this,arguments)-Sy,m=r.apply(this,arguments)-Sy,v=_V(m-p),_=m>p;if(o||(o=d=l()),f<h&&(c=f,f=h,h=c),!(f>zs))o.moveTo(0,0);else if(v>Exe-zs)o.moveTo(f*pu(p),f*ya(p)),o.arc(0,0,f,p,m,!_),h>zs&&(o.moveTo(h*pu(m),h*ya(m)),o.arc(0,0,h,m,p,_));else{var b=p,x=m,k=p,I=m,E=v,T=v,S=a.apply(this,arguments)/2,w=S>zs&&(i?+i.apply(this,arguments):xd(h*h+f*f)),C=xx(_V(f-h)/2,+n.apply(this,arguments)),P=C,D=C,A,F;if(w>zs){var L=yV(w/h*ya(S)),H=yV(w/f*ya(S));(E-=L*2)>zs?(L*=_?1:-1,k+=L,I-=L):(E=0,k=I=(p+m)/2),(T-=H*2)>zs?(H*=_?1:-1,b+=H,x-=H):(T=0,b=x=(p+m)/2)}var X=f*pu(b),z=f*ya(b),K=h*pu(I),Y=h*ya(I);if(C>zs){var te=f*pu(x),Q=f*ya(x),ee=h*pu(k),ue=h*ya(k),re;if(v<pg)if(re=Fxe(X,z,ee,ue,te,Q,K,Y)){var se=X-re[0],$=z-re[1],q=te-re[0],ae=Q-re[1],_e=1/ya(Ixe((se*q+$*ae)/(xd(se*se+$*$)*xd(q*q+ae*ae)))/2),ge=xd(re[0]*re[0]+re[1]*re[1]);P=xx(C,(h-ge)/(_e-1)),D=xx(C,(f-ge)/(_e+1))}else P=D=0}T>zs?D>zs?(A=hv(ee,ue,X,z,f,D,_),F=hv(te,Q,K,Y,f,D,_),o.moveTo(A.cx+A.x01,A.cy+A.y01),D<C?o.arc(A.cx,A.cy,D,fs(A.y01,A.x01),fs(F.y01,F.x01),!_):(o.arc(A.cx,A.cy,D,fs(A.y01,A.x01),fs(A.y11,A.x11),!_),o.arc(0,0,f,fs(A.cy+A.y11,A.cx+A.x11),fs(F.cy+F.y11,F.cx+F.x11),!_),o.arc(F.cx,F.cy,D,fs(F.y11,F.x11),fs(F.y01,F.x01),!_))):(o.moveTo(X,z),o.arc(0,0,f,b,x,!_)):o.moveTo(X,z),!(h>zs)||!(E>zs)?o.lineTo(K,Y):P>zs?(A=hv(K,Y,te,Q,h,-P,_),F=hv(X,z,ee,ue,h,-P,_),o.lineTo(A.cx+A.x01,A.cy+A.y01),P<C?o.arc(A.cx,A.cy,P,fs(A.y01,A.x01),fs(F.y01,F.x01),!_):(o.arc(A.cx,A.cy,P,fs(A.y01,A.x01),fs(A.y11,A.x11),!_),o.arc(0,0,h,fs(A.cy+A.y11,A.cx+A.x11),fs(F.cy+F.y11,F.cx+F.x11),_),o.arc(F.cx,F.cy,P,fs(F.y11,F.x11),fs(F.y01,F.x01),!_))):o.arc(0,0,h,I,k,_)}if(o.closePath(),d)return o=null,d+""||null}return u.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-pg/2;return[pu(c)*d,ya(c)*d]},u.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Pn(+d),u):t},u.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Pn(+d),u):e},u.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Pn(+d),u):n},u.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Pn(+d),u):i},u.startAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Pn(+d),u):s},u.endAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Pn(+d),u):r},u.padAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Pn(+d),u):a},u.context=function(d){return arguments.length?(o=d??null,u):o},u}function K6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Q6(t){this._context=t}Q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function J6(t){return new Q6(t)}function Z6(t){return t[0]}function e9(t){return t[1]}function t9(t,e){var n=Pn(!0),i=null,s=J6,r=null,a=nE(o);t=typeof t=="function"?t:t===void 0?Z6:Pn(t),e=typeof e=="function"?e:e===void 0?e9:Pn(e);function o(l){var u,d=(l=K6(l)).length,c,h=!1,f;for(i==null&&(r=s(f=a())),u=0;u<=d;++u)!(u<d&&n(c=l[u],u,l))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+t(c,u,l),+e(c,u,l));if(f)return r=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pn(!!l),o):n},o.curve=function(l){return arguments.length?(s=l,i!=null&&(r=s(i)),o):s},o.context=function(l){return arguments.length?(l==null?i=r=null:r=s(i=l),o):i},o}function jxe(t,e,n){var i=null,s=Pn(!0),r=null,a=J6,o=null,l=nE(u);t=typeof t=="function"?t:t===void 0?Z6:Pn(+t),e=typeof e=="function"?e:Pn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?e9:Pn(+n);function u(c){var h,f,p,m=(c=K6(c)).length,v,_=!1,b,x=new Array(m),k=new Array(m);for(r==null&&(o=a(b=l())),h=0;h<=m;++h){if(!(h<m&&s(v=c[h],h,c))===_)if(_=!_)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=f;--p)o.point(x[p],k[p]);o.lineEnd(),o.areaEnd()}_&&(x[h]=+t(v,h,c),k[h]=+e(v,h,c),o.point(i?+i(v,h,c):x[h],n?+n(v,h,c):k[h]))}if(b)return o=null,b+""||null}function d(){return t9().defined(s).curve(a).context(r)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:Pn(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Pn(+c),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Pn(!!c),u):s},u.curve=function(c){return arguments.length?(a=c,r!=null&&(o=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=o=null:o=a(r=c),u):r},u}class ky extends cn{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:Bxe()})}_getTooltipPoint(){let e=this.get("tooltipX"),n=this.get("tooltipY"),i=0,s=0;fe(e)&&(i=e),fe(n)&&(s=n);let r=this.get("radius",0),a=this.get("innerRadius",0),o=this.get("dRadius",0),l=this.get("dInnerRadius",0);return r+=o,a+=l,a<0&&(a=r+a),e instanceof wt&&(i=this.ix*(a+(r-a)*e.value)),n instanceof wt&&(s=this.iy*(a+(r-a)*n.value)),this.get("arc")>=360&&a==0&&(i=0,s=0),{x:i,y:s}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),n=this.get("arc",0);const i=this._generator;n<0&&(e=e+n,n=n*-1),n>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let s=this.get("radius",0),r=this.get("innerRadius",0),a=this.get("dRadius",0),o=this.get("dInnerRadius",0);s+=a,r+=o,r<0&&(r=s+r),i({innerRadius:r,outerRadius:s,startAngle:(e+90)*cg,endAngle:(e+n+90)*cg});let l=e+n/2;this.ix=Ba(l),this.iy=Ir(l);const u=this.get("shiftRadius",0);this.setRaw("dx",this.ix*u),this.setRaw("dy",this.iy*u),this.markDirtyPosition()}}}Object.defineProperty(ky,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(ky,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([ky.className])});class vg extends it{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{width:Ne,height:Ne,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:it.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Ne,height:Ne})})}}Object.defineProperty(vg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(vg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([vg.className])});class vc extends vg{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:it.new(this._root,{width:Ne,height:Ne,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new py})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(n=>{if(n.type==="clear"){le(n.oldValues,r=>{this._removeSeries(r)});const i=this.get("colors");i&&i.reset();const s=this.get("patterns");s&&s.reset()}else if(n.type==="push")e.moveValue(n.newValue),this._processSeries(n.newValue);else if(n.type==="setIndex")e.setIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="insertIndex")e.insertIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="removeIndex")this._removeSeries(n.oldValue);else if(n.type==="moveIndex")e.moveValue(n.value,n.newIndex),this._processSeries(n.value);else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(vc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(vc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vg.classNames.concat([vc.className])});class vh extends mg{}Object.defineProperty(vh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(vh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mg.classNames.concat([vh.className])});class _h extends Pi{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),n=this.get("colors",[this.get("baseColor",tt.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",n.length);const i=this.getPrivate("numColors"),s=0,r=this.get("passOptions"),a=this.get("reuse");for(let o=s;o<i;o++)if(a)n.push(n[o]);else{const l=n[o].toHSL();let u=l.h+(r.hue||0)*e;for(;u>1;)u-=1;let d=l.s+(r.saturation||0)*e;d>1&&(d=1),d<0&&(d=0);let c=l.l+(r.lightness||0)*e;for(;c>1;)c-=1;n.push(tt.fromHSL(u,d,c))}}getIndex(e){const n=this.get("colors",[]),i=this.get("saturation");return e>=n.length?(this.generateColors(),this.getIndex(e)):i!=null?tt.saturate(n[e],i):n[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(_h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(_h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([_h.className])});class $xe extends jw{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,n=this.rule.bind(this);n("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:_h.new(this._root,{}),width:Ne,height:Ne}),n("PieChart").setAll({radius:jn(80),startAngle:-90,endAngle:270}),n("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),n("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),n("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),n("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),n("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),n("Slice",["pie"]).states.create("hover",{scale:1.04}),n("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),n("Tick",["pie"]).setAll({location:1}),n("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),n("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),n("FunnelSlice").setAll({interactive:!0,expandDistance:0}),n("FunnelSlice").states.create("hover",{expandDistance:.15}),n("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:at}),n("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:at,rotation:-90}),n("Label",["funnel","vertical"]).setAll({centerY:at,centerX:0}),n("Tick",["funnel"]).setAll({location:1}),n("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),n("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),n("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),n("PyramidSeries").setAll({valueIs:"area"}),n("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),n("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),n("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),n("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),n("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),n("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:at}),n("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:at,rotation:-90}),n("Label",["pyramid","vertical"]).setAll({centerY:at,centerX:0}),n("Tick",["pyramid"]).setAll({location:1}),n("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),n("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:at}),n("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:at,rotation:-90}),n("Label",["pictorial","vertical"]).setAll({centerY:at,centerX:0}),n("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),n("Tick",["pictorial"]).setAll({location:.5});{const i=n("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),nt(i,"fill",e,"alternativeBackground")}}}class _g extends vc{_afterNew(){this._defaultThemes.push($xe.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(_g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(_g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vc.classNames.concat([_g.className])});class yg extends No{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(e){const n=this.slicesContainer.children.push(this.slices.make());return n.on("fill",()=>{this.updateLegendMarker(e)}),n.on("fillPattern",()=>{this.updateLegendMarker(e)}),n.on("stroke",()=>{this.updateLegendMarker(e)}),n._setDataItem(e),e.set("slice",n),this.slices.push(n),n}makeLabel(e){const n=this.labelsContainer.children.push(this.labels.make());return n._setDataItem(e),e.set("label",n),this.labels.push(n),n}_shouldMakeBullet(e){return e.get("value")!=null}makeTick(e){const n=this.ticksContainer.children.push(this.ticks.make());return n._setDataItem(e),e.set("tick",n),this.ticks.push(n),n}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset();const n=this.get("patterns");n&&n.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,n=0,i=0,s=1/0,r=0;le(this._dataItems,a=>{let o=a.get("valueWorking",0);e+=o,n+=Math.abs(o)}),le(this._dataItems,a=>{let o=a.get("valueWorking",0);o>i&&(i=o),o<s&&(s=o),r++;let l=o/n;n==0&&(l=0),a.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",s),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/r),this.setPrivateRaw("valueAbsoluteSum",n)}}show(e){const n=Object.create(null,{show:{get:()=>super.show}});return wi(this,void 0,void 0,function*(){let i=[];i.push(n.show.call(this,e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const n=Object.create(null,{hide:{get:()=>super.hide}});return wi(this,void 0,void 0,function*(){let i=[];i.push(n.hide.call(this,e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&le(this._dataItems,e=>{e.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&le(this._dataItems,e=>{this.updateLegendValue(e)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),le(this.dataItems,e=>{this._updateTick(e)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),e.get("fill")==null){let n=this.get("colors");n&&e.setRaw("fill",n.next())}if(e.get("fillPattern")==null){let n=this.get("patterns");n&&e.setRaw("fillPattern",n.next())}}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)];fe(n)||(n=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");let a=e.get("value");const o=e.animate({key:"valueWorking",to:a,duration:n,easing:r});o&&s.push(o.waitForStop());const l=e.get("tick");l&&s.push(l.show(n));const u=e.get("label");u&&s.push(u.show(n));const d=e.get("slice");d&&s.push(d.show(n)),d.get("active")&&d.states.applyAnimate("active"),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=this.states.create("hidden",{});fe(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=e.animate({key:"valueWorking",to:0,duration:n,easing:a});o&&s.push(o.waitForStop());const l=e.get("tick");l&&s.push(l.hide(n));const u=e.get("label");u&&s.push(u.hide(n));const d=e.get("slice");d.hideTooltip(),d&&s.push(d.hide(n)),yield Promise.all(s)})}disposeDataItem(e){super.disposeDataItem(e);let n=e.get("label");n&&(this.labels.removeValue(n),n.dispose());let i=e.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let s=e.get("slice");s&&(this.slices.removeValue(s),s.dispose())}hoverDataItem(e){const n=e.get("slice");n&&!n.isHidden()&&n.hover()}unhoverDataItem(e){const n=e.get("slice");n&&n.unhover()}updateLegendMarker(e){if(e){const n=e.get("slice");if(n){const i=e.get("legendDataItem");if(i){const s=i.get("markerRectangle");le(_k,r=>{n.get(r)!=null&&s.set(r,n.get(r))})}}}}_arrangeDown(e){if(e){let n=this._getNextDown();e.sort((i,s)=>i.y>s.y?1:i.y<s.y?-1:0),le(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.top;i.y+r<n&&(i.y=n-r),i.label.set("y",i.y),n=i.y+s.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let n=this._getNextUp();e.sort((i,s)=>i.y<s.y?1:i.y>s.y?-1:0),le(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.bottom;i.y+r>n&&(i.y=n-r),i.label.set("y",i.y),n=i.y+s.top})}}_arrangeRight(e){if(e){let n=0;e.sort((i,s)=>i.y>s.y?1:i.y<s.y?-1:0),le(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.left;i.y+r<n&&(i.y=n-r),i.label.set("x",i.y),n=i.y+s.right})}}_arrangeLeft(e){if(e){let n=this.labelsContainer.maxWidth();e.sort((i,s)=>i.y<s.y?1:i.y>s.y?-1:0),le(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.right;i.y+r>n&&(i.y=n-r),i.label.set("x",i.y),n=i.y+s.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty(yg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty(yg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([yg.className])});class _c extends _g{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:at,y:at})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,n=e.innerWidth(),i=e.innerHeight(),s=this.get("startAngle",0),r=this.get("endAngle",0),a=this.get("innerRadius");let o=pk(0,0,s,r,1);const l=n/(o.right-o.left),u=i/(o.bottom-o.top);let d={left:0,right:0,top:0,bottom:0};if(a instanceof wt){let f=a.value,p=Math.min(l,u);f=Math.max(p*f,p-Math.min(i,n))/p,d=pk(0,0,s,r,f),this.setPrivateRaw("irModifyer",f/a.value)}o=b0e([o,d]);const c=this._maxRadius;this._maxRadius=Math.min(l,u);const h=Qn(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-h*(o.bottom+o.top)/2,dx:-h*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||c!=this._maxRadius)&&this.series.each(f=>{f._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(f=>{f._markDirtyKey("innerRadius")})}radius(e){let n=Qn(this.get("radius",0),this._maxRadius),i=Qn(this.get("innerRadius",0),n);if(e){let s=this.series.indexOf(e),r=this.series.length,a=e.get("radius");return a!=null?i+Qn(a,n-i):i+(n-i)/r*(s+1)}return n}innerRadius(e){const n=this.radius();let i=Qn(this.get("innerRadius",0),n);if(i<0&&(i=n+i),e){let s=this.series.indexOf(e),r=this.series.length,a=e.get("innerRadius");return a!=null?i+Qn(a,n-i):i+(n-i)/r*s}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}}Object.defineProperty(_c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(_c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_g.classNames.concat([_c.className])});class yc extends yg{_makeSlices(){return new ji(Sn.new({}),()=>ky._new(this._root,{themeTags:Mt(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new ji(Sn.new({}),()=>xy._new(this._root,{themeTags:Mt(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new ji(Sn.new({}),()=>vh._new(this._root,{themeTags:Mt(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(e){super.processDataItem(e);const n=this.makeSlice(e);n.on("scale",()=>{this._updateTick(e)}),n.on("shiftRadius",()=>{this._updateTick(e)}),n.events.on("positionchanged",()=>{this._updateTick(e)});const i=this.makeLabel(e);i.events.on("positionchanged",()=>{this._updateTick(e)}),this.makeTick(e),n.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let n=this.labels.template;if(this.get("alignLabels"))n.set("textType","aligned");else{let i=n.get("textType");(i==null||i=="aligned")&&n.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const n=this.get("startAngle",e.get("startAngle",-90)),s=this.get("endAngle",e.get("endAngle",270))-n;let r=n;const a=e.radius(this);this.setPrivateRaw("radius",a);let o=e.innerRadius(this)*e.getPrivate("irModifyer",1);o<0&&(o=a+o),le(this._dataItems,l=>{this.updateLegendValue(l);let u=s*l.get("valuePercentTotal")/100;const d=l.get("slice");if(d){d.set("radius",a),d.set("innerRadius",o),d.set("startAngle",r),d.set("arc",u);const f=l.get("fill");d._setDefault("fill",f),d._setDefault("stroke",f);const p=l.get("fillPattern");d._setDefault("fillPattern",p)}let c=ZC(r+u/2);const h=l.get("label");if(h&&(h.setPrivate("radius",a),h.setPrivate("innerRadius",o),h.set("labelAngle",c),h.get("textType")=="aligned")){let f=a+h.get("radius",0),p=a*Ir(c);c>90&&c<=270?(!h.isHidden()&&!h.isHiding()&&this._lLabels.push({label:h,y:p}),f*=-1,f-=this.labelsContainer.get("paddingLeft",0),h.set("centerX",Ne),h.setPrivateRaw("left",!0)):(!h.isHidden()&&!h.isHiding()&&this._rLabels.push({label:h,y:p}),f+=this.labelsContainer.get("paddingRight",0),h.set("centerX",0),h.setPrivateRaw("left",!1)),h.set("x",f),h.set("y",a*Ir(c))}r+=u,this._updateTick(l)})}}}_updateTick(e){const n=e.get("tick"),i=e.get("label"),s=e.get("slice"),r=n.get("location",1);if(n&&i&&s){const a=(s.get("shiftRadius",0)+s.get("radius",0))*s.get("scale",1)*r,o=i.get("labelAngle",0),l=Ba(o),u=Ir(o),d=this.labelsContainer,c=d.get("paddingLeft",0),h=d.get("paddingRight",0);let f=0,p=0;f=i.x(),p=i.y();let m=[];if(f!=0||p!=0){if(i.get("textType")=="circular"){const _=i.radius()-i.get("paddingBottom",0),b=i.get("labelAngle",0);f=_*Ba(b),p=_*Ir(b)}let v=-h;i.getPrivate("left")&&(v=c),m=[{x:s.x()+a*l,y:s.y()+a*u},{x:f+v,y:p},{x:f,y:p}]}n.set("points",m)}}_positionBullet(e){const n=e.get("sprite");if(n){const s=n.dataItem.get("slice");if(s){const r=s.get("innerRadius",0),a=s.get("radius",0),o=s.get("startAngle",0),l=s.get("arc",0),u=e.get("locationX",.5),d=e.get("locationY",.5),c=o+l*u,h=r+(a-r)*d;n.setAll({x:Ba(c)*h,y:Ir(c)*h})}}}}Object.defineProperty(yc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(yc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yg.classNames.concat([yc.className])});class Uxe{constructor(e,n=!0){an(this,"indicator");an(this,"animation");this.createIndicator(e),n&&this.hide()}createIndicator(e){this.indicator=e.container.children.push(it.new(e,{width:Ne,height:Ne,layer:1e3,background:er.new(e,{fill:gl(16777215),fillOpacity:.7})})),this.indicator.children.push(Hi.new(e,{text:"Loading...",fontSize:25,x:at,y:at,centerX:at,centerY:at}));const n=this.indicator.children.push(cn.new(e,{width:32,height:32,fill:gl(0),x:at,y:at,centerX:at,centerY:at,dy:-45,svgPath:"M12 5v10l9 9-9 9v10h24V33l-9-9 9-9V5H12zm20 29v5H16v-5l8-8 8 8zm-8-12-8-8V9h16v5l-8 8z"}));this.animation=n.animate({key:"rotation",to:180,loops:1/0,duration:2e3,easing:x0e(cl)})}show(){this.animation.play(),this.indicator.show()}hide(){this.animation.pause(),this.indicator.hide()}toggle(){this.indicator.isHidden()?this.show():this.hide()}}class Hxe extends jw{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}const Qh=St({__name:"BaseChart",props:{from:{},to:{},title:{},subtitle:{},schools:{default:()=>[]},createChart:{},afterChartCreated:{},areUpdateConditionSatistied:{},updateChartData:{}},setup(t){const e=t,n=Re(null);let i;be(e,()=>s());async function s(){e.areUpdateConditionSatistied()&&e.from&&(i.show(),await e.updateChartData(e.from,e.to??gt.today().toIyyyyMMdd(),...e.schools),i.hide())}function r(){const a=eE.new(n.value);a.setThemes([Hxe.new(a)]),i=new Uxe(a),e.createChart(a),s(),e.afterChartCreated()}return kt(()=>r()),(a,o)=>{const l=j("v-card-text"),u=j("v-card"),d=j("v-col"),c=j("v-row");return xe(),Oe(c,null,{default:M(()=>[g(d,null,{default:M(()=>[g(u,{title:a.title,subtitle:a.subtitle},{default:M(()=>[g(l,null,{default:M(()=>[Ve("div",{class:"chart-container",ref_key:"chartdiv",ref:n},null,512)]),_:1})]),_:1},8,["title","subtitle"])]),_:1})]),_:1})}}});class zxe extends jw{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,n=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:_h.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:tt.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:_h.new(this._root,{saturation:0})});{const l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),nt(l,"fill",e,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Ne,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:Ne}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:Ne}),i("AxisLabel",["y"]).setAll({centerX:Ne}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:Ne}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const l=i("Grid",["cursor","x"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:n.translate("Use left and right arrows to move selection")}),nt(l,"stroke",e,"alternativeBackground")}{const l=i("Grid",["cursor","y"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:n.translate("Use up and down arrows to move selection")}),nt(l,"stroke",e,"alternativeBackground")}{const l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),nt(l,"fill",e,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:at,centerY:at,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),nt(l,"stroke",e,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Ne}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Ne});{const l=i("Rectangle",["axis","thumb"]);l.setAll({fillOpacity:0}),nt(l,"fill",e,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),nt(l,"stroke",e,"grid")}{const l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),nt(l,"stroke",e,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),nt(l,"fill",e,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),nt(l,"stroke",e,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,u)=>{const d=l.get("axisFill");d&&(!fe(u)||u%2==0?d.setPrivate("visible",!0):d.setPrivate("visible",!1))}});const s=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],r={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_hour"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month"),year:n.translate("_date_year")},a={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_day"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month")+" "+n.translate("_date_year"),year:n.translate("_date_year")},o={millisecond:n.translate("_date_millisecond_full"),second:n.translate("_date_second_full"),minute:n.translate("_date_minute_full"),hour:n.translate("_date_hour_full"),day:n.translate("_date_day_full"),week:n.translate("_date_week_full"),month:n.translate("_date_month_full"),year:n.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:dk(s),dateFormats:Nu(r),periodChangeDateFormats:Nu(a)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:dk(s),dateFormats:Nu(r),periodChangeDateFormats:Nu(a),tooltipDateFormats:o,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.component,c=l.get("value"),h=l.get("endValue"),f=d.intervalDuration(),p=d.getPrivate("baseInterval"),m=d.getPrivate("gridInterval",p);let v=d.getPrivate("min",0);if(v=Gu(new Date(v),m.timeUnit,m.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),c!=null&&h!=null){const _=Math.round(Math.round((c-v)/f))/2;_==Math.round(_)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.get("index");let c=!1;(!fe(d)||d%2==0)&&(c=!0),u.setPrivate("visible",c)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.component,c=l.get("value"),h=d.getPrivate("step");fe(c)&&fe(h)&&(ui(c/h/2,5)==Math.round(c/h/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:jn(70),height:jn(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,u)=>{const d=u.parent;if(d){const c=d.height(),h=d.width();l.moveTo(0,c/2),l.lineTo(h,c/2)}}});{const l=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});nt(l,"stroke",e,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,u)=>{const d=u.parent;if(d){const c=d.height(),h=d.width();l.moveTo(0,0),l.lineTo(h,0),l.lineTo(h,c),l.lineTo(0,c),l.lineTo(0,0)}}});{const l=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});nt(l,"stroke",e,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:jn(50),height:jn(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:jn(80),height:jn(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});nt(l,"fill",e,"positive"),nt(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});nt(l,"fill",e,"negative"),nt(l,"stroke",e,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});nt(l,"fill",e,"positive"),nt(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});nt(l,"fill",e,"negative"),nt(l,"stroke",e,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),nt(l,"stroke",e,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:at}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:at}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:Ne}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:Ne})}}class bg extends vc{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new py}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new py}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(it.new(this._root,{width:Ne,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(it.new(this._root,{width:Ne,height:Ne,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(it.new(this._root,{width:Ne,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(it.new(this._root,{height:Ne,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(it.new(this._root,{width:Ne,height:Ne,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(it.new(this._root,{width:Ne,height:Ne}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(it.new(this._root,{width:Ne,height:Ne}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(it.new(this._root,{width:Ne,height:Ne,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:it.new(this._root,{width:Ne,height:Ne,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(it.new(this._root,{height:Ne,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(it.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(fg.new(this._root,{themeTags:["zoom"],icon:cn.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(zxe.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let n=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",n);const s=this.plotContainer;s.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),s.children.push(this.topGridContainer),s.children.push(this.bulletsContainer),s.set("interactive",!0),s.set("interactiveChildren",!1),s.set("background",er.new(e,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(s.events.on("pointerdown",r=>{this._handlePlotDown(r)})),this._disposers.push(s.events.on("globalpointerup",r=>{this._handlePlotUp(r)})),this._disposers.push(s.events.on("globalpointermove",r=>{this._handlePlotMove(r)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const n=e.get("xAxis");n&&(Er(n.series,e),n.markDirtyExtremes());const i=e.get("yAxis");i&&(Er(i.series,e),i.markDirtyExtremes());const s=this.get("cursor");if(s){const r=s.get("snapToSeries");r&&Er(r,e)}super._removeSeries(e)}handleWheel(e){const n=this.get("wheelX"),i=this.get("wheelY"),s=this.plotContainer,r=e.originalEvent;let a=!1;if(QC(r,this))a=!0;else return;const o=s.toLocal(e.point),l=this.get("wheelStep",.2),u=r.deltaY/100,d=r.deltaX/100,c=this.get("wheelZoomPositionX"),h=this.get("wheelZoomPositionY");(n==="zoomX"||n==="zoomXY")&&d!=0&&this.xAxes.each(f=>{if(f.get("zoomX")){let p=f.get("start"),m=f.get("end"),v=f.fixPosition(o.x/s.width());c!=null&&(v=c);let _=f.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(m-p)*d*v)),x=Math.max(-_,Math.min(1+_,m+l*(m-p)*d*(1-v)));b==p&&x==m&&(a=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):a=!1}}),(i==="zoomX"||i==="zoomXY")&&u!=0&&this.xAxes.each(f=>{if(f.get("zoomX")){let p=f.get("start"),m=f.get("end"),v=f.fixPosition(o.x/s.width());c!=null&&(v=c);let _=f.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(m-p)*u*v)),x=Math.max(-_,Math.min(1+_,m+l*(m-p)*u*(1-v)));b==p&&x==m&&(a=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):a=!1}}),(n==="zoomY"||n==="zoomXY")&&d!=0&&this.yAxes.each(f=>{if(f.get("zoomY")){let p=f.get("start"),m=f.get("end"),v=f.fixPosition(o.y/s.height());h!=null&&(v=h);let _=f.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(m-p)*d*v)),x=Math.max(-_,Math.min(1+_,m+l*(m-p)*d*(1-v)));b==p&&x==m&&(a=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):a=!1}}),(i==="zoomY"||i==="zoomXY")&&u!=0&&this.yAxes.each(f=>{if(f.get("zoomY")){let p=f.get("start"),m=f.get("end"),v=f.fixPosition(o.y/s.height());h!=null&&(v=h);let _=f.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(m-p)*u*v)),x=Math.max(-_,Math.min(1+_,m+l*(m-p)*u*(1-v)));b==p&&x==m&&(a=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):a=!1}}),(n==="panX"||n==="panXY")&&d!=0&&this.xAxes.each(f=>{if(f.get("panX")){let p=f.get("start"),m=f.get("end"),v=this._getWheelSign(f)*l*(m-p)*d,_=p+v,b=m+v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==m&&(a=!1),this._handleWheelAnimation(f.zoom(_,b))}}),(i==="panX"||i==="panXY")&&u!=0&&this.xAxes.each(f=>{if(f.get("panX")){let p=f.get("start"),m=f.get("end"),v=this._getWheelSign(f)*l*(m-p)*u,_=p+v,b=m+v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==m&&(a=!1),this._handleWheelAnimation(f.zoom(_,b))}}),(n==="panY"||n==="panXY")&&d!=0&&this.yAxes.each(f=>{if(f.get("panY")){let p=f.get("start"),m=f.get("end"),v=this._getWheelSign(f)*l*(m-p)*d,_=p+v,b=m+v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==m&&(a=!1),this._handleWheelAnimation(f.zoom(_,b))}}),(i==="panY"||i==="panXY")&&u!=0&&this.yAxes.each(f=>{if(f.get("panY")){let p=f.get("start"),m=f.get("end"),v=this._getWheelSign(f)*l*(m-p)*u,_=p-v,b=m-v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==m&&(a=!1),this._handleWheelAnimation(f.zoom(_,b))}}),a&&r.preventDefault()}_handleSetWheel(){const e=this.get("wheelX"),n=this.get("wheelY"),i=this.plotContainer;e!=="none"||n!=="none"?(this._wheelDp=i.events.on("wheel",s=>{const r=s.originalEvent;(e!=="none"&&Math.abs(r.deltaX)!=0||n!=="none"&&Math.abs(r.deltaY)!=0)&&this.handleWheel(s)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let n=1;return e.get("renderer").get("inversed")&&(n=-1),n}_fixWheel(e,n){const i=n-e;return e<0&&(e=0,n=e+i),n>1&&(n=1,e=n-i),[e,n]}_handlePlotDown(e){const n=e.originalEvent;if(n.button==2)return;const i=this.plotContainer;let s=i.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&n.pointerId&&bi(i._downPoints).length>0){const a=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);a&&(this._downStartX=a.get("start",0),this._downEndX=a.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&s.x>=0&&s.y>=0&&s.x<=i.width()&&s.y<=this.height()){this._downPoint={x:n.clientX,y:n.clientY};const r=this.get("panX"),a=this.get("panY");r&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),a&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});const o="panstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const n=this._downPoint;if(n&&(this.get("panX")||this.get("panY"))){if(e.originalEvent.clientX==n.x&&e.originalEvent.clientY==n.y){const s="pancancelled";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent})}const i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(e){const n=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const r=e.originalEvent.pointerId;if(r&&(this._movePoints[r]=e.point,bi(n._downPoints).length>1)){this._handlePinch();return}}let i=this._downPoint;if(i){i=n.toLocal(this._root.documentPointToRoot(i));let s=n.toLocal(e.point);const r=this.get("panX"),a=this.get("panY");if(r){let o=this.get("scrollbarX");o&&o.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let u=l._panStart,d=l._panEnd,h=(d-u)*(i.x-s.x)/n.width();l.get("renderer").get("inversed")&&(h*=-1);let f=u+h,p=d+h;p-f<1+l.get("maxDeviation",1)*2&&(l.set("start",f),l.set("end",p))}}),o&&o.events.enableType("rangechanged")}if(a){let o=this.get("scrollbarY");o&&o.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let u=l._panStart,d=l._panEnd,h=(d-u)*(i.y-s.y)/n.height();l.get("renderer").get("inversed")&&(h*=-1);let f=u-h,p=d-h;p-f<1+l.get("maxDeviation",1)*2&&(l.set("start",f),l.set("end",p))}}),o&&o.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let n=0,i=[],s=[];if(sn(e._downPoints,(r,a)=>{i[n]=a;let o=this._movePoints[r];o&&(s[n]=o),n++}),i.length>1&&s.length>1){const r=e.width(),a=e.height();let o=i[0],l=i[1],u=s[0],d=s[1];if(o&&l&&u&&d){if(u=e.toLocal(u),d=e.toLocal(d),o=e.toLocal(o),l=e.toLocal(l),this.get("pinchZoomX")){const c=this._downStartX,h=this._downEndX;if(c!=null&&h!=null){o.x>l.x&&([o,l]=[l,o],[u,d]=[d,u]);let f=c+o.x/r*(h-c),p=c+l.x/r*(h-c),m=c+u.x/r*(h-c),v=c+d.x/r*(h-c),_=Math.max(.001,p-f),b=Math.max(.001,v-m),x=_/b,k=c*x+f-m*x,I=h*x+p-v*x;this.xAxes.each(E=>{let T=E.fixPosition(k),S=E.fixPosition(I);E.zoom(T,S,0)})}}if(this.get("pinchZoomY")){const c=this._downStartY,h=this._downEndY;if(c!=null&&h!=null){o.y<l.y&&([o,l]=[l,o],[u,d]=[d,u]);let f=c+(1-o.y/a)*(h-c),p=c+(1-l.y/a)*(h-c),m=c+(1-u.y/a)*(h-c),v=c+(1-d.y/a)*(h-c),_=Math.max(.001,p-f),b=Math.max(.001,v-m),x=_/b,k=c*x+f-m*x,I=h*x+p-v*x;this.yAxes.each(E=>{let T=E.fixPosition(k),S=E.fixPosition(I);E.zoom(T,S,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const n=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&n){const s=e.get("snapToSeriesBy"),r=[];le(i,l=>{if(!l.isHidden()&&!l.isHiding())if(s!="x!"&&s!="y!"){const u=l.startIndex(),d=l.endIndex();for(let c=u;c<d;c++){const h=l.dataItems[c];h&&!h.isHidden()&&r.push(h)}}else{const u=l.get("tooltipDataItem");u&&r.push(u)}});let a=1/0,o;if(le(r,l=>{const u=l.get("point");if(u){let d=0;s=="x"||s=="x!"?d=Math.abs(n.x-u.x):s=="y"||s=="y!"?d=Math.abs(n.y-u.y):d=Math.hypot(n.x-u.x,n.y-u.y),d<a&&(a=d,o=l)}}),le(i,l=>{const u=l.get("tooltip");u&&u._setDataItem(void 0)}),o){let l=o.component;l.showDataItemTooltip(o),l.setRaw("tooltipDataItem",o);const u=o.get("point");u&&e.handleMove(l.toGlobal({x:u.x-l.x(),y:u.y-l.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,n=this.get("cursor");n!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),n&&(n._setChart(this),this._addCursor(n),this._pushPropertyDisposer("cursor",n.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=n)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,n=this.get("scrollbarX");n!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),n&&(n.parent||this.topAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarX",n.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarX",n.events.on("released",()=>{this.xAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),n.setPrivate("positionTextFunction",i=>{const s=this.xAxes.getIndex(0);return s&&s.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=n)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,n=this.get("scrollbarY");n!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),n&&(n.parent||this.rightAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarY",n.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarY",n.events.on("released",()=>{this.yAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),n.setPrivate("positionTextFunction",i=>{const s=this.yAxes.getIndex(0);return s&&s.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=n)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const n=e.get("xAxis"),i=e.get("yAxis");tV(n.series,e),tV(i.series,e),e._posXDp=e.addDisposer(n.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(i.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",n)),e.get("stacked")&&(e._markDirtyKey("stacked"),le(e.dataItems,s=>{s.set("stackToItemY",void 0),s.set("stackToItemX",void 0)})),e._markDirtyAxes(),i.markDirtyExtremes(),n.markDirtyExtremes(),n._seriesAdded=!0,i._seriesAdded=!0,this._colorize(e)}_colorize(e){const n=this.get("colors");if(n&&e.get("fill")==null){const s=n.next();e._setSoft("stroke",s),e._setSoft("fill",s)}const i=this.get("patterns");if(i&&e.get("fillPattern")==null){const s=i.next();e._setSoft("fillPattern",s)}}_handleCursorSelectEnd(){const e=this.get("cursor"),n=e.get("behavior"),i=e.getPrivate("downPositionX",0),s=e.getPrivate("downPositionY",0),r=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),a=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each(o=>{if(n==="zoomX"||n==="zoomXY"){let l=o.toAxisPosition(i),u=o.toAxisPosition(r);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)}),this.yAxes.each(o=>{if(n==="zoomY"||n==="zoomXY"){let l=o.toAxisPosition(s),u=o.toAxisPosition(a);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,n,i,s){e.each(r=>{let a=r.fixPosition(n),o=r.fixPosition(i),l=r.zoom(a,o,void 0,s);const u="updateScrollbar";r.setPrivateRaw(u,!1),l?l.events.on("stopped",()=>{r.setPrivateRaw(u,!0)}):r.setPrivateRaw(u,!0)})}_processAxis(e,n){return e.events.onAll(i=>{if(i.type==="clear")le(i.oldValues,s=>{this._removeAxis(s)});else if(i.type==="push")n.children.push(i.newValue),i.newValue.processChart(this);else if(i.type==="setIndex")n.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="insertIndex")n.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="removeIndex")this._removeAxis(i.oldValue);else if(i.type==="moveIndex")n.children.moveValue(i.value,i.newIndex),i.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(e){if(!e.isDisposed()){const n=e.parent;n&&n.children.removeValue(e);const i=e.gridContainer,s=i.parent;s&&s.children.removeValue(i);const r=e.topGridContainer,a=r.parent;a&&a.children.removeValue(r)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),n=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",n);const s=this.topAxesContainer;s.set("paddingLeft",e),s.set("paddingRight",n)}processAxis(e){var n=this.get("cursor");n&&(this.addDisposer(e.on("start",()=>{this._updateCursor()})),this.addDisposer(e.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(e,n){let i=e.fixPosition(e.get("start",0)),s=e.fixPosition(e.get("end",1));if(i>s&&([i,s]=[s,i]),this.xAxes.indexOf(e)!=-1){if(n||e.getPrivate("updateScrollbar")){let r=this.get("scrollbarX");r&&(!r.getPrivate("isBusy")||n)&&(r.setRaw("start",i),r.setRaw("end",s),r.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&(n||e.getPrivate("updateScrollbar"))){let r=this.get("scrollbarY");r&&(!r.getPrivate("isBusy")||n)&&(r.setRaw("start",i),r.setRaw("end",s),r.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let n=!1;this.xAxes.each(i=>{(ui(i.get("start",0),6)!=0||ui(i.get("end",1),6)!=1)&&(n=!0)}),this.yAxes.each(i=>{(ui(i.get("start",0),6)!=0||ui(i.get("end",1),6)!=1)&&(n=!0)}),n?e.isHidden()&&e.show():e.hide()}}inPlot(e){const n=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),s=n.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=n.width()+.5&&e.y<=n.height()+.5)return!0;if(i)for(let r=i.length-1;r>=0;r--){const a=i[r];if(a!=this){const o=a.plotContainer,l=this._root.rootPointToDocument(s),u=a._root.documentPointToRoot(l),d=o.toLocal(u);if(d.x>=-.1&&d.y>=-.1&&d.x<=o.width()+.1&&d.y<=o.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,n=e.width(),i=e.height();let s=this.height();const r=this._root.tooltipContainer.get("layerMargin");r&&r.bottom>s&&(s=r.bottom);let a=e._display.toGlobal({x:0,y:0}),o=e._display.toGlobal({x:n,y:i});const l=[];let u=0,d=1/0,c=this._movePoint,h=this.get("maxTooltipDistance"),f=this.get("maxTooltipDistanceBy","xy"),p,m;fe(h)&&this.series.each(_=>{if(!_.isHidden()){const b=_.get("tooltip");if(b){let x=b.get("pointTo");if(x){let k=Math.hypot(c.x-x.x,c.y-x.y);f=="x"?k=Math.abs(c.x-x.x):f=="y"&&(k=Math.abs(c.y-x.y)),k<d&&(d=k,p=_,m=x)}}}});const v=[];if(this.series.each(_=>{const b=_.get("tooltip");if(b&&!b.get("forceHidden")){let x=!1,k=b.get("pointTo");if(k){if(h>=0){let I=b.get("pointTo");if(I&&m&&_!=p){let E=Math.hypot(m.x-I.x,m.y-I.y);f=="x"?E=Math.abs(m.x-I.x):f=="y"&&(E=Math.abs(m.y-I.y)),E>h&&(x=!0)}}else h==-1&&_!=p&&(x=!0);!this.inPlot(this._tooltipToLocal(k))||!b.dataItem?x=!0:x||(u+=k.y),x||_.isHidden()||_.isHiding()?b.hide(0):(b.show(),l.push(b),v.push(_))}}}),this.setPrivate("tooltipSeries",v),this.get("arrangeTooltips")){const _=this._root.tooltipContainer,b=l.length;if(u/b>i/2+a.y){l.sort((I,E)=>cV(E.get("pointTo").y,I.get("pointTo").y));let k=o.y;if(le(l,I=>{let E=I.height(),T=I.get("centerY");T instanceof wt&&(E*=T.value),E+=I.get("marginBottom",0),I.set("bounds",{left:a.x,top:a.y,right:o.x,bottom:k}),I.setPrivate("customData",{left:a.x,top:a.y,right:o.x,bottom:k}),k=Math.min(k-E,I._fy-E),I.parent==_&&_.children.moveValue(I,0)}),k<0){l.reverse();let I=k;le(l,E=>{let T=E.get("bounds");if(T){let S=T.top-k,w=T.bottom-k;S<I&&(S=I,w=S+E.height()),E.set("bounds",{left:T.left,top:S,right:T.right,bottom:w}),I=T.bottom-k+E.get("marginBottom",0)}})}}else{l.reverse(),l.sort((I,E)=>cV(I.get("pointTo").y,E.get("pointTo").y));let k=0;if(le(l,I=>{let E=I.height(),T=I.get("centerY");T instanceof wt&&(E*=T.value),E+=I.get("marginBottom",0),I.set("bounds",{left:a.x,top:k,right:o.x,bottom:Math.max(a.y+s,k+E)}),I.parent==_&&_.children.moveValue(I,0),k=Math.max(k+E,I._fy+E)}),k>s){l.reverse();let I=s;le(l,E=>{let T=E.get("bounds");if(T){let S=T.top-(s-k),w=T.bottom-(s-k);w>I&&(w=I,S=w-E.height()),E.set("bounds",{left:T.left,top:S,right:T.right,bottom:w}),I=w-E.height()-E.get("marginBottom",0)}})}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}_dispose(){super._dispose();const e=this.get("cursor");e&&e.dispose()}}Object.defineProperty(bg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(bg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vc.classNames.concat([bg.className])});class yh extends cn{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(yh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(yh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([yh.className])});class Ty extends it{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(yh.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(yh.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(cn.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:Ne,height:Ne,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),Fa("keyboardevents")&&this._disposers.push(Nn(document,"keydown",e=>{this._handleLineMove(wd(e),e.ctrlKey)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let e=this.lineX.x(),n=!0;(e<0||e>this.width())&&(n=!1),this.lineX.setPrivate("visible",n)}_handleYLine(){let e=this.lineY.y(),n=!0;(e<0||e>this.height())&&(n=!1),this.lineY.setPrivate("visible",n)}_handleLineMove(e,n){let i="";const s=this.chart;let r;if(s&&s.xAxes.length){this._root.focused(this.lineX)?(i="positionX",r=s.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(r=s.yAxes.getIndex(0),i="positionY");let a=1;if(n&&(a=5),r){let o=r.get("renderer").get("inversed",!1),l;e=="ArrowRight"||e=="ArrowDown"?l=1:e=="ArrowLeft"||e=="ArrowUp"?l=-1:e=="Tab"&&(l=0),l!=null&&(o&&(l*=-1),this.set(i,r.nextPosition(l*a)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const n=e.get("tooltip");n&&(this._tooltipX=!0,this._disposers.push(n.on("pointTo",()=>{this._updateXLine(n)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const n=e.get("tooltip");n&&(this._tooltipY=!0,this._disposers.push(n.on("pointTo",()=>{this._updateYLine(n)})))}}}_handleSyncWith(){const e=this.chart;if(e){const n=this.get("syncWith"),i=[];n&&le(n,s=>{const r=s.chart;r&&i.push(r)}),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),n=this.get("positionY");e==null&&n==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let n=ui(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,3);this._toX!=n&&(this.lineX.animate({key:"x",to:n,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=n)}_updateYLine(e){let n=ui(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,3);this._toY!=n&&(this.lineY.animate({key:"y",to:n,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=n)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const n=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Fa("touchevents")&&(this._disposers.push(n.events.on("click",s=>{gk(s.originalEvent)&&this._handleMove(s)})),this._setUpTouch()),this._disposers.push(n.events.on("pointerdown",s=>{this._handleCursorDown(s)})),this._disposers.push(n.events.on("globalpointerup",s=>{this._handleCursorUp(s),!s.native&&!this.isHidden()&&this._handleMove(s)})),this._disposers.push(n.events.on("globalpointermove",s=>{!this.get("syncWith")&&bi(n._downPoints).length==0&&!s.native&&this.isHidden()||(this._handleMove(s),Math.hypot(this._lastPoint2.x-s.point.x,this._lastPoint2.y-s.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=s.point))}));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const n=this.chart;return n?n.inPlot(e):!1}_handleCursorDown(e){if(e.originalEvent.button==2)return;const n=e.point;let i=this._display.toLocal(n);const s=this.chart;if(this.selection.set("draw",()=>{}),s&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();const o="selectstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}let r=this._getPosition(i).x,a=this._getPosition(i).y;this.setPrivate("downPositionX",r),this.setPrivate("downPositionY",a)}}_handleCursorUp(e){if(this._downPoint){const n=this.get("behavior","none");if(n!="none"){n.charAt(0)==="z"&&this.selection.hide();const i=e.point;let s=this._display.toLocal(i);const r=this._downPoint,a=this.get("moveThreshold",1);if(s&&r){let o=!1;if((n==="zoomX"||n==="zoomXY"||n==="selectX"||n==="selectXY")&&Math.abs(s.x-r.x)>a&&(o=!0),(n==="zoomY"||n==="zoomXY"||n==="selectY"||n==="selectXY")&&Math.abs(s.y-r.y)>a&&(o=!0),o){const l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}else{const l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const n=this.chart;if(n&&bi(n.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);const i=e.point,s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,n,i){e||(e=this._movePoint);const s=this.get("alwaysShow");if(!e){this.hide(0);return}this._movePoint=e;let r=this._display.toLocal(e),a=this.chart;if(a&&(this._inPlot(r)||this._downPoint)){a._movePoint=e,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let o=r.x,l=r.y,u=this._getPosition(r);this.setPrivate("point",r);let d=this.get("snapToSeries");this._downPoint&&(d=void 0);let c=this.get("positionX"),h=u.x;fe(c)&&(h=c);let f=this.get("positionY"),p=u.y;fe(f)&&(p=f),this.setPrivate("positionX",h),this.setPrivate("positionY",p);const m=this._getPoint(h,p);if(o=m.x,l=m.y,a.xAxes.each(v=>{v._handleCursorPosition(h,d),s&&v.handleCursorShow()}),a.yAxes.each(v=>{v._handleCursorPosition(p,d),s&&v.handleCursorShow()}),!n){a._handleCursorPosition();const v="cursormoved";this.events.isEnabled(v)&&this.events.dispatch(v,{type:v,target:this,point:e,originalEvent:i})}this._updateLines(o,l),a.arrangeTooltips()}else if(!this._downPoint&&!s){this.hide(0);const o="cursorhidden";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(r)}_getPoint(e,n){return{x:this.width()*e,y:this.height()*n}}_updateLines(e,n){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",n),this._drawLines()}_updateSelection(e){const n=this.selection,i=this.get("behavior"),s=this.width(),r=this.height();e.x<0&&(e.x=0),e.x>s&&(e.x=s),e.y<0&&(e.y=0),e.y>r&&(e.y=r),n.set("draw",a=>{const o=this._downPoint;o&&(i==="zoomXY"||i==="selectXY"?(a.moveTo(o.x,o.y),a.lineTo(o.x,e.y),a.lineTo(e.x,e.y),a.lineTo(e.x,o.y),a.lineTo(o.x,o.y)):i==="zoomX"||i==="selectX"?(a.moveTo(o.x,0),a.lineTo(o.x,r),a.lineTo(e.x,r),a.lineTo(e.x,0),a.lineTo(o.x,0)):(i==="zoomY"||i==="selectY")&&(a.moveTo(0,o.y),a.lineTo(s,o.y),a.lineTo(s,e.y),a.lineTo(0,e.y),a.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(n=>{n.handleCursorHide()}),e.yAxes.each(n=>{n.handleCursorHide()}),e.series.each(n=>{n.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(n=>{n.handleCursorShow()}),e.yAxes.each(n=>{n.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(Ty,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(Ty,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.classNames.concat([Ty.className])});function Wxe(t,e){return t==null?e:e==null?t:e<t?e:t}function Yxe(t,e){return t==null?e:e==null?t:e>t?e:t}class bc extends No{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Kh}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new ra(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")le(e.oldValues,n=>{this._removeAxisRange(n)});else if(e.type==="push")this._processAxisRange(e.newValue);else if(e.type==="setIndex")this._processAxisRange(e.newValue);else if(e.type==="insertIndex")this._processAxisRange(e.newValue);else if(e.type==="removeIndex")this._removeAxisRange(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(e){const n=it.new(this._root,{});e.container=n,this.children.push(n),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const s=i.component;if(s){s._processAxisRange(i,["range","series"]);const r=i.get("bullet");if(r){const o=r.get("sprite");o&&o.setPrivate("visible",!1)}const a=i.get("axisFill");a&&n.set("mask",a),s._seriesAxisRanges.push(i)}}_removeAxisRange(e){const n=e.axisDataItem,i=n.component;i.disposeDataItem(n),Er(i._seriesAxisRanges,n);const s=e.container;s&&s.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&le(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let i=this.get(e+"Show");this.__valueXShowFields.push(i),i.indexOf("Working")!=-1?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&le(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let i=this.get(e+"Show");this.__valueYShowFields.push(i),i.indexOf("Working")!=-1?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),ns(this.get("xAxis").series,this),ns(this.get("yAxis").series,this)}_min(e,n){let i=Wxe(this.getPrivate(e),n);this.setPrivate(e,i)}_max(e,n){let i=Yxe(this.getPrivate(e),n);this.setPrivate(e,i)}_shouldMakeBullet(e){const n=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis");if(!n.inited||!i.inited)return!1;const r=this.get("minBulletDistance",0);if(r>0){let a=this.startIndex(),l=this.endIndex()-a;if(n==s){if(n.get("renderer").axisLength()/l<r/5)return!1}else if(i==s&&i.get("renderer").axisLength()/l<r/5)return!1}return e.get(this._xField)!=null&&e.get(this._yField)!=null}_makeFieldNames(){const e=this.get("xAxis"),n=this.get("yAxis"),i=e.getPrivate("name"),s=aV(i),r=n.getPrivate("name"),a=aV(r),o=e.get("renderer").getPrivate("letter"),l=n.get("renderer").getPrivate("letter"),u="open",d="low",c="high",h="Show";e.className==="ValueAxis"?(this._xField=this.get(i+o+h),this._xOpenField=this.get(u+s+o+h),this._xLowField=this.get(d+s+o+h),this._xHighField=this.get(c+s+o+h)):(this._xField=i+o,this._xOpenField=u+s+o,this._xLowField=d+s+o,this._xHighField=c+s+o),n.className==="ValueAxis"?(this._yField=this.get(r+l+h),this._yOpenField=this.get(u+a+l+h),this._yLowField=this.get(d+a+l+h),this._yHighField=this.get(c+a+l+h)):(this._yField=r+l,this._yOpenField=u+a+l,this._yLowField=d+a+l,this._yHighField=c+a+l)}_fixVC(){const e=this.get("xAxis"),n=this.get("yAxis"),i=this.get("baseAxis"),s=this.states.lookup("hidden"),r=this.get("sequencedInterpolation");if(s){let a=0;r&&(a=.999999999999),e===i?s.set("vcy",a):(n===i||s.set("vcy",a),s.set("vcx",a))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),n=this.get("yAxis");this.set("x",e.x()-Qn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",n.y()-Qn(n.get("centerY",0),n.height())-n.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),n=this.get("yAxis"),i=this.get("baseAxis"),s=this.get("tooltipPositionX");let r;switch(s){case"open":r=this._xOpenField;break;case"low":r=this._xLowField;break;case"high":r=this._xHighField;break;default:r=this._xField}this._tooltipFieldX=r;const a=this.get("tooltipPositionY");let o;switch(a){case"open":o=this._yOpenField;break;case"low":o=this._yLowField;break;case"high":o=this._yHighField;break;default:o=this._yField}this._tooltipFieldY=o,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),le(this.dataItems,u=>{le(this._valueXShowFields,d=>{let c=u.get(d);c!=null&&(l&&(c+=this.getStackedXValue(u,d)),this._min("minX",c),this._max("maxX",c))}),le(this._valueYShowFields,d=>{let c=u.get(d);c!=null&&(l&&(c+=this.getStackedYValue(u,d)),this._min("minY",c),this._max("maxY",c))}),e.processSeriesDataItem(u,this._valueXFields),n.processSeriesDataItem(u,this._valueYFields)}),e._seriesValuesDirty=!0,n._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&n.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),n._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),d=this.endIndex(),c=this.get("minBulletDistance",0);if(c>0&&i&&(i.get("renderer").axisLength()/(d-u)>c?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=d||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const h=this.get("vcx",1),f=this.get("vcy",1),p=this.get("stacked",!1),m=this.getPrivate("outOfSelection");if(i===e||!i)if(n._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),m)n.markDirtySelectionExtremes();else for(let v=u;v<d;v++)this.processYSelectionDataItem(this.dataItems[v],f,p);if(i===n||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),m)n.markDirtySelectionExtremes();else for(let v=u;v<d;v++)this.processXSelectionDataItem(this.dataItems[v],h,p);if((i===e||!i)&&this.get("valueYShow")!=="valueYWorking"){const v=this.getPrivate("selectionMinY");v!=null&&(this.setPrivateRaw("minY",v),n.markDirtyExtremes());const _=this.getPrivate("selectionMaxY");_!=null&&(this.setPrivateRaw("maxY",_),n.markDirtyExtremes())}if((i===n||!i)&&this.get("valueXShow")!=="valueXWorking"){const v=this.getPrivate("selectionMinX");v!=null&&(this.setPrivateRaw("minX",v),n.markDirtyExtremes());const _=this.getPrivate("selectionMaxX");_!=null&&(this.setPrivateRaw("maxX",_),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&n.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;e==null&&(e=this.children.push(cn.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(n,i)=>{const s=this.parent;if(s){const r=this._root.container.width(),a=this._root.container.height();n.moveTo(-r,-a),n.lineTo(-r,a*2),n.lineTo(r*2,a*2),n.lineTo(r*2,-a),n.lineTo(-r,-a),this.axisRanges.each(o=>{const l=o.axisDataItem.get("axisFill");if(s&&l){let u=l.get("draw");u&&u(n,i)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const n=e.series.indexOf(this);if(this._couldStackTo=[],n>0){let i;for(let s=n-1;s>=0&&(i=e.series.getIndex(s),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));s--);}this._stackDataItems()}}_unstack(){sn(this._reallyStackedTo,(e,n)=>{delete n._stackedSeries[this.uid]}),this._reallyStackedTo={},le(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_stackDataItems(){const e=this.get("baseAxis"),n=this.get("xAxis"),i=this.get("yAxis");let s,r;e===n?(s="valueY",r="stackToItemY"):e===i&&(s="valueX",r="stackToItemX");let a=this._couldStackTo.length,o=0;const l=this.get("stackToNegative");this._reallyStackedTo={},le(this.dataItems,u=>{for(let d=0;d<a;d++){let c=this._couldStackTo[d],h=c.dataItems[o],f=u.get(s);if(h){let p=h.get(s);if(l)if(fe(f)){if(fe(p)){if(f>=0&&p>=0){u.setRaw(r,h),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}if(f<0&&p<0){u.setRaw(r,h),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}else break;else if(fe(f)&&fe(p)){u.setRaw(r,h),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}o++})}processXSelectionDataItem(e,n,i){le(this.__valueXShowFields,s=>{let r=e.get(s);r!=null&&(i&&(r+=this.getStackedXValueWorking(e,s)),this._min("selectionMinX",r),this._max("selectionMaxX",r*n))})}processYSelectionDataItem(e,n,i){le(this.__valueYShowFields,s=>{let r=e.get(s);r!=null&&(i&&(r+=this.getStackedYValueWorking(e,s)),this._min("selectionMinY",r),this._max("selectionMaxY",r*n))})}getStackedYValueWorking(e,n){const i=e.get("stackToItemY");if(i){const s=i.component;return i.get(n,0)*s.get("vcy",1)+this.getStackedYValueWorking(i,n)}return 0}getStackedXValueWorking(e,n){const i=e.get("stackToItemX");if(i){const s=i.component;return i.get(n,0)*s.get("vcx",1)+this.getStackedXValueWorking(i,n)}return 0}getStackedYValue(e,n){const i=e.get("stackToItemY");return i?i.get(n,0)+this.getStackedYValue(i,n):0}getStackedXValue(e,n){const i=e.get("stackToItemX");return i?i.get(n,0)+this.getStackedXValue(i,n):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let n=e.get("sprite");if(n){let i=n.dataItem,s=e.get("locationX",i.get("locationX",.5)),r=e.get("locationY",i.get("locationY",.5)),a=this.get("xAxis"),o=this.get("yAxis"),l=a.getDataItemPositionX(i,this._xField,s,this.get("vcx",1)),u=o.getDataItemPositionY(i,this._yField,r,this.get("vcy",1)),d=this.getPoint(l,u),c=i.get("left",d.x),h=i.get("right",d.x),f=i.get("top",d.y),p=i.get("bottom",d.y),m=0,v=0,_=h-c,b=p-f;if(this._shouldShowBullet(l,u)){n.setPrivate("visible",!e.getPrivate("hidden"));let x=e.get("field");const k=this.get("baseAxis"),I=this.get("xAxis"),E=this.get("yAxis");if(x!=null){let S;k==I?(x=="value"?S=this._yField:x=="open"?S=this._yOpenField:x=="high"?S=this._yHighField:x=="low"&&(S=this._yLowField),S&&(u=E.getDataItemPositionY(i,S,0,this.get("vcy",1)),d=E.get("renderer").positionToPoint(u),v=d.y,m=c+_*s)):(x=="value"?S=this._xField:x=="open"?S=this._xOpenField:x=="high"?S=this._xHighField:x=="low"&&(S=this._xLowField),S&&(l=I.getDataItemPositionX(i,S,0,this.get("vcx",1)),d=I.get("renderer").positionToPoint(l),m=d.x,v=p-b*r))}else m=c+_*s,v=p-b*r;const T=e.get("stacked");if(T){const S=this.chart;if(k==I){let w=this._bullets[l+"_"+u];if(w){let C=w.bounds(),P=n.localBounds(),D=v;v=C.top,T=="down"?v=C.bottom-P.top:T=="auto"?S&&(D<S.plotContainer.height()/2?v=C.bottom-P.top:v+=P.bottom):v+=P.bottom}this._bullets[l+"_"+u]=n}else{let w=this._bullets[l+"_"+u];if(w){let C=w.bounds(),P=n.localBounds(),D=m;m=C.right,T=="down"?m=C.left-P.right:T=="auto"?S&&(D<S.plotContainer.width()/2?m=C.left-P.right:m-=P.left):m-=P.left}this._bullets[l+"_"+u]=n}}n.isType("Label")&&(n.setPrivate("maxWidth",Math.abs(_)),n.setPrivate("maxHeight",Math.abs(b))),n.setAll({x:m,y:v})}else n.setPrivate("visible",!1)}}_shouldShowBullet(e,n){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const n="datasetchanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,id:e})}}resetGrouping(){sn(this._dataSets,(e,n)=>{n!=this._mainDataItems&&le(n,i=>{this.disposeDataItem(i)})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){le(this._dataItems,e=>{let n=e.bullets;n&&le(n,i=>{if(i){let s=i.get("sprite");s&&s.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const n=Object.create(null,{show:{get:()=>super.show}});return wi(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(n.show.call(this,e).then(()=>{this._isShowing=!1;let s=this.get("xAxis"),r=this.get("yAxis"),a=this.get("baseAxis");r!==a&&r.markDirtySelectionExtremes(),s!==a&&s.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const n=Object.create(null,{hide:{get:()=>super.hide}});return wi(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(n.hide.call(this,e).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)];fe(n)||(n=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");le(this._valueFields,a=>{s.push(e.animate({key:a+"Working",to:e.get(a),duration:n,easing:r}).waitForStop())}),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=this.states.create("hidden",{});fe(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),d=this.get("stacked");if((u===o||!u)&&le(this._valueYFields,c=>{let h=l.getPrivate("min"),f=l.baseValue();fe(h)&&h>f&&(f=h),d&&(f=0),e.get(c)!=null&&s.push(e.animate({key:c+"Working",to:f,duration:n,easing:a}).waitForStop())}),u===l||!u){let c=o.getPrivate("min"),h=o.baseValue();fe(c)&&c>h&&(h=c),d&&(h=0),le(this._valueXFields,f=>{e.get(f)!=null&&s.push(e.animate({key:f+"Working",to:h,duration:n,easing:a}).waitForStop())})}yield Promise.all(s)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&sn(e,(n,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const n=this.get("tooltip");if(n)if(!this.isHidden()&&this.get("visible")){if(n._setDataItem(e),e){let i=this.get("locationX",0),s=this.get("locationY",1),r=e.get("locationX",i),a=e.get("locationY",s);const o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("vcx",1),d=this.get("vcy",1),c=o.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*r,u),h=l.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*a,d),f=this.getPoint(c,h);let p=!0;if(le(this._valueFields,m=>{e.get(m)==null&&(p=!1)}),p){const m=this.chart;m&&m.inPlot(f)?(n.label.text.markDirtyText(),n.set("tooltipTarget",this._getTooltipTarget(e)),n.set("pointTo",this._display.toGlobal({x:f.x,y:f.y}))):n._setDataItem(void 0)}else n._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet"){const n=e.bullets;if(n&&n.length>0){const s=n[0].get("sprite");if(s)return s}}return this}updateLegendValue(e){const n=this.get("legendDataItem");if(n){const i=n.get("label");if(i){let r="";e?(i._setDataItem(e),r=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),r=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",r)}const s=n.get("valueLabel");if(s){let r="";e?(s._setDataItem(e),r=this.get("legendValueText",s.get("text",""))):(s._setDataItem(this._emptyDataItem),r=this.get("legendRangeValueText",s.get("text",""))),s.set("text",r)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,n){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),s=this.get("yAxis").get("renderer").positionToCoordinate(n),r=999999999;return s<-999999999&&(s=-999999999),s>r&&(s=r),i<-999999999&&(i=-999999999),i>r&&(i=r),{x:i,y:s}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(e){const n=this.get("xAxis");if(this.get("baseAxis")==n&&n.isType("DateAxis")){const s=n.baseDuration(),r=n.getPrivate("selectionMin",n.getPrivate("min",0)),a=s*this.get("locationX",.5);let o=-1/0;for(;o<r;){const l=this.dataItems[e];if(l){const u=l.open;if(u?o=u.valueX:o=l.get("valueX",0),o+=a,o<r)e++;else break}else break}}return e}}Object.defineProperty(bc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(bc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([bc.className])});class wc extends bc{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(e,n){return this.makeColumn(n,e)}_makeFieldNames(){super._makeFieldNames();const e=this.get("xAxis"),n=this.get("yAxis"),i="CategoryAxis",s="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(s)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),n.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),n.isType(s)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const e=this.get("xAxis"),n=this.get("yAxis"),i=this.dataItems.length,s=Math.max(0,this.startIndex()-2),r=Math.min(this.endIndex()+2,i-1);if(e.inited&&n.inited)for(let a=s;a<=r;a++){let o=this.dataItems[a];this._createGraphics(o)}}_updateChildren(){const e=this.chart;e&&(this._ph=e.plotContainer.height(),this._pw=e.plotContainer.width());const n=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis"),r=this.columns.template;this.isDirty("fill")&&r.get("fill")==null&&r.set("fill",this.get("fill")),this.isDirty("fillPattern")&&r.get("fillPattern")==null&&r.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&r.get("stroke")==null&&r.set("stroke",this.get("stroke"));let a=0,o=0,l=0;le(s.series,_=>{if(_ instanceof wc){const b=_.get("stacked");b&&l==0&&o++,!b&&_.get("clustered")&&o++}_===this&&(a=o-1),l++}),this.get("clustered")||(a=0,o=1),o===0&&(o=1,a=0);const u=n.get("renderer"),d=i.get("renderer"),c="cellStartLocation",h="cellEndLocation",f=u.get(c,0),p=u.get(h,1),m=d.get(c,0),v=d.get(h,1);if(this._aLocationX0=f+a/o*(p-f),this._aLocationX1=f+(a+1)/o*(p-f),this._aLocationY0=m+a/o*(v-m),this._aLocationY1=m+(a+1)/o*(v-m),n.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const _=this.dataItems.length;let b=Math.max(0,this.startIndex()-2),x=Math.min(this.endIndex()+2,_-1);for(let I=0;I<b;I++)this._toggleColumn(this.dataItems[I],!1);let k=this.dataItems[b];for(let I=b;I<=x;I++){let E=this.dataItems[I];if(E.get("valueX")!=null&&E.get("valueY")!=null){if(k=E,I>0&&b>0)for(let T=I-1;T>=0;T--){let S=this.dataItems[T];if(S.get("valueX")!=null&&S.get("valueY")!=null){k=S;break}}break}else this._toggleColumn(E,!1)}for(let I=b;I<=x;I++){let E=this.dataItems[I];this._updateGraphics(E,k),E.get("valueX")!=null&&E.get("valueY")!=null&&(k=E)}for(let I=x+1;I<_;I++)this._toggleColumn(this.dataItems[I],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(e){let n=e.get("graphics");if(!n){n=this._makeGraphics(this.columns,e),e.set("graphics",n),n._setDataItem(e);const i=e.get("legendDataItem");if(i){const r=i.get("markerRectangle");if(r){const a=r.states.lookup("default");le(_k,o=>{const l=n.get(o,this.get(o));r.set(o,l),a.set(o,l)})}}let s=e.get("rangeGraphics");s&&le(s,r=>{r.dispose()}),s=[],e.setRaw("rangeGraphics",s),this.axisRanges.each(r=>{const a=r.container,o=this._makeGraphics(r.columns,e);s&&s.push(o),o.setPrivate("list",r.columns),a.children.push(o)})}}createAxisRange(e){return le(this.dataItems,n=>{const i=n.get("graphics");i&&(i.dispose(),n.set("graphics",void 0))}),super.createAxisRange(e)}_updateGraphics(e,n){let i=e.get("graphics");const s=this._xField,r=this._yField,a=e.get(s),o=e.get(r);if(a!=null&&o!=null){const l=this._xOpenField,u=this._yOpenField,d=this.get("locationX",e.get("locationX",.5)),c=this.get("locationY",e.get("locationY",.5)),h=this.get("openLocationX",e.get("openLocationX",d)),f=this.get("openLocationY",e.get("openLocationY",c)),p=i.get("width"),m=i.get("height"),v=this.get("stacked"),_=this.get("xAxis"),b=this.get("yAxis"),x=this.get("baseAxis"),k=_.get("start"),I=_.get("end"),E=b.get("start"),T=b.get("end");let S,w,C,P,D=this.get("vcy",1),A=this.get("vcx",1),F=!1,L=!1;if(b.isType("CategoryAxis")&&_.isType("CategoryAxis")){let X=this._aLocationX0+h-.5,z=this._aLocationX1+d-.5;if(p instanceof wt){let K=(z-X)*(1-p.value)/2;X+=K,z-=K}if(S=_.getDataItemPositionX(e,l,X,A),w=_.getDataItemPositionX(e,s,z,A),X=this._aLocationY0+f-.5,z=this._aLocationY1+c-.5,m instanceof wt){let K=(z-X)*(1-m.value)/2;X+=K,z-=K}C=b.getDataItemPositionY(e,u,X,D),P=b.getDataItemPositionY(e,r,z,D),e.setRaw("point",{x:S+(w-S)/2,y:C+(P-C)/2})}else if(_===x){let X=this._aLocationX0+h-.5,z=this._aLocationX1+d-.5;if(p instanceof wt){let K=(z-X)*(1-p.value)/2;X+=K,z-=K}if(S=_.getDataItemPositionX(e,l,X,A),w=_.getDataItemPositionX(e,s,z,A),C=b.getDataItemPositionY(e,r,c,D),this._yOpenField!==this._yField)P=b.getDataItemPositionY(e,u,f,D);else if(v){let K=e.get("stackToItemY");K?P=b.getDataItemPositionY(K,r,f,K.component.get("vcy")):P=b.basePosition()}else P=b.basePosition();e.setRaw("point",{x:S+(w-S)/2,y:C}),L=!0}else if(b===x){let X=this._aLocationY0+f-.5,z=this._aLocationY1+c-.5;if(m instanceof wt){let K=(z-X)*(1-m.value)/2;X+=K,z-=K}if(C=b.getDataItemPositionY(e,u,X,D),P=b.getDataItemPositionY(e,r,z,D),w=_.getDataItemPositionX(e,s,d,A),this._xOpenField!==this._xField)S=_.getDataItemPositionX(e,l,h,A);else if(v){let K=e.get("stackToItemX");K?S=_.getDataItemPositionX(K,s,h,K.component.get("vcx")):S=_.basePosition()}else S=_.basePosition();F=!0,e.setRaw("point",{x:w,y:C+(P-C)/2})}this._updateSeriesGraphics(e,i,S,w,C,P,F,L),S<k&&w<k||S>I&&w>I||C<E&&P<=E||C>=T&&P>T||fa(S)||fa(C)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);let H=e.get("rangeGraphics");H&&le(H,X=>{this._updateSeriesGraphics(e,X,S,w,C,P,F,L)}),this._applyGraphicsStates(e,n)}else this._toggleColumn(e,!1)}_updateSeriesGraphics(e,n,i,s,r,a,o,l){const u=n.get("width"),d=n.get("height"),c=n.get("maxWidth"),h=n.get("maxHeight"),f=this.getPoint(i,r),p=this.getPoint(s,a),m=e.get("point");if(m){const v=this.getPoint(m.x,m.y);m.x=v.x+this._x,m.y=v.y+this._y}if(i=f.x,s=p.x,r=f.y,a=p.y,fe(u)){const v=(s-i-u)/2;i+=v,s-=v}if(fe(c)&&c<Math.abs(s-i)){const v=(s-i-c)/2;i+=v,s-=v}if(fe(d)){const v=(a-r-d)/2;r+=v,a-=v}if(fe(h)&&h<Math.abs(a-r)){const v=(a-r-h)/2;r+=v,a-=v}this.get("adjustBulletPosition")&&(o&&(s=Math.min(Math.max(0,s),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(r=Math.min(Math.max(0,r),this._ph),a=Math.min(Math.max(0,a),this._ph))),e.setRaw("left",i),e.setRaw("right",s),e.setRaw("top",r),e.setRaw("bottom",a),n.setPrivate("width",s-i),n.setPrivate("height",a-r),n.set("x",i),n.set("y",a-(a-r))}_handleDataSetChange(){super._handleDataSetChange(),le(this._dataItems,e=>{this._toggleColumn(e,!1)})}_applyGraphicsStates(e,n){const i=e.get("graphics"),s=i.states.lookup("dropFromOpen"),r=i.states.lookup("riseFromOpen"),a=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(s||a||r||o){const l=this.get("xAxis"),u=this.get("yAxis"),d=this.get("baseAxis");let c,h,f;d===l&&u.isType("ValueAxis")?(c=e.get(this._yOpenField),h=e.get(this._yField),f=n.get(this._yField)):d===u&&l.isType("ValueAxis")&&(c=e.get(this._xOpenField),h=e.get(this._xField),f=n.get(this._xField)),fe(c)&&fe(h)&&(h<c?s&&s.apply():r&&r.apply(),fe(f)&&(h<f?a&&a.apply():o&&o.apply()))}}disposeDataItem(e){super.disposeDataItem(e);const n=e.get("graphics");n&&(this.columns.removeValue(n),n.dispose());const i=e.get("rangeGraphics");i&&le(i,s=>{const r=s.getPrivate("list");r&&r.removeValue(s),s.dispose()})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=e.get("graphics");r&&s.push(r.hide(n));const a=e.get("rangeGraphics");a&&le(a,o=>{s.push(o.hide(n))}),yield Promise.all(s)})}_toggleColumn(e,n){const i=e.get("graphics");i&&i.setPrivate("visible",n);const s=e.get("rangeGraphics");s&&le(s,a=>{a.setPrivate("visible",n)});const r=e.bullets;r&&le(r,a=>{a.setPrivate("hidden",!n)})}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return wi(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)],r=e.get("graphics");r&&s.push(r.show(n));const a=e.get("rangeGraphics");a&&le(a,o=>{s.push(o.show(n))}),yield Promise.all(s)})}updateLegendMarker(e){let n=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){const i=this.dataItems[this.endIndex()-1];i&&(e=i)}if(n){let i=this.columns.template;if(e){let r=e.get("graphics");r&&(i=r)}const s=n.get("markerRectangle");if(s&&!n.get("itemContainer").get("disabled")){const r=s.states.lookup("default");le(_k,a=>{const o=i.get(a,this.get(a));s.set(a,o),r.set(a,o)})}}}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet")return super._getTooltipTarget(e);let n=e.get("graphics");return n||this}}Object.defineProperty(wc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"});Object.defineProperty(wc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bc.classNames.concat([wc.className])});class xc extends pc{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:it.new(this._root,{width:Ne,height:Ne})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:it.new(this._root,{width:Ne,height:Ne})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{isMeasured:!1,width:Ne,height:Ne,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Kh}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(it.new(this._root,{themeTags:["axis","header"],position:"absolute",background:er.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(n=>{if(n.type==="clear")le(n.oldValues,i=>{this.disposeDataItem(i)});else if(n.type==="push")this._processAxisRange(n.newValue,["range"]);else if(n.type==="setIndex")this._processAxisRange(n.newValue,["range"]);else if(n.type==="insertIndex")this._processAxisRange(n.newValue,["range"]);else if(n.type==="removeIndex")this.disposeDataItem(n.oldValue);else if(n.type==="moveIndex")this._processAxisRange(n.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new ra(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,n){}zoom(e,n,i,s){if(this.get("zoomable",!0))if(this._updateFinals(e,n),this.get("start")!==e||this.get("end")!=n){let r=this._sAnimation,a=this._eAnimation,o=this.get("maxDeviation",.5)*Math.min(1,n-e);e<-o&&(e=-o),n>1+o&&(n=1+o),e>n&&([e,n]=[n,e]),fe(i)||(i=this.get("interpolationDuration",0)),s||(s="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;n===1&&e!==0&&(e<this.get("start",0)?s="start":s="end"),e===0&&n!==1&&(n>this.get("end",1)?s="end":s="start");let d=this.get("minZoomCount",0),c=this.get("maxZoomCount",1/0);fe(d)&&(l=u/d);let h=1;if(fe(c)&&(h=u/c),s==="start"?(c>0&&1/(n-e)<h&&(n=e+1/h),1/(n-e)>l&&(n=e+1/l),n>1&&n-e<1/l&&(e=n-1/l)):(c>0&&1/(n-e)<h&&(e=n-1/h),1/(n-e)>l&&(e=n-1/l),e<0&&n-e<1/l&&(n=e+1/l)),1/(n-e)>l&&(n=e+1/l),1/(n-e)>l&&(e=n-1/l),c!=null&&d!=null&&e==this.get("start")&&n==this.get("end")){const f=this.chart;f&&f._handleAxisSelection(this,!0)}if((r&&r.playing&&r.to==e||this.get("start")==e)&&(a&&a.playing&&a.to==n||this.get("end")==n))return;if(i>0){let f=this.get("interpolationEasing"),p,m;if(this.get("start")!=e&&(p=this.animate({key:"start",to:e,duration:i,easing:f})),this.get("end")!=n&&(m=this.animate({key:"end",to:n,duration:i,easing:f})),this._sAnimation=p,this._eAnimation=m,p)return p;if(m)return m}else this.set("start",e),this.set("end",n)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,n){e.setRaw("isRange",!0),this._createAssets(e,n),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),s=this.topGridContainer,r=e.get("grid");i&&r&&s.children.moveValue(r);const a=e.get("axisFill");i&&a&&s.children.moveValue(a)}_prepareDataItem(e,n){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),le(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const n=this.chart;n&&n._updateCursor();let i=this.get("start",0),s=this.get("end",1),r=this.get("maxDeviation",.5)*Math.min(1,s-i);if(i<-r){let a=i+r;i=-r,this.setRaw("start",i),this.isDirty("end")&&this.setRaw("end",s-a)}if(s>1+r){let a=s-1-r;s=1+r,this.setRaw("end",s),this.isDirty("start")&&this.setRaw("start",i-a)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const n=this.get("tooltip");if(n){const i=e.get("themeTags");n.addTag("axis"),n.addTag(this.className.toLowerCase()),n._applyThemes(),i&&(n.set("themeTags",Mt(n.get("themeTags"),i)),n.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e;const n=this.get("renderer");n.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,n){const i="forceHidden",s=e.get("label");s&&s.set(i,n);const r=e.get("grid");r&&r.set(i,n);const a=e.get("tick");a&&a.set(i,n);const o=e.get("axisFill");o&&o.set(i,n);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.set(i,n)}}_toggleDataItem(e,n){const i=e.get("label"),s="visible";i&&i.setPrivate(s,n);const r=e.get("grid");r&&r.setPrivate(s,n);const a=e.get("tick");a&&a.setPrivate(s,n);const o=e.get("axisFill");o&&o.setPrivate(s,n);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.setPrivate(s,n)}}_createAssets(e,n,i){var s,r,a;const o=this.get("renderer");let l="minor";const u=e.get("label");if(!u)o.makeLabel(e,n);else{let h=u.get("themeTags"),f=!1;i?(h==null?void 0:h.indexOf(l))==-1&&(f=!0):(h==null?void 0:h.indexOf(l))!=-1&&(f=!0),f&&((s=u.parent)===null||s===void 0||s.children.removeValue(u),o.makeLabel(e,n),u.dispose(),o.labels.removeValue(u))}const d=e.get("grid");if(!d)o.makeGrid(e,n);else{let h=d.get("themeTags"),f=!1;i?(h==null?void 0:h.indexOf(l))==-1&&(f=!0):(h==null?void 0:h.indexOf(l))!=-1&&(f=!0),f&&((r=d.parent)===null||r===void 0||r.children.removeValue(d),o.makeGrid(e,n),d.dispose(),o.grid.removeValue(d))}const c=e.get("tick");if(!c)o.makeTick(e,n);else{let h=!1,f=c.get("themeTags");i?(f==null?void 0:f.indexOf(l))==-1&&(h=!0):(f==null?void 0:f.indexOf(l))!=-1&&(h=!0),h&&((a=c.parent)===null||a===void 0||a.children.removeValue(c),o.makeTick(e,n),c.dispose(),o.ticks.removeValue(c))}!i&&!e.get("axisFill")&&o.makeAxisFill(e,n),this._processBullet(e)}_processBullet(e){let n=e.get("bullet"),i=this.get("bullet");if(!n&&i&&!e.get("isRange")&&(n=i(this._root,this,e)),n){n.axis=this;const s=n.get("sprite");s&&(s._setDataItem(e),e.setRaw("bullet",n),s.parent||this.bulletsContainer.children.push(s))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(e){super.disposeDataItem(e);const n=this.get("renderer"),i=e.get("label");i&&(n.labels.removeValue(i),i.dispose());const s=e.get("tick");s&&(n.ticks.removeValue(s),s.dispose());const r=e.get("grid");r&&(n.grid.removeValue(r),r.dispose());const a=e.get("axisFill");a&&(n.axisFills.removeValue(a),a.dispose());const o=e.get("bullet");o&&o.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const s=e.localBounds(),r=Math.ceil(s.right-s.left);let a=e.get("text");le(this.dataItems,o=>{const l=o.get("label");if(l&&!l.isHidden()){const u=l.localBounds();Math.ceil(u.right-u.left)>r&&(a=l.text._getText())}}),e.set("text",a)}let n=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,n+(i-n)*.5)}_handleCursorPosition(e,n){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=n,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let n=this._cursorPosition;const i=this.get("tooltip"),s=this.get("renderer");fe(n)&&(le(this.series,r=>{if(r.get("baseAxis")===this){const a=this.getSeriesItem(r,n,this.get("tooltipLocation"));e&&e.indexOf(r)!=-1?(r.updateLegendMarker(a),r.updateLegendValue(a),r._settings.tooltipDataItem=a):(r.showDataItemTooltip(a),r.setRaw("tooltipDataItem",a))}}),this.get("snapTooltip")&&(n=this.roundAxisPosition(n,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",n),i&&(s.updateTooltipBounds(i),fa(n)?i.hide(0):(this._updateTooltipText(i,n),s.positionTooltip(i,n),n<this.get("start",0)||n>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(e,n){e.label.set("text",this.getTooltipText(n))}roundAxisPosition(e,n){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,n){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const n=this.get("renderer");return n.toAxisPosition(e/n.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,n,i,s){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return .05}}Object.defineProperty(xc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(xc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pc.classNames.concat([xc.className])});class zl extends xc{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let i=this.get("syncWithAxis");i&&(this._syncDp=new Os([i.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){const n=this.chart;let i=!1;if(n){const s=this.get("renderer").getPrivate("letter");s=="Y"?n.xAxes.each(r=>{r.className!="ValueAxis"&&(i=!0)}):s=="X"&&n.yAxes.each(r=>{r.className!="ValueAxis"&&(i=!0)})}i&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0)}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(e){const n=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return n?s=i.format(e,n):s=i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(fe(e)&&fe(n)){const i=this.get("logarithmic"),s=this.getPrivate("step"),r=this.getPrivate("selectionMin"),a=this.getPrivate("selectionMax")+s;let o=r-s,l=1,u=e;if(i){if(o=this._minLogAdjusted,o<r)for(;o<r;)o+=s;u=o,u<=0&&(u=1,s<1&&(fe(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))),l=Math.log(a-s)*Math.LOG10E-Math.log(u)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(u)*Math.LOG10E-50))}const d=this.get("renderer"),c=d.get("minorLabelsEnabled"),h=d.get("minorGridEnabled",c);let f=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E));const p=Math.round(s/f);let m=2;ui(p/5,10)%1==0&&(m=5),ui(p/10,10)%1==0&&(m=10);let v=s/m,_=0,b=0,x=-1/0;for(;o<a;){let k;this.dataItems.length<_+1?(k=new ra(this,void 0,{}),this._dataItems.push(k),this.processDataItem(k)):k=this.dataItems[_],this._createAssets(k,[]),this._toggleDataItem(k,!0),k.setRaw("value",o);const I=k.get("label");I&&I.set("text",this._formatText(o)),this._prepareDataItem(k);let E=o;if(i&&l>2?E=Math.pow(10,Math.log(u)*Math.LOG10E+_-50):E+=s,h){let S=o+v;for(i&&(l>2&&(v=this._adjustMinMax(o,E,10).step),S=o+v);S<E-s*1e-11;){let w;this.minorDataItems.length<b+1?(w=new ra(this,void 0,{}),this.minorDataItems.push(w),this.processDataItem(w)):w=this.minorDataItems[b],this._createAssets(w,["minor"],!0),this._toggleDataItem(w,!0),w.setRaw("value",S);const C=w.get("label");C&&(c?C.set("text",this._formatText(S)):C.setPrivate("visible",!1)),this._prepareDataItem(w),S+=v,b++}}if(o=E,x==o)break;let T=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E));if(T<1&&!i){let S=Math.round(Math.abs(Math.log(Math.abs(T))*Math.LOG10E))+2;o=ui(o,S)}_++,x=o}for(let k=_;k<this.dataItems.length;k++)this._toggleDataItem(this.dataItems[k],!1);for(let k=b;k<this.minorDataItems.length;k++)this._toggleDataItem(this.minorDataItems[k],!1);le(this.series,k=>{k.inited&&k._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,n){let i=this.get("renderer"),s=e.get("value"),r=e.get("endValue"),a=this.valueToPosition(s),o=a,l=this.valueToPosition(s+this.getPrivate("step"));fe(r)&&(o=this.valueToPosition(r),l=o),e.get("isRange")&&r==null&&(l=a);let u=o,d=e.get("labelEndValue");d!=null&&(u=this.valueToPosition(d)),i.updateLabel(e.get("label"),a,u,n);const c=e.get("grid");if(i.updateGrid(c,a,o),c&&(s==this.get("baseValue",0)?(c.addTag("base"),c._applyThemes()):c.hasTag("base")&&(c.removeTag("base"),c._applyThemes())),i.updateTick(e.get("tick"),a,u,n),i.updateFill(e.get("axisFill"),a,l),this._processBullet(e),i.updateBullet(e.get("bullet"),a,o),!e.get("isRange")){const h=this.get("fillRule");h&&h(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),n=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let s=this._adjustMinMax(e,n,i,!0),r=V6(s.step);this.setPrivateRaw("stepDecimalPlaces",r),e=ui(e,r),n=ui(n,r),s=this._adjustMinMax(e,n,i,!0);let a=s.step;e=s.min,n=s.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==n||this.getPrivate("step")!==a)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",n),this.setPrivateRaw("step",a))}positionToValue(e){const n=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)+Math.log(n)*Math.LOG10E)/Math.LOG10E):e*(i-n)+n}valueToPosition(e){const n=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let s=this.get("treatZeroAs");fe(s)&&(e=s)}return(Math.log(e)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)}else return(e-n)/(i-n)}valueToFinalPosition(e){const n=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let s=this.get("treatZeroAs");fe(s)&&(e=s)}return(Math.log(e)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)}else return(e-n)/(i-n)}getX(e,n,i){e=i+(e-i)*n;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getY(e,n,i){e=i+(e-i)*n;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionX(e,n,i,s){let r=e.get(n);if(e.get("stackToItemX")){const o=e.component;r=r*s+o.getStackedXValueWorking(e,n)}else r=this._baseValue+(r-this._baseValue)*s;return this.valueToPosition(r)}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}getDataItemPositionY(e,n,i,s){let r=e.get(n);if(e.get("stackToItemY")){const o=e.component;r=r*s+o.getStackedYValueWorking(e,n)}else r=this._baseValue+(r-this._baseValue)*s;return this.valueToPosition(r)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),n=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>n&&(i=n),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let n=e.startIndex();if(e.dataItems.length>0){n>0&&n--;let i=e.endIndex();i<e.dataItems.length&&i++;let s,r;e.get("yAxis")==this?(s="valueY",r="vcy"):e.get("xAxis")==this&&(s="valueX",r="vcx");let a=s+"Working";if(s)for(let o=n;o<i;o++){let l=0,u=0;le(this.series,d=>{if(!d.get("excludeFromTotal")){let c=d.dataItems[o];if(c){let h=c.get(a)*d.get(r);fa(h)||(l+=h,u+=Math.abs(h))}}}),le(this.series,d=>{if(!d.get("excludeFromTotal")){let c=d.dataItems[o];if(c){let h=c.get(a)*d.get(r);fa(h)||(c.set(s+"Total",u),c.set(s+"Sum",l),c.set(s+"TotalPercent",h/u*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),n=this.getPrivate("maxFinal"),i=this.get("min"),s=this.get("max");let r=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(r=.1),this.get("extraMax")==null&&(a=.2));const o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection");let u=this.get("strictMinMax");if(fe(e)&&fe(n)){let d=n,c=e;if(le(this.series,k=>{if(!k.get("ignoreMinMax")){let I,E;const T=k.getPrivate("outOfSelection");if(k.get("xAxis")===this){if(!T){let S=k.getPrivate("minX"),w=k.getPrivate("maxX");(k.startIndex()!=0||k.endIndex()!=k.dataItems.length)&&(S=void 0,w=void 0),I=k.getPrivate("selectionMinX",S),E=k.getPrivate("selectionMaxX",w)}}else if(k.get("yAxis")===this&&!T){let S=k.getPrivate("minY"),w=k.getPrivate("maxY");(k.startIndex()!=0||k.endIndex()!=k.dataItems.length)&&(S=void 0,w=void 0),I=k.getPrivate("selectionMinY",S),E=k.getPrivate("selectionMaxY",w)}!k.isHidden()&&!k.isShowing()&&(fe(I)&&(d=Math.min(d,I)),fe(E)&&(c=Math.max(c,E)))}}),this.axisRanges.each(k=>{if(k.get("affectsMinMax")){let I=k.get("value");I!=null&&(d=Math.min(d,I),c=Math.max(c,I)),I=k.get("endValue"),I!=null&&(d=Math.min(d,I),c=Math.max(c,I))}}),d>c&&([d,c]=[c,d]),fe(i)?u?d=i:d=e:u&&fe(this._minReal)&&(d=this._minReal),fe(s)?u?c=s:c=n:u&&fe(this._maxReal)&&(c=this._maxReal),d===c){let k=d;if(d-=this._deltaMinMax,c+=this._deltaMinMax,d<e){let E=k-e;E==0&&(E=this._deltaMinMax),d=k-E,c=k+E,u=!0}let I=this._adjustMinMax(d,c,o,u);d=I.min,c=I.max}let h=d,f=c,p=c-d;d-=p*r,c+=p*a;let m=this._adjustMinMax(d,c,o);d=m.min,c=m.max,d=Kn(d,e,n),c=Kn(c,e,n),m=this._adjustMinMax(d,c,o,!0),u||(d=m.min,c=m.max);const v=this.get("syncWithAxis");if(v&&(m=this._syncAxes(d,c,m.step,v.getPrivate("selectionMinFinal",v.getPrivate("minFinal",0)),v.getPrivate("selectionMaxFinal",v.getPrivate("maxFinal",1)),v.getPrivate("selectionStepFinal",v.getPrivate("step",1))),m.min<e&&(m.min=e),m.max>n&&(m.max=n),d=m.min,c=m.max),u&&(fe(i)&&(d=Math.max(d,i)),fe(s)&&(c=Math.min(c,s))),l&&(d=h-(f-h)*r,c=f+(f-h)*a),u){fe(i)?d=i:d=h,fe(s)?c=s:c=f,c-d<=1e-8&&(d-=this._deltaMinMax,c+=this._deltaMinMax);let k=c-d;d-=k*r,c+=k*a}this.get("logarithmic")&&(d<=0&&(d=h*(1-Math.min(r,.99))),d<e&&(d=e),c>n&&(c=n));let _=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),b=ui(this.valueToFinalPosition(d),_),x=ui(this.valueToFinalPosition(c),_);this.setPrivateRaw("selectionMinFinal",d),this.setPrivateRaw("selectionMaxFinal",c),this.setPrivateRaw("selectionStepFinal",m.step),this.zoom(b,x)}}_getMinMax(){let e=this.get("min"),n=this.get("max"),i=1/0,s=-1/0,r=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(r=.1),this.get("extraMax")==null&&(a=.2));let o=1/0;if(le(this.series,x=>{if(!x.get("ignoreMinMax")){let k,I;if(x.get("xAxis")===this?(k=x.getPrivate("minX"),I=x.getPrivate("maxX")):x.get("yAxis")===this&&(k=x.getPrivate("minY"),I=x.getPrivate("maxY")),fe(k)&&fe(I)){i=Math.min(i,k),s=Math.max(s,I);let E=I-k;E<=0&&(E=Math.abs(I/100)),E<o&&(o=E)}}}),this.axisRanges.each(x=>{if(x.get("affectsMinMax")){let k=x.get("value");k!=null&&(i=Math.min(i,k),s=Math.max(s,k)),k=x.get("endValue"),k!=null&&(i=Math.min(i,k),s=Math.max(s,k))}}),this.get("logarithmic")){let x=this.get("treatZeroAs");fe(x)&&i<=0&&(i=x)}if(i===0&&s===0&&(s=.9,i=-.9),fe(e)&&(i=e),fe(n)&&(s=n),i===1/0||s===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}i>s&&([i,s]=[s,i]);const l=i,u=s;let d=this.adapters.fold("min",i),c=this.adapters.fold("max",s);this._minRealLog=i,fe(d)&&(i=d),fe(c)&&(s=c),i=this._fixMin(i),s=this._fixMax(s),s-i<=1/Math.pow(10,15)&&(s-i!==0?this._deltaMinMax=(s-i)/2:this._getDelta(s),i-=this._deltaMinMax,s+=this._deltaMinMax),i-=(s-i)*r,s+=(s-i)*a,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),s>0&&u<=0&&(s=0)),this._minReal=i,this._maxReal=s;let h=this.get("strictMinMax"),f=this.get("strictMinMaxSelection",!1);f&&(h=f);let p=h;fe(n)&&(p=!0);let m=this.get("renderer").gridCount(),v=this._adjustMinMax(i,s,m,p);if(i=v.min,s=v.max,v=this._adjustMinMax(i,s,m,!0),i=v.min,s=v.max,h){fe(e)?i=e:i=this._minReal,fe(n)?s=n:s=this._maxReal,s-i<=1e-8&&(i-=this._deltaMinMax,s+=this._deltaMinMax);let x=s-i;i-=x*r,s+=x*a}d=this.adapters.fold("min",i),c=this.adapters.fold("max",s),fe(d)&&(i=d),fe(c)&&(s=c),o==1/0&&(o=s-i);let _=Math.round(Math.abs(Math.log(Math.abs(s-i))*Math.LOG10E))+5;i=ui(i,_),s=ui(s,_);const b=this.get("syncWithAxis");if(b&&(v=this._syncAxes(i,s,v.step,b.getPrivate("minFinal",b.getPrivate("min",0)),b.getPrivate("maxFinal",b.getPrivate("max",1)),b.getPrivate("step",1)),i=v.min,s=v.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((s-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,s=this._maxReal,i<=0&&(i=l*(1-Math.min(r,.99)))),fe(i)&&fe(s)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==s)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",s),this._saveMinMax(i,s);const x=this.get("interpolationDuration",0),k=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:x,easing:k}),this.animatePrivate({key:"max",to:s,duration:x,easing:k})}}_fixZoomFactor(){}_getDelta(e){let n=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(n));i=i/10,this._deltaMinMax=i}_saveMinMax(e,n){}_adjustMinMax(e,n,i,s){i<=1&&(i=1),i=Math.round(i);let r=e,a=n,o=n-e;o===0&&(o=Math.abs(n));let l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l));u=u/10;let d=u;s&&(d=0),s?(e=Math.floor(e/u)*u,n=Math.ceil(n/u)*u):(e=Math.ceil(e/u)*u-d,n=Math.floor(n/u)*u+d),e<0&&r>=0&&(e=0),n>0&&a<=0&&(n=0),l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l)),u=u/100;let c=Math.ceil(o/i/u)*u,h=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),f=Math.ceil(c/h);f>5?f=10:f<=5&&f>2&&(f=5),c=Math.ceil(c/(h*f))*h*f;let p=this.get("maxPrecision");if(fe(p)){let b=y0e(c,p);p<Number.MAX_VALUE&&c!==b&&(c=b,c==0&&(c=1))}let m=0;h<1&&(m=Math.round(Math.abs(Math.log(Math.abs(h))*Math.LOG10E))+1,c=ui(c,m));let v=Math.floor(e/c);e=ui(c*v,m);let _;return s?_=Math.floor(n/c):_=Math.ceil(n/c),_===v&&_++,n=ui(c*_,m),n<a&&(n=n+c),e>r&&(e=e-c),c=this.fixSmallStep(c),{min:e,max:n,step:c}}getTooltipText(e,n){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),s=this.getNumberFormatter(),r=this.get("extraTooltipPrecision",0),a=this.getPrivate("stepDecimalPlaces",0)+r,o=ui(this.positionToValue(e),a);return i?s.format(o,i):s.format(o,void 0,a)}getSeriesItem(e,n){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.positionToValue(n),r,a;if(le(e.dataItems,(o,l)=>{const u=Math.abs(o.get(i)-s);(r===void 0||u<a)&&(r=l,a=u)}),r!=null)return e.dataItems[r]}zoomToValues(e,n,i){const s=this.getPrivate("minFinal",0),r=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-s)/(r-s),(n-s)/(r-s),i)}_syncAxes(e,n,i,s,r,a){if(this.get("syncWithAxis")){let l=Math.round(r-s)/a,u=Math.round((n-e)/i),d=this.get("renderer").gridCount();if(fe(l)&&fe(u)){let c=!1,h=0,f=(n-e)*.01,p=e,m=n,v=i;for(;c!=!0;)if(c=this._checkSync(p,m,v,l),h++,h>500&&(c=!0),c)e=p,n=m,i=v;else{h/3==Math.round(h/3)?(p=e-f*h,e>=0&&p<0&&(p=0)):(m=n+f*h,m<=0&&m>0&&(m=0));let _=this._adjustMinMax(p,m,d,!0);p=_.min,m=_.max,v=_.step}}}return{min:e,max:n,step:i}}_checkSync(e,n,i,s){let r=(n-e)/i;for(let a=1;a<s;a++)if(ui(r/a,1)==s||r*a==s)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return fe(e)&&fe(n)?this.getPrivate("step",1)/(e-n):.05}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let n=this.positionToValue(this.getPrivate("tooltipPosition",0));return n+=this.getPrivate("step",1)*e,n=Kn(n,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(n))}}Object.defineProperty(zl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(zl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xc.classNames.concat([zl.className])});class Sc extends xc{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let n=0;this._valuesDirty&&(this._itemMap={},le(this.dataItems,i=>{i.setRaw("index",n),this._itemMap[i.get("category")]=i,n++}),this.setPrivateRaw("maxZoomFactor",e)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*e),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*e),e)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){le(this.series,e=>{let n=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),s=e.get("baseAxis"),r=e.get("xAxis"),a=e.get("yAxis");if(r instanceof Sc&&a instanceof Sc)e._markDirtyAxes();else if(s===this){let o,l,u=a;if(r===s?(e.get("categoryXField")&&(o="categoryX"),e.get("openCategoryXField")&&(l="openCategoryX")):a===s&&(e.get("categoryYField")&&(o="categoryY"),e.get("openCategoryYField")&&(l="openCategoryY"),u=r),u instanceof zl&&(o||l)){let d,c;for(let m=0,v=e.dataItems.length;m<v;m++){let _=e.dataItems[m];if(o&&_.get(o)===n){d=_;break}if(l&&_.get(l)===n){d=_;break}}for(let m=e.dataItems.length-1;m>=0;m--){let v=e.dataItems[m];if(o&&v.get(o)===i){c=v;break}if(l&&v.get(l)===i){c=v;break}}let h=0,f=e.dataItems.length;d&&(h=e.dataItems.indexOf(d)),c&&(f=e.dataItems.indexOf(c)+1),e.setPrivate("startIndex",h),e.setPrivate("endIndex",f);let p=!1;for(let m=h;m<f;m++){const v=e.dataItems[m];if(le(e.__valueXShowFields,_=>{v.get(_)!=null&&(p=!0)}),le(e.__valueYShowFields,_=>{v.get(_)!=null&&(p=!0)}),p)break}e.setPrivate("outOfSelection",!p)}e._markDirtyAxes()}})}_prepareAxisItems(){var e;const n=this.get("renderer"),i=this.dataItems.length;let s=this.startIndex();s>0&&s--;let r=this.endIndex();r<i&&r++;const a=n.get("minorLabelsEnabled"),o=n.get("minorGridEnabled",a);let l=n.axisLength()/Math.max(n.get("minGridDistance"),1),u=Math.max(1,Math.min(i,Math.ceil((r-s)/l)));s=Math.floor(s/u)*u,this._frequency=u;for(let c=0;c<i;c++)this._toggleDataItem(this.dataItems[c],!1);let d=this.dataItems[s].get("index",0);for(let c=s;c<r;c=c+u){let h=this.dataItems[c];this._createAssets(h,[]),this._toggleDataItem(h,!0);let f=u;o&&(f=1),this._prepareDataItem(h,d,f),d++}if(n.get("minorGridEnabled"))for(let c=s;c<r;c++){let h=this.dataItems[c];c%u!=0&&(this._createAssets(h,["minor"],!0),this._toggleDataItem(h,!0),this._prepareDataItem(h,0,1),a||(e=h.get("label"))===null||e===void 0||e.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(e,n,i){let s=this.get("renderer"),r=e.get("categoryLocation",0),a=e.get("endCategoryLocation",1),o=e.get("index");fe(o)||(o=this.categoryToIndex(e.get("category")));let l=this.indexToPosition(o,r),u=e.get("endCategory"),d;u?(d=this.categoryToIndex(u),fe(d)||(d=o)):d=o;let c=this.indexToPosition(d,a),h,f;e.get("isRange")?h=d:h=o+this._frequency-1,f=this.indexToPosition(h,a),s.updateLabel(e.get("label"),l,c,i),s.updateGrid(e.get("grid"),l,c),s.updateTick(e.get("tick"),l,c,i),s.updateFill(e.get("axisFill"),l,f),this._processBullet(e),s.updateBullet(e.get("bullet"),l,c);const p=this.get("fillRule");p&&p(e,n)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let n=this._itemMap[e];return n?this._settings.renderer.positionToCoordinate(this.indexToPosition(n.get("index",0))):NaN}getY(e){let n=this._itemMap[e];return n?this._settings.renderer.positionToCoordinate(this.indexToPosition(n.get("index",0))):NaN}getDataItemPositionX(e,n,i,s){const r=e.get(n),a=this._itemMap[r];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionY(e,n,i,s){const r=e.get(n),a=this._itemMap[r];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}indexToPosition(e,n){fe(n)||(n=.5);let i=this.dataItems.length,s=this.get("startLocation",0),r=this.get("endLocation",1);i-=s,i-=1-r;let a=(e+n-s)/i,o=this.dataItems[e];return o&&(a+=o.get("deltaPosition",0)),a}categoryToIndex(e){let n=this._itemMap[e];return n?n.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,n){return e+=(.5-n)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),n)}axisPositionToIndex(e){let n=this.dataItems.length;return Kn(Math.floor(e*n),0,n-1)}getTooltipText(e,n){const i=this.dataItems[this.axisPositionToIndex(e)];if(i){const s=i.get("label");if(s)return gh(s,this.get("tooltipText",""))}}_updateTooltipText(e,n){e._setDataItem(this.dataItems[this.axisPositionToIndex(n)]),e.label.text.markDirtyText()}getSeriesItem(e,n){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(n),r=e.dataItems[s],a=this.dataItems[s],o=a.get("category");if(r&&a&&r.get(i)===o)return r;for(let l=0,u=e.dataItems.length;l<u;l++){let d=e.dataItems[l];if(d.get(i)===o)return d}}}zoomToIndexes(e,n,i){let s=this.dataItems.length;this.zoom(e/s,n/s,i)}zoomToCategories(e,n,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(n)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);const n=this.getPrivate("tooltipPosition",0),i=Kn(this.axisPositionToIndex(n)+e,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}}Object.defineProperty(Sc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(Sc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xc.classNames.concat([Sc.className])});class Py extends zl{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=Ur(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");e!=null&&e!=1/0?this.setPrivateRaw("maxZoomFactor",e):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(fe(e)&&fe(n)){this._fixZoomFactor();const i=this.getPrivate("groupInterval");if(i?this._setBaseInterval(i):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let s=this.get("groupInterval");s&&(this.setRaw("groupIntervals",[s]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))le(this.series,s=>{this._groupSeriesData(s)}),this._handleRangeChange();else{let s=this.get("baseInterval"),r=s.timeUnit+s.count;le(this.series,a=>{a.setDataSet(r),a.resetGrouping()}),this._setBaseInterval(s),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let n=[],i=this.baseMainDuration(),s=this.get("groupIntervals");le(s,f=>{Ur(f)>i&&n.push(f)}),e._dataSets={};const r=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let a;const o=e.get("baseAxis");e.get("xAxis")===o?a=e._valueYFields:e.get("yAxis")===o&&(a=e._valueXFields);let l=e._mainDataItems,u=this.get("baseInterval"),d=u.timeUnit+u.count;e._dataSets[d]=l;const c=e.get("groupDataCallback");let h=e.get("groupDataWithOriginals",!1);c&&(h=!0),le(n,f=>{let p=-1/0,m=f.timeUnit+f.count;e._dataSets[m]=[];let v,_={},b={},x={},k={};le(a,w=>{_[w]=0,b[w]=0,x[w]=e.get(w+"Grouped"),k[w]=w+"Working"});let I=Ji(f.timeUnit),E=l[0],T;E&&(T=l[0].get(r));let S;le(l,w=>{let C=w.get(r),P=oi(C,f.timeUnit,f.count,this._root,T),D;p<P-I/24?(D=Nu(w.dataContext),v=new ra(e,D,e._makeDataItem(D)),v.setRaw(r,P),e._dataSets[m].push(v),le(a,A=>{let F=w.get(A);fe(F)?(v.setRaw(A,F),v.setRaw(k[A],F),b[A]=1,_[A]=F):(_[A]=0,b[A]=0)}),h&&v.set("originals",[w]),c&&S&&c(S,f),S=v):(le(a,A=>{let F=x[A],L=w.get(A);if(L!=null){let H=v.get(A);switch(F){case"close":v.setRaw(A,L);break;case"sum":v.setRaw(A,H+L);break;case"open":break;case"low":L<H&&v.setRaw(A,L);break;case"high":L>H&&v.setRaw(A,L);break;case"average":b[A]++,_[A]+=L;let z=_[A]/b[A];v.setRaw(A,z);break;case"extreme":Math.abs(L)>Math.abs(H)&&v.setRaw(A,L);break}v.setRaw(k[A],v.get(A));let X=Nu(w.dataContext);X[r]=P,v.dataContext=X}}),h&&v.get("originals").push(w)),p=P}),c&&S&&c(S,f)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let n=this.get("baseInterval"),i=bk(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return Ur(i)<Ur(n)&&(i=Object.assign({},n)),i}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),n=Math.round(this.getPrivate("selectionMax"));if(fe(e)&&fe(n)){if(this.get("endLocation")==0&&(n+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),s=this.getPrivate("groupInterval"),r=n-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(s){let a=Ur(s);r=Math.ceil(r/a)*a}if(i||(i=this.getGroupInterval(r)),i&&(!s||s.timeUnit!==i.timeUnit||s.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let a=i.timeUnit+i.count;le(this.series,o=>{o.get("baseAxis")===this&&o.setDataSet(a)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const o="groupintervalchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})})})}}le(this.series,i=>{if(i.get("baseAxis")===this){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=R6(i.dataItems,m=>ja(m.get(s),e)).index;a>0&&(a-=1),n+=this.baseDuration()*(1-this.get("endLocation",1));let l=fk(i.dataItems,m=>ja(m.get(s),n)).index,u=l;u>1&&u--;const d=i.dataItems[a],c=i.dataItems[u];let h,f;d&&(f=d.get(s)),c&&(h=c.get(s));let p=!1;h!=null&&f!=null&&(h<e||f>n)&&(p=!0),i.setPrivate("outOfSelection",p),i.setPrivate("startIndex",a),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(a)),i.setPrivate("endIndex",l),this.root.events.once("frameended",()=>{i._markDirtyPrivateKey("adjustedStartIndex")})}})}}_adjustMinMax(e,n,i,s){return{min:e,max:n,step:(n-e)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,n){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let s=i.timeUnit+i.count;this._intervalMin[s]=e,this._intervalMax[s]=n}_getM(e){return e=="month"||e=="year"||e=="day"?1.05:1.01}_getMinorInterval(e){var n;let i,s=e.count,r=e.timeUnit;return s>1&&(s==10||s==15?s=5:s==12?s=2:s==6?s=1:s==30?s=10:s<10&&(s=1),i={timeUnit:r,count:s}),r=="week"&&(((n=this.getPrivate("baseInterval"))===null||n===void 0?void 0:n.timeUnit)!="week"?i={timeUnit:"day",count:1}:i={timeUnit:"week",count:1}),i}_prepareAxisItems(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(fe(e)&&fe(n)){const i=this._root,s=Math.round(this.getPrivate("selectionMin")),r=Math.round(this.getPrivate("selectionMax")),a=this.get("renderer"),o=this.getPrivate("baseInterval");let l=s,u=0;const d=this.get("gridIntervals");let c=bk(0,r-s,a.gridCount(),d);Ur(c)<this.baseDuration()&&(c=Object.assign({},o));const h=Ur(c);this._intervalDuration=h;const f=G6(c.timeUnit),p=i.utc,m=i.timezone;l=oi(s-h,c.timeUnit,c.count,i,e);let v=l-h,_;const b=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);const x=a.get("minorLabelsEnabled"),k=a.get("minorGridEnabled",x);let I,E=0;k&&(I=this._getMinorInterval(c),E=Ur(I));let T=0;for(;l<r+h;){let S;this.dataItems.length<u+1?(S=new ra(this,void 0,{}),this._dataItems.push(S),this.processDataItem(S)):S=this.dataItems[u],this._createAssets(S,[]),this._toggleDataItem(S,!0),S.setRaw("value",l),S.setRaw("labelEndValue",void 0);let w=l+Ji(c.timeUnit,c.count*this._getM(c.timeUnit));w=oi(w,c.timeUnit,1,i),S.setRaw("endValue",w);let C=new Date(l);_=b[c.timeUnit],f&&this.get("markUnitChange")&&fe(v)&&c.timeUnit!="year"&&q6(l,v,f,p,m)&&(_=this.get("periodChangeDateFormats")[c.timeUnit]);const P=S.get("label");P&&P.set("text",i.dateFormatter.format(C,_));let D=c.count;if(c.timeUnit=="week"&&S.setRaw("labelEndValue",l),k){D=1;let A=c.timeUnit;A=="week"&&(A="day");let F=l+Ji(A,this._getM(A));F=oi(F,A,1,i),S.setRaw("labelEndValue",F)}if(this._prepareDataItem(S,D),v=l,l=w,I){const A=I.timeUnit,F=I.count,L=this._getM(A);let H=oi(v+E*L,A,F,i,v),X,z=this.get("minorDateFormats",this.get("dateFormats"));for(;H<l-.01*E;){let K;this.minorDataItems.length<T+1?(K=new ra(this,void 0,{}),this.minorDataItems.push(K),this.processDataItem(K)):K=this.minorDataItems[T],this._createAssets(K,["minor"],!0),this._toggleDataItem(K,!0),K.setRaw("value",H);let Y=H+Ji(A,F*L);Y=oi(Y,A,1,i),K.setRaw("endValue",Y);let te=new Date(H);_=z[A];const Q=K.get("label");if(Q&&(x?Q.set("text",i.dateFormatter.format(te,_)):Q.setPrivate("visible",!1)),this._prepareDataItem(K,1),H==X)break;X=H,H=Y,T++}}if(l==v)break;u++}for(let S=u;S<this.dataItems.length;S++)this._toggleDataItem(this.dataItems[S],!1);for(let S=T;S<this.minorDataItems.length;S++)this._toggleDataItem(this.minorDataItems[S],!1);le(this.series,S=>{S.inited&&S._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,n){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(n))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const n=this.getPrivate("baseInterval"),i=n.timeUnit;let s=oi(e,i,n.count,this._root),r=s+Ji(i,n.count*this._getM(i));return r=oi(r,i,1,this._root),s+(r-s)*this.get("startLocation",0)}_fixMax(e){const n=this.getPrivate("baseInterval"),i=n.timeUnit;let s=oi(e,i,n.count,this._root),r=s+Ji(i,n.count*this._getM(i));return r=oi(r,i,1,this._root),s+(r-s)*this.get("endLocation",1)}_updateDates(e,n){}baseDuration(){return this._baseDuration}baseMainDuration(){return Ur(this.get("baseInterval"))}processSeriesDataItem(e,n){const i=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),le(n,s=>{let r=e.get(s);if(fe(r)){let a=e.open[s],o=e.close[s];if(!(r>=a&&r<=o)){const l=i.timeUnit,u=i.count;a=oi(r,l,u,this._root),o=a+Ji(l,u*this._getM(l)),o=oi(o,l,1,this._root),e.open[s]=a,e.close[s]=o}this._updateDates(a,e.component)}})}_handleSizeDirty(){}getDataItemPositionX(e,n,i,s){let r,a;e.open&&e.close?(r=e.open[n],a=e.close[n]):(r=e.get(n),a=r);let o=r+(a-r)*i;return o=this._baseValue+(o-this._baseValue)*s,this.valueToPosition(o)}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionY(e,n,i,s){let r,a;e.open&&e.close?(r=e.open[n],a=e.close[n]):(r=e.get(n),a=r);let o=r+(a-r)*i;return o=this._baseValue+(o-this._baseValue)*s,this.valueToPosition(o)}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}roundAxisPosition(e,n){let i=this.positionToValue(e);i=i-(n-.5)*this.baseDuration();let s=this.getPrivate("baseInterval");if(!fa(i)){const r=this._root.locale.firstDayOfWeek,a=s.timeUnit,o=this._root.utc,l=this._root.timezone,u=s.count;i=oi(i,a,u,this._root,this.getPrivate("min",0));let d=wx(s,new Date(i),r,o,l);return l&&(i=oi(i+this.baseDuration()*.05,a,u,this._root,this.getPrivate("min",0)),d=wx(s,new Date(i+d*n),r,o,l)),this.valueToPosition(i+d*n)}return NaN}getTooltipText(e,n){if(this.getPrivate("min")!=null){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],s=this.positionToValue(e);if(fe(s)){let r=new Date(s),a=this.getPrivate("baseInterval"),o=wx(a,r,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return n!==!1&&(r=new Date(s+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(r,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(e,n,i,s){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.positionToValue(n);i==null&&(i=.5),a=a-(i-.5)*this.baseDuration();const o=fk(e.dataItems,l=>{let u=0;return l.open&&(u=l.open[r]),ja(u,a)});if(s||e.get("snapTooltip")){let l=e.dataItems[o.index-1],u=e.dataItems[o.index];if(l&&u&&l.open&&u.close){let d=l.open[r],c=u.close[r];if(Math.abs(a-d)>Math.abs(a-c))return u}if(l)return l;if(u)return u}else{const l=e.dataItems[o.index-1];if(l&&l.open&&l.close){let u=l.open[r],d=l.close[r];if(a>=u&&a<=d)return l}}}shouldGap(e,n,i,s){const r=e.get(s);return n.get(s)-r>this.baseDuration()*i}zoomToDates(e,n,i){this.zoomToValues(e.getTime(),n.getTime(),i)}zoomToValues(e,n,i){const s=this.getPrivate("minFinal",0),r=this.getPrivate("maxFinal",0);if(this.getPrivate("min")!=null&&this.getPrivate("max")!=null)if(this.get("groupData")){const a=this.getGroupInterval(n-e),o=this.get("baseInterval");let l=this.getIntervalMin(o),u=this.getIntervalMax(o)-1;u=oi(u,a.timeUnit,a.count,this.root),u+=this._getM(a.timeUnit)*Ur(a),u=oi(u,a.timeUnit,a.count,this.root);let d=oi(l,a.timeUnit,a.count,this.root),c=oi(u,a.timeUnit,a.count,this.root),h=(e-d)/(c-d),f=(n-d)/(c-d);this.zoom(h,f,i)}else this.zoom((e-s)/(r-s),(n-s)/(r-s),i)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return fe(e)&&fe(n)?this._intervalDuration/(e-n):.05}nextPosition(e){e==null&&(e=1);let n=this.get("tooltipLocation",.5)*this.baseDuration();this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));const s=this.getPrivate("baseInterval");let r=this._nextTime(i,e,s),a=this.getPrivate("selectionMin",0),o=this.getPrivate("selectionMax",0),l=oi(a,s.timeUnit,s.count,this._root),u=oi(o,s.timeUnit,s.count,this._root);return r+=n,r=Kn(r,l+n,u-n),this.toGlobalPosition(this.valueToPosition(r))}_nextTime(e,n,i){return oi(e+n*this.baseDuration(),i.timeUnit,i.count,this._root)}}Object.defineProperty(Py,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(Py,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zl.classNames.concat([Py.className])});class Cy extends Hi{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Cy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(Cy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hi.classNames.concat([Cy.className])});class Ey extends vh{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Ey,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(Ey,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vh.classNames.concat([Ey.className])});class kc extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ey._new(this._root,{themeTags:Mt(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>yh._new(this._root,{themeTags:Mt(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Mt(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Cy._new(this._root,{themeTags:Mt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,n){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",Mt(i.get("themeTags"),n)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,n){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",Mt(i.get("themeTags"),n)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,n){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",Mt(i.get("themeTags"),n)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,n){const i=this.labels.make();return i.set("themeTags",Mt(i.get("themeTags"),n)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",n=>{this._handleThumbDown(n)})),this._disposers.push(e.events.on("globalpointerup",n=>{this._handleThumbUp(n)})),this._disposers.push(e.events.on("globalpointermove",n=>{this._handleThumbMove(n)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const n=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?n.children.push(e):i=="none"&&n.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const n=this.axis;this._downStart=n.get("start"),this._downEnd=n.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const n=this._thumbDownPoint;if(n){const i=this.toLocal(e.point),s=this._downStart,r=this._downEnd,a=this._getPan(i,n)*Math.min(1,r-s)/2*this.get("panSensitivity",1);this.axis.zoom(s-a,r+a,0)}}_getPan(e,n){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e=e*(i-n),this.get("inversed")?e=i-e:e=n+e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-n,e=e/(i-n),e}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,n,i,s){let r=this.axis;const a=r.get("start",0),o=r.get("end",1);let l=a+(o-a)*(i-1e-4),u=a+(o-a)*(s+1e-4);n<l||n>u?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,n){const i=this.chart;i&&(e.set("pointTo",this._display.toGlobal(n)),i.inPlot(n)||e.hide())}processAxis(){}}Object.defineProperty(kc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(kc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([kc.className])});class wg extends kc{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:er.new(this._root,{width:Ne,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",Ne),e.set("width",0),e.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(0,i.height())}),this.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(i.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const n="opposite",i="inside";if(this.isDirty(n)||this.isDirty(i)){const s=this.chart,r=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),s){if(this.get(n)){const a=s.topAxesContainer.children;a.indexOf(e)==-1&&a.insertIndex(0,e),e.addTag(n),r.moveValue(this)}else{const a=s.bottomAxesContainer.children;a.indexOf(e)==-1&&a.moveValue(e),e.removeTag(n),r.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(a=>{a._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,n){return(n.x-e.x)/this.width()}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-n)/this._lc,this.get("inversed")?e=i-e:e=n+e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-n,e=e/(i-n)*this._lc,e+=this._ls,e}_updateLC(){const e=this.axis,n=e.parent;if(n){const i=n.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-n.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,n=e.x()-Qn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",n),e.topGridContainer.set("x",n),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const s=i.plotContainer,r=e.axisHeader;let a=e.get("marginLeft",0),o=e.x()-a;const l=e.parent;l&&(o-=l.get("paddingLeft",0)),r.children.length>0?(a=e.axisHeader.width(),e.set("marginLeft",a+1)):r.set("width",a),r.setAll({x:o,y:-1,height:s.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.get("width")==null&&e.set("width",Ne);const n=this._root.verticalLayout;e.set("layout",n),e.labelsContainer.set("width",Ne),e.axisHeader.setAll({layout:n})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,n,i,s){if(e){fe(n)||(n=0);let r=.5;fe(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),fe(i)&&i!=n&&(n=n+(i-n)*r),e.set("x",this.positionToCoordinate(n));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",Ne),o||(a*=-1)):(e.set("y",0),o&&(a*=-1)),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,a)}),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,n,i,s){if(e){let r=.5;fe(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),fe(n)||(n=0);const a=e.get("inside",this.get("inside",!1));this.get("opposite")?a?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",Ne)):a?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),fe(i)&&i!=n&&(n=n+(i-n)*r),e.set("x",this.positionToCoordinate(n)),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,n,i){if(e){fe(n)||(n=0);let s=e.get("location",.5);fe(i)&&i!=n&&(n=n+(i-n)*s),e.set("x",this.positionToCoordinate(n)),this.toggleVisibility(e,n,0,1)}}updateBullet(e,n,i){if(e){const s=e.get("sprite");if(s){fe(n)||(n=0);let r=e.get("location",.5);fe(i)&&i!=n&&(n=n+(i-n)*r);let a=this.axis.roundAxisPosition(n,r),o=this.axis._bullets[a],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(o){let u=o.get("sprite");u&&s.set("y",u.y()+u.height()*l)}else s.set("y",0);this.axis._bullets[a]=e,s.set("x",this.positionToCoordinate(n)),this.toggleVisibility(s,n,0,1)}}}updateFill(e,n,i){if(e){fe(n)||(n=0),fe(i)||(i=1);let s=this.positionToCoordinate(n),r=this.positionToCoordinate(i);this.fillDrawMethod(e,s,r)}}fillDrawMethod(e,n,i){e.set("draw",s=>{const r=this.axis.gridContainer.height(),a=this.width();i<n&&([i,n]=[n,i]),!(n>a||i<0)&&(s.moveTo(n,0),s.lineTo(i,0),s.lineTo(i,r),s.lineTo(n,r),s.lineTo(n,0))})}positionTooltip(e,n){this._positionTooltip(e,{x:this.positionToCoordinate(n),y:0})}updateTooltipBounds(e){const n=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),r=s.x,a=0,o=this.axisLength(),l=i,u="up";this.get("opposite")?n?(u="up",a=s.y,l=i):(u="down",a=s.y-i,l=i):n?(u="down",a=s.y-i,l=i):(u="up",a=s.y,l=i);const d={left:r,right:r+o,top:a,bottom:a+l},c=e.get("bounds");F6(d,c)||(e.set("bounds",d),e.set("pointerOrientation",u))}}Object.defineProperty(wg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(wg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kc.classNames.concat([wg.className])});class xg extends kc{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:er.new(this._root,{height:Ne,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=Mt(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",Ne),e.set("height",0),e.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(i.width(),0)}),this.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(0,i.height())})}_getPan(e,n){return(e.y-n.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const n=this.thumb,i="opposite",s="inside",r=this.chart;if(this.isDirty(i)||this.isDirty(s)){const o=e.children;if(this.get(s)?e.addTag(s):e.removeTag(s),r){if(this.get(i)){const l=r.rightAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e,0),e.addTag(i),o.moveValue(this,0)}else{const l=r.leftAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e),e.removeTag(i),o.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const a=e.labelsContainer.width();r&&(this.get(i)?n.set("centerX",0):n.set("centerX",a)),n.setPrivate("width",a)}processAxis(){super.processAxis();const e=this.axis;e.get("height")==null&&e.set("height",Ne);const n=this._root.horizontalLayout;e.set("layout",n),e.labelsContainer.set("height",Ne),e.axisHeader.set("layout",n)}_updatePositions(){const e=this.axis,n=e.y()-Qn(e.get("centerY",0),e.height());e.gridContainer.set("y",n),e.topGridContainer.set("y",n),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const s=i.plotContainer,r=e.axisHeader;let a=e.get("marginTop",0);r.children.length>0?(a=e.axisHeader.height(),e.set("marginTop",a+1)):r.set("height",a),r.setAll({y:e.y()-a,x:-1,width:s.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,n,i,s){if(e){fe(n)||(n=0);let r=.5;fe(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r);const a=this.get("opposite"),o=e.get("inside",this.get("inside",!1));a?(e.set("x",0),o?e.set("position","absolute"):e.set("position","relative")):o?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),fe(i)&&i!=n&&(n=n+(i-n)*r),e.set("y",this.positionToCoordinate(n)),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,n,i){if(e){fe(n)||(n=0);let s=e.get("location",.5);fe(i)&&i!=n&&(n=n+(i-n)*s),e.set("y",this.positionToCoordinate(n)),this.toggleVisibility(e,n,0,1)}}updateTick(e,n,i,s){if(e){fe(n)||(n=0);let r=.5;fe(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),fe(i)&&i!=n&&(n=n+(i-n)*r),e.set("y",this.positionToCoordinate(n));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),o&&(a*=-1)):o||(a*=-1),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(a,0)}),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,n,i){if(e){const s=e.get("sprite");if(s){fe(n)||(n=0);let r=e.get("location",.5);fe(i)&&i!=n&&(n=n+(i-n)*r);let a=this.axis.roundAxisPosition(n,r),o=this.axis._bullets[a],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(o){let u=o.get("sprite");u&&s.set("x",u.x()+u.width()*l)}else s.set("x",0);this.axis._bullets[a]=e,s.set("y",this.positionToCoordinate(n)),this.toggleVisibility(s,n,0,1)}}}updateFill(e,n,i){if(e){fe(n)||(n=0),fe(i)||(i=1);let s=this.positionToCoordinate(n),r=this.positionToCoordinate(i);this.fillDrawMethod(e,s,r)}}fillDrawMethod(e,n,i){e.set("draw",s=>{const r=this.axis.gridContainer.width(),a=this.height();i<n&&([i,n]=[n,i]),!(n>a||i<0)&&(s.moveTo(0,n),s.lineTo(r,n),s.lineTo(r,i),s.lineTo(0,i),s.lineTo(0,n))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,n){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(n)})}updateTooltipBounds(e){const n=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),r=s.y,a=0,o=this.axisLength(),l=i,u="right";this.get("opposite")?n?(u="right",a=s.x-i,l=i):(u="left",a=s.x,l=i):n?(u="left",a=s.x,l=i):(u="right",a=s.x-i,l=i);const d={left:a,right:a+l,top:r,bottom:r+o},c=e.get("bounds");F6(d,c)||(e.set("bounds",d),e.set("pointerOrientation",u))}_updateLC(){const e=this.axis,n=e.parent;if(n){const i=n.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-n)/this._lc,this.get("inversed")?e=n+e:e=i-e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=e-n:e=i-e,e=e/(i-n)*this._lc,e+=this._ls,e}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(xg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(xg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kc.classNames.concat([xg.className])});class Iy extends wc{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ga._new(this._root,{position:"absolute",themeTags:Mt(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(e,n){const i=this.mainContainer.children.push(n.make());return i._setDataItem(e),n.push(i),i}_processAxisRange(e){super._processAxisRange(e),e.columns=new ji(Sn.new({}),()=>Ga._new(this._root,{position:"absolute",themeTags:Mt(e.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,e.columns.template]))}}Object.defineProperty(Iy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"});Object.defineProperty(Iy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wc.classNames.concat([Iy.className])});class Dy extends bc{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:t9()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:jxe()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Mt(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Mt(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const n=this.mainContainer.children.push(e.make());return e.push(n),n}makeFill(e){const n=this.mainContainer.children.push(e.make());return e.push(n),n}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),n=this.get("yAxis");if(this.isDirty("stroke")){const i=this.get("stroke");this.strokes.template.set("stroke",i);const s=this._legendStroke;s&&s.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){const i=this.get("fill");this.fills.template.set("fill",i);const s=this._legendFill;s&&s.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){const i=this.get("fillPattern");this.fills.template.set("fillPattern",i);const s=this._legendFill;s&&s.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){const i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(e.inited&&n.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(d=>{d.setPrivate("visible",!1)}),this.strokes.each(d=>{d.setPrivate("visible",!1)}),this.axisRanges.each(d=>{let c=d.fills;c&&c.each(f=>{f.setPrivate("visible",!1)});let h=d.strokes;h&&h.each(f=>{f.setPrivate("visible",!1)})});let i=this.startIndex(),s=this.strokes.template.get("templateField"),r=this.fills.template.get("templateField"),a=!0,o=!0;s&&(a=!1),r&&(o=!1);for(let d=i-1;d>=0;d--){let c=this.dataItems[d],h=!0,f=c.dataContext;if(s&&f[s]&&(a=!0),r&&f[r]&&(o=!0),le(this._valueFields,p=>{fe(c.get(p))||(h=!1)}),h&&a&&o){i=d;break}}let l=this.dataItems.length,u=this.endIndex();if(u<l){u++;for(let d=u;d<l;d++){let c=this.dataItems[d],h=!0;if(le(this._valueFields,f=>{fe(c.get(f))||(h=!1)}),h){u=d+1;break}}}if(i>0&&i--,this._endIndex=u,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<u-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(e=>{e.fills.clear(),e.strokes.clear()})}_startSegment(e){let n=this._endIndex,i=n;const s=this.get("autoGapCount"),r=this.get("connect"),a=this.makeFill(this.fills),o=this._fillTemplate,l=this.fills.template;o&&o!=l&&(a.template=o),a.setPrivate("visible",!0);const u=this.makeStroke(this.strokes),d=this._strokeTemplate;d&&d!=this.strokes.template&&(u.template=d),u.setPrivate("visible",!0);let c=this.get("xAxis"),h=this.get("yAxis"),f=this.get("baseAxis"),p=this.get("vcx",1),m=this.get("vcy",1),v=this._xField,_=this._yField,b=this._xOpenField,x=this._yOpenField;const k=this.get("openValueXField"),I=this.get("openValueYField");k||(b=this._xField),I||(x=this._yField);const E=this.get("stacked"),T=c.basePosition(),S=h.basePosition();let w;f===h?w=this._yField:w=this._xField;const C=[];let P=[];C.push(P);const D=this.strokes.template.get("templateField"),A=this.fills.template.get("templateField");let F=this.get("locationX",.5),L=this.get("locationY",.5),H=this.get("openLocationX",F),X=this.get("openLocationY",L);const z=this.get("minDistance",0);let K,Y=this.fills.template.get("visible");this.axisRanges.length>0&&(Y=!0);let te=!1;(E||k||I)&&(te=!0);const Q={points:P,segments:C,stacked:E,getOpen:te,basePosX:T,basePosY:S,fillVisible:Y,xField:v,yField:_,xOpenField:b,yOpenField:x,vcx:p,vcy:m,baseAxis:f,xAxis:c,yAxis:h,locationX:F,locationY:L,openLocationX:H,openLocationY:X,minDistance:z};let ee=this._strokeTemplate,ue=this._fillTemplate;for(K=e;K<i;K++){this._dindex=K;const re=this._dataItems[K];let se=re.get(v),$=re.get(_);if(se==null||$==null?r||(P=[],C.push(P),Q.points=P):this._getPoints(re,Q),D){let q=re.dataContext[D];if(q)if(q instanceof Sn||(q=Sn.new(q)),this._strokeTemplate=q,K>e){i=K;break}else ee=q,u.template=q}if(A){let q=re.dataContext[A];if(q)if(q instanceof Sn||(q=Sn.new(q)),this._fillTemplate=q,K>e){i=K;break}else ue=q,a.template=q}if(!r){let q=this.dataItems[K+1];q&&f.shouldGap(re,q,s,w)&&(P=[],C.push(P),Q.points=P)}}a.setRaw("userData",[e,K]),u.setRaw("userData",[e,K]),K===n&&this._endLine(P,C[0][0]),u&&this._drawStroke(u,C),a&&this._drawFill(a,C),this.axisRanges.each(re=>{const se=re.container,$=re.fills,q=this.makeFill($);se&&se.children.push(q),q.setPrivate("visible",!0),this._drawFill(q,C);const ae=re.strokes,_e=this.makeStroke(ae);se&&se.children.push(_e),ee&&ee!=this.strokes.template&&(_e.template=ee),ue&&ue!=this.fills.template&&(q.template=ue),_e.setPrivate("visible",!0),this._drawStroke(_e,C),q.setRaw("userData",[e,K]),_e.setRaw("userData",[e,K])})}_getPoints(e,n){let i=n.points,s=e.get("locationX",n.locationX),r=e.get("locationY",n.locationY),a=n.xAxis.getDataItemPositionX(e,n.xField,s,n.vcx),o=n.yAxis.getDataItemPositionY(e,n.yField,r,n.vcy);if(this._shouldInclude(a)){const l=this.getPoint(a,o),u=[l.x,l.y];if(l.x+=this._x,l.y+=this._y,e.set("point",l),n.fillVisible){let d=a,c=o;if(n.baseAxis===n.xAxis?c=n.basePosY:n.baseAxis===n.yAxis&&(d=n.basePosX),n.getOpen){let f=e.get(n.xOpenField),p=e.get(n.yOpenField);if(f!=null&&p!=null){let m=e.get("openLocationX",n.openLocationX),v=e.get("openLocationY",n.openLocationY);if(n.stacked){let _=e.get("stackToItemX"),b=e.get("stackToItemY");_?(d=n.xAxis.getDataItemPositionX(_,n.xField,m,_.component.get("vcx")),fa(d)&&(d=n.basePosX)):n.yAxis===n.baseAxis?d=n.basePosX:d=n.xAxis.getDataItemPositionX(e,n.xOpenField,m,n.vcx),b?(c=n.yAxis.getDataItemPositionY(b,n.yField,v,b.component.get("vcy")),fa(c)&&(c=n.basePosY)):n.xAxis===n.baseAxis?c=n.basePosY:c=n.yAxis.getDataItemPositionY(e,n.yOpenField,v,n.vcy)}else d=n.xAxis.getDataItemPositionX(e,n.xOpenField,m,n.vcx),c=n.yAxis.getDataItemPositionY(e,n.yOpenField,v,n.vcy)}}let h=this.getPoint(d,c);u[2]=h.x,u[3]=h.y}if(n.minDistance>0){const d=u[0],c=u[1],h=u[2],f=u[3],p=this._previousPoint,m=p[0],v=p[1],_=p[2],b=p[3];(Math.hypot(d-m,c-v)>n.minDistance||h&&f&&Math.hypot(h-_,f-b)>n.minDistance)&&(i.push(u),this._previousPoint=u)}else i.push(u)}}_endLine(e,n){}_drawStroke(e,n){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{le(n,s=>{this._strokeGenerator.context(i),this._strokeGenerator(s)})})}_drawFill(e,n){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{le(n,s=>{this._fillGenerator.context(i),this._fillGenerator(s)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Mt(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Mt(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const n=this.get("legendDataItem");if(n){const i=n.get("marker"),s=n.get("markerRectangle");s&&s.setPrivate("visible",!1),i.set("background",er.new(i._root,{fillOpacity:0,fill:gl(0)}));const r=i.children.push(cn._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=r;const a=i.children.push(cn._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=a;const o=this._root.interfaceColors.get("disabled");if(r.states.create("disabled",{fill:o,stroke:o}),a.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){const l=this.bullets.getIndex(0);if(l){const u=l(i._root,this,new ra(this,{legend:!0},{}));if(u){const d=u.get("sprite");d instanceof cn&&d.states.create("disabled",{fill:o,stroke:o}),d&&(d.set("tooltipText",void 0),d.set("tooltipHTML",void 0),i.children.push(d),d.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{d.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}}Object.defineProperty(Dy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(Dy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bc.classNames.concat([Dy.className])});function Gxe(t,e){const n=ph.new(t,{content:"Il grafico non contiene dati"});return e.events.on("datavalidated",function(i){const s=i.target;if(i.target.data.length<1){const r=s.get("valueXField"),a=s.get("valueYField"),o=[],l=new Date;for(let u=0;u<Ki.int(30,60);u++){const d={};Txe(l,"day",1),d[r]=l.getTime(),d[a]=Ki.int(5,30),o.push(d)}s.data.setAll(o),n.open()}else n.close()}),n}function Uw(t,e){const n=ph.new(t,{content:"Il grafico non contiene dati"});return e.events.on("datavalidated",function(i){const s=i.target;if(i.target.data.length<1){const r=s.get("categoryField"),a=s.get("valueField"),o=[];for(let l=0;l<3;l++){const u={};u[r]="",u[a]=1,o.push(u)}s.data.setAll(o),s.labels.template.set("forceHidden",!0),s.ticks.template.set("forceHidden",!0),n.open()}else s.labels.template.set("forceHidden",!1),s.ticks.template.set("forceHidden",!1),n.close()}),n}function qxe(t,e,n){const i=ph.new(t,{content:"Il grafico non contiene dati"}),s=[Ki.word(6),Ki.word(6),Ki.word(6)];return e.events.on("datavalidated",function(r){const a=r.target;if(r.target.data.length<1){const o=a.get("categoryField"),l=[];for(let u=0;u<s.length;u++){const d={};d[o]=s[u],l.push(d)}a.data.setAll(l),i.open()}else i.close()}),n.forEach(r=>r.events.on("datavalidated",function(a){const o=a.target;if(a.target.data.length<1){const l=o.get("categoryXField"),u=o.get("valueYField"),d=[];for(let c=0;c<s.length;c++){const h={};h[l]=s[c],h[u]=Ki.int(3,9),d.push(h)}console.log(d),o.data.setAll(d),i.open()}else i.close()})),i}const Xxe=St({__name:"LessonDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(it.new(i,{layout:i.verticalLayout,width:Ne,height:Ne})).children.push(_c.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(yc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Uw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const h=await Vo.instance.getLessonTrend(u,d,...c);e.data.setAll(h),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Lezioni: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(xe(),Oe(Qh,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione delle Lezioni",subtitle:"Numero di lezioni in una scuola"},null,8,["schools","from","to"]))}}),Kxe=St({__name:"SalaryDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(it.new(i,{layout:i.verticalLayout,width:Ne,height:Ne})).children.push(_c.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(yc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00')}% ({value} €)"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Uw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const h=await Vo.instance.getSalaryDistribution(u,d,...c);e.data.setAll(h),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Totale: {valueSum}€",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(xe(),Oe(Qh,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione dello Stipendio",subtitle:"Divisione dello stipendio per Scuola"},null,8,["schools","from","to"]))}}),Qxe=St({__name:"SalaryTrend",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n;function i(o){e=o.container.children.push(bg.new(o,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0,paddingLeft:0})),e.set("cursor",Ty.new(o,{behavior:"none"})).lineY.set("visible",!1);const u=e.xAxes.push(Py.new(o,{maxDeviation:.2,baseInterval:{timeUnit:"day",count:1},renderer:wg.new(o,{minorGridEnabled:!0}),tooltip:Hl.new(o,{})})),d=e.yAxes.push(zl.new(o,{renderer:xg.new(o,{pan:"zoom"})}));n=e.series.push(Dy.new(o,{name:"Series",xAxis:u,yAxis:d,valueYField:"value",valueXField:"date",tooltip:Hl.new(o,{labelText:"{valueY}"})})),e.set("scrollbarX",gg.new(o,{orientation:"horizontal"})),Gxe(o,n)}function s(){n.appear(1e3),e.appear(1e3,100)}function r(){return!!n}async function a(o,l,...u){const d=await Vo.instance.getSalaryTrend(o,l,...u);n.data.setAll(d)}return(o,l)=>(xe(),Oe(Qh,{schools:o.schools,from:o.from,to:o.to,"create-chart":i,"after-chart-created":s,"are-update-condition-satistied":r,"update-chart-data":a,title:"Andamento dello Stipendio",subtitle:"Andamento dello stipendio in un periodo di tempo per scuola"},null,8,["schools","from","to"]))}}),Jxe=St({__name:"SchoolDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(it.new(i,{layout:i.verticalLayout,width:Ne,height:Ne})).children.push(_c.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(yc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Uw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const h=await Vo.instance.getSchoolDistribution(...c);e.data.setAll(h),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Scuole: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(xe(),Oe(Qh,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione delle scuole"},null,8,["schools","from","to"]))}}),Zxe=St({__name:"SchoolStudentDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(it.new(i,{layout:i.verticalLayout,width:Ne,height:Ne})).children.push(_c.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(yc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Uw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const h=await Vo.instance.getSchoolStudentDistribution(...c);e.data.setAll(h),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Studenti: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(xe(),Oe(Qh,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione degli studenti",subtitle:"Numero di studenti in una scuola"},null,8,["schools","from","to"]))}}),eSe=St({__name:"StudentTrend",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i,s,r;const a=[];function o(h){e=h,n=e.container.children.push(bg.new(e,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingLeft:0,layout:e.verticalLayout})),n.set("scrollbarX",gg.new(e,{orientation:"horizontal"}));const f=wg.new(e,{minorGridEnabled:!0,minGridDistance:10});i=n.xAxes.push(Sc.new(e,{categoryField:"student",renderer:f,tooltip:Hl.new(e,{})})),f.grid.template.setAll({location:1}),f.labels.template.setAll({rotation:45,centerY:at,centerX:0}),a.push(i),s=n.yAxes.push(zl.new(e,{min:0,renderer:xg.new(e,{strokeOpacity:.1})})),r=n.children.push(by.new(e,{centerX:at,x:at}));const p=[c("Presente","present"),c("Assente","absent"),c("Recupero","recovery")];a.push(...p),qxe(e,i,p)}function l(){n.appear(1e3,100)}function u(){return!!a}async function d(h,f,...p){const m=await Vo.instance.getStudentTrend(h,f,...p);a.forEach(v=>v.data.setAll(m))}function c(h,f){let p=n.series.push(Iy.new(e,{name:h,stacked:!0,xAxis:i,yAxis:s,valueYField:f,categoryXField:"student"}));return p.columns.template.setAll({tooltipText:"{name}, {categoryX}: {valueY}",tooltipY:jn(10)}),p.appear(),p.bullets.push(function(){return yy.new(e,{sprite:Hi.new(e,{text:"{valueY}",fill:e.interfaceColors.get("alternativeText"),centerY:at,centerX:at,populateText:!0})})}),r.data.push(p),p}return(h,f)=>(xe(),Oe(Qh,{schools:h.schools,from:h.from,to:h.to,"create-chart":o,"after-chart-created":l,"are-update-condition-satistied":u,"update-chart-data":d,title:"Andamento degli Studenti",subtitle:"Andamento della presenza in un periodo di tempo per studente"},null,8,["schools","from","to"]))}}),tSe=St({__name:"StatisticsView",setup(t){const e=["salary","schools","lessons","students"],n=Wg(),i=Ac(),s=G(e[0]),r=G(),a=G(!1),o=G([]),l=G([]),u=O(()=>n.query.tab),d=O(()=>n.query.filters),c=O(()=>n.query.from),h=O(()=>n.query.to),f=O(()=>o.value.filter(b=>l.value.includes(b.id)));be(u,p,{immediate:!0}),be(d,m,{immediate:!0}),be(c,m,{immediate:!0}),be(h,m,{immediate:!0}),be(o,m),be(s,v),be(l,v),be(r,v);function p(){u.value&&e.includes(u.value.toLowerCase())&&(s.value=u.value)}function m(){var b,x,k;l.value=((b=d.value)==null?void 0:b.split(","))??o.value.map(I=>I.id),c.value&&(r.value={from:c.value,to:(x=r.value)==null?void 0:x.to}),h.value&&(r.value={from:(k=r.value)==null?void 0:k.from,to:h.value}),d.value&&e.includes(u.value.toLowerCase())&&(s.value=u.value)}function v(){var k,I;let b=`/statistics?tab=${s.value}`;const x=l.value.join(",");x&&x.length!=0&&(b+="&filters="+x),(k=r.value)!=null&&k.from&&(b+=`&from=${r.value.from}`),(I=r.value)!=null&&I.to&&(b+=`&to=${r.value.to}`),i.push(b)}async function _(){a.value=!0,o.value=await Lr.instance.getAll(),a.value=!1}return kt(()=>{Vo.instance.cache.clear(),_()}),(b,x)=>{const k=j("v-tab"),I=j("v-tabs"),E=j("v-col"),T=j("v-select"),S=j("v-row"),w=j("v-card-text"),C=j("v-card"),P=j("v-tabs-window-item"),D=j("v-tabs-window");return xe(),Tt("div",null,[g(I,{modelValue:s.value,"onUpdate:modelValue":x[0]||(x[0]=A=>s.value=A),color:"primary","align-tabs":"center"},{default:M(()=>[g(k,{"prepend-icon":"mdi-cash",text:"Stipendio",value:"salary"}),g(k,{"prepend-icon":"mdi-town-hall",text:"Scuole",value:"schools"}),g(k,{"prepend-icon":"mdi-calendar-blank",text:"Lezioni",value:"lessons"}),g(k,{"prepend-icon":"mdi-account-school",text:"Studenti",value:"students"})]),_:1},8,["modelValue"]),g(S,{class:"align-end"},{default:M(()=>[g(E,{cols:"12",md:"8"},{default:M(()=>[g(I6,{modelValue:r.value,"onUpdate:modelValue":x[1]||(x[1]=A=>r.value=A),class:"mt-2"},null,8,["modelValue"])]),_:1}),g(E,{cols:"12",md:"4"},{default:M(()=>[g(T,{modelValue:l.value,"onUpdate:modelValue":x[2]||(x[2]=A=>l.value=A),items:o.value,loading:a.value,"item-value":"id",label:"Scuole","item-title":"name",variant:"outlined",density:"compact","hide-details":"",chips:"",multiple:""},null,8,["modelValue","items","loading"])]),_:1})]),_:1}),g(D,{modelValue:s.value,"onUpdate:modelValue":x[3]||(x[3]=A=>s.value=A),class:"w-100"},{default:M(()=>[g(P,{value:"salary"},{default:M(()=>[g(C,{flat:""},{default:M(()=>[g(w,null,{default:M(()=>{var A,F,L,H;return[g(Kxe,{schools:f.value,from:(A=r.value)==null?void 0:A.from,to:(F=r.value)==null?void 0:F.to},null,8,["schools","from","to"]),g(Qxe,{schools:f.value,from:(L=r.value)==null?void 0:L.from,to:(H=r.value)==null?void 0:H.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),g(P,{value:"schools"},{default:M(()=>[g(C,{flat:""},{default:M(()=>[g(w,null,{default:M(()=>{var A,F,L,H;return[g(Jxe,{schools:f.value,from:(A=r.value)==null?void 0:A.from,to:(F=r.value)==null?void 0:F.to},null,8,["schools","from","to"]),g(Zxe,{schools:f.value,from:(L=r.value)==null?void 0:L.from,to:(H=r.value)==null?void 0:H.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),g(P,{value:"lessons"},{default:M(()=>[g(C,{flat:""},{default:M(()=>[g(w,null,{default:M(()=>{var A,F;return[g(Xxe,{schools:f.value,from:(A=r.value)==null?void 0:A.from,to:(F=r.value)==null?void 0:F.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),g(P,{value:"students"},{default:M(()=>[g(C,{flat:""},{default:M(()=>[g(w,null,{default:M(()=>{var A,F;return[g(eSe,{schools:f.value,from:(A=r.value)==null?void 0:A.from,to:(F=r.value)==null?void 0:F.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),nSe={class:"text-center ma-4"},bV=St({__name:"HomeView",setup(t){let e;const n=G([]),i=G([]),s=G(!1),r=G(!1),a=G(!1),o=G(!1),l=G(!1);function u(f){f&&(r.value=!1)}function d(f){return f.city?`${f.name} (${f.city})`:f.name}async function c(){o.value=!0,i.value=await lg.instance.getTodayLessons(),o.value=!1,l.value=!0}async function h(){s.value=!0,e=Lr.instance.observeAll().subscribe({next:f=>{n.value=f,s.value=!1},error:f=>{Ze.warning("Impossibile caricare le scuole..."),console.error(f),s.value=!1}})}return kt(async()=>{a.value=Ks.getItem("loadTodayLesson")??!1,a.value&&c(),await h()}),Us(()=>{e==null||e.unsubscribe()}),(f,p)=>{const m=j("v-skeleton-loader"),v=j("v-col"),_=j("v-row"),b=j("v-expand-transition"),x=j("v-card"),k=j("v-icon"),I=j("v-dialog"),E=j("v-divider"),T=j("v-btn"),S=j("v-slide-y-transition"),w=j("v-container");return xe(),Oe(w,{fluid:""},{default:M(()=>[g(b,{mode:"out-in"},{default:M(()=>[s.value?(xe(),Oe(_,{key:0},{default:M(()=>[(xe(),Tt(Pe,null,Ii(3,C=>g(v,{key:C,cols:"12",sm:"4"},{default:M(()=>[g(m,{class:"pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):Zt("",!0)]),_:1}),g(_,null,{default:M(()=>[(xe(!0),Tt(Pe,null,Ii(n.value,C=>(xe(),Oe(v,{key:C.name,cols:"12",sm:"4"},{default:M(()=>[g(x,{"append-icon":"mdi-open-in-new",class:"pa-2",to:"/school/"+C.id,"prepend-icon":"mdi-town-hall",subtitle:"Visualizza tutti gli aggiornamenti della scuola "+C.name,title:d(C),color:C.color??oe(C6)},null,8,["to","subtitle","title","color"])]),_:2},1024))),128)),g(v,{cols:"12",sm:"4"},{default:M(()=>[g(I,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=C=>r.value=C),fullscreen:""},{activator:M(({props:C})=>[g(x,Z({class:"pa-2",color:"secondary"},C),{default:M(()=>[Ve("div",nSe,[p[4]||(p[4]=Ve("p",{class:"text-h6 font-weight"},"Aggiungi una scuola",-1)),g(k,{size:"x-large"},{default:M(()=>p[3]||(p[3]=[Ce("mdi-plus")])),_:1})])]),_:2},1040)]),default:M(()=>[g(E6,{onClose:p[0]||(p[0]=C=>r.value=!1),onSave:p[1]||(p[1]=C=>u(C))})]),_:1},8,["modelValue"])]),_:1})]),_:1}),g(E,{class:"my-4"}),g(_,{class:"justify-center"},{default:M(()=>[g(v,{cols:"auto"},{default:M(()=>[g(T,{onClick:c,loading:o.value},{default:M(()=>[Ce("Carica le lezioni di oggi ("+ct(oe(Ym)(new Date))+")",1)]),_:1},8,["loading"])]),_:1})]),_:1}),g(S,{mode:"out-in"},{default:M(()=>[o.value?(xe(),Oe(_,{key:1},{default:M(()=>[(xe(),Tt(Pe,null,Ii(3,C=>g(v,{key:C,cols:"12",sm:"4"},{default:M(()=>[g(m,{class:"pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):(xe(),Oe(_,{key:0},{default:M(()=>[i.value.length==0&&l.value?(xe(),Oe(v,{key:0,cols:"12"},{default:M(()=>p[5]||(p[5]=[Ve("p",null,"Nessuna lezione in programma per oggi!",-1)])),_:1})):Zt("",!0),(xe(!0),Tt(Pe,null,Ii(i.value,C=>(xe(),Oe(v,{key:C.lesson.id,cols:"12",sm:"4"},{default:M(()=>[g(x,{"append-icon":"mdi-open-in-new",class:"pa-2",to:"/lesson/"+C.lesson.id,"prepend-icon":"mdi-book-clock",subtitle:"Visualizza la lezione del giorno",title:C.school.name,color:"info"},null,8,["to","title"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}}),iSe={};function sSe(t,e){return xe(),Tt("main",null,e[0]||(e[0]=[Ve("svg",{viewBox:"0 0 541.17206 328.45184",id:"svg2",version:"1.1"},[Ve("metadata",{id:"metadata8"}),Ve("defs",{id:"defs6"},[Ve("pattern",{patternUnits:"userSpaceOnUse",width:"1.5",height:"1",patternTransform:"translate(0,0) scale(10,10)",id:"Strips2_1"},[Ve("rect",{style:{fill:"black",stroke:"none"},x:"0",y:"-0.5",width:"1",height:"2",id:"rect5419"})]),Ve("linearGradient",{"osb:paint":"solid",id:"linearGradient6096"},[Ve("stop",{id:"stop6094",offset:"0",style:{"stop-color":"#000000","stop-opacity":"1"}})])]),Ve("g",{transform:"translate(170.14515,0.038164)",id:"layer1"},[Ve("g",{id:"g6219"},[Ve("path",{transform:"matrix(1.0150687,0,0,11.193923,-1.3895945,-2685.7441)",style:{display:"inline",fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"0.1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"m 145.0586,263.51309 c -90.20375,-0.0994 -119.20375,-0.0994 -119.20375,-0.0994",id:"path6180"}),Ve("g",{id:"g6174"},[Ve("ellipse",{ry:"9.161705",rx:"9.3055239",cy:"91.32917",cx:"84.963676",id:"path4488",style:{display:"inline",opacity:"1",fill:"none","fill-opacity":"0.4627451","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.08691013","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ve("path",{id:"path4490",d:"m 84.984382,-0.03816399 c 0.911733,-5.0186e-4 1.661858,18.47051499 1.674386,41.22988399 0.0069,12.610431 -0.214009,23.904598 -0.56753,31.469836 -0.282878,6.088471 -0.652275,9.761785 -1.058838,9.762119 -0.406564,3.33e-4 -0.78198,-3.672386 -1.074838,-9.760657 -0.36185,-7.564779 -0.595233,-18.858715 -0.602175,-31.469228 -0.01253,-22.759565 0.717262,-41.23145213 1.628995,-41.23195399 z",style:{display:"inline",fill:"#000000",stroke:"none","stroke-width":"0.23743393px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4496",d:"m 85.115421,100.5729 c -0.0036,3.37532 -0.0071,6.75165 -0.0107,10.12897 m 0.512159,0.18258 c -1.914603,-0.23621 -3.505591,1.17801 -4.861444,2.68113 -1.355853,1.50312 -2.473764,3.09173 -3.387866,4.59538 -0.914103,1.50365 -1.620209,2.91586 -2.416229,4.41952 -0.79602,1.50365 -1.67928,3.09352 -0.808656,3.24054 0.870624,0.14702 3.490408,-1.14815 5.700074,-1.91396 2.209666,-0.76581 4.001473,-1.00079 5.922125,-0.86765 1.920652,0.13314 3.947462,0.6325 6.245357,1.6195 2.297896,0.98701 4.861161,2.46015 4.9051,0.91309 0.04394,-1.54706 -2.430929,-6.11379 -4.787811,-9.33976 -2.356882,-3.22597 -4.596047,-5.11158 -6.51065,-5.34779 z",style:{display:"inline",fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("rect",{ry:"5",y:"314.84082",x:"35.355339",height:"9.8994951",width:"100.76272",id:"rect4553",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ve("path",{id:"path4513",d:"m 74.6875,125.03748 c -8.394789,7.68654 -16.790624,15.37405 -23.988969,22.38484 -7.198345,7.0108 -13.197555,13.3433 -18.781379,20.01048 -5.583823,6.66719 -10.749655,13.66605 -13.916608,18.7496 -3.166952,5.08355 -4.333432,8.24971 -4.750315,11.08369 -0.416883,2.83399 -0.08368,5.33304 1.809372,16.25302 1.893048,10.91998 5.343489,30.24673 9.760132,48.66349 4.416642,18.41676 9.798356,35.91675 15.180267,53.41738",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4517",d:"m 76.9375,124.66248 c -4.548745,6.50695 -9.29087,13.29053 -13.530749,18.69724 -4.239879,5.4067 -8.072459,9.57255 -11.572943,13.98975 -3.500484,4.41719 -6.66636,9.08269 -9.333429,13.99996 -2.66707,4.91727 -4.833205,10.08267 -6.333458,15.08327 -1.500252,5.0006 -2.33339,9.8328 -2.500149,14.33343 -0.166759,4.50062 0.333124,8.66631 1.249922,15.50064 0.916798,6.83434 2.249854,16.33237 3.499902,24.91604 1.250047,8.58368 2.416611,16.24967 4.583438,28.58394 2.166827,12.33427 5.333153,29.33244 8.499966,46.33323",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4521",d:"m 96.8125,126.22498 c 6.89586,6.45836 13.7917,12.9167 19.98957,19.14581 6.19786,6.22912 11.69789,12.22914 17.11456,18.39581 5.41666,6.16667 10.74996,12.49995 14.74993,17.91655 3.99997,5.41659 6.66659,9.91653 7.16671,17.83316 0.50012,7.91664 -1.16644,19.24921 -3.3502,31.24619 -2.18376,11.99698 -4.81616,24.33632 -8.42063,38.99809 -3.60448,14.66177 -8.06212,31.17154 -12.56244,47.83939",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4525",d:"m 91.9375,124.09998 c 5.854072,7.16655 11.70824,14.33322 16.21863,20.16651 4.51039,5.83328 7.67706,10.33329 11.92718,16.33346 4.25012,6.00017 9.58322,13.49984 12.66653,18.58299 3.08332,5.08314 3.91663,7.74974 4.68205,10.91384 0.76542,3.1641 1.40129,6.50242 1.69781,8.02406 0.29651,1.52165 0.22299,1.06579 0.14933,0.60912",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4533",d:"m 89,123.66248 c 6.159885,11.51771 12.31996,23.03577 16.83724,31.78904 4.51728,8.75327 7.29964,14.54985 9.24424,18.32123 1.9446,3.77138 3.00519,5.42118 4.1838,9.19262 1.17861,3.77144 2.47477,9.6631 1.94443,23.80647 -0.53034,14.14338 -2.88706,36.53226 -5.4209,56.44951 -2.53383,19.91725 -5.24428,37.35836 -7.95503,54.80146",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4537",d:"m 87.0625,123.03748 c 2.916637,10.42937 5.833458,20.8594 7.291964,26.66356 1.458505,5.80416 1.458505,6.98257 2.402021,11.11052 0.943517,4.12795 2.827535,11.19302 4.065005,16.02501 1.23748,4.832 1.82668,7.42447 2.12139,10.84263 0.29471,3.41815 0.29471,7.65958 -0.11785,20.44893 -0.41255,12.78934 -1.23731,34.11536 -2.18014,53.62015 -0.94282,19.50478 -2.003429,37.18159 -3.064154,54.86032",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4541",d:"m 85.206367,122.98266 c 0.117841,11.74369 0.235693,23.48835 0.235693,36.55072 -10e-7,13.06238 -0.117833,27.43796 -0.05891,45.3521 0.05892,17.91413 0.29461,39.36153 0.707091,58.80738 0.412482,19.44585 1.001711,36.88701 1.590999,54.32995",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4545",d:"m 83.12978,122.92016 c -2.601311,10.56131 -5.214983,21.17282 -7.40283,31.41665 -2.187847,10.24384 -3.955407,20.14218 -5.074975,26.03483 -1.119568,5.89264 -1.59092,7.77805 -1.885708,10.07706 -0.294789,2.29901 -0.412567,5.0079 5.1e-5,17.56339 0.412617,12.55548 1.355064,34.93859 2.474996,54.74239 1.119932,19.80379 2.415574,37.00049 3.712005,54.20767",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4549",d:"m 79.25478,124.23266 c -5.440192,11.56251 -10.880951,23.12622 -15.899657,33.56368 -5.018706,10.43747 -9.614414,19.74672 -11.912808,26.70033 -2.298394,6.95362 -2.298394,11.54922 -1.355419,24.57415 0.942974,13.02493 2.828182,34.46917 5.066095,53.84746 2.237913,19.37829 4.833109,36.71892 7.425959,54.04387",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4556",d:"m 42.426407,155.38825 c 3.4184,0.82513 6.836082,1.65009 10.606997,2.18034 3.770916,0.53024 7.89657,0.76599 11.608535,0.88382 3.711965,0.11782 7.012548,0.11782 10.429711,0.0589 3.417163,-0.0589 6.953769,-0.17681 10.606588,-0.23572 3.652818,-0.0589 7.425155,-0.0589 11.137027,-0.23569 3.711875,-0.17679 7.366225,-0.53043 10.724475,-0.70716 3.35826,-0.17672 6.4233,-0.17672 9.48702,-0.58922 3.06372,-0.41251 6.12885,-1.23774 9.1918,-2.06238",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4560",d:"m 13.113199,198.16821 c 47.547038,0.40361 95.093071,0.80721 142.638101,1.2108",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1.00614154px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4529",d:"m 132.6875,263.34998 c -4.2289,18.4155 -8.45806,36.83216 -12.6875,55.25",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("ellipse",{ry:"4.6715717",rx:"2.5",cy:"238.08525",cx:"119.12262",id:"path4614",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ve("ellipse",{ry:"4.3158579",rx:"4.9001703",cy:"4.3948641",cx:"85.016434",id:"path4616",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"0.82170224","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ve("ellipse",{transform:"translate(-170.14515,-0.038164)",ry:"3.880542",rx:"3.5777507",cy:"164.5713",cx:"321.42224",id:"path4565",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ve("path",{transform:"translate(-170.14515,-0.038164)",id:"path4567",d:"m 321.74355,168.0687 c -1e-5,3.3913 -3.42414,11.26702 -8.73834,11.26702 -5.3142,0 -18.59463,27.24606 -8.38477,3.759 1.35199,-3.11016 5.69513,-12.89881 10.50609,-15.15612 8.05545,-3.77965 6.61702,-3.26121 6.61702,0.1301 z",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ve("path",{transform:"translate(-170.14515,-0.038164)",id:"path4570",d:"m 325,163.45184 c 1.66722,0.62594 3.33388,1.25167 3.33438,1.56444 5e-4,0.31276 -1.66671,0.31276 -3.33438,0.31276",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{transform:"translate(-170.14515,-0.038164)",id:"path4578",d:"m 314.72098,177.37003 c -0.21488,1.64138 -0.42965,3.28197 0.28484,3.96351 0.71449,0.68155 2.35396,0.39999 3.99418,0.1183",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{transform:"translate(-170.14515,-0.038164)",id:"path4578-1",d:"m 316,176.45184 c -0.29612,1.41007 -0.59214,2.81967 -0.25801,3.48764 0.33413,0.66798 1.29605,0.59017 2.25801,0.51236",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{transform:"translate(-170.14515,-0.038164)",id:"path4610",d:"m 318,180.45184 c 0.66667,0 1.33434,0 1.501,0.16616 0.16667,0.16617 -0.16667,0.49951 0.001,0.66667 0.16767,0.16717 0.68771,0.16717 0.89053,0.36949 0.20282,0.20233 -0.0582,0.46335 -0.39253,0.79768",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4573",d:"m 155,199.59998 34.15106,6.52318 v 11.49049 l -1.06066,13.43503 -3.88908,19.44543 -3.00521,10.42983 -4.06586,12.19759 -17.14734,-4.94975 -14.92431,-4.65869 v 0 L 155,199.59998",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4575",d:"m 172.53405,202.94118 -2.65165,33.23402 -3.53553,16.97056 -5.12652,15.73313",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Ve("path",{id:"path4579",d:"m 187.2662,239.00256 c 0.76634,-0.82482 2.12163,-2.00333 3.50552,-2.26818 1.38389,-0.26485 2.79921,0.38383 3.2412,1.53192 0.442,1.14808 -0.0885,2.79852 -1.5624,3.24089 -1.4739,0.44236 -3.88809,-0.32312 -3.7995,0.001 0.0886,0.32427 2.68064,1.73812 4.00626,3.12221 1.32563,1.38408 1.38456,2.73956 0.79537,3.38822 -0.5892,0.64866 -1.82576,0.58977 -2.53349,0.11762 -0.70773,-0.47215 -0.88437,-1.35536 -1.59092,-2.65068 -0.70656,-1.29532 -1.94507,-3.00565 -2.47512,-4.09626 -0.53005,-1.09062 -0.35326,-1.56206 0.41308,-2.38689 z",style:{fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}})])])]),Ve("g",{id:"layer3"},[Ve("g",{id:"text4526",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"none","stroke-width":"1.23488784"},transform:"matrix(0.97168718,0,0,1.0291378,170.14515,0.038164)","aria-label":"4"},[Ve("path",{id:"path4555",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"#000000","stroke-width":"1.23488784","stroke-opacity":"1"},d:"M -0.46490841,256.59082 H -26.166013 v 43.5298 h -41.214384 v -43.5298 h -75.829833 l -9.95629,-15.28174 64.136994,-140.0826 h 8.914347 l 33.573515,15.8606 -48.507941,89.60655 -11.461305,19.56526 h 39.130513 l 4.399288,-43.06672 h 36.815096 v 43.06672 h 25.70110459 z"})]),Ve("g",{id:"text4526-2",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"none","stroke-width":"1.23488784"},transform:"matrix(0.97168718,0,0,1.0291378,377.95605,103.2934)","aria-label":"4"},[Ve("path",{id:"path4558",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"#000000","stroke-width":"1.23488784","stroke-opacity":"1"},d:"m 147.55592,156.33602 h -25.70111 v 43.5298 H 80.640431 v -43.5298 H 4.8105946 L -5.1456892,141.05429 58.991302,0.97168512 h 8.914347 L 101.47916,16.832277 52.971223,106.43883 41.50992,126.00409 h 39.130511 l 4.399288,-43.06672 h 36.815091 v 43.06672 h 25.70111 z"})])])],-1),Ve("p",{id:"errorText",class:"text-center"},"Oh no! Qualcosa si è rotto...",-1),Ve("a",{id:"errorLink",href:"/"},"Torna alla Home",-1)]))}const rSe=qC(iSe,[["render",sSe],["__scopeId","data-v-d59d52b5"]]),n9=tne({history:Dte("/teachers-agenda"),routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:bV},{path:"/school/:id",meta:{requiresAuth:!0,transition:"v-slide-x-transition"},component:Mwe},{path:"/lesson/:id",name:"lesson",meta:{requiresAuth:!0},component:Hbe},{path:"/recoveries",name:"recoveries",meta:{requiresAuth:!0},component:bV},{path:"/calendar",name:"calendar",meta:{requiresAuth:!0},component:W_e},{path:"/statistics",name:"statistics",meta:{requiresAuth:!0},component:tSe},{path:"/settings",name:"settings",meta:{requiresAuth:!0},component:Vwe},{path:"/login",name:"login",component:ewe},{path:"/debugger",name:"debugger",meta:{requiresAuth:!0},component:Xbe},{path:"/:pathMatch(.*)*",component:rSe}]});n9.beforeEach(async t=>{if(t.name=="login"&&await dD())return{path:"/"};if(t.meta.requiresAuth&&!await dD())return{path:"/login",query:{redirect:t.fullPath}}});const aSe=()=>{window.onerror=function(e,n,i){return wl.instance.push(Hn.EXCEPTION,{error:e,url:n,line:i}),!1},window.onunhandledrejection=function(e){try{const n={message:e.reason.message,stack:e.reason.stack};wl.instance.push(Hn.PROMISE_REJECTION,n)}catch{wl.instance.push(Hn.PROMISE_REJECTION,e)}};function t(e){const n=console[e].bind(console);return function(...i){let s=Hn.INFO;e=="error"?s=Hn.ERROR:e=="warn"&&(s=Hn.WARNING),wl.instance.push(s,...Array.from(i)),n.apply(console,i)}}["log","error","warn"].forEach(e=>{console[e]=t(e)})};"true".toLowerCase()==="true"&&aSe();const{firebaseApp:oSe}=Ice(),zc=JL(lue);zc.config.performance=!0;zc.use(qz());zc.use(n9);zc.use(Cve);zc.use(Jee,{firebaseApp:oSe,modules:[Xee()]});zc.use(u2,{autoClose:3e3});zc.mount("#app");
